(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(a){if(a.ep)return;a.ep=!0;const u=t(a);fetch(a.href,u)}})();var vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ld(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fE={exports:{}},mp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sb;function rN(){if(Sb)return mp;Sb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,u){var h=null;if(u!==void 0&&(h=""+u),a.key!==void 0&&(h=""+a.key),"key"in a){u={};for(var m in a)m!=="key"&&(u[m]=a[m])}else u=a;return a=u.ref,{$$typeof:n,type:i,key:h,ref:a!==void 0?a:null,props:u}}return mp.Fragment=e,mp.jsx=t,mp.jsxs=t,mp}var Ab;function iN(){return Ab||(Ab=1,fE.exports=rN()),fE.exports}var b=iN(),hE={exports:{}},pp={},dE={exports:{}},mE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function sN(){return Rb||(Rb=1,function(n){function e(ce,pe){var _e=ce.length;ce.push(pe);e:for(;0<_e;){var Me=_e-1>>>1,G=ce[Me];if(0<a(G,pe))ce[Me]=pe,ce[_e]=G,_e=Me;else break e}}function t(ce){return ce.length===0?null:ce[0]}function i(ce){if(ce.length===0)return null;var pe=ce[0],_e=ce.pop();if(_e!==pe){ce[0]=_e;e:for(var Me=0,G=ce.length,me=G>>>1;Me<me;){var Ne=2*(Me+1)-1,we=ce[Ne],Ue=Ne+1,Ke=ce[Ue];if(0>a(we,_e))Ue<G&&0>a(Ke,we)?(ce[Me]=Ke,ce[Ue]=_e,Me=Ue):(ce[Me]=we,ce[Ne]=_e,Me=Ne);else if(Ue<G&&0>a(Ke,_e))ce[Me]=Ke,ce[Ue]=_e,Me=Ue;else break e}}return pe}function a(ce,pe){var _e=ce.sortIndex-pe.sortIndex;return _e!==0?_e:ce.id-pe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();n.unstable_now=function(){return h.now()-m}}var g=[],v=[],E=1,S=null,A=3,D=!1,O=!1,F=!1,k=!1,U=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function he(ce){for(var pe=t(v);pe!==null;){if(pe.callback===null)i(v);else if(pe.startTime<=ce)i(v),pe.sortIndex=pe.expirationTime,e(g,pe);else break;pe=t(v)}}function ne(ce){if(F=!1,he(ce),!O)if(t(g)!==null)O=!0,z||(z=!0,X());else{var pe=t(v);pe!==null&&Je(ne,pe.startTime-ce)}}var z=!1,N=-1,I=5,L=-1;function H(){return k?!0:!(n.unstable_now()-L<I)}function K(){if(k=!1,z){var ce=n.unstable_now();L=ce;var pe=!0;try{e:{O=!1,F&&(F=!1,Q(N),N=-1),D=!0;var _e=A;try{t:{for(he(ce),S=t(g);S!==null&&!(S.expirationTime>ce&&H());){var Me=S.callback;if(typeof Me=="function"){S.callback=null,A=S.priorityLevel;var G=Me(S.expirationTime<=ce);if(ce=n.unstable_now(),typeof G=="function"){S.callback=G,he(ce),pe=!0;break t}S===t(g)&&i(g),he(ce)}else i(g);S=t(g)}if(S!==null)pe=!0;else{var me=t(v);me!==null&&Je(ne,me.startTime-ce),pe=!1}}break e}finally{S=null,A=_e,D=!1}pe=void 0}}finally{pe?X():z=!1}}}var X;if(typeof J=="function")X=function(){J(K)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Xe=q.port2;q.port1.onmessage=K,X=function(){Xe.postMessage(null)}}else X=function(){U(K,0)};function Je(ce,pe){N=U(function(){ce(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ce){ce.callback=null},n.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ce?Math.floor(1e3/ce):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(ce){switch(A){case 1:case 2:case 3:var pe=3;break;default:pe=A}var _e=A;A=pe;try{return ce()}finally{A=_e}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(ce,pe){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var _e=A;A=ce;try{return pe()}finally{A=_e}},n.unstable_scheduleCallback=function(ce,pe,_e){var Me=n.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Me+_e:Me):_e=Me,ce){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=_e+G,ce={id:E++,callback:pe,priorityLevel:ce,startTime:_e,expirationTime:G,sortIndex:-1},_e>Me?(ce.sortIndex=_e,e(v,ce),t(g)===null&&ce===t(v)&&(F?(Q(N),N=-1):F=!0,Je(ne,_e-Me))):(ce.sortIndex=G,e(g,ce),O||D||(O=!0,z||(z=!0,X()))),ce},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(ce){var pe=A;return function(){var _e=A;A=pe;try{return ce.apply(this,arguments)}finally{A=_e}}}}(mE)),mE}var xb;function aN(){return xb||(xb=1,dE.exports=sN()),dE.exports}var pE={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cb;function oN(){if(Cb)return Tt;Cb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function A(G){return G===null||typeof G!="object"?null:(G=S&&G[S]||G["@@iterator"],typeof G=="function"?G:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,F={};function k(G,me,Ne){this.props=G,this.context=me,this.refs=F,this.updater=Ne||D}k.prototype.isReactComponent={},k.prototype.setState=function(G,me){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,me,"setState")},k.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function U(){}U.prototype=k.prototype;function Q(G,me,Ne){this.props=G,this.context=me,this.refs=F,this.updater=Ne||D}var J=Q.prototype=new U;J.constructor=Q,O(J,k.prototype),J.isPureReactComponent=!0;var he=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function N(G,me,Ne,we,Ue,Ke){return Ne=Ke.ref,{$$typeof:n,type:G,key:me,ref:Ne!==void 0?Ne:null,props:Ke}}function I(G,me){return N(G.type,me,void 0,void 0,void 0,G.props)}function L(G){return typeof G=="object"&&G!==null&&G.$$typeof===n}function H(G){var me={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(Ne){return me[Ne]})}var K=/\/+/g;function X(G,me){return typeof G=="object"&&G!==null&&G.key!=null?H(""+G.key):me.toString(36)}function q(){}function Xe(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(q,q):(G.status="pending",G.then(function(me){G.status==="pending"&&(G.status="fulfilled",G.value=me)},function(me){G.status==="pending"&&(G.status="rejected",G.reason=me)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function Je(G,me,Ne,we,Ue){var Ke=typeof G;(Ke==="undefined"||Ke==="boolean")&&(G=null);var ze=!1;if(G===null)ze=!0;else switch(Ke){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(G.$$typeof){case n:case e:ze=!0;break;case E:return ze=G._init,Je(ze(G._payload),me,Ne,we,Ue)}}if(ze)return Ue=Ue(G),ze=we===""?"."+X(G,0):we,he(Ue)?(Ne="",ze!=null&&(Ne=ze.replace(K,"$&/")+"/"),Je(Ue,me,Ne,"",function(Mn){return Mn})):Ue!=null&&(L(Ue)&&(Ue=I(Ue,Ne+(Ue.key==null||G&&G.key===Ue.key?"":(""+Ue.key).replace(K,"$&/")+"/")+ze)),me.push(Ue)),1;ze=0;var mn=we===""?".":we+":";if(he(G))for(var Nt=0;Nt<G.length;Nt++)we=G[Nt],Ke=mn+X(we,Nt),ze+=Je(we,me,Ne,Ke,Ue);else if(Nt=A(G),typeof Nt=="function")for(G=Nt.call(G),Nt=0;!(we=G.next()).done;)we=we.value,Ke=mn+X(we,Nt++),ze+=Je(we,me,Ne,Ke,Ue);else if(Ke==="object"){if(typeof G.then=="function")return Je(Xe(G),me,Ne,we,Ue);throw me=String(G),Error("Objects are not valid as a React child (found: "+(me==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":me)+"). If you meant to render a collection of children, use an array instead.")}return ze}function ce(G,me,Ne){if(G==null)return G;var we=[],Ue=0;return Je(G,we,"","",function(Ke){return me.call(Ne,Ke,Ue++)}),we}function pe(G){if(G._status===-1){var me=G._result;me=me(),me.then(function(Ne){(G._status===0||G._status===-1)&&(G._status=1,G._result=Ne)},function(Ne){(G._status===0||G._status===-1)&&(G._status=2,G._result=Ne)}),G._status===-1&&(G._status=0,G._result=me)}if(G._status===1)return G._result.default;throw G._result}var _e=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var me=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(me))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function Me(){}return Tt.Children={map:ce,forEach:function(G,me,Ne){ce(G,function(){me.apply(this,arguments)},Ne)},count:function(G){var me=0;return ce(G,function(){me++}),me},toArray:function(G){return ce(G,function(me){return me})||[]},only:function(G){if(!L(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Tt.Component=k,Tt.Fragment=t,Tt.Profiler=a,Tt.PureComponent=Q,Tt.StrictMode=i,Tt.Suspense=g,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return ne.H.useMemoCache(G)}},Tt.cache=function(G){return function(){return G.apply(null,arguments)}},Tt.cloneElement=function(G,me,Ne){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var we=O({},G.props),Ue=G.key,Ke=void 0;if(me!=null)for(ze in me.ref!==void 0&&(Ke=void 0),me.key!==void 0&&(Ue=""+me.key),me)!z.call(me,ze)||ze==="key"||ze==="__self"||ze==="__source"||ze==="ref"&&me.ref===void 0||(we[ze]=me[ze]);var ze=arguments.length-2;if(ze===1)we.children=Ne;else if(1<ze){for(var mn=Array(ze),Nt=0;Nt<ze;Nt++)mn[Nt]=arguments[Nt+2];we.children=mn}return N(G.type,Ue,void 0,void 0,Ke,we)},Tt.createContext=function(G){return G={$$typeof:h,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:u,_context:G},G},Tt.createElement=function(G,me,Ne){var we,Ue={},Ke=null;if(me!=null)for(we in me.key!==void 0&&(Ke=""+me.key),me)z.call(me,we)&&we!=="key"&&we!=="__self"&&we!=="__source"&&(Ue[we]=me[we]);var ze=arguments.length-2;if(ze===1)Ue.children=Ne;else if(1<ze){for(var mn=Array(ze),Nt=0;Nt<ze;Nt++)mn[Nt]=arguments[Nt+2];Ue.children=mn}if(G&&G.defaultProps)for(we in ze=G.defaultProps,ze)Ue[we]===void 0&&(Ue[we]=ze[we]);return N(G,Ke,void 0,void 0,null,Ue)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(G){return{$$typeof:m,render:G}},Tt.isValidElement=L,Tt.lazy=function(G){return{$$typeof:E,_payload:{_status:-1,_result:G},_init:pe}},Tt.memo=function(G,me){return{$$typeof:v,type:G,compare:me===void 0?null:me}},Tt.startTransition=function(G){var me=ne.T,Ne={};ne.T=Ne;try{var we=G(),Ue=ne.S;Ue!==null&&Ue(Ne,we),typeof we=="object"&&we!==null&&typeof we.then=="function"&&we.then(Me,_e)}catch(Ke){_e(Ke)}finally{ne.T=me}},Tt.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},Tt.use=function(G){return ne.H.use(G)},Tt.useActionState=function(G,me,Ne){return ne.H.useActionState(G,me,Ne)},Tt.useCallback=function(G,me){return ne.H.useCallback(G,me)},Tt.useContext=function(G){return ne.H.useContext(G)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(G,me){return ne.H.useDeferredValue(G,me)},Tt.useEffect=function(G,me,Ne){var we=ne.H;if(typeof Ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return we.useEffect(G,me)},Tt.useId=function(){return ne.H.useId()},Tt.useImperativeHandle=function(G,me,Ne){return ne.H.useImperativeHandle(G,me,Ne)},Tt.useInsertionEffect=function(G,me){return ne.H.useInsertionEffect(G,me)},Tt.useLayoutEffect=function(G,me){return ne.H.useLayoutEffect(G,me)},Tt.useMemo=function(G,me){return ne.H.useMemo(G,me)},Tt.useOptimistic=function(G,me){return ne.H.useOptimistic(G,me)},Tt.useReducer=function(G,me,Ne){return ne.H.useReducer(G,me,Ne)},Tt.useRef=function(G){return ne.H.useRef(G)},Tt.useState=function(G){return ne.H.useState(G)},Tt.useSyncExternalStore=function(G,me,Ne){return ne.H.useSyncExternalStore(G,me,Ne)},Tt.useTransition=function(){return ne.H.useTransition()},Tt.version="19.1.0",Tt}var Ib;function I_(){return Ib||(Ib=1,pE.exports=oN()),pE.exports}var gE={exports:{}},gi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb;function lN(){if(Nb)return gi;Nb=1;var n=I_();function e(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)v+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(g,v,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:S==null?null:""+S,children:g,containerInfo:v,implementation:E}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return gi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gi.createPortal=function(g,v){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return u(g,v,null,E)},gi.flushSync=function(g){var v=h.T,E=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=v,i.p=E,i.d.f()}},gi.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,i.d.C(g,v))},gi.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},gi.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var E=v.as,S=m(E,v.crossOrigin),A=typeof v.integrity=="string"?v.integrity:void 0,D=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;E==="style"?i.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:A,fetchPriority:D}):E==="script"&&i.d.X(g,{crossOrigin:S,integrity:A,fetchPriority:D,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},gi.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var E=m(v.as,v.crossOrigin);i.d.M(g,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&i.d.M(g)},gi.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var E=v.as,S=m(E,v.crossOrigin);i.d.L(g,E,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},gi.preloadModule=function(g,v){if(typeof g=="string")if(v){var E=m(v.as,v.crossOrigin);i.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else i.d.m(g)},gi.requestFormReset=function(g){i.d.r(g)},gi.unstable_batchedUpdates=function(g,v){return g(v)},gi.useFormState=function(g,v,E){return h.H.useFormState(g,v,E)},gi.useFormStatus=function(){return h.H.useHostTransitionStatus()},gi.version="19.1.0",gi}var Db;function AA(){if(Db)return gE.exports;Db=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gE.exports=lN(),gE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function uN(){if(Ob)return pp;Ob=1;var n=aN(),e=I_(),t=AA();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function u(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function h(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function m(r){if(u(r)!==r)throw Error(i(188))}function g(r){var s=r.alternate;if(!s){if(s=u(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,f=s;;){var p=o.return;if(p===null)break;var _=p.alternate;if(_===null){if(f=p.return,f!==null){o=f;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===o)return m(p),r;if(_===f)return m(p),s;_=_.sibling}throw Error(i(188))}if(o.return!==f.return)o=p,f=_;else{for(var x=!1,P=p.child;P;){if(P===o){x=!0,o=p,f=_;break}if(P===f){x=!0,f=p,o=_;break}P=P.sibling}if(!x){for(P=_.child;P;){if(P===o){x=!0,o=_,f=p;break}if(P===f){x=!0,f=_,o=p;break}P=P.sibling}if(!x)throw Error(i(189))}}if(o.alternate!==f)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function v(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=v(r),s!==null)return s;r=r.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),J=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function X(r){return r===null||typeof r!="object"?null:(r=K&&r[K]||r["@@iterator"],typeof r=="function"?r:null)}var q=Symbol.for("react.client.reference");function Xe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===q?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case k:return"Profiler";case F:return"StrictMode";case ne:return"Suspense";case z:return"SuspenseList";case L:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case J:return(r.displayName||"Context")+".Provider";case Q:return(r._context.displayName||"Context")+".Consumer";case he:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return s=r.displayName||null,s!==null?s:Xe(r.type)||"Memo";case I:s=r._payload,r=r._init;try{return Xe(r(s))}catch{}}return null}var Je=Array.isArray,ce=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Me=[],G=-1;function me(r){return{current:r}}function Ne(r){0>G||(r.current=Me[G],Me[G]=null,G--)}function we(r,s){G++,Me[G]=r.current,r.current=s}var Ue=me(null),Ke=me(null),ze=me(null),mn=me(null);function Nt(r,s){switch(we(ze,s),we(Ke,r),we(Ue,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?In(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=In(s),r=Nn(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Ne(Ue),we(Ue,r)}function Mn(){Ne(Ue),Ne(Ke),Ne(ze)}function Zt(r){r.memoizedState!==null&&we(mn,r);var s=Ue.current,o=Nn(s,r.type);s!==o&&(we(Ke,r),we(Ue,o))}function Sn(r){Ke.current===r&&(Ne(Ue),Ne(Ke)),mn.current===r&&(Ne(mn),gu._currentValue=_e)}var qn=Object.prototype.hasOwnProperty,Ar=n.unstable_scheduleCallback,Wt=n.unstable_cancelCallback,Dt=n.unstable_shouldYield,us=n.unstable_requestPaint,an=n.unstable_now,Ba=n.unstable_getCurrentPriorityLevel,aa=n.unstable_ImmediatePriority,Wr=n.unstable_UserBlockingPriority,Bn=n.unstable_NormalPriority,yr=n.unstable_LowPriority,vr=n.unstable_IdlePriority,cs=n.log,Qr=n.unstable_setDisableYieldValue,He=null,it=null;function An(r){if(typeof cs=="function"&&Qr(r),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(He,r)}catch{}}var Pn=Math.clz32?Math.clz32:Vi,Fa=Math.log,Xr=Math.LN2;function Vi(r){return r>>>=0,r===0?32:31-(Fa(r)/Xr|0)|0}var ji=256,Bi=4194304;function Pr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function fs(r,s,o){var f=r.pendingLanes;if(f===0)return 0;var p=0,_=r.suspendedLanes,x=r.pingedLanes;r=r.warmLanes;var P=f&134217727;return P!==0?(f=P&~_,f!==0?p=Pr(f):(x&=P,x!==0?p=Pr(x):o||(o=P&~r,o!==0&&(p=Pr(o))))):(P=f&~_,P!==0?p=Pr(P):x!==0?p=Pr(x):o||(o=f&~r,o!==0&&(p=Pr(o)))),p===0?0:s!==0&&s!==p&&(s&_)===0&&(_=p&-p,o=s&-s,_>=o||_===32&&(o&4194048)!==0)?s:p}function Zr(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function za(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oa(){var r=ji;return ji<<=1,(ji&4194048)===0&&(ji=256),r}function Oo(){var r=Bi;return Bi<<=1,(Bi&62914560)===0&&(Bi=4194304),r}function bi(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Fi(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ha(r,s,o,f,p,_){var x=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var P=r.entanglements,Y=r.expirationTimes,ue=r.hiddenUpdates;for(o=x&~o;0<o;){var Te=31-Pn(o),Re=1<<Te;P[Te]=0,Y[Te]=-1;var de=ue[Te];if(de!==null)for(ue[Te]=null,Te=0;Te<de.length;Te++){var fe=de[Te];fe!==null&&(fe.lane&=-536870913)}o&=~Re}f!==0&&Lr(r,f,0),_!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=_&~(x&~s))}function Lr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var f=31-Pn(s);r.entangledLanes|=s,r.entanglements[f]=r.entanglements[f]|1073741824|o&4194090}function Ms(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var f=31-Pn(o),p=1<<f;p&s|r[f]&s&&(r[f]|=s),o&=~p}}function Ps(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function la(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function W(){var r=pe.p;return r!==0?r:(r=window.event,r===void 0?32:hv(r.type))}function se(r,s){var o=pe.p;try{return pe.p=r,s()}finally{pe.p=o}}var le=Math.random().toString(36).slice(2),Se="__reactFiber$"+le,Oe="__reactProps$"+le,Ve="__reactContainer$"+le,et="__reactEvents$"+le,je="__reactListeners$"+le,qe="__reactHandles$"+le,We="__reactResources$"+le,nt="__reactMarker$"+le;function Ge(r){delete r[Se],delete r[Oe],delete r[et],delete r[je],delete r[qe]}function st(r){var s=r[Se];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Ve]||o[Se]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=ev(r);r!==null;){if(o=r[Se])return o;r=ev(r)}return s}r=o,o=r.parentNode}return null}function Rt(r){if(r=r[Se]||r[Ve]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Jt(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Qt(r){var s=r[We];return s||(s=r[We]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Lt(r){r[nt]=!0}var wt=new Set,zi={};function Wn(r,s){kr(r,s),kr(r+"Capture",s)}function kr(r,s){for(zi[r]=s,r=0;r<s.length;r++)wt.add(s[r])}var Gn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ls={},Rr={};function qa(r){return qn.call(Rr,r)?!0:qn.call(Ls,r)?!1:Gn.test(r)?Rr[r]=!0:(Ls[r]=!0,!1)}function xr(r,s,o){if(qa(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Ur(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function ft(r,s,o,f){if(f===null)r.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+f)}}var Fn,Jr;function ei(r){if(Fn===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Fn=s&&s[1]||"",Jr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fn+r+Jr}var ks=!1;function pn(r,s){if(!r||ks)return"";ks=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(fe){var de=fe}Reflect.construct(r,[],Re)}else{try{Re.call()}catch(fe){de=fe}r.call(Re.prototype)}}else{try{throw Error()}catch(fe){de=fe}(Re=r())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(fe){if(fe&&de&&typeof fe.stack=="string")return[fe.stack,de.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),x=_[0],P=_[1];if(x&&P){var Y=x.split(`
`),ue=P.split(`
`);for(p=f=0;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;for(;p<ue.length&&!ue[p].includes("DetermineComponentFrameRoot");)p++;if(f===Y.length||p===ue.length)for(f=Y.length-1,p=ue.length-1;1<=f&&0<=p&&Y[f]!==ue[p];)p--;for(;1<=f&&0<=p;f--,p--)if(Y[f]!==ue[p]){if(f!==1||p!==1)do if(f--,p--,0>p||Y[f]!==ue[p]){var Te=`
`+Y[f].replace(" at new "," at ");return r.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",r.displayName)),Te}while(1<=f&&0<=p);break}}}finally{ks=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ei(o):""}function Hi(r){switch(r.tag){case 26:case 27:case 5:return ei(r.type);case 16:return ei("Lazy");case 13:return ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return pn(r.type,!1);case 11:return pn(r.type.render,!1);case 1:return pn(r.type,!0);case 31:return ei("Activity");default:return""}}function Us(r){try{var s="";do s+=Hi(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function sr(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Rl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $u(r){var s=Rl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),f=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,_=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(x){f=""+x,_.call(this,x)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return f},setValue:function(x){f=""+x},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function xl(r){r._valueTracker||(r._valueTracker=$u(r))}function Cl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),f="";return r&&(f=Rl(r)?r.checked?"true":"false":r.value),r=f,r!==o?(s.setValue(r),!0):!1}function Vs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Bf=/[\n"\\]/g;function $n(r){return r.replace(Bf,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ti(r,s,o,f,p,_,x,P){r.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.type=x:r.removeAttribute("type"),s!=null?x==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+sr(s)):r.value!==""+sr(s)&&(r.value=""+sr(s)):x!=="submit"&&x!=="reset"||r.removeAttribute("value"),s!=null?js(r,x,sr(s)):o!=null?js(r,x,sr(o)):f!=null&&r.removeAttribute("value"),p==null&&_!=null&&(r.defaultChecked=!!_),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?r.name=""+sr(P):r.removeAttribute("name")}function Ga(r,s,o,f,p,_,x,P){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.type=_),s!=null||o!=null){if(!(_!=="submit"&&_!=="reset"||s!=null))return;o=o!=null?""+sr(o):"",s=s!=null?""+sr(s):o,P||s===r.value||(r.value=s),r.defaultValue=s}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=P?r.checked:!!f,r.defaultChecked=!!f,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.name=x)}function js(r,s,o){s==="number"&&Vs(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ua(r,s,o,f){if(r=r.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<r.length;o++)p=s.hasOwnProperty("$"+r[o].value),r[o].selected!==p&&(r[o].selected=p),p&&f&&(r[o].defaultSelected=!0)}else{for(o=""+sr(o),s=null,p=0;p<r.length;p++){if(r[p].value===o){r[p].selected=!0,f&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function on(r,s,o){if(s!=null&&(s=""+sr(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+sr(o):""}function ca(r,s,o,f){if(s==null){if(f!=null){if(o!=null)throw Error(i(92));if(Je(f)){if(1<f.length)throw Error(i(93));f=f[0]}o=f}o==null&&(o=""),s=o}o=sr(s),r.defaultValue=o,f=r.textContent,f===o&&f!==""&&f!==null&&(r.value=f)}function ni(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var qi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ku(r,s,o){var f=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?f?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":f?r.setProperty(s,o):typeof o!="number"||o===0||qi.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Il(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var f in o)!o.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var p in s)f=s[p],s.hasOwnProperty(p)&&o[p]!==f&&Ku(r,p,f)}else for(var _ in s)s.hasOwnProperty(_)&&Ku(r,_,s[_])}function Yu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ff=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mo(r){return zf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Bs=null;function Gi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var fa=null,ha=null;function Nl(r){var s=Rt(r);if(s&&(r=s.stateNode)){var o=r[Oe]||null;e:switch(r=s.stateNode,s.type){case"input":if(ti(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+$n(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var f=o[s];if(f!==r&&f.form===r.form){var p=f[Oe]||null;if(!p)throw Error(i(90));ti(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)f=o[s],f.form===r.form&&Cl(f)}break e;case"textarea":on(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ua(r,!!o.multiple,s,!1)}}}var Fs=!1;function Hf(r,s,o){if(Fs)return r(s,o);Fs=!0;try{var f=r(s);return f}finally{if(Fs=!1,(fa!==null||ha!==null)&&(jh(),fa&&(s=fa,r=ha,ha=fa=null,Nl(s),r)))for(s=0;s<r.length;s++)Nl(r[s])}}function Po(r,s){var o=r.stateNode;if(o===null)return null;var f=o[Oe]||null;if(f===null)return null;o=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ri=!1;if(hs)try{var Lo={};Object.defineProperty(Lo,"passive",{get:function(){ri=!0}}),window.addEventListener("test",Lo,Lo),window.removeEventListener("test",Lo,Lo)}catch{ri=!1}var zs=null,$a=null,da=null;function Wu(){if(da)return da;var r,s=$a,o=s.length,f,p="value"in zs?zs.value:zs.textContent,_=p.length;for(r=0;r<o&&s[r]===p[r];r++);var x=o-r;for(f=1;f<=x&&s[o-f]===p[_-f];f++);return da=p.slice(r,1<f?1-f:void 0)}function Ft(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function kt(){return!0}function Qu(){return!1}function ar(r){function s(o,f,p,_,x){this._reactName=o,this._targetInst=p,this.type=f,this.nativeEvent=_,this.target=x,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(o=r[P],this[P]=o?o(_):_[P]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?kt:Qu,this.isPropagationStopped=Qu,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=kt)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=kt)},persist:function(){},isPersistent:kt}),s}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=ar(nn),ko=E({},nn,{view:0,detail:0}),qf=ar(ko),Uo,Ol,En,ma=E({},ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ii,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==En&&(En&&r.type==="mousemove"?(Uo=r.screenX-En.screenX,Ol=r.screenY-En.screenY):Ol=Uo=0,En=r),Uo)},movementY:function(r){return"movementY"in r?r.movementY:Ol}}),or=ar(ma),Xu=E({},ma,{dataTransfer:0}),Zu=ar(Xu),lr=E({},ko,{relatedTarget:0}),Vo=ar(lr),Ml=E({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),jo=ar(Ml),Ju=E({},nn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Bo=ar(Ju),Gf=E({},nn,{data:0}),_r=ar(Gf),Fo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=$f[r])?!!s[r]:!1}function ii(){return Pl}var zo=E({},ko,{key:function(r){if(r.key){var s=Fo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ft(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Vr[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ii,charCode:function(r){return r.type==="keypress"?Ft(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ft(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ka=ar(zo),gn=E({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=ar(gn),ds=E({},ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ii}),Kf=ar(ds),Ll=E({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yf=ar(Ll),Wf=E({},ma,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),kl=ar(Wf),Cr=E({},nn,{newState:0,oldState:0}),Ho=ar(Cr),pa=[9,13,27,32],Hs=hs&&"CompositionEvent"in window,d=null;hs&&"documentMode"in document&&(d=document.documentMode);var T=hs&&"TextEvent"in window&&!d,R=hs&&(!Hs||d&&8<d&&11>=d),V=" ",ae=!1;function ye(r,s){switch(r){case"keyup":return pa.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pe(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ot=!1;function Qn(r,s){switch(r){case"compositionend":return Pe(s);case"keypress":return s.which!==32?null:(ae=!0,V);case"textInput":return r=s.data,r===V&&ae?null:r;default:return null}}function Ut(r,s){if(Ot)return r==="compositionend"||!Hs&&ye(r,s)?(r=Wu(),da=$a=zs=null,Ot=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return R&&s.locale!=="ko"?null:s.data;default:return null}}var rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!rn[r.type]:s==="textarea"}function Si(r,s,o,f){fa?ha?ha.push(f):ha=[f]:fa=f,s=$h(s,"onChange"),0<s.length&&(o=new Dl("onChange","change",null,o,f),r.push({event:o,listeners:s}))}var ur=null,ms=null;function ec(r){$y(r,0)}function Qf(r){var s=Jt(r);if(Cl(s))return r}function vg(r,s){if(r==="change")return s}var _g=!1;if(hs){var $d;if(hs){var Ya="oninput"in document;if(!Ya){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),Ya=typeof Eg.oninput=="function"}$d=Ya}else $d=!1;_g=$d&&(!document.documentMode||9<document.documentMode)}function Tg(){ur&&(ur.detachEvent("onpropertychange",Xf),ms=ur=null)}function Xf(r){if(r.propertyName==="value"&&Qf(ms)){var s=[];Si(s,ms,r,Gi(r)),Hf(ec,s)}}function wg(r,s,o){r==="focusin"?(Tg(),ur=s,ms=o,ur.attachEvent("onpropertychange",Xf)):r==="focusout"&&Tg()}function Wa(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Qf(ms)}function Zf(r,s){if(r==="click")return Qf(s)}function y0(r,s){if(r==="input"||r==="change")return Qf(s)}function v0(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Ai=typeof Object.is=="function"?Object.is:v0;function qs(r,s){if(Ai(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),f=Object.keys(s);if(o.length!==f.length)return!1;for(f=0;f<o.length;f++){var p=o[f];if(!qn.call(s,p)||!Ai(r[p],s[p]))return!1}return!0}function Ki(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Kd(r,s){var o=Ki(r);r=0;for(var f;o;){if(o.nodeType===3){if(f=r+o.textContent.length,r<=s&&f>=s)return{node:o,offset:s-r};r=f}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ki(o)}}function bg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?bg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Sg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Vs(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Vs(r.document)}return s}function Yd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var _0=hs&&"documentMode"in document&&11>=document.documentMode,Ul=null,Qa=null,te=null,Ee=!1;function ge(r,s,o){var f=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ee||Ul==null||Ul!==Vs(f)||(f=Ul,"selectionStart"in f&&Yd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),te&&qs(te,f)||(te=f,f=$h(Qa,"onSelect"),0<f.length&&(s=new Dl("onSelect","select",null,s,o),r.push({event:s,listeners:f}),s.target=Ul)))}function Le(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var lt={animationend:Le("Animation","AnimationEnd"),animationiteration:Le("Animation","AnimationIteration"),animationstart:Le("Animation","AnimationStart"),transitionrun:Le("Transition","TransitionRun"),transitionstart:Le("Transition","TransitionStart"),transitioncancel:Le("Transition","TransitionCancel"),transitionend:Le("Transition","TransitionEnd")},Gt={},Kn={};hs&&(Kn=document.createElement("div").style,"AnimationEvent"in window||(delete lt.animationend.animation,delete lt.animationiteration.animation,delete lt.animationstart.animation),"TransitionEvent"in window||delete lt.transitionend.transition);function $t(r){if(Gt[r])return Gt[r];if(!lt[r])return r;var s=lt[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Kn)return Gt[r]=s[o];return r}var Jf=$t("animationend"),Ag=$t("animationiteration"),Ri=$t("animationstart"),eh=$t("transitionrun"),E0=$t("transitionstart"),Vl=$t("transitioncancel"),tc=$t("transitionend"),nc=new Map,en="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");en.push("scrollEnd");function ps(r,s){nc.set(r,s),Wn(s,[r])}var Wd=new WeakMap;function jr(r,s){if(typeof r=="object"&&r!==null){var o=Wd.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Us(s)},Wd.set(r,s),s)}return{value:r,source:s,stack:Us(s)}}var Yi=[],jl=0,Qd=0;function qo(){for(var r=jl,s=Qd=jl=0;s<r;){var o=Yi[s];Yi[s++]=null;var f=Yi[s];Yi[s++]=null;var p=Yi[s];Yi[s++]=null;var _=Yi[s];if(Yi[s++]=null,f!==null&&p!==null){var x=f.pending;x===null?p.next=p:(p.next=x.next,x.next=p),f.pending=p}_!==0&&rc(o,p,_)}}function gs(r,s,o,f){Yi[jl++]=r,Yi[jl++]=s,Yi[jl++]=o,Yi[jl++]=f,Qd|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function Bl(r,s,o,f){return gs(r,s,o,f),ic(r)}function Go(r,s){return gs(r,null,null,s),ic(r)}function rc(r,s,o){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o);for(var p=!1,_=r.return;_!==null;)_.childLanes|=o,f=_.alternate,f!==null&&(f.childLanes|=o),_.tag===22&&(r=_.stateNode,r===null||r._visibility&1||(p=!0)),r=_,_=_.return;return r.tag===3?(_=r.stateNode,p&&s!==null&&(p=31-Pn(o),r=_.hiddenUpdates,f=r[p],f===null?r[p]=[s]:f.push(s),s.lane=o|536870912),_):null}function ic(r){if(50<lu)throw lu=0,qm=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var $o={};function th(r,s,o,f){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(r,s,o,f){return new th(r,s,o,f)}function Ko(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Br(r,s){var o=r.alternate;return o===null?(o=si(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function sc(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function nh(r,s,o,f,p,_){var x=0;if(f=r,typeof r=="function")Ko(r)&&(x=1);else if(typeof r=="string")x=X0(r,o,Ue.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case L:return r=si(31,o,s,p),r.elementType=L,r.lanes=_,r;case O:return Yo(o.children,p,_,s);case F:x=8,p|=24;break;case k:return r=si(12,o,s,p|2),r.elementType=k,r.lanes=_,r;case ne:return r=si(13,o,s,p),r.elementType=ne,r.lanes=_,r;case z:return r=si(19,o,s,p),r.elementType=z,r.lanes=_,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case U:case J:x=10;break e;case Q:x=9;break e;case he:x=11;break e;case N:x=14;break e;case I:x=16,f=null;break e}x=29,o=Error(i(130,r===null?"null":typeof r,"")),f=null}return s=si(x,o,s,p),s.elementType=r,s.type=f,s.lanes=_,s}function Yo(r,s,o,f){return r=si(7,r,f,s),r.lanes=o,r}function Xd(r,s,o){return r=si(6,r,null,s),r.lanes=o,r}function Fl(r,s,o){return s=si(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var ga=[],Xa=0,rh=null,ac=0,Wi=[],Qi=0,wn=null,Rn=1,ya="";function Wo(r,s){ga[Xa++]=ac,ga[Xa++]=rh,rh=r,ac=s}function Zd(r,s,o){Wi[Qi++]=Rn,Wi[Qi++]=ya,Wi[Qi++]=wn,wn=r;var f=Rn;r=ya;var p=32-Pn(f)-1;f&=~(1<<p),o+=1;var _=32-Pn(s)+p;if(30<_){var x=p-p%5;_=(f&(1<<x)-1).toString(32),f>>=x,p-=x,Rn=1<<32-Pn(s)+p|o<<p|f,ya=_+r}else Rn=1<<_|o<<p|f,ya=r}function Jd(r){r.return!==null&&(Wo(r,1),Zd(r,1,0))}function oc(r){for(;r===rh;)rh=ga[--Xa],ga[Xa]=null,ac=ga[--Xa],ga[Xa]=null;for(;r===wn;)wn=Wi[--Qi],Wi[Qi]=null,ya=Wi[--Qi],Wi[Qi]=null,Rn=Wi[--Qi],Wi[Qi]=null}var Xn=null,xn=null,Mt=!1,ys=null,ai=!1,zl=Error(i(519));function Xi(r){var s=Error(i(418,""));throw Za(jr(s,r)),zl}function Rg(r){var s=r.stateNode,o=r.type,f=r.memoizedProps;switch(s[Se]=r,s[Oe]=f,o){case"dialog":Ct("cancel",s),Ct("close",s);break;case"iframe":case"object":case"embed":Ct("load",s);break;case"video":case"audio":for(o=0;o<Wc.length;o++)Ct(Wc[o],s);break;case"source":Ct("error",s);break;case"img":case"image":case"link":Ct("error",s),Ct("load",s);break;case"details":Ct("toggle",s);break;case"input":Ct("invalid",s),Ga(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),xl(s);break;case"select":Ct("invalid",s);break;case"textarea":Ct("invalid",s),ca(s,f.value,f.defaultValue,f.children),xl(s)}o=f.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||f.suppressHydrationWarning===!0||Wy(s.textContent,o)?(f.popover!=null&&(Ct("beforetoggle",s),Ct("toggle",s)),f.onScroll!=null&&Ct("scroll",s),f.onScrollEnd!=null&&Ct("scrollend",s),f.onClick!=null&&(s.onclick=Kh),s=!0):s=!1,s||Xi(r)}function xg(r){for(Xn=r.return;Xn;)switch(Xn.tag){case 5:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:Xn=Xn.return}}function lc(r){if(r!==Xn)return!1;if(!Mt)return xg(r),Mt=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Wh(r.type,r.memoizedProps)),o=!o),o&&xn&&Xi(r),xg(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){xn=bs(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}xn=null}}else s===27?(s=xn,rs(r.type)?(r=ip,ip=null,xn=r):xn=s):xn=Xn?bs(r.stateNode.nextSibling):null;return!0}function uc(){xn=Xn=null,Mt=!1}function Cg(){var r=ys;return r!==null&&(mi===null?mi=r:mi.push.apply(mi,r),ys=null),r}function Za(r){ys===null?ys=[r]:ys.push(r)}var Qo=me(null),Ja=null,M=null;function xi(r,s,o){we(Qo,s._currentValue),s._currentValue=o}function Zi(r){r._currentValue=Qo.current,Ne(Qo)}function oi(r,s,o){for(;r!==null;){var f=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),r===o)break;r=r.return}}function bt(r,s,o,f){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var _=p.dependencies;if(_!==null){var x=p.child;_=_.firstContext;e:for(;_!==null;){var P=_;_=p;for(var Y=0;Y<s.length;Y++)if(P.context===s[Y]){_.lanes|=o,P=_.alternate,P!==null&&(P.lanes|=o),oi(_.return,o,r),f||(x=null);break e}_=P.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(i(341));x.lanes|=o,_=x.alternate,_!==null&&(_.lanes|=o),oi(x,o,r),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===r){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function cc(r,s,o,f){r=null;for(var p=s,_=!1;p!==null;){if(!_){if((p.flags&524288)!==0)_=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var P=p.type;Ai(p.pendingProps.value,x.value)||(r!==null?r.push(P):r=[P])}}else if(p===mn.current){if(x=p.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(gu):r=[gu])}p=p.return}r!==null&&bt(s,r,o,f),s.flags|=262144}function ih(r){for(r=r.firstContext;r!==null;){if(!Ai(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Xo(r){Ja=r,M=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ln(r){return Ig(Ja,r)}function sh(r,s){return Ja===null&&Xo(r),Ig(r,s)}function Ig(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},M===null){if(r===null)throw Error(i(308));M=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else M=M.next=s;return o}var T0=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,f){r.push(f)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},w0=n.unstable_scheduleCallback,b0=n.unstable_NormalPriority,yn={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function em(){return{controller:new T0,data:new Map,refCount:0}}function fc(r){r.refCount--,r.refCount===0&&w0(b0,function(){r.controller.abort()})}var hc=null,tm=0,Hl=0,li=null;function S0(r,s){if(hc===null){var o=hc=[];tm=0,Hl=Gh(),li={status:"pending",value:void 0,then:function(f){o.push(f)}}}return tm++,s.then(Ng,Ng),s}function Ng(){if(--tm===0&&hc!==null){li!==null&&(li.status="fulfilled");var r=hc;hc=null,Hl=0,li=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function A0(r,s){var o=[],f={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return r.then(function(){f.status="fulfilled",f.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(f.status="rejected",f.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),f}var Dg=ce.S;ce.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&S0(r,s),Dg!==null&&Dg(r,s)};var Zo=me(null);function va(){var r=Zo.current;return r!==null?r:Tn.pooledCache}function ah(r,s){s===null?we(Zo,Zo.current):we(Zo,s.pool)}function Og(){var r=va();return r===null?null:{parent:yn._currentValue,pool:r}}var Fr=Error(i(460)),Mg=Error(i(474)),oh=Error(i(542)),nm={then:function(){}};function Pg(r){return r=r.status,r==="fulfilled"||r==="rejected"}function lh(){}function rm(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(lh,lh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,kg(r),r;default:if(typeof s.status=="string")s.then(lh,lh);else{if(r=Tn,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(f){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=f}},function(f){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,kg(r),r}throw ql=s,Fr}}var ql=null;function Lg(){if(ql===null)throw Error(i(459));var r=ql;return ql=null,r}function kg(r){if(r===Fr||r===oh)throw Error(i(483))}var Gs=!1;function Jo(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gl(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function eo(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function _a(r,s,o){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(un&2)!==0){var p=f.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),f.pending=s,s=ic(r),rc(r,null,o),s}return gs(r,f,s,o),ic(r)}function dc(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var f=s.lanes;f&=r.pendingLanes,o|=f,s.lanes=o,Ms(r,o)}}function vs(r,s){var o=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,o===f)){var p=null,_=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};_===null?p=_=x:_=_.next=x,o=o.next}while(o!==null);_===null?p=_=s:_=_.next=s}else p=_=s;o={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var mc=!1;function _s(){if(mc){var r=li;if(r!==null)throw r}}function Ir(r,s,o,f){mc=!1;var p=r.updateQueue;Gs=!1;var _=p.firstBaseUpdate,x=p.lastBaseUpdate,P=p.shared.pending;if(P!==null){p.shared.pending=null;var Y=P,ue=Y.next;Y.next=null,x===null?_=ue:x.next=ue,x=Y;var Te=r.alternate;Te!==null&&(Te=Te.updateQueue,P=Te.lastBaseUpdate,P!==x&&(P===null?Te.firstBaseUpdate=ue:P.next=ue,Te.lastBaseUpdate=Y))}if(_!==null){var Re=p.baseState;x=0,Te=ue=Y=null,P=_;do{var de=P.lane&-536870913,fe=de!==P.lane;if(fe?(zt&de)===de:(f&de)===de){de!==0&&de===Hl&&(mc=!0),Te!==null&&(Te=Te.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var at=r,rt=P;de=s;var hn=o;switch(rt.tag){case 1:if(at=rt.payload,typeof at=="function"){Re=at.call(hn,Re,de);break e}Re=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=rt.payload,de=typeof at=="function"?at.call(hn,Re,de):at,de==null)break e;Re=E({},Re,de);break e;case 2:Gs=!0}}de=P.callback,de!==null&&(r.flags|=64,fe&&(r.flags|=8192),fe=p.callbacks,fe===null?p.callbacks=[de]:fe.push(de))}else fe={lane:de,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Te===null?(ue=Te=fe,Y=Re):Te=Te.next=fe,x|=de;if(P=P.next,P===null){if(P=p.shared.pending,P===null)break;fe=P,P=fe.next,fe.next=null,p.lastBaseUpdate=fe,p.shared.pending=null}}while(!0);Te===null&&(Y=Re),p.baseState=Y,p.firstBaseUpdate=ue,p.lastBaseUpdate=Te,_===null&&(p.shared.lanes=0),uo|=x,r.lanes=x,r.memoizedState=Re}}function Ug(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function im(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Ug(o[r],s)}var el=me(null),to=me(0);function Ea(r,s){r=Ia,we(to,r),we(el,s),Ia=r|s.baseLanes}function uh(){we(to,Ia),we(el,el.current)}function sm(){Ia=to.current,Ne(el),Ne(to)}var Es=0,Et=null,ln=null,Pt=null,$l=!1,tl=!1,Nr=!1,Kl=0,no=0,Ji=null,Vg=0;function Vt(){throw Error(i(321))}function pc(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Ai(r[o],s[o]))return!1;return!0}function am(r,s,o,f,p,_){return Es=_,Et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ce.H=r===null||r.memoizedState===null?Xg:Sm,Nr=!1,_=o(f,p),Nr=!1,tl&&(_=Bg(s,o,f,p)),jg(r),_}function jg(r){ce.H=Rc;var s=ln!==null&&ln.next!==null;if(Es=0,Pt=ln=Et=null,$l=!1,no=0,Ji=null,s)throw Error(i(300));r===null||cr||(r=r.dependencies,r!==null&&ih(r)&&(cr=!0))}function Bg(r,s,o,f){Et=r;var p=0;do{if(tl&&(Ji=null),no=0,tl=!1,25<=p)throw Error(i(301));if(p+=1,Pt=ln=null,r.updateQueue!=null){var _=r.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}ce.H=Zg,_=s(o,f)}while(tl);return _}function om(){var r=ce.H,s=r.useState()[0];return s=typeof s.then=="function"?gc(s):s,r=r.useState()[0],(ln!==null?ln.memoizedState:null)!==r&&(Et.flags|=1024),s}function lm(){var r=Kl!==0;return Kl=0,r}function nl(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function ch(r){if($l){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$l=!1}Es=0,Pt=ln=Et=null,tl=!1,no=Kl=0,Ji=null}function ui(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Et.memoizedState=Pt=r:Pt=Pt.next=r,Pt}function Yn(){if(ln===null){var r=Et.alternate;r=r!==null?r.memoizedState:null}else r=ln.next;var s=Pt===null?Et.memoizedState:Pt.next;if(s!==null)Pt=s,ln=r;else{if(r===null)throw Et.alternate===null?Error(i(467)):Error(i(310));ln=r,r={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},Pt===null?Et.memoizedState=Pt=r:Pt=Pt.next=r}return Pt}function rl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gc(r){var s=no;return no+=1,Ji===null&&(Ji=[]),r=rm(Ji,r,s),s=Et,(Pt===null?s.memoizedState:Pt.next)===null&&(s=s.alternate,ce.H=s===null||s.memoizedState===null?Xg:Sm),r}function fh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return gc(r);if(r.$$typeof===J)return Ln(r)}throw Error(i(438,String(r)))}function yc(r){var s=null,o=Et.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var f=Et.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=rl(),Et.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),f=0;f<r;f++)o[f]=H;return s.index++,o}function $s(r,s){return typeof s=="function"?s(r):s}function hh(r){var s=Yn();return um(s,ln,r)}function um(r,s,o){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=o;var p=r.baseQueue,_=f.pending;if(_!==null){if(p!==null){var x=p.next;p.next=_.next,_.next=x}s.baseQueue=p=_,f.pending=null}if(_=r.baseState,p===null)r.memoizedState=_;else{s=p.next;var P=x=null,Y=null,ue=s,Te=!1;do{var Re=ue.lane&-536870913;if(Re!==ue.lane?(zt&Re)===Re:(Es&Re)===Re){var de=ue.revertLane;if(de===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Re===Hl&&(Te=!0);else if((Es&de)===de){ue=ue.next,de===Hl&&(Te=!0);continue}else Re={lane:0,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Y===null?(P=Y=Re,x=_):Y=Y.next=Re,Et.lanes|=de,uo|=de;Re=ue.action,Nr&&o(_,Re),_=ue.hasEagerState?ue.eagerState:o(_,Re)}else de={lane:Re,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Y===null?(P=Y=de,x=_):Y=Y.next=de,Et.lanes|=Re,uo|=Re;ue=ue.next}while(ue!==null&&ue!==s);if(Y===null?x=_:Y.next=P,!Ai(_,r.memoizedState)&&(cr=!0,Te&&(o=li,o!==null)))throw o;r.memoizedState=_,r.baseState=x,r.baseQueue=Y,f.lastRenderedState=_}return p===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function cm(r){var s=Yn(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var f=o.dispatch,p=o.pending,_=s.memoizedState;if(p!==null){o.pending=null;var x=p=p.next;do _=r(_,x.action),x=x.next;while(x!==p);Ai(_,s.memoizedState)||(cr=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),o.lastRenderedState=_}return[_,f]}function fm(r,s,o){var f=Et,p=Yn(),_=Mt;if(_){if(o===void 0)throw Error(i(407));o=o()}else o=s();var x=!Ai((ln||p).memoizedState,o);x&&(p.memoizedState=o,cr=!0),p=p.queue;var P=mh.bind(null,f,p,r);if(Ec(2048,8,P,[r]),p.getSnapshot!==s||x||Pt!==null&&Pt.memoizedState.tag&1){if(f.flags|=2048,Yl(9,_h(),Fg.bind(null,f,p,o,s),null),Tn===null)throw Error(i(349));_||(Es&124)!==0||dh(f,s,o)}return o}function dh(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Et.updateQueue,s===null?(s=rl(),Et.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function Fg(r,s,o,f){s.value=o,s.getSnapshot=f,hm(s)&&dm(r)}function mh(r,s,o){return o(function(){hm(s)&&dm(r)})}function hm(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Ai(r,o)}catch{return!0}}function dm(r){var s=Go(r,2);s!==null&&Oi(s,r,2)}function ph(r){var s=ui();if(typeof r=="function"){var o=r;if(r=o(),Nr){An(!0);try{o()}finally{An(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:r},s}function vc(r,s,o,f){return r.baseState=o,um(r,ln,typeof f=="function"?f:$s)}function R0(r,s,o,f,p){if(bh(r))throw Error(i(485));if(r=s.action,r!==null){var _={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){_.listeners.push(x)}};ce.T!==null?o(!0):_.isTransition=!1,f(_),o=s.pending,o===null?(_.next=s.pending=_,mm(s,_)):(_.next=o.next,s.pending=o.next=_)}}function mm(r,s){var o=s.action,f=s.payload,p=r.state;if(s.isTransition){var _=ce.T,x={};ce.T=x;try{var P=o(p,f),Y=ce.S;Y!==null&&Y(x,P),pm(r,s,P)}catch(ue){gh(r,s,ue)}finally{ce.T=_}}else try{_=o(p,f),pm(r,s,_)}catch(ue){gh(r,s,ue)}}function pm(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(f){zg(r,s,f)},function(f){return gh(r,s,f)}):zg(r,s,o)}function zg(r,s,o){s.status="fulfilled",s.value=o,Hg(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,mm(r,o)))}function gh(r,s,o){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=o,Hg(s),s=s.next;while(s!==f)}r.action=null}function Hg(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function yh(r,s){return s}function gm(r,s){if(Mt){var o=Tn.formState;if(o!==null){e:{var f=Et;if(Mt){if(xn){t:{for(var p=xn,_=ai;p.nodeType!==8;){if(!_){p=null;break t}if(p=bs(p.nextSibling),p===null){p=null;break t}}_=p.data,p=_==="F!"||_==="F"?p:null}if(p){xn=bs(p.nextSibling),f=p.data==="F!";break e}}Xi(f)}f=!1}f&&(s=o[0])}}return o=ui(),o.memoizedState=o.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yh,lastRenderedState:s},o.queue=f,o=Tm.bind(null,Et,f),f.dispatch=o,f=ph(!1),_=wm.bind(null,Et,!1,f.queue),f=ui(),p={state:s,dispatch:null,action:r,pending:null},f.queue=p,o=R0.bind(null,Et,p,_,o),p.dispatch=o,f.memoizedState=r,[s,o,!1]}function vh(r){var s=Yn();return qg(s,ln,r)}function qg(r,s,o){if(s=um(r,s,yh)[0],r=hh($s)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=gc(s)}catch(x){throw x===Fr?oh:x}else f=s;s=Yn();var p=s.queue,_=p.dispatch;return o!==s.memoizedState&&(Et.flags|=2048,Yl(9,_h(),ym.bind(null,p,o),null)),[f,_,r]}function ym(r,s){r.action=s}function vt(r){var s=Yn(),o=ln;if(o!==null)return qg(s,o,r);Yn(),s=s.memoizedState,o=Yn();var f=o.queue.dispatch;return o.memoizedState=r,[s,f,!1]}function Yl(r,s,o,f){return r={tag:r,create:o,deps:f,inst:s,next:null},s=Et.updateQueue,s===null&&(s=rl(),Et.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(f=o.next,o.next=r,r.next=f,s.lastEffect=r),r}function _h(){return{destroy:void 0,resource:void 0}}function Wl(){return Yn().memoizedState}function _c(r,s,o,f){var p=ui();f=f===void 0?null:f,Et.flags|=r,p.memoizedState=Yl(1|s,_h(),o,f)}function Ec(r,s,o,f){var p=Yn();f=f===void 0?null:f;var _=p.memoizedState.inst;ln!==null&&f!==null&&pc(f,ln.memoizedState.deps)?p.memoizedState=Yl(s,_,o,f):(Et.flags|=r,p.memoizedState=Yl(1|s,_,o,f))}function Gg(r,s){_c(8390656,8,r,s)}function Ci(r,s){Ec(2048,8,r,s)}function $g(r,s){return Ec(4,2,r,s)}function Tc(r,s){return Ec(4,4,r,s)}function Eh(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function vm(r,s,o){o=o!=null?o.concat([r]):null,Ec(4,4,Eh.bind(null,s,r),o)}function Th(){}function ci(r,s){var o=Yn();s=s===void 0?null:s;var f=o.memoizedState;return s!==null&&pc(s,f[1])?f[0]:(o.memoizedState=[r,s],r)}function Ta(r,s){var o=Yn();s=s===void 0?null:s;var f=o.memoizedState;if(s!==null&&pc(s,f[1]))return f[0];if(f=r(),Nr){An(!0);try{r()}finally{An(!1)}}return o.memoizedState=[f,s],f}function wc(r,s,o){return o===void 0||(Es&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=Ay(),Et.lanes|=r,uo|=r,o)}function _m(r,s,o,f){return Ai(o,s)?o:el.current!==null?(r=wc(r,o,f),Ai(r,s)||(cr=!0),r):(Es&42)===0?(cr=!0,r.memoizedState=o):(r=Ay(),Et.lanes|=r,uo|=r,s)}function bc(r,s,o,f,p){var _=pe.p;pe.p=_!==0&&8>_?_:8;var x=ce.T,P={};ce.T=P,wm(r,!1,s,o);try{var Y=p(),ue=ce.S;if(ue!==null&&ue(P,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var Te=A0(Y,f);il(r,s,Te,Or(r))}else il(r,s,f,Or(r))}catch(Re){il(r,s,{then:function(){},status:"rejected",reason:Re},Or())}finally{pe.p=_,ce.T=x}}function Kg(){}function Sc(r,s,o,f){if(r.tag!==5)throw Error(i(476));var p=Em(r).queue;bc(r,p,s,_e,o===null?Kg:function(){return wh(r),o(f)})}function Em(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:_e},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function wh(r){var s=Em(r).next.queue;il(r,s,{},Or())}function Ac(){return Ln(gu)}function wa(){return Yn().memoizedState}function Yg(){return Yn().memoizedState}function ro(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Or();r=eo(o);var f=_a(s,r,o);f!==null&&(Oi(f,s,o),dc(f,s,o)),s={cache:em()},r.payload=s;return}s=s.return}}function Wg(r,s,o){var f=Or();o={lane:f,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},bh(r)?Qg(s,o):(o=Bl(r,s,o,f),o!==null&&(Oi(o,r,f),bm(o,s,f)))}function Tm(r,s,o){var f=Or();il(r,s,o,f)}function il(r,s,o,f){var p={lane:f,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(bh(r))Qg(s,p);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var x=s.lastRenderedState,P=_(x,o);if(p.hasEagerState=!0,p.eagerState=P,Ai(P,x))return gs(r,s,p,0),Tn===null&&qo(),!1}catch{}finally{}if(o=Bl(r,s,p,f),o!==null)return Oi(o,r,f),bm(o,s,f),!0}return!1}function wm(r,s,o,f){if(f={lane:2,revertLane:Gh(),action:f,hasEagerState:!1,eagerState:null,next:null},bh(r)){if(s)throw Error(i(479))}else s=Bl(r,o,f,2),s!==null&&Oi(s,r,2)}function bh(r){var s=r.alternate;return r===Et||s!==null&&s===Et}function Qg(r,s){tl=$l=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function bm(r,s,o){if((o&4194048)!==0){var f=s.lanes;f&=r.pendingLanes,o|=f,s.lanes=o,Ms(r,o)}}var Rc={readContext:Ln,use:fh,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt},Xg={readContext:Ln,use:fh,useCallback:function(r,s){return ui().memoizedState=[r,s===void 0?null:s],r},useContext:Ln,useEffect:Gg,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,_c(4194308,4,Eh.bind(null,s,r),o)},useLayoutEffect:function(r,s){return _c(4194308,4,r,s)},useInsertionEffect:function(r,s){_c(4,2,r,s)},useMemo:function(r,s){var o=ui();s=s===void 0?null:s;var f=r();if(Nr){An(!0);try{r()}finally{An(!1)}}return o.memoizedState=[f,s],f},useReducer:function(r,s,o){var f=ui();if(o!==void 0){var p=o(s);if(Nr){An(!0);try{o(s)}finally{An(!1)}}}else p=s;return f.memoizedState=f.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},f.queue=r,r=r.dispatch=Wg.bind(null,Et,r),[f.memoizedState,r]},useRef:function(r){var s=ui();return r={current:r},s.memoizedState=r},useState:function(r){r=ph(r);var s=r.queue,o=Tm.bind(null,Et,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Th,useDeferredValue:function(r,s){var o=ui();return wc(o,r,s)},useTransition:function(){var r=ph(!1);return r=bc.bind(null,Et,r.queue,!0,!1),ui().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var f=Et,p=ui();if(Mt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),Tn===null)throw Error(i(349));(zt&124)!==0||dh(f,s,o)}p.memoizedState=o;var _={value:o,getSnapshot:s};return p.queue=_,Gg(mh.bind(null,f,_,r),[r]),f.flags|=2048,Yl(9,_h(),Fg.bind(null,f,_,o,s),null),o},useId:function(){var r=ui(),s=Tn.identifierPrefix;if(Mt){var o=ya,f=Rn;o=(f&~(1<<32-Pn(f)-1)).toString(32)+o,s="«"+s+"R"+o,o=Kl++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=Vg++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:Ac,useFormState:gm,useActionState:gm,useOptimistic:function(r){var s=ui();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=wm.bind(null,Et,!0,o),o.dispatch=s,[r,s]},useMemoCache:yc,useCacheRefresh:function(){return ui().memoizedState=ro.bind(null,Et)}},Sm={readContext:Ln,use:fh,useCallback:ci,useContext:Ln,useEffect:Ci,useImperativeHandle:vm,useInsertionEffect:$g,useLayoutEffect:Tc,useMemo:Ta,useReducer:hh,useRef:Wl,useState:function(){return hh($s)},useDebugValue:Th,useDeferredValue:function(r,s){var o=Yn();return _m(o,ln.memoizedState,r,s)},useTransition:function(){var r=hh($s)[0],s=Yn().memoizedState;return[typeof r=="boolean"?r:gc(r),s]},useSyncExternalStore:fm,useId:wa,useHostTransitionStatus:Ac,useFormState:vh,useActionState:vh,useOptimistic:function(r,s){var o=Yn();return vc(o,ln,r,s)},useMemoCache:yc,useCacheRefresh:Yg},Zg={readContext:Ln,use:fh,useCallback:ci,useContext:Ln,useEffect:Ci,useImperativeHandle:vm,useInsertionEffect:$g,useLayoutEffect:Tc,useMemo:Ta,useReducer:cm,useRef:Wl,useState:function(){return cm($s)},useDebugValue:Th,useDeferredValue:function(r,s){var o=Yn();return ln===null?wc(o,r,s):_m(o,ln.memoizedState,r,s)},useTransition:function(){var r=cm($s)[0],s=Yn().memoizedState;return[typeof r=="boolean"?r:gc(r),s]},useSyncExternalStore:fm,useId:wa,useHostTransitionStatus:Ac,useFormState:vt,useActionState:vt,useOptimistic:function(r,s){var o=Yn();return ln!==null?vc(o,ln,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:yc,useCacheRefresh:Yg},Zn=null,fi=0;function Sh(r){var s=fi;return fi+=1,Zn===null&&(Zn=[]),rm(Zn,r,s)}function xc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function sl(r,s){throw s.$$typeof===S?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function al(r){var s=r._init;return s(r._payload)}function Am(r){function s(re,ee){if(r){var oe=re.deletions;oe===null?(re.deletions=[ee],re.flags|=16):oe.push(ee)}}function o(re,ee){if(!r)return null;for(;ee!==null;)s(re,ee),ee=ee.sibling;return null}function f(re){for(var ee=new Map;re!==null;)re.key!==null?ee.set(re.key,re):ee.set(re.index,re),re=re.sibling;return ee}function p(re,ee){return re=Br(re,ee),re.index=0,re.sibling=null,re}function _(re,ee,oe){return re.index=oe,r?(oe=re.alternate,oe!==null?(oe=oe.index,oe<ee?(re.flags|=67108866,ee):oe):(re.flags|=67108866,ee)):(re.flags|=1048576,ee)}function x(re){return r&&re.alternate===null&&(re.flags|=67108866),re}function P(re,ee,oe,be){return ee===null||ee.tag!==6?(ee=Xd(oe,re.mode,be),ee.return=re,ee):(ee=p(ee,oe),ee.return=re,ee)}function Y(re,ee,oe,be){var Be=oe.type;return Be===O?Te(re,ee,oe.props.children,be,oe.key):ee!==null&&(ee.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===I&&al(Be)===ee.type)?(ee=p(ee,oe.props),xc(ee,oe),ee.return=re,ee):(ee=nh(oe.type,oe.key,oe.props,null,re.mode,be),xc(ee,oe),ee.return=re,ee)}function ue(re,ee,oe,be){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==oe.containerInfo||ee.stateNode.implementation!==oe.implementation?(ee=Fl(oe,re.mode,be),ee.return=re,ee):(ee=p(ee,oe.children||[]),ee.return=re,ee)}function Te(re,ee,oe,be,Be){return ee===null||ee.tag!==7?(ee=Yo(oe,re.mode,be,Be),ee.return=re,ee):(ee=p(ee,oe),ee.return=re,ee)}function Re(re,ee,oe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=Xd(""+ee,re.mode,oe),ee.return=re,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case A:return oe=nh(ee.type,ee.key,ee.props,null,re.mode,oe),xc(oe,ee),oe.return=re,oe;case D:return ee=Fl(ee,re.mode,oe),ee.return=re,ee;case I:var be=ee._init;return ee=be(ee._payload),Re(re,ee,oe)}if(Je(ee)||X(ee))return ee=Yo(ee,re.mode,oe,null),ee.return=re,ee;if(typeof ee.then=="function")return Re(re,Sh(ee),oe);if(ee.$$typeof===J)return Re(re,sh(re,ee),oe);sl(re,ee)}return null}function de(re,ee,oe,be){var Be=ee!==null?ee.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Be!==null?null:P(re,ee,""+oe,be);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case A:return oe.key===Be?Y(re,ee,oe,be):null;case D:return oe.key===Be?ue(re,ee,oe,be):null;case I:return Be=oe._init,oe=Be(oe._payload),de(re,ee,oe,be)}if(Je(oe)||X(oe))return Be!==null?null:Te(re,ee,oe,be,null);if(typeof oe.then=="function")return de(re,ee,Sh(oe),be);if(oe.$$typeof===J)return de(re,ee,sh(re,oe),be);sl(re,oe)}return null}function fe(re,ee,oe,be,Be){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return re=re.get(oe)||null,P(ee,re,""+be,Be);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case A:return re=re.get(be.key===null?oe:be.key)||null,Y(ee,re,be,Be);case D:return re=re.get(be.key===null?oe:be.key)||null,ue(ee,re,be,Be);case I:var St=be._init;return be=St(be._payload),fe(re,ee,oe,be,Be)}if(Je(be)||X(be))return re=re.get(oe)||null,Te(ee,re,be,Be,null);if(typeof be.then=="function")return fe(re,ee,oe,Sh(be),Be);if(be.$$typeof===J)return fe(re,ee,oe,sh(ee,be),Be);sl(ee,be)}return null}function at(re,ee,oe,be){for(var Be=null,St=null,Qe=ee,ot=ee=0,dr=null;Qe!==null&&ot<oe.length;ot++){Qe.index>ot?(dr=Qe,Qe=null):dr=Qe.sibling;var Kt=de(re,Qe,oe[ot],be);if(Kt===null){Qe===null&&(Qe=dr);break}r&&Qe&&Kt.alternate===null&&s(re,Qe),ee=_(Kt,ee,ot),St===null?Be=Kt:St.sibling=Kt,St=Kt,Qe=dr}if(ot===oe.length)return o(re,Qe),Mt&&Wo(re,ot),Be;if(Qe===null){for(;ot<oe.length;ot++)Qe=Re(re,oe[ot],be),Qe!==null&&(ee=_(Qe,ee,ot),St===null?Be=Qe:St.sibling=Qe,St=Qe);return Mt&&Wo(re,ot),Be}for(Qe=f(Qe);ot<oe.length;ot++)dr=fe(Qe,re,ot,oe[ot],be),dr!==null&&(r&&dr.alternate!==null&&Qe.delete(dr.key===null?ot:dr.key),ee=_(dr,ee,ot),St===null?Be=dr:St.sibling=dr,St=dr);return r&&Qe.forEach(function(Eo){return s(re,Eo)}),Mt&&Wo(re,ot),Be}function rt(re,ee,oe,be){if(oe==null)throw Error(i(151));for(var Be=null,St=null,Qe=ee,ot=ee=0,dr=null,Kt=oe.next();Qe!==null&&!Kt.done;ot++,Kt=oe.next()){Qe.index>ot?(dr=Qe,Qe=null):dr=Qe.sibling;var Eo=de(re,Qe,Kt.value,be);if(Eo===null){Qe===null&&(Qe=dr);break}r&&Qe&&Eo.alternate===null&&s(re,Qe),ee=_(Eo,ee,ot),St===null?Be=Eo:St.sibling=Eo,St=Eo,Qe=dr}if(Kt.done)return o(re,Qe),Mt&&Wo(re,ot),Be;if(Qe===null){for(;!Kt.done;ot++,Kt=oe.next())Kt=Re(re,Kt.value,be),Kt!==null&&(ee=_(Kt,ee,ot),St===null?Be=Kt:St.sibling=Kt,St=Kt);return Mt&&Wo(re,ot),Be}for(Qe=f(Qe);!Kt.done;ot++,Kt=oe.next())Kt=fe(Qe,re,ot,Kt.value,be),Kt!==null&&(r&&Kt.alternate!==null&&Qe.delete(Kt.key===null?ot:Kt.key),ee=_(Kt,ee,ot),St===null?Be=Kt:St.sibling=Kt,St=Kt);return r&&Qe.forEach(function(lE){return s(re,lE)}),Mt&&Wo(re,ot),Be}function hn(re,ee,oe,be){if(typeof oe=="object"&&oe!==null&&oe.type===O&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case A:e:{for(var Be=oe.key;ee!==null;){if(ee.key===Be){if(Be=oe.type,Be===O){if(ee.tag===7){o(re,ee.sibling),be=p(ee,oe.props.children),be.return=re,re=be;break e}}else if(ee.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===I&&al(Be)===ee.type){o(re,ee.sibling),be=p(ee,oe.props),xc(be,oe),be.return=re,re=be;break e}o(re,ee);break}else s(re,ee);ee=ee.sibling}oe.type===O?(be=Yo(oe.props.children,re.mode,be,oe.key),be.return=re,re=be):(be=nh(oe.type,oe.key,oe.props,null,re.mode,be),xc(be,oe),be.return=re,re=be)}return x(re);case D:e:{for(Be=oe.key;ee!==null;){if(ee.key===Be)if(ee.tag===4&&ee.stateNode.containerInfo===oe.containerInfo&&ee.stateNode.implementation===oe.implementation){o(re,ee.sibling),be=p(ee,oe.children||[]),be.return=re,re=be;break e}else{o(re,ee);break}else s(re,ee);ee=ee.sibling}be=Fl(oe,re.mode,be),be.return=re,re=be}return x(re);case I:return Be=oe._init,oe=Be(oe._payload),hn(re,ee,oe,be)}if(Je(oe))return at(re,ee,oe,be);if(X(oe)){if(Be=X(oe),typeof Be!="function")throw Error(i(150));return oe=Be.call(oe),rt(re,ee,oe,be)}if(typeof oe.then=="function")return hn(re,ee,Sh(oe),be);if(oe.$$typeof===J)return hn(re,ee,sh(re,oe),be);sl(re,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,ee!==null&&ee.tag===6?(o(re,ee.sibling),be=p(ee,oe),be.return=re,re=be):(o(re,ee),be=Xd(oe,re.mode,be),be.return=re,re=be),x(re)):o(re,ee)}return function(re,ee,oe,be){try{fi=0;var Be=hn(re,ee,oe,be);return Zn=null,Be}catch(Qe){if(Qe===Fr||Qe===oh)throw Qe;var St=si(29,Qe,null,re.mode);return St.lanes=be,St.return=re,St}finally{}}}var ol=Am(!0),Jg=Am(!1),Ii=me(null),zr=null;function es(r){var s=r.alternate;we(kn,kn.current&1),we(Ii,r),zr===null&&(s===null||el.current!==null||s.memoizedState!==null)&&(zr=r)}function ey(r){if(r.tag===22){if(we(kn,kn.current),we(Ii,r),zr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(zr=r)}}else ba()}function ba(){we(kn,kn.current),we(Ii,Ii.current)}function Ks(r){Ne(Ii),zr===r&&(zr=null),Ne(kn)}var kn=me(0);function Cc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||qr(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Ql(r,s,o,f){s=r.memoizedState,o=o(f,s),o=o==null?s:E({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Ic={enqueueSetState:function(r,s,o){r=r._reactInternals;var f=Or(),p=eo(f);p.payload=s,o!=null&&(p.callback=o),s=_a(r,p,f),s!==null&&(Oi(s,r,f),dc(s,r,f))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var f=Or(),p=eo(f);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=_a(r,p,f),s!==null&&(Oi(s,r,f),dc(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Or(),f=eo(o);f.tag=2,s!=null&&(f.callback=s),s=_a(r,f,o),s!==null&&(Oi(s,r,o),dc(s,r,o))}};function Nc(r,s,o,f,p,_,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,_,x):s.prototype&&s.prototype.isPureReactComponent?!qs(o,f)||!qs(p,_):!0}function ty(r,s,o,f){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,f),s.state!==r&&Ic.enqueueReplaceState(s,s.state,null)}function io(r,s){var o=s;if("ref"in s){o={};for(var f in s)f!=="ref"&&(o[f]=s[f])}if(r=r.defaultProps){o===s&&(o=E({},o));for(var p in r)o[p]===void 0&&(o[p]=r[p])}return o}var ll=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Rm(r){ll(r)}function Ah(r){console.error(r)}function ny(r){ll(r)}function Dc(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function Ys(r,s,o){try{var f=r.onCaughtError;f(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Rh(r,s,o){return o=eo(o),o.tag=3,o.payload={element:null},o.callback=function(){Dc(r,s)},o}function xm(r){return r=eo(r),r.tag=3,r}function ry(r,s,o,f){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var _=f.value;r.payload=function(){return p(_)},r.callback=function(){Ys(s,o,f)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(r.callback=function(){Ys(s,o,f),typeof p!="function"&&(co===null?co=new Set([this]):co.add(this));var P=f.stack;this.componentDidCatch(f.value,{componentStack:P!==null?P:""})})}function iy(r,s,o,f,p){if(o.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=o.alternate,s!==null&&cc(s,o,p,!0),o=Ii.current,o!==null){switch(o.tag){case 13:return zr===null?$m():o.alternate===null&&Un===0&&(Un=3),o.flags&=-257,o.flags|=65536,o.lanes=p,f===nm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([f]):s.add(f),Wm(r,f,p)),!1;case 22:return o.flags|=65536,f===nm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([f]):o.add(f)),Wm(r,f,p)),!1}throw Error(i(435,o.tag))}return Wm(r,f,p),$m(),!1}if(Mt)return s=Ii.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,f!==zl&&(r=Error(i(422),{cause:f}),Za(jr(r,o)))):(f!==zl&&(s=Error(i(423),{cause:f}),Za(jr(s,o))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,f=jr(f,o),p=Rh(r.stateNode,f,p),vs(r,p),Un!==4&&(Un=2)),!1;var _=Error(i(520),{cause:f});if(_=jr(_,o),Fc===null?Fc=[_]:Fc.push(_),Un!==4&&(Un=2),s===null)return!0;f=jr(f,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=p&-p,o.lanes|=r,r=Rh(o.stateNode,f,r),vs(o,r),!1;case 1:if(s=o.type,_=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(co===null||!co.has(_))))return o.flags|=65536,p&=-p,o.lanes|=p,p=xm(p),ry(p,r,o,f),vs(o,p),!1}o=o.return}while(o!==null);return!1}var sy=Error(i(461)),cr=!1;function bn(r,s,o,f){s.child=r===null?Jg(s,null,o,f):ol(s,r.child,o,f)}function xh(r,s,o,f,p){o=o.render;var _=s.ref;if("ref"in f){var x={};for(var P in f)P!=="ref"&&(x[P]=f[P])}else x=f;return Xo(s),f=am(r,s,o,x,_,p),P=lm(),r!==null&&!cr?(nl(r,s,p),Sa(r,s,p)):(Mt&&P&&Jd(s),s.flags|=1,bn(r,s,f,p),s.child)}function Ch(r,s,o,f,p){if(r===null){var _=o.type;return typeof _=="function"&&!Ko(_)&&_.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=_,Ih(r,s,_,f,p)):(r=nh(o.type,null,f,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(_=r.child,!Ts(r,p)){var x=_.memoizedProps;if(o=o.compare,o=o!==null?o:qs,o(x,f)&&r.ref===s.ref)return Sa(r,s,p)}return s.flags|=1,r=Br(_,f),r.ref=s.ref,r.return=s,s.child=r}function Ih(r,s,o,f,p){if(r!==null){var _=r.memoizedProps;if(qs(_,f)&&r.ref===s.ref)if(cr=!1,s.pendingProps=f=_,Ts(r,p))(r.flags&131072)!==0&&(cr=!0);else return s.lanes=r.lanes,Sa(r,s,p)}return Xl(r,s,o,f,p)}function Oc(r,s,o){var f=s.pendingProps,p=f.children,_=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=_!==null?_.baseLanes|o:o,r!==null){for(p=s.child=r.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;s.childLanes=_&~f}else s.childLanes=0,s.child=null;return ul(r,s,f,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&ah(s,_!==null?_.cachePool:null),_!==null?Ea(s,_):uh(),ey(s);else return s.lanes=s.childLanes=536870912,ul(r,s,_!==null?_.baseLanes|o:o,o)}else _!==null?(ah(s,_.cachePool),Ea(s,_),ba(),s.memoizedState=null):(r!==null&&ah(s,null),uh(),ba());return bn(r,s,p,o),s.child}function ul(r,s,o,f){var p=va();return p=p===null?null:{parent:yn._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},r!==null&&ah(s,null),uh(),ey(s),r!==null&&cc(r,s,f,!0),null}function Ze(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Xl(r,s,o,f,p){return Xo(s),o=am(r,s,o,f,void 0,p),f=lm(),r!==null&&!cr?(nl(r,s,p),Sa(r,s,p)):(Mt&&f&&Jd(s),s.flags|=1,bn(r,s,o,p),s.child)}function Nh(r,s,o,f,p,_){return Xo(s),s.updateQueue=null,o=Bg(s,f,o,p),jg(r),f=lm(),r!==null&&!cr?(nl(r,s,_),Sa(r,s,_)):(Mt&&f&&Jd(s),s.flags|=1,bn(r,s,o,_),s.child)}function so(r,s,o,f,p){if(Xo(s),s.stateNode===null){var _=$o,x=o.contextType;typeof x=="object"&&x!==null&&(_=Ln(x)),_=new o(f,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Ic,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=f,_.state=s.memoizedState,_.refs={},Jo(s),x=o.contextType,_.context=typeof x=="object"&&x!==null?Ln(x):$o,_.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(Ql(s,o,x,f),_.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(x=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),x!==_.state&&Ic.enqueueReplaceState(_,_.state,null),Ir(s,f,_,p),_s(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(r===null){_=s.stateNode;var P=s.memoizedProps,Y=io(o,P);_.props=Y;var ue=_.context,Te=o.contextType;x=$o,typeof Te=="object"&&Te!==null&&(x=Ln(Te));var Re=o.getDerivedStateFromProps;Te=typeof Re=="function"||typeof _.getSnapshotBeforeUpdate=="function",P=s.pendingProps!==P,Te||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P||ue!==x)&&ty(s,_,f,x),Gs=!1;var de=s.memoizedState;_.state=de,Ir(s,f,_,p),_s(),ue=s.memoizedState,P||de!==ue||Gs?(typeof Re=="function"&&(Ql(s,o,Re,f),ue=s.memoizedState),(Y=Gs||Nc(s,o,Y,f,de,ue,x))?(Te||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=ue),_.props=f,_.state=ue,_.context=x,f=Y):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{_=s.stateNode,Gl(r,s),x=s.memoizedProps,Te=io(o,x),_.props=Te,Re=s.pendingProps,de=_.context,ue=o.contextType,Y=$o,typeof ue=="object"&&ue!==null&&(Y=Ln(ue)),P=o.getDerivedStateFromProps,(ue=typeof P=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(x!==Re||de!==Y)&&ty(s,_,f,Y),Gs=!1,de=s.memoizedState,_.state=de,Ir(s,f,_,p),_s();var fe=s.memoizedState;x!==Re||de!==fe||Gs||r!==null&&r.dependencies!==null&&ih(r.dependencies)?(typeof P=="function"&&(Ql(s,o,P,f),fe=s.memoizedState),(Te=Gs||Nc(s,o,Te,f,de,fe,Y)||r!==null&&r.dependencies!==null&&ih(r.dependencies))?(ue||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,fe,Y),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,fe,Y)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||x===r.memoizedProps&&de===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&de===r.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=fe),_.props=f,_.state=fe,_.context=Y,f=Te):(typeof _.componentDidUpdate!="function"||x===r.memoizedProps&&de===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&de===r.memoizedState||(s.flags|=1024),f=!1)}return _=f,Ze(r,s),f=(s.flags&128)!==0,_||f?(_=s.stateNode,o=f&&typeof o.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,r!==null&&f?(s.child=ol(s,r.child,null,p),s.child=ol(s,null,o,p)):bn(r,s,o,p),s.memoizedState=_.state,r=s.child):r=Sa(r,s,p),r}function ay(r,s,o,f){return uc(),s.flags|=256,bn(r,s,o,f),s.child}var Mc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dh(r){return{baseLanes:r,cachePool:Og()}}function fr(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=ns),r}function oy(r,s,o){var f=s.pendingProps,p=!1,_=(s.flags&128)!==0,x;if((x=_)||(x=r!==null&&r.memoizedState===null?!1:(kn.current&2)!==0),x&&(p=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,r===null){if(Mt){if(p?es(s):ba(),Mt){var P=xn,Y;if(Y=P){e:{for(Y=P,P=ai;Y.nodeType!==8;){if(!P){P=null;break e}if(Y=bs(Y.nextSibling),Y===null){P=null;break e}}P=Y}P!==null?(s.memoizedState={dehydrated:P,treeContext:wn!==null?{id:Rn,overflow:ya}:null,retryLane:536870912,hydrationErrors:null},Y=si(18,null,null,0),Y.stateNode=P,Y.return=s,s.child=Y,Xn=s,xn=null,Y=!0):Y=!1}Y||Xi(s)}if(P=s.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return qr(P)?s.lanes=32:s.lanes=536870912,null;Ks(s)}return P=f.children,f=f.fallback,p?(ba(),p=s.mode,P=Pc({mode:"hidden",children:P},p),f=Yo(f,p,o,null),P.return=s,f.return=s,P.sibling=f,s.child=P,p=s.child,p.memoizedState=Dh(o),p.childLanes=fr(r,x,o),s.memoizedState=Mc,f):(es(s),Cm(s,P))}if(Y=r.memoizedState,Y!==null&&(P=Y.dehydrated,P!==null)){if(_)s.flags&256?(es(s),s.flags&=-257,s=Im(r,s,o)):s.memoizedState!==null?(ba(),s.child=r.child,s.flags|=128,s=null):(ba(),p=f.fallback,P=s.mode,f=Pc({mode:"visible",children:f.children},P),p=Yo(p,P,o,null),p.flags|=2,f.return=s,p.return=s,f.sibling=p,s.child=f,ol(s,r.child,null,o),f=s.child,f.memoizedState=Dh(o),f.childLanes=fr(r,x,o),s.memoizedState=Mc,s=p);else if(es(s),qr(P)){if(x=P.nextSibling&&P.nextSibling.dataset,x)var ue=x.dgst;x=ue,f=Error(i(419)),f.stack="",f.digest=x,Za({value:f,source:null,stack:null}),s=Im(r,s,o)}else if(cr||cc(r,s,o,!1),x=(o&r.childLanes)!==0,cr||x){if(x=Tn,x!==null&&(f=o&-o,f=(f&42)!==0?1:Ps(f),f=(f&(x.suspendedLanes|o))!==0?0:f,f!==0&&f!==Y.retryLane))throw Y.retryLane=f,Go(r,f),Oi(x,r,f),sy;P.data==="$?"||$m(),s=Im(r,s,o)}else P.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=Y.treeContext,xn=bs(P.nextSibling),Xn=s,Mt=!0,ys=null,ai=!1,r!==null&&(Wi[Qi++]=Rn,Wi[Qi++]=ya,Wi[Qi++]=wn,Rn=r.id,ya=r.overflow,wn=s),s=Cm(s,f.children),s.flags|=4096);return s}return p?(ba(),p=f.fallback,P=s.mode,Y=r.child,ue=Y.sibling,f=Br(Y,{mode:"hidden",children:f.children}),f.subtreeFlags=Y.subtreeFlags&65011712,ue!==null?p=Br(ue,p):(p=Yo(p,P,o,null),p.flags|=2),p.return=s,f.return=s,f.sibling=p,s.child=f,f=p,p=s.child,P=r.child.memoizedState,P===null?P=Dh(o):(Y=P.cachePool,Y!==null?(ue=yn._currentValue,Y=Y.parent!==ue?{parent:ue,pool:ue}:Y):Y=Og(),P={baseLanes:P.baseLanes|o,cachePool:Y}),p.memoizedState=P,p.childLanes=fr(r,x,o),s.memoizedState=Mc,f):(es(s),o=r.child,r=o.sibling,o=Br(o,{mode:"visible",children:f.children}),o.return=s,o.sibling=null,r!==null&&(x=s.deletions,x===null?(s.deletions=[r],s.flags|=16):x.push(r)),s.child=o,s.memoizedState=null,o)}function Cm(r,s){return s=Pc({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Pc(r,s){return r=si(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Im(r,s,o){return ol(s,r.child,null,o),r=Cm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Nm(r,s,o){r.lanes|=s;var f=r.alternate;f!==null&&(f.lanes|=s),oi(r.return,s,o)}function Dm(r,s,o,f,p){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:o,tailMode:p}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=o,_.tailMode=p)}function ly(r,s,o){var f=s.pendingProps,p=f.revealOrder,_=f.tail;if(bn(r,s,f.children,o),f=kn.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Nm(r,o,s);else if(r.tag===19)Nm(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(we(kn,f),p){case"forwards":for(o=s.child,p=null;o!==null;)r=o.alternate,r!==null&&Cc(r)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),Dm(s,!1,p,o,_);break;case"backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Cc(r)===null){s.child=p;break}r=p.sibling,p.sibling=o,o=p,p=r}Dm(s,!0,o,null,_);break;case"together":Dm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Sa(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),uo|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(cc(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Br(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Br(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Ts(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&ih(r)))}function Hr(r,s,o){switch(s.tag){case 3:Nt(s,s.stateNode.containerInfo),xi(s,yn,r.memoizedState.cache),uc();break;case 27:case 5:Zt(s);break;case 4:Nt(s,s.stateNode.containerInfo);break;case 10:xi(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(es(s),s.flags|=128,null):(o&s.child.childLanes)!==0?oy(r,s,o):(es(s),r=Sa(r,s,o),r!==null?r.sibling:null);es(s);break;case 19:var p=(r.flags&128)!==0;if(f=(o&s.childLanes)!==0,f||(cc(r,s,o,!1),f=(o&s.childLanes)!==0),p){if(f)return ly(r,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),we(kn,kn.current),f)break;return null;case 22:case 23:return s.lanes=0,Oc(r,s,o);case 24:xi(s,yn,r.memoizedState.cache)}return Sa(r,s,o)}function Oh(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)cr=!0;else{if(!Ts(r,o)&&(s.flags&128)===0)return cr=!1,Hr(r,s,o);cr=(r.flags&131072)!==0}else cr=!1,Mt&&(s.flags&1048576)!==0&&Zd(s,ac,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var f=s.elementType,p=f._init;if(f=p(f._payload),s.type=f,typeof f=="function")Ko(f)?(r=io(f,r),s.tag=1,s=so(null,s,f,r,o)):(s.tag=0,s=Xl(null,s,f,r,o));else{if(f!=null){if(p=f.$$typeof,p===he){s.tag=11,s=xh(null,s,f,r,o);break e}else if(p===N){s.tag=14,s=Ch(null,s,f,r,o);break e}}throw s=Xe(f)||f,Error(i(306,s,""))}}return s;case 0:return Xl(r,s,s.type,s.pendingProps,o);case 1:return f=s.type,p=io(f,s.pendingProps),so(r,s,f,p,o);case 3:e:{if(Nt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));f=s.pendingProps;var _=s.memoizedState;p=_.element,Gl(r,s),Ir(s,f,null,o);var x=s.memoizedState;if(f=x.cache,xi(s,yn,f),f!==_.cache&&bt(s,[yn],o,!0),_s(),f=x.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=ay(r,s,f,o);break e}else if(f!==p){p=jr(Error(i(424)),s),Za(p),s=ay(r,s,f,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(xn=bs(r.firstChild),Xn=s,Mt=!0,ys=null,ai=!0,o=Jg(s,null,f,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(uc(),f===p){s=Sa(r,s,o);break e}bn(r,s,f,o)}s=s.child}return s;case 26:return Ze(r,s),r===null?(o=iv(s.type,null,s.pendingProps,null))?s.memoizedState=o:Mt||(o=s.type,r=s.pendingProps,f=hl(ze.current).createElement(o),f[Se]=s,f[Oe]=r,tr(f,o,r),Lt(f),s.stateNode=f):s.memoizedState=iv(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Zt(s),r===null&&Mt&&(f=s.stateNode=tv(s.type,s.pendingProps,ze.current),Xn=s,ai=!0,p=xn,rs(s.type)?(ip=p,xn=bs(f.firstChild)):xn=p),bn(r,s,s.pendingProps.children,o),Ze(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Mt&&((p=f=xn)&&(f=Jy(f,s.type,s.pendingProps,ai),f!==null?(s.stateNode=f,Xn=s,xn=bs(f.firstChild),ai=!1,p=!0):p=!1),p||Xi(s)),Zt(s),p=s.type,_=s.pendingProps,x=r!==null?r.memoizedProps:null,f=_.children,Wh(p,_)?f=null:x!==null&&Wh(p,x)&&(s.flags|=32),s.memoizedState!==null&&(p=am(r,s,om,null,null,o),gu._currentValue=p),Ze(r,s),bn(r,s,f,o),s.child;case 6:return r===null&&Mt&&((r=o=xn)&&(o=Xh(o,s.pendingProps,ai),o!==null?(s.stateNode=o,Xn=s,xn=null,r=!0):r=!1),r||Xi(s)),null;case 13:return oy(r,s,o);case 4:return Nt(s,s.stateNode.containerInfo),f=s.pendingProps,r===null?s.child=ol(s,null,f,o):bn(r,s,f,o),s.child;case 11:return xh(r,s,s.type,s.pendingProps,o);case 7:return bn(r,s,s.pendingProps,o),s.child;case 8:return bn(r,s,s.pendingProps.children,o),s.child;case 12:return bn(r,s,s.pendingProps.children,o),s.child;case 10:return f=s.pendingProps,xi(s,s.type,f.value),bn(r,s,f.children,o),s.child;case 9:return p=s.type._context,f=s.pendingProps.children,Xo(s),p=Ln(p),f=f(p),s.flags|=1,bn(r,s,f,o),s.child;case 14:return Ch(r,s,s.type,s.pendingProps,o);case 15:return Ih(r,s,s.type,s.pendingProps,o);case 19:return ly(r,s,o);case 31:return f=s.pendingProps,o=s.mode,f={mode:f.mode,children:f.children},r===null?(o=Pc(f,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Br(r.child,f),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return Oc(r,s,o);case 24:return Xo(s),f=Ln(yn),r===null?(p=va(),p===null&&(p=Tn,_=em(),p.pooledCache=_,_.refCount++,_!==null&&(p.pooledCacheLanes|=o),p=_),s.memoizedState={parent:f,cache:p},Jo(s),xi(s,yn,p)):((r.lanes&o)!==0&&(Gl(r,s),Ir(s,null,null,o),_s()),p=r.memoizedState,_=s.memoizedState,p.parent!==f?(p={parent:f,cache:f},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),xi(s,yn,f)):(f=_.cache,xi(s,yn,f),f!==p.cache&&bt(s,[yn],o,!0))),bn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Aa(r){r.flags|=4}function Mh(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!nr(s)){if(s=Ii.current,s!==null&&((zt&4194048)===zt?zr!==null:(zt&62914560)!==zt&&(zt&536870912)===0||s!==zr))throw ql=nm,Mg;r.flags|=8192}}function Ph(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Oo():536870912,r.lanes|=s,iu|=s)}function Lc(r,s){if(!Mt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function vn(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,f=0;if(s)for(var p=r.child;p!==null;)o|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)o|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=f,r.childLanes=o,s}function uy(r,s,o){var f=s.pendingProps;switch(oc(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(s),null;case 1:return vn(s),null;case 3:return o=s.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Zi(yn),Mn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(lc(s)?Aa(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Cg())),vn(s),null;case 26:return o=s.memoizedState,r===null?(Aa(s),o!==null?(vn(s),Mh(s,o)):(vn(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Aa(s),vn(s),Mh(s,o)):(vn(s),s.flags&=-16777217):(r.memoizedProps!==f&&Aa(s),vn(s),s.flags&=-16777217),null;case 27:Sn(s),o=ze.current;var p=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==f&&Aa(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return vn(s),null}r=Ue.current,lc(s)?Rg(s):(r=tv(p,f,o),s.stateNode=r,Aa(s))}return vn(s),null;case 5:if(Sn(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==f&&Aa(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return vn(s),null}if(r=Ue.current,lc(s))Rg(s);else{switch(p=hl(ze.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?p.createElement("select",{is:f.is}):p.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?p.createElement(o,{is:f.is}):p.createElement(o)}}r[Se]=s,r[Oe]=f;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=r;e:switch(tr(r,o,f),o){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Aa(s)}}return vn(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==f&&Aa(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(i(166));if(r=ze.current,lc(s)){if(r=s.stateNode,o=s.memoizedProps,f=null,p=Xn,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}r[Se]=s,r=!!(r.nodeValue===o||f!==null&&f.suppressHydrationWarning===!0||Wy(r.nodeValue,o)),r||Xi(s)}else r=hl(r).createTextNode(f),r[Se]=s,s.stateNode=r}return vn(s),null;case 13:if(f=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=lc(s),f!==null&&f.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Se]=s}else uc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;vn(s),p=!1}else p=Cg(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Ks(s),s):(Ks(s),null)}if(Ks(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=f!==null,r=r!==null&&r.memoizedState!==null,o){f=s.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool);var _=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==p&&(f.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Ph(s,s.updateQueue),vn(s),null;case 4:return Mn(),r===null&&ep(s.stateNode.containerInfo),vn(s),null;case 10:return Zi(s.type),vn(s),null;case 19:if(Ne(kn),p=s.memoizedState,p===null)return vn(s),null;if(f=(s.flags&128)!==0,_=p.rendering,_===null)if(f)Lc(p,!1);else{if(Un!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(_=Cc(r),_!==null){for(s.flags|=128,Lc(p,!1),r=_.updateQueue,s.updateQueue=r,Ph(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)sc(o,r),o=o.sibling;return we(kn,kn.current&1|2),s.child}r=r.sibling}p.tail!==null&&an()>su&&(s.flags|=128,f=!0,Lc(p,!1),s.lanes=4194304)}else{if(!f)if(r=Cc(_),r!==null){if(s.flags|=128,f=!0,r=r.updateQueue,s.updateQueue=r,Ph(s,r),Lc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Mt)return vn(s),null}else 2*an()-p.renderingStartTime>su&&o!==536870912&&(s.flags|=128,f=!0,Lc(p,!1),s.lanes=4194304);p.isBackwards?(_.sibling=s.child,s.child=_):(r=p.last,r!==null?r.sibling=_:s.child=_,p.last=_)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=an(),s.sibling=null,r=kn.current,we(kn,f?r&1|2:r&1),s):(vn(s),null);case 22:case 23:return Ks(s),sm(),f=s.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(o&536870912)!==0&&(s.flags&128)===0&&(vn(s),s.subtreeFlags&6&&(s.flags|=8192)):vn(s),o=s.updateQueue,o!==null&&Ph(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==o&&(s.flags|=2048),r!==null&&Ne(Zo),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Zi(yn),vn(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function cy(r,s){switch(oc(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Zi(yn),Mn(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Sn(s),null;case 13:if(Ks(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));uc()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ne(kn),null;case 4:return Mn(),null;case 10:return Zi(s.type),null;case 22:case 23:return Ks(s),sm(),r!==null&&Ne(Zo),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Zi(yn),null;case 25:return null;default:return null}}function fy(r,s){switch(oc(s),s.tag){case 3:Zi(yn),Mn();break;case 26:case 27:case 5:Sn(s);break;case 4:Mn();break;case 13:Ks(s);break;case 19:Ne(kn);break;case 10:Zi(s.type);break;case 22:case 23:Ks(s),sm(),r!==null&&Ne(Zo);break;case 24:Zi(yn)}}function kc(r,s){try{var o=s.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var p=f.next;o=p;do{if((o.tag&r)===r){f=void 0;var _=o.create,x=o.inst;f=_(),x.destroy=f}o=o.next}while(o!==p)}}catch(P){_n(s,s.return,P)}}function ao(r,s,o){try{var f=s.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var _=p.next;f=_;do{if((f.tag&r)===r){var x=f.inst,P=x.destroy;if(P!==void 0){x.destroy=void 0,p=s;var Y=o,ue=P;try{ue()}catch(Te){_n(p,Y,Te)}}}f=f.next}while(f!==_)}}catch(Te){_n(s,s.return,Te)}}function hy(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{im(s,o)}catch(f){_n(r,r.return,f)}}}function Om(r,s,o){o.props=io(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(f){_n(r,s,f)}}function Zl(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof o=="function"?r.refCleanup=o(f):o.current=f}}catch(p){_n(r,s,p)}}function Ws(r,s){var o=r.ref,f=r.refCleanup;if(o!==null)if(typeof f=="function")try{f()}catch(p){_n(r,s,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){_n(r,s,p)}else o.current=null}function Lh(r){var s=r.type,o=r.memoizedProps,f=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&f.focus();break e;case"img":o.src?f.src=o.src:o.srcSet&&(f.srcset=o.srcSet)}}catch(p){_n(r,r.return,p)}}function kh(r,s,o){try{var f=r.stateNode;F0(f,r.type,o,s),f[Oe]=s}catch(p){_n(r,r.return,p)}}function Jl(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&rs(r.type)||r.tag===4}function Uc(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Jl(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&rs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Uh(r,s,o){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Kh));else if(f!==4&&(f===27&&rs(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Uh(r,s,o),r=r.sibling;r!==null;)Uh(r,s,o),r=r.sibling}function Vc(r,s,o){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(f!==4&&(f===27&&rs(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Vc(r,s,o),r=r.sibling;r!==null;)Vc(r,s,o),r=r.sibling}function jc(r){var s=r.stateNode,o=r.memoizedProps;try{for(var f=r.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);tr(s,f,o),s[Se]=r,s[Oe]=o}catch(_){_n(r,r.return,_)}}var Qs=!1,sn=!1,Ra=!1,dy=typeof WeakSet=="function"?WeakSet:Set,Jn=null;function x0(r,s){if(r=r.containerInfo,ws=td,r=Sg(r),Yd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var f=o.getSelection&&o.getSelection();if(f&&f.rangeCount!==0){o=f.anchorNode;var p=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{o.nodeType,_.nodeType}catch{o=null;break e}var x=0,P=-1,Y=-1,ue=0,Te=0,Re=r,de=null;t:for(;;){for(var fe;Re!==o||p!==0&&Re.nodeType!==3||(P=x+p),Re!==_||f!==0&&Re.nodeType!==3||(Y=x+f),Re.nodeType===3&&(x+=Re.nodeValue.length),(fe=Re.firstChild)!==null;)de=Re,Re=fe;for(;;){if(Re===r)break t;if(de===o&&++ue===p&&(P=x),de===_&&++Te===f&&(Y=x),(fe=Re.nextSibling)!==null)break;Re=de,de=Re.parentNode}Re=fe}o=P===-1||Y===-1?null:{start:P,end:Y}}else o=null}o=o||{start:0,end:0}}else o=null;for(Yh={focusedElem:r,selectionRange:o},td=!1,Jn=s;Jn!==null;)if(s=Jn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Jn=r;else for(;Jn!==null;){switch(s=Jn,_=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&_!==null){r=void 0,o=s,p=_.memoizedProps,_=_.memoizedState,f=o.stateNode;try{var at=io(o.type,p,o.elementType===o.type);r=f.getSnapshotBeforeUpdate(at,_),f.__reactInternalSnapshotBeforeUpdate=r}catch(rt){_n(o,o.return,rt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)rp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":rp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Jn=r;break}Jn=s.return}}function my(r,s,o){var f=o.flags;switch(o.tag){case 0:case 11:case 15:oo(r,o),f&4&&kc(5,o);break;case 1:if(oo(r,o),f&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(x){_n(o,o.return,x)}else{var p=io(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(p,s,r.__reactInternalSnapshotBeforeUpdate)}catch(x){_n(o,o.return,x)}}f&64&&hy(o),f&512&&Zl(o,o.return);break;case 3:if(oo(r,o),f&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{im(r,s)}catch(x){_n(o,o.return,x)}}break;case 27:s===null&&f&4&&jc(o);case 26:case 5:oo(r,o),s===null&&f&4&&Lh(o),f&512&&Zl(o,o.return);break;case 12:oo(r,o);break;case 13:oo(r,o),f&4&&yy(r,o),f&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=zh.bind(null,o),fu(r,o))));break;case 22:if(f=o.memoizedState!==null||Qs,!f){s=s!==null&&s.memoizedState!==null||sn,p=Qs;var _=sn;Qs=f,(sn=s)&&!_?Ca(r,o,(o.subtreeFlags&8772)!==0):oo(r,o),Qs=p,sn=_}break;case 30:break;default:oo(r,o)}}function py(r){var s=r.alternate;s!==null&&(r.alternate=null,py(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Ge(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Cn=null,hi=!1;function xa(r,s,o){for(o=o.child;o!==null;)gy(r,s,o),o=o.sibling}function gy(r,s,o){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(He,o)}catch{}switch(o.tag){case 26:sn||Ws(o,s),xa(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:sn||Ws(o,s);var f=Cn,p=hi;rs(o.type)&&(Cn=o.stateNode,hi=!1),xa(r,s,o),Qc(o.stateNode),Cn=f,hi=p;break;case 5:sn||Ws(o,s);case 6:if(f=Cn,p=hi,Cn=null,xa(r,s,o),Cn=f,hi=p,Cn!==null)if(hi)try{(Cn.nodeType===9?Cn.body:Cn.nodeName==="HTML"?Cn.ownerDocument.body:Cn).removeChild(o.stateNode)}catch(_){_n(o,s,_)}else try{Cn.removeChild(o.stateNode)}catch(_){_n(o,s,_)}break;case 18:Cn!==null&&(hi?(r=Cn,Qh(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),sf(r)):Qh(Cn,o.stateNode));break;case 4:f=Cn,p=hi,Cn=o.stateNode.containerInfo,hi=!0,xa(r,s,o),Cn=f,hi=p;break;case 0:case 11:case 14:case 15:sn||ao(2,o,s),sn||ao(4,o,s),xa(r,s,o);break;case 1:sn||(Ws(o,s),f=o.stateNode,typeof f.componentWillUnmount=="function"&&Om(o,s,f)),xa(r,s,o);break;case 21:xa(r,s,o);break;case 22:sn=(f=sn)||o.memoizedState!==null,xa(r,s,o),sn=f;break;default:xa(r,s,o)}}function yy(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{sf(r)}catch(o){_n(s,s.return,o)}}function C0(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new dy),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new dy),s;default:throw Error(i(435,r.tag))}}function Mm(r,s){var o=C0(r);s.forEach(function(f){var p=P0.bind(null,r,f);o.has(f)||(o.add(f),f.then(p,p))})}function Ni(r,s){var o=s.deletions;if(o!==null)for(var f=0;f<o.length;f++){var p=o[f],_=r,x=s,P=x;e:for(;P!==null;){switch(P.tag){case 27:if(rs(P.type)){Cn=P.stateNode,hi=!1;break e}break;case 5:Cn=P.stateNode,hi=!1;break e;case 3:case 4:Cn=P.stateNode.containerInfo,hi=!0;break e}P=P.return}if(Cn===null)throw Error(i(160));gy(_,x,p),Cn=null,hi=!1,_=p.alternate,_!==null&&(_.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Pm(s,r),s=s.sibling}var ts=null;function Pm(r,s){var o=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ni(s,r),di(r),f&4&&(ao(3,r,r.return),kc(3,r),ao(5,r,r.return));break;case 1:Ni(s,r),di(r),f&512&&(sn||o===null||Ws(o,o.return)),f&64&&Qs&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?f:o.concat(f))));break;case 26:var p=ts;if(Ni(s,r),di(r),f&512&&(sn||o===null||Ws(o,o.return)),f&4){var _=o!==null?o.memoizedState:null;if(f=r.memoizedState,o===null)if(f===null)if(r.stateNode===null){e:{f=r.type,o=r.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":_=p.getElementsByTagName("title")[0],(!_||_[nt]||_[Se]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=p.createElement(f),p.head.insertBefore(_,p.querySelector("head > title"))),tr(_,f,o),_[Se]=r,Lt(_),f=_;break e;case"link":var x=ov("link","href",p).get(f+(o.href||""));if(x){for(var P=0;P<x.length;P++)if(_=x[P],_.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&_.getAttribute("rel")===(o.rel==null?null:o.rel)&&_.getAttribute("title")===(o.title==null?null:o.title)&&_.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(P,1);break t}}_=p.createElement(f),tr(_,f,o),p.head.appendChild(_);break;case"meta":if(x=ov("meta","content",p).get(f+(o.content||""))){for(P=0;P<x.length;P++)if(_=x[P],_.getAttribute("content")===(o.content==null?null:""+o.content)&&_.getAttribute("name")===(o.name==null?null:o.name)&&_.getAttribute("property")===(o.property==null?null:o.property)&&_.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&_.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(P,1);break t}}_=p.createElement(f),tr(_,f,o),p.head.appendChild(_);break;default:throw Error(i(468,f))}_[Se]=r,Lt(_),f=_}r.stateNode=f}else lv(p,r.type,r.stateNode);else r.stateNode=av(p,f,r.memoizedProps);else _!==f?(_===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):_.count--,f===null?lv(p,r.type,r.stateNode):av(p,f,r.memoizedProps)):f===null&&r.stateNode!==null&&kh(r,r.memoizedProps,o.memoizedProps)}break;case 27:Ni(s,r),di(r),f&512&&(sn||o===null||Ws(o,o.return)),o!==null&&f&4&&kh(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Ni(s,r),di(r),f&512&&(sn||o===null||Ws(o,o.return)),r.flags&32){p=r.stateNode;try{ni(p,"")}catch(fe){_n(r,r.return,fe)}}f&4&&r.stateNode!=null&&(p=r.memoizedProps,kh(r,p,o!==null?o.memoizedProps:p)),f&1024&&(Ra=!0);break;case 6:if(Ni(s,r),di(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,o=r.stateNode;try{o.nodeValue=f}catch(fe){_n(r,r.return,fe)}}break;case 3:if(pu=null,p=ts,ts=pt(s.containerInfo),Ni(s,r),ts=p,di(r),f&4&&o!==null&&o.memoizedState.isDehydrated)try{sf(s.containerInfo)}catch(fe){_n(r,r.return,fe)}Ra&&(Ra=!1,vy(r));break;case 4:f=ts,ts=pt(r.stateNode.containerInfo),Ni(s,r),di(r),ts=f;break;case 12:Ni(s,r),di(r);break;case 13:Ni(s,r),di(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Fm=an()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Mm(r,f)));break;case 22:p=r.memoizedState!==null;var Y=o!==null&&o.memoizedState!==null,ue=Qs,Te=sn;if(Qs=ue||p,sn=Te||Y,Ni(s,r),sn=Te,Qs=ue,di(r),f&8192)e:for(s=r.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||Y||Qs||sn||cl(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){Y=o=s;try{if(_=Y.stateNode,p)x=_.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{P=Y.stateNode;var Re=Y.memoizedProps.style,de=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;P.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(fe){_n(Y,Y.return,fe)}}}else if(s.tag===6){if(o===null){Y=s;try{Y.stateNode.nodeValue=p?"":Y.memoizedProps}catch(fe){_n(Y,Y.return,fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=r.updateQueue,f!==null&&(o=f.retryQueue,o!==null&&(f.retryQueue=null,Mm(r,o))));break;case 19:Ni(s,r),di(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Mm(r,f)));break;case 30:break;case 21:break;default:Ni(s,r),di(r)}}function di(r){var s=r.flags;if(s&2){try{for(var o,f=r.return;f!==null;){if(Jl(f)){o=f;break}f=f.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,_=Uc(r);Vc(r,_,p);break;case 5:var x=o.stateNode;o.flags&32&&(ni(x,""),o.flags&=-33);var P=Uc(r);Vc(r,P,x);break;case 3:case 4:var Y=o.stateNode.containerInfo,ue=Uc(r);Uh(r,ue,Y);break;default:throw Error(i(161))}}catch(Te){_n(r,r.return,Te)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function vy(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;vy(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function oo(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)my(r,s.alternate,s),s=s.sibling}function cl(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ao(4,s,s.return),cl(s);break;case 1:Ws(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Om(s,s.return,o),cl(s);break;case 27:Qc(s.stateNode);case 26:case 5:Ws(s,s.return),cl(s);break;case 22:s.memoizedState===null&&cl(s);break;case 30:cl(s);break;default:cl(s)}r=r.sibling}}function Ca(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,p=r,_=s,x=_.flags;switch(_.tag){case 0:case 11:case 15:Ca(p,_,o),kc(4,_);break;case 1:if(Ca(p,_,o),f=_,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ue){_n(f,f.return,ue)}if(f=_,p=f.updateQueue,p!==null){var P=f.stateNode;try{var Y=p.shared.hiddenCallbacks;if(Y!==null)for(p.shared.hiddenCallbacks=null,p=0;p<Y.length;p++)Ug(Y[p],P)}catch(ue){_n(f,f.return,ue)}}o&&x&64&&hy(_),Zl(_,_.return);break;case 27:jc(_);case 26:case 5:Ca(p,_,o),o&&f===null&&x&4&&Lh(_),Zl(_,_.return);break;case 12:Ca(p,_,o);break;case 13:Ca(p,_,o),o&&x&4&&yy(p,_);break;case 22:_.memoizedState===null&&Ca(p,_,o),Zl(_,_.return);break;case 30:break;default:Ca(p,_,o)}s=s.sibling}}function Lm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&fc(o))}function km(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&fc(r))}function Xs(r,s,o,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_y(r,s,o,f),s=s.sibling}function _y(r,s,o,f){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Xs(r,s,o,f),p&2048&&kc(9,s);break;case 1:Xs(r,s,o,f);break;case 3:Xs(r,s,o,f),p&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&fc(r)));break;case 12:if(p&2048){Xs(r,s,o,f),r=s.stateNode;try{var _=s.memoizedProps,x=_.id,P=_.onPostCommit;typeof P=="function"&&P(x,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Y){_n(s,s.return,Y)}}else Xs(r,s,o,f);break;case 13:Xs(r,s,o,f);break;case 23:break;case 22:_=s.stateNode,x=s.alternate,s.memoizedState!==null?_._visibility&2?Xs(r,s,o,f):Bc(r,s):_._visibility&2?Xs(r,s,o,f):(_._visibility|=2,eu(r,s,o,f,(s.subtreeFlags&10256)!==0)),p&2048&&Lm(x,s);break;case 24:Xs(r,s,o,f),p&2048&&km(s.alternate,s);break;default:Xs(r,s,o,f)}}function eu(r,s,o,f,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var _=r,x=s,P=o,Y=f,ue=x.flags;switch(x.tag){case 0:case 11:case 15:eu(_,x,P,Y,p),kc(8,x);break;case 23:break;case 22:var Te=x.stateNode;x.memoizedState!==null?Te._visibility&2?eu(_,x,P,Y,p):Bc(_,x):(Te._visibility|=2,eu(_,x,P,Y,p)),p&&ue&2048&&Lm(x.alternate,x);break;case 24:eu(_,x,P,Y,p),p&&ue&2048&&km(x.alternate,x);break;default:eu(_,x,P,Y,p)}s=s.sibling}}function Bc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,f=s,p=f.flags;switch(f.tag){case 22:Bc(o,f),p&2048&&Lm(f.alternate,f);break;case 24:Bc(o,f),p&2048&&km(f.alternate,f);break;default:Bc(o,f)}s=s.sibling}}var Dr=8192;function tu(r){if(r.subtreeFlags&Dr)for(r=r.child;r!==null;)Ey(r),r=r.sibling}function Ey(r){switch(r.tag){case 26:tu(r),r.flags&Dr&&r.memoizedState!==null&&J0(ts,r.memoizedState,r.memoizedProps);break;case 5:tu(r);break;case 3:case 4:var s=ts;ts=pt(r.stateNode.containerInfo),tu(r),ts=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Dr,Dr=16777216,tu(r),Dr=s):tu(r));break;default:tu(r)}}function Ty(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function nu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var f=s[o];Jn=f,by(f,r)}Ty(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)wy(r),r=r.sibling}function wy(r){switch(r.tag){case 0:case 11:case 15:nu(r),r.flags&2048&&ao(9,r,r.return);break;case 3:nu(r);break;case 12:nu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Vh(r)):nu(r);break;default:nu(r)}}function Vh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var f=s[o];Jn=f,by(f,r)}Ty(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ao(8,s,s.return),Vh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Vh(s));break;default:Vh(s)}r=r.sibling}}function by(r,s){for(;Jn!==null;){var o=Jn;switch(o.tag){case 0:case 11:case 15:ao(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var f=o.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:fc(o.memoizedState.cache)}if(f=o.child,f!==null)f.return=o,Jn=f;else e:for(o=r;Jn!==null;){f=Jn;var p=f.sibling,_=f.return;if(py(f),f===o){Jn=null;break e}if(p!==null){p.return=_,Jn=p;break e}Jn=_}}}var I0={getCacheForType:function(r){var s=Ln(yn),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},Um=typeof WeakMap=="function"?WeakMap:Map,un=0,Tn=null,xt=null,zt=0,cn=0,Di=null,lo=!1,ru=!1,Vm=!1,Ia=0,Un=0,uo=0,fl=0,jm=0,ns=0,iu=0,Fc=null,mi=null,Bm=!1,Fm=0,su=1/0,zc=null,co=null,Er=0,fo=null,au=null,ou=0,zm=0,Hm=null,Sy=null,lu=0,qm=null;function Or(){if((un&2)!==0&&zt!==0)return zt&-zt;if(ce.T!==null){var r=Hl;return r!==0?r:Gh()}return W()}function Ay(){ns===0&&(ns=(zt&536870912)===0||Mt?oa():536870912);var r=Ii.current;return r!==null&&(r.flags|=32),ns}function Oi(r,s,o){(r===Tn&&(cn===2||cn===9)||r.cancelPendingCommit!==null)&&(uu(r,0),ho(r,zt,ns,!1)),Fi(r,o),((un&2)===0||r!==Tn)&&(r===Tn&&((un&2)===0&&(fl|=o),Un===4&&ho(r,zt,ns,!1)),Zs(r))}function Ry(r,s,o){if((un&6)!==0)throw Error(i(327));var f=!o&&(s&124)===0&&(s&r.expiredLanes)===0||Zr(r,s),p=f?O0(r,s):Km(r,s,!0),_=f;do{if(p===0){ru&&!f&&ho(r,s,0,!1);break}else{if(o=r.current.alternate,_&&!N0(o)){p=Km(r,s,!1),_=!1;continue}if(p===2){if(_=s,r.errorRecoveryDisabledLanes&_)var x=0;else x=r.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var P=r;p=Fc;var Y=P.current.memoizedState.isDehydrated;if(Y&&(uu(P,x).flags|=256),x=Km(P,x,!1),x!==2){if(Vm&&!Y){P.errorRecoveryDisabledLanes|=_,fl|=_,p=4;break e}_=mi,mi=p,_!==null&&(mi===null?mi=_:mi.push.apply(mi,_))}p=x}if(_=!1,p!==2)continue}}if(p===1){uu(r,0),ho(r,s,0,!0);break}e:{switch(f=r,_=p,_){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ho(f,s,ns,!lo);break e;case 2:mi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(p=Fm+300-an(),10<p)){if(ho(f,s,ns,!lo),fs(f,0,!0)!==0)break e;f.timeoutHandle=Qy(xy.bind(null,f,o,mi,zc,Bm,s,ns,fl,iu,lo,_,2,-0,0),p);break e}xy(f,o,mi,zc,Bm,s,ns,fl,iu,lo,_,0,-0,0)}}break}while(!0);Zs(r)}function xy(r,s,o,f,p,_,x,P,Y,ue,Te,Re,de,fe){if(r.timeoutHandle=-1,Re=s.subtreeFlags,(Re&8192||(Re&16785408)===16785408)&&(hr={stylesheets:null,count:0,unsuspend:Z0},Ey(s),Re=eE(),Re!==null)){r.cancelPendingCommit=Re(Hc.bind(null,r,s,_,o,f,p,x,P,Y,Te,1,de,fe)),ho(r,_,x,!ue);return}Hc(r,s,_,o,f,p,x,P,Y)}function N0(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var f=0;f<o.length;f++){var p=o[f],_=p.getSnapshot;p=p.value;try{if(!Ai(_(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ho(r,s,o,f){s&=~jm,s&=~fl,r.suspendedLanes|=s,r.pingedLanes&=~s,f&&(r.warmLanes|=s),f=r.expirationTimes;for(var p=s;0<p;){var _=31-Pn(p),x=1<<_;f[_]=-1,p&=~x}o!==0&&Lr(r,o,s)}function jh(){return(un&6)===0?($c(0),!1):!0}function Gm(){if(xt!==null){if(cn===0)var r=xt.return;else r=xt,M=Ja=null,ch(r),Zn=null,fi=0,r=xt;for(;r!==null;)fy(r.alternate,r),r=r.return;xt=null}}function uu(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,H0(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Gm(),Tn=r,xt=o=Br(r.current,null),zt=s,cn=0,Di=null,lo=!1,ru=Zr(r,s),Vm=!1,iu=ns=jm=fl=uo=Un=0,mi=Fc=null,Bm=!1,(s&8)!==0&&(s|=s&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=s;0<f;){var p=31-Pn(f),_=1<<p;s|=r[p],f&=~_}return Ia=s,qo(),o}function Cy(r,s){Et=null,ce.H=Rc,s===Fr||s===oh?(s=Lg(),cn=3):s===Mg?(s=Lg(),cn=4):cn=s===sy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Di=s,xt===null&&(Un=1,Dc(r,jr(s,r.current)))}function Iy(){var r=ce.H;return ce.H=Rc,r===null?Rc:r}function Ny(){var r=ce.A;return ce.A=I0,r}function $m(){Un=4,lo||(zt&4194048)!==zt&&Ii.current!==null||(ru=!0),(uo&134217727)===0&&(fl&134217727)===0||Tn===null||ho(Tn,zt,ns,!1)}function Km(r,s,o){var f=un;un|=2;var p=Iy(),_=Ny();(Tn!==r||zt!==s)&&(zc=null,uu(r,s)),s=!1;var x=Un;e:do try{if(cn!==0&&xt!==null){var P=xt,Y=Di;switch(cn){case 8:Gm(),x=6;break e;case 3:case 2:case 9:case 6:Ii.current===null&&(s=!0);var ue=cn;if(cn=0,Di=null,cu(r,P,Y,ue),o&&ru){x=0;break e}break;default:ue=cn,cn=0,Di=null,cu(r,P,Y,ue)}}D0(),x=Un;break}catch(Te){Cy(r,Te)}while(!0);return s&&r.shellSuspendCounter++,M=Ja=null,un=f,ce.H=p,ce.A=_,xt===null&&(Tn=null,zt=0,qo()),x}function D0(){for(;xt!==null;)Ym(xt)}function O0(r,s){var o=un;un|=2;var f=Iy(),p=Ny();Tn!==r||zt!==s?(zc=null,su=an()+500,uu(r,s)):ru=Zr(r,s);e:do try{if(cn!==0&&xt!==null){s=xt;var _=Di;t:switch(cn){case 1:cn=0,Di=null,cu(r,s,_,1);break;case 2:case 9:if(Pg(_)){cn=0,Di=null,Oy(s);break}s=function(){cn!==2&&cn!==9||Tn!==r||(cn=7),Zs(r)},_.then(s,s);break e;case 3:cn=7;break e;case 4:cn=5;break e;case 7:Pg(_)?(cn=0,Di=null,Oy(s)):(cn=0,Di=null,cu(r,s,_,7));break;case 5:var x=null;switch(xt.tag){case 26:x=xt.memoizedState;case 5:case 27:var P=xt;if(!x||nr(x)){cn=0,Di=null;var Y=P.sibling;if(Y!==null)xt=Y;else{var ue=P.return;ue!==null?(xt=ue,Bh(ue)):xt=null}break t}}cn=0,Di=null,cu(r,s,_,5);break;case 6:cn=0,Di=null,cu(r,s,_,6);break;case 8:Gm(),Un=6;break e;default:throw Error(i(462))}}Dy();break}catch(Te){Cy(r,Te)}while(!0);return M=Ja=null,ce.H=f,ce.A=p,un=o,xt!==null?0:(Tn=null,zt=0,qo(),Un)}function Dy(){for(;xt!==null&&!Dt();)Ym(xt)}function Ym(r){var s=Oh(r.alternate,r,Ia);r.memoizedProps=r.pendingProps,s===null?Bh(r):xt=s}function Oy(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=Nh(o,s,s.pendingProps,s.type,void 0,zt);break;case 11:s=Nh(o,s,s.pendingProps,s.type.render,s.ref,zt);break;case 5:ch(s);default:fy(o,s),s=xt=sc(s,Ia),s=Oh(o,s,Ia)}r.memoizedProps=r.pendingProps,s===null?Bh(r):xt=s}function cu(r,s,o,f){M=Ja=null,ch(s),Zn=null,fi=0;var p=s.return;try{if(iy(r,p,s,o,zt)){Un=1,Dc(r,jr(o,r.current)),xt=null;return}}catch(_){if(p!==null)throw xt=p,_;Un=1,Dc(r,jr(o,r.current)),xt=null;return}s.flags&32768?(Mt||f===1?r=!0:ru||(zt&536870912)!==0?r=!1:(lo=r=!0,(f===2||f===9||f===3||f===6)&&(f=Ii.current,f!==null&&f.tag===13&&(f.flags|=16384))),My(s,r)):Bh(s)}function Bh(r){var s=r;do{if((s.flags&32768)!==0){My(s,lo);return}r=s.return;var o=uy(s.alternate,s,Ia);if(o!==null){xt=o;return}if(s=s.sibling,s!==null){xt=s;return}xt=s=r}while(s!==null);Un===0&&(Un=5)}function My(r,s){do{var o=cy(r.alternate,r);if(o!==null){o.flags&=32767,xt=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){xt=r;return}xt=r=o}while(r!==null);Un=6,xt=null}function Hc(r,s,o,f,p,_,x,P,Y){r.cancelPendingCommit=null;do Fh();while(Er!==0);if((un&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(_=s.lanes|s.childLanes,_|=Qd,Ha(r,o,_,x,P,Y),r===Tn&&(xt=Tn=null,zt=0),au=s,fo=r,ou=o,zm=_,Hm=p,Sy=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Fy(Bn,function(){return Vy(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=ce.T,ce.T=null,p=pe.p,pe.p=2,x=un,un|=4;try{x0(r,s,o)}finally{un=x,pe.p=p,ce.T=f}}Er=1,Py(),Ly(),ky()}}function Py(){if(Er===1){Er=0;var r=fo,s=au,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=ce.T,ce.T=null;var f=pe.p;pe.p=2;var p=un;un|=4;try{Pm(s,r);var _=Yh,x=Sg(r.containerInfo),P=_.focusedElem,Y=_.selectionRange;if(x!==P&&P&&P.ownerDocument&&bg(P.ownerDocument.documentElement,P)){if(Y!==null&&Yd(P)){var ue=Y.start,Te=Y.end;if(Te===void 0&&(Te=ue),"selectionStart"in P)P.selectionStart=ue,P.selectionEnd=Math.min(Te,P.value.length);else{var Re=P.ownerDocument||document,de=Re&&Re.defaultView||window;if(de.getSelection){var fe=de.getSelection(),at=P.textContent.length,rt=Math.min(Y.start,at),hn=Y.end===void 0?rt:Math.min(Y.end,at);!fe.extend&&rt>hn&&(x=hn,hn=rt,rt=x);var re=Kd(P,rt),ee=Kd(P,hn);if(re&&ee&&(fe.rangeCount!==1||fe.anchorNode!==re.node||fe.anchorOffset!==re.offset||fe.focusNode!==ee.node||fe.focusOffset!==ee.offset)){var oe=Re.createRange();oe.setStart(re.node,re.offset),fe.removeAllRanges(),rt>hn?(fe.addRange(oe),fe.extend(ee.node,ee.offset)):(oe.setEnd(ee.node,ee.offset),fe.addRange(oe))}}}}for(Re=[],fe=P;fe=fe.parentNode;)fe.nodeType===1&&Re.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<Re.length;P++){var be=Re[P];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}td=!!ws,Yh=ws=null}finally{un=p,pe.p=f,ce.T=o}}r.current=s,Er=2}}function Ly(){if(Er===2){Er=0;var r=fo,s=au,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=ce.T,ce.T=null;var f=pe.p;pe.p=2;var p=un;un|=4;try{my(r,s.alternate,s)}finally{un=p,pe.p=f,ce.T=o}}Er=3}}function ky(){if(Er===4||Er===3){Er=0,us();var r=fo,s=au,o=ou,f=Sy;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Er=5:(Er=0,au=fo=null,Uy(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(co=null),la(o),s=s.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(He,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=ce.T,p=pe.p,pe.p=2,ce.T=null;try{for(var _=r.onRecoverableError,x=0;x<f.length;x++){var P=f[x];_(P.value,{componentStack:P.stack})}}finally{ce.T=s,pe.p=p}}(ou&3)!==0&&Fh(),Zs(r),p=r.pendingLanes,(o&4194090)!==0&&(p&42)!==0?r===qm?lu++:(lu=0,qm=r):lu=0,$c(0)}}function Uy(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,fc(s)))}function Fh(r){return Py(),Ly(),ky(),Vy()}function Vy(){if(Er!==5)return!1;var r=fo,s=zm;zm=0;var o=la(ou),f=ce.T,p=pe.p;try{pe.p=32>o?32:o,ce.T=null,o=Hm,Hm=null;var _=fo,x=ou;if(Er=0,au=fo=null,ou=0,(un&6)!==0)throw Error(i(331));var P=un;if(un|=4,wy(_.current),_y(_,_.current,x,o),un=P,$c(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(He,_)}catch{}return!0}finally{pe.p=p,ce.T=f,Uy(r,s)}}function jy(r,s,o){s=jr(o,s),s=Rh(r.stateNode,s,2),r=_a(r,s,2),r!==null&&(Fi(r,2),Zs(r))}function _n(r,s,o){if(r.tag===3)jy(r,r,o);else for(;s!==null;){if(s.tag===3){jy(s,r,o);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(co===null||!co.has(f))){r=jr(o,r),o=xm(2),f=_a(s,o,2),f!==null&&(ry(o,f,s,r),Fi(f,2),Zs(f));break}}s=s.return}}function Wm(r,s,o){var f=r.pingCache;if(f===null){f=r.pingCache=new Um;var p=new Set;f.set(s,p)}else p=f.get(s),p===void 0&&(p=new Set,f.set(s,p));p.has(o)||(Vm=!0,p.add(o),r=M0.bind(null,r,s,o),s.then(r,r))}function M0(r,s,o){var f=r.pingCache;f!==null&&f.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Tn===r&&(zt&o)===o&&(Un===4||Un===3&&(zt&62914560)===zt&&300>an()-Fm?(un&2)===0&&uu(r,0):jm|=o,iu===zt&&(iu=0)),Zs(r)}function By(r,s){s===0&&(s=Oo()),r=Go(r,s),r!==null&&(Fi(r,s),Zs(r))}function zh(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),By(r,o)}function P0(r,s){var o=0;switch(r.tag){case 13:var f=r.stateNode,p=r.memoizedState;p!==null&&(o=p.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(s),By(r,o)}function Fy(r,s){return Ar(r,s)}var qc=null,mo=null,Hh=!1,Gc=!1,qh=!1,po=0;function Zs(r){r!==mo&&r.next===null&&(mo===null?qc=mo=r:mo=mo.next=r),Gc=!0,Hh||(Hh=!0,Qm())}function $c(r,s){if(!qh&&Gc){qh=!0;do for(var o=!1,f=qc;f!==null;){if(r!==0){var p=f.pendingLanes;if(p===0)var _=0;else{var x=f.suspendedLanes,P=f.pingedLanes;_=(1<<31-Pn(42|r)+1)-1,_&=p&~(x&~P),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(o=!0,Hy(f,_))}else _=zt,_=fs(f,f===Tn?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(_&3)===0||Zr(f,_)||(o=!0,Hy(f,_));f=f.next}while(o);qh=!1}}function L0(){Kc()}function Kc(){Gc=Hh=!1;var r=0;po!==0&&(z0()&&(r=po),po=0);for(var s=an(),o=null,f=qc;f!==null;){var p=f.next,_=Yc(f,s);_===0?(f.next=null,o===null?qc=p:o.next=p,p===null&&(mo=o)):(o=f,(r!==0||(_&3)!==0)&&(Gc=!0)),f=p}$c(r)}function Yc(r,s){for(var o=r.suspendedLanes,f=r.pingedLanes,p=r.expirationTimes,_=r.pendingLanes&-62914561;0<_;){var x=31-Pn(_),P=1<<x,Y=p[x];Y===-1?((P&o)===0||(P&f)!==0)&&(p[x]=za(P,s)):Y<=s&&(r.expiredLanes|=P),_&=~P}if(s=Tn,o=zt,o=fs(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,o===0||r===s&&(cn===2||cn===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&Wt(f),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Zr(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(f!==null&&Wt(f),la(o)){case 2:case 8:o=Wr;break;case 32:o=Bn;break;case 268435456:o=vr;break;default:o=Bn}return f=zy.bind(null,r),o=Ar(o,f),r.callbackPriority=s,r.callbackNode=o,s}return f!==null&&f!==null&&Wt(f),r.callbackPriority=2,r.callbackNode=null,2}function zy(r,s){if(Er!==0&&Er!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Fh()&&r.callbackNode!==o)return null;var f=zt;return f=fs(r,r===Tn?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(Ry(r,f,s),Yc(r,an()),r.callbackNode!=null&&r.callbackNode===o?zy.bind(null,r):null)}function Hy(r,s){if(Fh())return null;Ry(r,s,!0)}function Qm(){q0(function(){(un&6)!==0?Ar(aa,L0):Kc()})}function Gh(){return po===0&&(po=oa()),po}function qy(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Mo(""+r)}function Gy(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function k0(r,s,o,f,p){if(s==="submit"&&o&&o.stateNode===p){var _=qy((p[Oe]||null).action),x=f.submitter;x&&(s=(s=x[Oe]||null)?qy(s.formAction):x.getAttribute("formAction"),s!==null&&(_=s,x=null));var P=new Dl("action","action",null,f,p);r.push({event:P,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(po!==0){var Y=x?Gy(p,x):new FormData(p);Sc(o,{pending:!0,data:Y,method:p.method,action:_},null,Y)}}else typeof _=="function"&&(P.preventDefault(),Y=x?Gy(p,x):new FormData(p),Sc(o,{pending:!0,data:Y,method:p.method,action:_},_,Y))},currentTarget:p}]})}}for(var Xm=0;Xm<en.length;Xm++){var Zm=en[Xm],U0=Zm.toLowerCase(),V0=Zm[0].toUpperCase()+Zm.slice(1);ps(U0,"on"+V0)}ps(Jf,"onAnimationEnd"),ps(Ag,"onAnimationIteration"),ps(Ri,"onAnimationStart"),ps("dblclick","onDoubleClick"),ps("focusin","onFocus"),ps("focusout","onBlur"),ps(eh,"onTransitionRun"),ps(E0,"onTransitionStart"),ps(Vl,"onTransitionCancel"),ps(tc,"onTransitionEnd"),kr("onMouseEnter",["mouseout","mouseover"]),kr("onMouseLeave",["mouseout","mouseover"]),kr("onPointerEnter",["pointerout","pointerover"]),kr("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wc));function $y(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var f=r[o],p=f.event;f=f.listeners;e:{var _=void 0;if(s)for(var x=f.length-1;0<=x;x--){var P=f[x],Y=P.instance,ue=P.currentTarget;if(P=P.listener,Y!==_&&p.isPropagationStopped())break e;_=P,p.currentTarget=ue;try{_(p)}catch(Te){ll(Te)}p.currentTarget=null,_=Y}else for(x=0;x<f.length;x++){if(P=f[x],Y=P.instance,ue=P.currentTarget,P=P.listener,Y!==_&&p.isPropagationStopped())break e;_=P,p.currentTarget=ue;try{_(p)}catch(Te){ll(Te)}p.currentTarget=null,_=Y}}}}function Ct(r,s){var o=s[et];o===void 0&&(o=s[et]=new Set);var f=r+"__bubble";o.has(f)||(Ky(s,r,2,!1),o.add(f))}function Jm(r,s,o){var f=0;s&&(f|=4),Ky(o,r,f,s)}var pi="_reactListening"+Math.random().toString(36).slice(2);function ep(r){if(!r[pi]){r[pi]=!0,wt.forEach(function(o){o!=="selectionchange"&&(j0.has(o)||Jm(o,!1,r),Jm(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[pi]||(s[pi]=!0,Jm("selectionchange",!1,s))}}function Ky(r,s,o,f){switch(hv(s)){case 2:var p=rE;break;case 8:p=yu;break;default:p=cp}o=p.bind(null,s,o,r),p=void 0,!ri||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),f?p!==void 0?r.addEventListener(s,o,{capture:!0,passive:p}):r.addEventListener(s,o,!0):p!==void 0?r.addEventListener(s,o,{passive:p}):r.addEventListener(s,o,!1)}function Na(r,s,o,f,p){var _=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var x=f.tag;if(x===3||x===4){var P=f.stateNode.containerInfo;if(P===p)break;if(x===4)for(x=f.return;x!==null;){var Y=x.tag;if((Y===3||Y===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;P!==null;){if(x=st(P),x===null)return;if(Y=x.tag,Y===5||Y===6||Y===26||Y===27){f=_=x;continue e}P=P.parentNode}}f=f.return}Hf(function(){var ue=_,Te=Gi(o),Re=[];e:{var de=nc.get(r);if(de!==void 0){var fe=Dl,at=r;switch(r){case"keypress":if(Ft(o)===0)break e;case"keydown":case"keyup":fe=Ka;break;case"focusin":at="focus",fe=Vo;break;case"focusout":at="blur",fe=Vo;break;case"beforeblur":case"afterblur":fe=Vo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=or;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Kf;break;case Jf:case Ag:case Ri:fe=jo;break;case tc:fe=Yf;break;case"scroll":case"scrollend":fe=qf;break;case"wheel":fe=kl;break;case"copy":case"cut":case"paste":fe=Bo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=$i;break;case"toggle":case"beforetoggle":fe=Ho}var rt=(s&4)!==0,hn=!rt&&(r==="scroll"||r==="scrollend"),re=rt?de!==null?de+"Capture":null:de;rt=[];for(var ee=ue,oe;ee!==null;){var be=ee;if(oe=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||oe===null||re===null||(be=Po(ee,re),be!=null&&rt.push(ht(ee,be,oe))),hn)break;ee=ee.return}0<rt.length&&(de=new fe(de,at,null,o,Te),Re.push({event:de,listeners:rt}))}}if((s&7)===0){e:{if(de=r==="mouseover"||r==="pointerover",fe=r==="mouseout"||r==="pointerout",de&&o!==Bs&&(at=o.relatedTarget||o.fromElement)&&(st(at)||at[Ve]))break e;if((fe||de)&&(de=Te.window===Te?Te:(de=Te.ownerDocument)?de.defaultView||de.parentWindow:window,fe?(at=o.relatedTarget||o.toElement,fe=ue,at=at?st(at):null,at!==null&&(hn=u(at),rt=at.tag,at!==hn||rt!==5&&rt!==27&&rt!==6)&&(at=null)):(fe=null,at=ue),fe!==at)){if(rt=or,be="onMouseLeave",re="onMouseEnter",ee="mouse",(r==="pointerout"||r==="pointerover")&&(rt=$i,be="onPointerLeave",re="onPointerEnter",ee="pointer"),hn=fe==null?de:Jt(fe),oe=at==null?de:Jt(at),de=new rt(be,ee+"leave",fe,o,Te),de.target=hn,de.relatedTarget=oe,be=null,st(Te)===ue&&(rt=new rt(re,ee+"enter",at,o,Te),rt.target=oe,rt.relatedTarget=hn,be=rt),hn=be,fe&&at)t:{for(rt=fe,re=at,ee=0,oe=rt;oe;oe=er(oe))ee++;for(oe=0,be=re;be;be=er(be))oe++;for(;0<ee-oe;)rt=er(rt),ee--;for(;0<oe-ee;)re=er(re),oe--;for(;ee--;){if(rt===re||re!==null&&rt===re.alternate)break t;rt=er(rt),re=er(re)}rt=null}else rt=null;fe!==null&&Vn(Re,de,fe,rt,!1),at!==null&&hn!==null&&Vn(Re,hn,at,rt,!0)}}e:{if(de=ue?Jt(ue):window,fe=de.nodeName&&de.nodeName.toLowerCase(),fe==="select"||fe==="input"&&de.type==="file")var Be=vg;else if(zn(de))if(_g)Be=y0;else{Be=Wa;var St=wg}else fe=de.nodeName,!fe||fe.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ue&&Yu(ue.elementType)&&(Be=vg):Be=Zf;if(Be&&(Be=Be(r,ue))){Si(Re,Be,o,Te);break e}St&&St(r,de,ue),r==="focusout"&&ue&&de.type==="number"&&ue.memoizedProps.value!=null&&js(de,"number",de.value)}switch(St=ue?Jt(ue):window,r){case"focusin":(zn(St)||St.contentEditable==="true")&&(Ul=St,Qa=ue,te=null);break;case"focusout":te=Qa=Ul=null;break;case"mousedown":Ee=!0;break;case"contextmenu":case"mouseup":case"dragend":Ee=!1,ge(Re,o,Te);break;case"selectionchange":if(_0)break;case"keydown":case"keyup":ge(Re,o,Te)}var Qe;if(Hs)e:{switch(r){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Ot?ye(r,o)&&(ot="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(ot="onCompositionStart");ot&&(R&&o.locale!=="ko"&&(Ot||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Ot&&(Qe=Wu()):(zs=Te,$a="value"in zs?zs.value:zs.textContent,Ot=!0)),St=$h(ue,ot),0<St.length&&(ot=new _r(ot,r,null,o,Te),Re.push({event:ot,listeners:St}),Qe?ot.data=Qe:(Qe=Pe(o),Qe!==null&&(ot.data=Qe)))),(Qe=T?Qn(r,o):Ut(r,o))&&(ot=$h(ue,"onBeforeInput"),0<ot.length&&(St=new _r("onBeforeInput","beforeinput",null,o,Te),Re.push({event:St,listeners:ot}),St.data=Qe)),k0(Re,r,ue,o,Te)}$y(Re,s)})}function ht(r,s,o){return{instance:r,listener:s,currentTarget:o}}function $h(r,s){for(var o=s+"Capture",f=[];r!==null;){var p=r,_=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||_===null||(p=Po(r,o),p!=null&&f.unshift(ht(r,p,_)),p=Po(r,s),p!=null&&f.push(ht(r,p,_))),r.tag===3)return f;r=r.return}return[]}function er(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Vn(r,s,o,f,p){for(var _=s._reactName,x=[];o!==null&&o!==f;){var P=o,Y=P.alternate,ue=P.stateNode;if(P=P.tag,Y!==null&&Y===f)break;P!==5&&P!==26&&P!==27||ue===null||(Y=ue,p?(ue=Po(o,_),ue!=null&&x.unshift(ht(o,ue,Y))):p||(ue=Po(o,_),ue!=null&&x.push(ht(o,ue,Y)))),o=o.return}x.length!==0&&r.push({event:s,listeners:x})}var B0=/\r\n?/g,go=/\u0000|\uFFFD/g;function Yy(r){return(typeof r=="string"?r:""+r).replace(B0,`
`).replace(go,"")}function Wy(r,s){return s=Yy(s),Yy(r)===s}function Kh(){}function fn(r,s,o,f,p,_){switch(o){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||ni(r,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&ni(r,""+f);break;case"className":Ur(r,"class",f);break;case"tabIndex":Ur(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ur(r,o,f);break;case"style":Il(r,f,_);break;case"data":if(s!=="object"){Ur(r,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(o);break}f=Mo(""+f),r.setAttribute(o,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(o==="formAction"?(s!=="input"&&fn(r,s,"name",p.name,p,null),fn(r,s,"formEncType",p.formEncType,p,null),fn(r,s,"formMethod",p.formMethod,p,null),fn(r,s,"formTarget",p.formTarget,p,null)):(fn(r,s,"encType",p.encType,p,null),fn(r,s,"method",p.method,p,null),fn(r,s,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(o);break}f=Mo(""+f),r.setAttribute(o,f);break;case"onClick":f!=null&&(r.onclick=Kh);break;case"onScroll":f!=null&&Ct("scroll",r);break;case"onScrollEnd":f!=null&&Ct("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(o=f.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}o=Mo(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(o,""+f):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":f===!0?r.setAttribute(o,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(o,f):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(o,f):r.removeAttribute(o);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(o):r.setAttribute(o,f);break;case"popover":Ct("beforetoggle",r),Ct("toggle",r),xr(r,"popover",f);break;case"xlinkActuate":ft(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":ft(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":ft(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":ft(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":ft(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":ft(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":ft(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":ft(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":ft(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":xr(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ff.get(o)||o,xr(r,o,f))}}function tp(r,s,o,f,p,_){switch(o){case"style":Il(r,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(o=f.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof f=="string"?ni(r,f):(typeof f=="number"||typeof f=="bigint")&&ni(r,""+f);break;case"onScroll":f!=null&&Ct("scroll",r);break;case"onScrollEnd":f!=null&&Ct("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Kh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zi.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),_=r[Oe]||null,_=_!=null?_[o]:null,typeof _=="function"&&r.removeEventListener(s,_,p),typeof f=="function")){typeof _!="function"&&_!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,f,p);break e}o in r?r[o]=f:f===!0?r.setAttribute(o,""):xr(r,o,f)}}}function tr(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",r),Ct("load",r);var f=!1,p=!1,_;for(_ in o)if(o.hasOwnProperty(_)){var x=o[_];if(x!=null)switch(_){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:fn(r,s,_,x,o,null)}}p&&fn(r,s,"srcSet",o.srcSet,o,null),f&&fn(r,s,"src",o.src,o,null);return;case"input":Ct("invalid",r);var P=_=x=p=null,Y=null,ue=null;for(f in o)if(o.hasOwnProperty(f)){var Te=o[f];if(Te!=null)switch(f){case"name":p=Te;break;case"type":x=Te;break;case"checked":Y=Te;break;case"defaultChecked":ue=Te;break;case"value":_=Te;break;case"defaultValue":P=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(i(137,s));break;default:fn(r,s,f,Te,o,null)}}Ga(r,_,P,Y,ue,x,p,!1),xl(r);return;case"select":Ct("invalid",r),f=x=_=null;for(p in o)if(o.hasOwnProperty(p)&&(P=o[p],P!=null))switch(p){case"value":_=P;break;case"defaultValue":x=P;break;case"multiple":f=P;default:fn(r,s,p,P,o,null)}s=_,o=x,r.multiple=!!f,s!=null?ua(r,!!f,s,!1):o!=null&&ua(r,!!f,o,!0);return;case"textarea":Ct("invalid",r),_=p=f=null;for(x in o)if(o.hasOwnProperty(x)&&(P=o[x],P!=null))switch(x){case"value":f=P;break;case"defaultValue":p=P;break;case"children":_=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(91));break;default:fn(r,s,x,P,o,null)}ca(r,f,p,_),xl(r);return;case"option":for(Y in o)if(o.hasOwnProperty(Y)&&(f=o[Y],f!=null))switch(Y){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:fn(r,s,Y,f,o,null)}return;case"dialog":Ct("beforetoggle",r),Ct("toggle",r),Ct("cancel",r),Ct("close",r);break;case"iframe":case"object":Ct("load",r);break;case"video":case"audio":for(f=0;f<Wc.length;f++)Ct(Wc[f],r);break;case"image":Ct("error",r),Ct("load",r);break;case"details":Ct("toggle",r);break;case"embed":case"source":case"link":Ct("error",r),Ct("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in o)if(o.hasOwnProperty(ue)&&(f=o[ue],f!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:fn(r,s,ue,f,o,null)}return;default:if(Yu(s)){for(Te in o)o.hasOwnProperty(Te)&&(f=o[Te],f!==void 0&&tp(r,s,Te,f,o,void 0));return}}for(P in o)o.hasOwnProperty(P)&&(f=o[P],f!=null&&fn(r,s,P,f,o,null))}function F0(r,s,o,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,_=null,x=null,P=null,Y=null,ue=null,Te=null;for(fe in o){var Re=o[fe];if(o.hasOwnProperty(fe)&&Re!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":Y=Re;default:f.hasOwnProperty(fe)||fn(r,s,fe,null,f,Re)}}for(var de in f){var fe=f[de];if(Re=o[de],f.hasOwnProperty(de)&&(fe!=null||Re!=null))switch(de){case"type":_=fe;break;case"name":p=fe;break;case"checked":ue=fe;break;case"defaultChecked":Te=fe;break;case"value":x=fe;break;case"defaultValue":P=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,s));break;default:fe!==Re&&fn(r,s,de,fe,f,Re)}}ti(r,x,P,Y,ue,Te,_,p);return;case"select":fe=x=P=de=null;for(_ in o)if(Y=o[_],o.hasOwnProperty(_)&&Y!=null)switch(_){case"value":break;case"multiple":fe=Y;default:f.hasOwnProperty(_)||fn(r,s,_,null,f,Y)}for(p in f)if(_=f[p],Y=o[p],f.hasOwnProperty(p)&&(_!=null||Y!=null))switch(p){case"value":de=_;break;case"defaultValue":P=_;break;case"multiple":x=_;default:_!==Y&&fn(r,s,p,_,f,Y)}s=P,o=x,f=fe,de!=null?ua(r,!!o,de,!1):!!f!=!!o&&(s!=null?ua(r,!!o,s,!0):ua(r,!!o,o?[]:"",!1));return;case"textarea":fe=de=null;for(P in o)if(p=o[P],o.hasOwnProperty(P)&&p!=null&&!f.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:fn(r,s,P,null,f,p)}for(x in f)if(p=f[x],_=o[x],f.hasOwnProperty(x)&&(p!=null||_!=null))switch(x){case"value":de=p;break;case"defaultValue":fe=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==_&&fn(r,s,x,p,f,_)}on(r,de,fe);return;case"option":for(var at in o)if(de=o[at],o.hasOwnProperty(at)&&de!=null&&!f.hasOwnProperty(at))switch(at){case"selected":r.selected=!1;break;default:fn(r,s,at,null,f,de)}for(Y in f)if(de=f[Y],fe=o[Y],f.hasOwnProperty(Y)&&de!==fe&&(de!=null||fe!=null))switch(Y){case"selected":r.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:fn(r,s,Y,de,f,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in o)de=o[rt],o.hasOwnProperty(rt)&&de!=null&&!f.hasOwnProperty(rt)&&fn(r,s,rt,null,f,de);for(ue in f)if(de=f[ue],fe=o[ue],f.hasOwnProperty(ue)&&de!==fe&&(de!=null||fe!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,s));break;default:fn(r,s,ue,de,f,fe)}return;default:if(Yu(s)){for(var hn in o)de=o[hn],o.hasOwnProperty(hn)&&de!==void 0&&!f.hasOwnProperty(hn)&&tp(r,s,hn,void 0,f,de);for(Te in f)de=f[Te],fe=o[Te],!f.hasOwnProperty(Te)||de===fe||de===void 0&&fe===void 0||tp(r,s,Te,de,f,fe);return}}for(var re in o)de=o[re],o.hasOwnProperty(re)&&de!=null&&!f.hasOwnProperty(re)&&fn(r,s,re,null,f,de);for(Re in f)de=f[Re],fe=o[Re],!f.hasOwnProperty(Re)||de===fe||de==null&&fe==null||fn(r,s,Re,de,f,fe)}var ws=null,Yh=null;function hl(r){return r.nodeType===9?r:r.ownerDocument}function In(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nn(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Wh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var np=null;function z0(){var r=window.event;return r&&r.type==="popstate"?r===np?!1:(np=r,!0):(np=null,!1)}var Qy=typeof setTimeout=="function"?setTimeout:void 0,H0=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,q0=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(r){return Xy.resolve(null).then(r).catch(Zy)}:Qy;function Zy(r){setTimeout(function(){throw r})}function rs(r){return r==="head"}function Qh(r,s){var o=s,f=0,p=0;do{var _=o.nextSibling;if(r.removeChild(o),_&&_.nodeType===8)if(o=_.data,o==="/$"){if(0<f&&8>f){o=f;var x=r.ownerDocument;if(o&1&&Qc(x.documentElement),o&2&&Qc(x.body),o&4)for(o=x.head,Qc(o),x=o.firstChild;x;){var P=x.nextSibling,Y=x.nodeName;x[nt]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&x.rel.toLowerCase()==="stylesheet"||o.removeChild(x),x=P}}if(p===0){r.removeChild(_),sf(s);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:f=o.charCodeAt(0)-48;else f=0;o=_}while(o);sf(s)}function rp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":rp(o),Ge(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function Jy(r,s,o,f){for(;r.nodeType===1;){var p=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[nt])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(_=r.getAttribute("rel"),_==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(_!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(_=r.getAttribute("src"),(_!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&_&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var _=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===_)return r}else return r;if(r=bs(r.nextSibling),r===null)break}return null}function Xh(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=bs(r.nextSibling),r===null))return null;return r}function qr(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function fu(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var f=function(){s(),o.removeEventListener("DOMContentLoaded",f)};o.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function bs(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var ip=null;function ev(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function tv(r,s,o){switch(s=hl(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Qc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Ge(r)}var Mi=new Map,Js=new Set;function pt(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ea=pe.d;pe.d={f:is,r:nv,D:G0,C:rv,L:Zh,m:$0,X:Y0,S:K0,M:W0};function is(){var r=ea.f(),s=jh();return r||s}function nv(r){var s=Rt(r);s!==null&&s.tag===5&&s.type==="form"?wh(s):ea.r(r)}var hu=typeof document>"u"?null:document;function tn(r,s,o){var f=hu;if(f&&typeof s=="string"&&s){var p=$n(s);p='link[rel="'+r+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Js.has(p)||(Js.add(p),r={rel:r,crossOrigin:o,href:s},f.querySelector(p)===null&&(s=f.createElement("link"),tr(s,"link",r),Lt(s),f.head.appendChild(s)))}}function G0(r){ea.D(r),tn("dns-prefetch",r,null)}function rv(r,s){ea.C(r,s),tn("preconnect",r,s)}function Zh(r,s,o){ea.L(r,s,o);var f=hu;if(f&&r&&s){var p='link[rel="preload"][as="'+$n(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+$n(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+$n(o.imageSizes)+'"]')):p+='[href="'+$n(r)+'"]';var _=p;switch(s){case"style":_=du(r);break;case"script":_=mu(r)}Mi.has(_)||(r=E({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Mi.set(_,r),f.querySelector(p)!==null||s==="style"&&f.querySelector(Xc(_))||s==="script"&&f.querySelector(Zc(_))||(s=f.createElement("link"),tr(s,"link",r),Lt(s),f.head.appendChild(s)))}}function $0(r,s){ea.m(r,s);var o=hu;if(o&&r){var f=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+$n(f)+'"][href="'+$n(r)+'"]',_=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=mu(r)}if(!Mi.has(_)&&(r=E({rel:"modulepreload",href:r},s),Mi.set(_,r),o.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Zc(_)))return}f=o.createElement("link"),tr(f,"link",r),Lt(f),o.head.appendChild(f)}}}function K0(r,s,o){ea.S(r,s,o);var f=hu;if(f&&r){var p=Qt(f).hoistableStyles,_=du(r);s=s||"default";var x=p.get(_);if(!x){var P={loading:0,preload:null};if(x=f.querySelector(Xc(_)))P.loading=5;else{r=E({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Mi.get(_))&&Jc(r,o);var Y=x=f.createElement("link");Lt(Y),tr(Y,"link",r),Y._p=new Promise(function(ue,Te){Y.onload=ue,Y.onerror=Te}),Y.addEventListener("load",function(){P.loading|=1}),Y.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Jh(x,s,f)}x={type:"stylesheet",instance:x,count:1,state:P},p.set(_,x)}}}function Y0(r,s){ea.X(r,s);var o=hu;if(o&&r){var f=Qt(o).hoistableScripts,p=mu(r),_=f.get(p);_||(_=o.querySelector(Zc(p)),_||(r=E({src:r,async:!0},s),(s=Mi.get(p))&&sp(r,s),_=o.createElement("script"),Lt(_),tr(_,"link",r),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(p,_))}}function W0(r,s){ea.M(r,s);var o=hu;if(o&&r){var f=Qt(o).hoistableScripts,p=mu(r),_=f.get(p);_||(_=o.querySelector(Zc(p)),_||(r=E({src:r,async:!0,type:"module"},s),(s=Mi.get(p))&&sp(r,s),_=o.createElement("script"),Lt(_),tr(_,"link",r),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(p,_))}}function iv(r,s,o,f){var p=(p=ze.current)?pt(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=du(o.href),o=Qt(p).hoistableStyles,f=o.get(s),f||(f={type:"style",instance:null,count:0,state:null},o.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=du(o.href);var _=Qt(p).hoistableStyles,x=_.get(r);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(r,x),(_=p.querySelector(Xc(r)))&&!_._p&&(x.instance=_,x.state.loading=5),Mi.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Mi.set(r,o),_||Q0(p,r,o,x.state))),s&&f===null)throw Error(i(528,""));return x}if(s&&f!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=mu(o),o=Qt(p).hoistableScripts,f=o.get(s),f||(f={type:"script",instance:null,count:0,state:null},o.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function du(r){return'href="'+$n(r)+'"'}function Xc(r){return'link[rel="stylesheet"]['+r+"]"}function sv(r){return E({},r,{"data-precedence":r.precedence,precedence:null})}function Q0(r,s,o,f){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=r.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),tr(s,"link",o),Lt(s),r.head.appendChild(s))}function mu(r){return'[src="'+$n(r)+'"]'}function Zc(r){return"script[async]"+r}function av(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var f=r.querySelector('style[data-href~="'+$n(o.href)+'"]');if(f)return s.instance=f,Lt(f),f;var p=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Lt(f),tr(f,"style",p),Jh(f,o.precedence,r),s.instance=f;case"stylesheet":p=du(o.href);var _=r.querySelector(Xc(p));if(_)return s.state.loading|=4,s.instance=_,Lt(_),_;f=sv(o),(p=Mi.get(p))&&Jc(f,p),_=(r.ownerDocument||r).createElement("link"),Lt(_);var x=_;return x._p=new Promise(function(P,Y){x.onload=P,x.onerror=Y}),tr(_,"link",f),s.state.loading|=4,Jh(_,o.precedence,r),s.instance=_;case"script":return _=mu(o.src),(p=r.querySelector(Zc(_)))?(s.instance=p,Lt(p),p):(f=o,(p=Mi.get(_))&&(f=E({},o),sp(f,p)),r=r.ownerDocument||r,p=r.createElement("script"),Lt(p),tr(p,"link",f),r.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Jh(f,o.precedence,r));return s.instance}function Jh(r,s,o){for(var f=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,_=p,x=0;x<f.length;x++){var P=f[x];if(P.dataset.precedence===s)_=P;else if(_!==p)break}_?_.parentNode.insertBefore(r,_.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Jc(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function sp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var pu=null;function ov(r,s,o){if(pu===null){var f=new Map,p=pu=new Map;p.set(o,f)}else p=pu,f=p.get(o),f||(f=new Map,p.set(o,f));if(f.has(r))return f;for(f.set(r,null),o=o.getElementsByTagName(r),p=0;p<o.length;p++){var _=o[p];if(!(_[nt]||_[Se]||r==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var x=_.getAttribute(s)||"";x=r+x;var P=f.get(x);P?P.push(_):f.set(x,[_])}}return f}function lv(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function X0(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function nr(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var hr=null;function Z0(){}function J0(r,s,o){if(hr===null)throw Error(i(475));var f=hr;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=du(o.href),_=r.querySelector(Xc(p));if(_){r=_._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=ef.bind(f),r.then(f,f)),s.state.loading|=4,s.instance=_,Lt(_);return}_=r.ownerDocument||r,o=sv(o),(p=Mi.get(p))&&Jc(o,p),_=_.createElement("link"),Lt(_);var x=_;x._p=new Promise(function(P,Y){x.onload=P,x.onerror=Y}),tr(_,"link",o),s.instance=_}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=ef.bind(f),r.addEventListener("load",s),r.addEventListener("error",s))}}function eE(){if(hr===null)throw Error(i(475));var r=hr;return r.stylesheets&&r.count===0&&ap(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&ap(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function ef(){if(this.count--,this.count===0){if(this.stylesheets)ap(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ed=null;function ap(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ed=new Map,s.forEach(tE,r),ed=null,ef.call(r))}function tE(r,s){if(!(s.state.loading&4)){var o=ed.get(r);if(o)var f=o.get(null);else{o=new Map,ed.set(r,o);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<p.length;_++){var x=p[_];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),f=x)}f&&o.set(null,f)}p=s.instance,x=p.getAttribute("data-precedence"),_=o.get(x)||f,_===f&&o.set(null,p),o.set(x,p),this.count++,f=ef.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),_?_.parentNode.insertBefore(p,_.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),s.state.loading|=4}}var gu={$$typeof:J,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function nE(r,s,o,f,p,_,x,P){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=_,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function uv(r,s,o,f,p,_,x,P,Y,ue,Te,Re){return r=new nE(r,s,o,x,P,Y,ue,Re),s=1,_===!0&&(s|=24),_=si(3,null,null,s),r.current=_,_.stateNode=r,s=em(),s.refCount++,r.pooledCache=s,s.refCount++,_.memoizedState={element:f,isDehydrated:o,cache:s},Jo(_),r}function cv(r){return r?(r=$o,r):$o}function op(r,s,o,f,p,_){p=cv(p),f.context===null?f.context=p:f.pendingContext=p,f=eo(s),f.payload={element:o},_=_===void 0?null:_,_!==null&&(f.callback=_),o=_a(r,f,s),o!==null&&(Oi(o,r,s),dc(o,r,s))}function lp(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function up(r,s){lp(r,s),(r=r.alternate)&&lp(r,s)}function fv(r){if(r.tag===13){var s=Go(r,67108864);s!==null&&Oi(s,r,67108864),up(r,67108864)}}var td=!0;function rE(r,s,o,f){var p=ce.T;ce.T=null;var _=pe.p;try{pe.p=2,cp(r,s,o,f)}finally{pe.p=_,ce.T=p}}function yu(r,s,o,f){var p=ce.T;ce.T=null;var _=pe.p;try{pe.p=8,cp(r,s,o,f)}finally{pe.p=_,ce.T=p}}function cp(r,s,o,f){if(td){var p=fp(f);if(p===null)Na(r,s,f,nd,o),dv(r,f);else if(sE(p,r,s,o,f))f.stopPropagation();else if(dv(r,f),s&4&&-1<iE.indexOf(r)){for(;p!==null;){var _=Rt(p);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var x=Pr(_.pendingLanes);if(x!==0){var P=_;for(P.pendingLanes|=2,P.entangledLanes|=2;x;){var Y=1<<31-Pn(x);P.entanglements[1]|=Y,x&=~Y}Zs(_),(un&6)===0&&(su=an()+500,$c(0))}}break;case 13:P=Go(_,2),P!==null&&Oi(P,_,2),jh(),up(_,2)}if(_=fp(f),_===null&&Na(r,s,f,nd,o),_===p)break;p=_}p!==null&&f.stopPropagation()}else Na(r,s,f,null,o)}}function fp(r){return r=Gi(r),hp(r)}var nd=null;function hp(r){if(nd=null,r=st(r),r!==null){var s=u(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=h(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return nd=r,null}function hv(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ba()){case aa:return 2;case Wr:return 8;case Bn:case yr:return 32;case vr:return 268435456;default:return 32}default:return 32}}var rd=!1,Da=null,yo=null,vo=null,tf=new Map,nf=new Map,_o=[],iE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dv(r,s){switch(r){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":vo=null;break;case"pointerover":case"pointerout":tf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":nf.delete(s.pointerId)}}function rf(r,s,o,f,p,_){return r===null||r.nativeEvent!==_?(r={blockedOn:s,domEventName:o,eventSystemFlags:f,nativeEvent:_,targetContainers:[p]},s!==null&&(s=Rt(s),s!==null&&fv(s)),r):(r.eventSystemFlags|=f,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function sE(r,s,o,f,p){switch(s){case"focusin":return Da=rf(Da,r,s,o,f,p),!0;case"dragenter":return yo=rf(yo,r,s,o,f,p),!0;case"mouseover":return vo=rf(vo,r,s,o,f,p),!0;case"pointerover":var _=p.pointerId;return tf.set(_,rf(tf.get(_)||null,r,s,o,f,p)),!0;case"gotpointercapture":return _=p.pointerId,nf.set(_,rf(nf.get(_)||null,r,s,o,f,p)),!0}return!1}function mv(r){var s=st(r.target);if(s!==null){var o=u(s);if(o!==null){if(s=o.tag,s===13){if(s=h(o),s!==null){r.blockedOn=s,se(r.priority,function(){if(o.tag===13){var f=Or();f=Ps(f);var p=Go(o,f);p!==null&&Oi(p,o,f),up(o,f)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function id(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=fp(r.nativeEvent);if(o===null){o=r.nativeEvent;var f=new o.constructor(o.type,o);Bs=f,o.target.dispatchEvent(f),Bs=null}else return s=Rt(o),s!==null&&fv(s),r.blockedOn=o,!1;s.shift()}return!0}function pv(r,s,o){id(r)&&o.delete(s)}function aE(){rd=!1,Da!==null&&id(Da)&&(Da=null),yo!==null&&id(yo)&&(yo=null),vo!==null&&id(vo)&&(vo=null),tf.forEach(pv),nf.forEach(pv)}function sd(r,s){r.blockedOn===s&&(r.blockedOn=null,rd||(rd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,aE)))}var ad=null;function gv(r){ad!==r&&(ad=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ad===r&&(ad=null);for(var s=0;s<r.length;s+=3){var o=r[s],f=r[s+1],p=r[s+2];if(typeof f!="function"){if(hp(f||o)===null)continue;break}var _=Rt(o);_!==null&&(r.splice(s,3),s-=3,Sc(_,{pending:!0,data:p,method:o.method,action:f},f,p))}}))}function sf(r){function s(Y){return sd(Y,r)}Da!==null&&sd(Da,r),yo!==null&&sd(yo,r),vo!==null&&sd(vo,r),tf.forEach(s),nf.forEach(s);for(var o=0;o<_o.length;o++){var f=_o[o];f.blockedOn===r&&(f.blockedOn=null)}for(;0<_o.length&&(o=_o[0],o.blockedOn===null);)mv(o),o.blockedOn===null&&_o.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(f=0;f<o.length;f+=3){var p=o[f],_=o[f+1],x=p[Oe]||null;if(typeof _=="function")x||gv(o);else if(x){var P=null;if(_&&_.hasAttribute("formAction")){if(p=_,x=_[Oe]||null)P=x.formAction;else if(hp(p)!==null)continue}else P=x.action;typeof P=="function"?o[f+1]=P:(o.splice(f,3),f-=3),gv(o)}}}function dp(r){this._internalRoot=r}od.prototype.render=dp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,f=Or();op(o,f,r,s,null,null)},od.prototype.unmount=dp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;op(r.current,2,null,r,null,null),jh(),s[Ve]=null}};function od(r){this._internalRoot=r}od.prototype.unstable_scheduleHydration=function(r){if(r){var s=W();r={blockedOn:null,target:r,priority:s};for(var o=0;o<_o.length&&s!==0&&s<_o[o].priority;o++);_o.splice(o,0,r),o===0&&mv(r)}};var yv=e.version;if(yv!=="19.1.0")throw Error(i(527,yv,"19.1.0"));pe.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=g(s),r=r!==null?v(r):null,r=r===null?null:r.stateNode,r};var oE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ce,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{He=ld.inject(oE),it=ld}catch{}}return pp.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,f="",p=Rm,_=Ah,x=ny,P=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(P=s.unstable_transitionCallbacks)),s=uv(r,1,!1,null,null,o,f,p,_,x,P,null),r[Ve]=s.current,ep(r),new dp(s)},pp.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var f=!1,p="",_=Rm,x=Ah,P=ny,Y=null,ue=null;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(P=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(Y=o.unstable_transitionCallbacks),o.formState!==void 0&&(ue=o.formState)),s=uv(r,1,!0,s,o??null,f,p,_,x,P,Y,ue),s.context=cv(null),o=s.current,f=Or(),f=Ps(f),p=eo(f),p.callback=null,_a(o,p,f),o=f,s.current.lanes=o,Fi(s,o),Zs(s),r[Ve]=s.current,ep(r),new od(s)},pp.version="19.1.0",pp}var Mb;function cN(){if(Mb)return hE.exports;Mb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hE.exports=uN(),hE.exports}var fN=cN(),B=I_();const mf=Ld(B);var yE={exports:{}},vE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function hN(){if(Pb)return vE;Pb=1;var n=I_();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,a=n.useRef,u=n.useEffect,h=n.useMemo,m=n.useDebugValue;return vE.useSyncExternalStoreWithSelector=function(g,v,E,S,A){var D=a(null);if(D.current===null){var O={hasValue:!1,value:null};D.current=O}else O=D.current;D=h(function(){function k(ne){if(!U){if(U=!0,Q=ne,ne=S(ne),A!==void 0&&O.hasValue){var z=O.value;if(A(z,ne))return J=z}return J=ne}if(z=J,t(Q,ne))return z;var N=S(ne);return A!==void 0&&A(z,N)?(Q=ne,z):(Q=ne,J=N)}var U=!1,Q,J,he=E===void 0?null:E;return[function(){return k(v())},he===null?void 0:function(){return k(he())}]},[v,E,S,A]);var F=i(g,D[0],D[1]);return u(function(){O.hasValue=!0,O.value=F},[F]),m(F),F},vE}var Lb;function dN(){return Lb||(Lb=1,yE.exports=hN()),yE.exports}var mN=dN();function pN(n){n()}function gN(){let n=null,e=null;return{clear(){n=null,e=null},notify(){pN(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const a=e={callback:t,next:null,prev:e};return a.prev?a.prev.next=a:n=a,function(){!i||n===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:n=a.next)}}}}var kb={notify(){},get:()=>[]};function yN(n,e){let t,i=kb,a=0,u=!1;function h(F){E();const k=i.subscribe(F);let U=!1;return()=>{U||(U=!0,k(),S())}}function m(){i.notify()}function g(){O.onStateChange&&O.onStateChange()}function v(){return u}function E(){a++,t||(t=n.subscribe(g),i=gN())}function S(){a--,t&&a===0&&(t(),t=void 0,i.clear(),i=kb)}function A(){u||(u=!0,E())}function D(){u&&(u=!1,S())}const O={addNestedSub:h,notifyNestedSubs:m,handleChangeWrapper:g,isSubscribed:v,trySubscribe:A,tryUnsubscribe:D,getListeners:()=>i};return O}var vN=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_N=vN(),EN=()=>typeof navigator<"u"&&navigator.product==="ReactNative",TN=EN(),wN=()=>_N||TN?B.useLayoutEffect:B.useEffect,bN=wN(),_E=Symbol.for("react-redux-context"),EE=typeof globalThis<"u"?globalThis:{};function SN(){if(!B.createContext)return{};const n=EE[_E]??(EE[_E]=new Map);let e=n.get(B.createContext);return e||(e=B.createContext(null),n.set(B.createContext,e)),e}var Mu=SN();function AN(n){const{children:e,context:t,serverState:i,store:a}=n,u=B.useMemo(()=>{const g=yN(a);return{store:a,subscription:g,getServerState:i?()=>i:void 0}},[a,i]),h=B.useMemo(()=>a.getState(),[a]);bN(()=>{const{subscription:g}=u;return g.onStateChange=g.notifyNestedSubs,g.trySubscribe(),h!==a.getState()&&g.notifyNestedSubs(),()=>{g.tryUnsubscribe(),g.onStateChange=void 0}},[u,h]);const m=t||Mu;return B.createElement(m.Provider,{value:u},e)}var RN=AN;function ZT(n=Mu){return function(){return B.useContext(n)}}var RA=ZT();function xA(n=Mu){const e=n===Mu?RA:ZT(n),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var xN=xA();function CN(n=Mu){const e=n===Mu?xN:xA(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var Pf=CN(),IN=(n,e)=>n===e;function NN(n=Mu){const e=n===Mu?RA:ZT(n),t=(i,a={})=>{const{equalityFn:u=IN}=typeof a=="function"?{equalityFn:a}:a,h=e(),{store:m,subscription:g,getServerState:v}=h;B.useRef(!0);const E=B.useCallback({[i.name](A){return i(A)}}[i.name],[i]),S=mN.useSyncExternalStoreWithSelector(g.addNestedSub,m.getState,v||m.getState,E,u);return B.useDebugValue(S),S};return Object.assign(t,{withTypes:()=>t}),t}var eg=NN();const DN=()=>{};var Ub={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},ON=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const u=n[t++];e[i++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=n[t++],h=n[t++],m=n[t++],g=((a&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const u=n[t++],h=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},IA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const u=n[a],h=a+1<n.length,m=h?n[a+1]:0,g=a+2<n.length,v=g?n[a+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let A=(m&15)<<2|v>>6,D=v&63;g||(D=64,h||(A=64)),i.push(t[E],t[S],t[A],t[D])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(CA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ON(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const u=t[n.charAt(a++)],m=a<n.length?t[n.charAt(a)]:0;++a;const v=a<n.length?t[n.charAt(a)]:64;++a;const S=a<n.length?t[n.charAt(a)]:64;if(++a,u==null||m==null||v==null||S==null)throw new MN;const A=u<<2|m>>4;if(i.push(A),v!==64){const D=m<<4&240|v>>2;if(i.push(D),S!==64){const O=v<<6&192|S;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class MN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PN=function(n){const e=CA(n);return IA.encodeByteArray(e,!0)},Qv=function(n){return PN(n).replace(/\./g,"")},NA=function(n){try{return IA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=()=>LN().__FIREBASE_DEFAULTS__,UN=()=>{if(typeof process>"u"||typeof Ub>"u")return;const n=Ub.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},VN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&NA(n[1]);return e&&JSON.parse(e)},N_=()=>{try{return DN()||kN()||UN()||VN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},DA=n=>{var e,t;return(t=(e=N_())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},jN=n=>{const e=DA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},OA=()=>{var n;return(n=N_())===null||n===void 0?void 0:n.config},MA=n=>{var e;return(e=N_())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BN=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(n){return n.endsWith(".cloudworkstations.dev")}async function PA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Qv(JSON.stringify(t)),Qv(JSON.stringify(h)),""].join(".")}const Np={};function zN(){const n={prod:[],emulator:[]};for(const e of Object.keys(Np))Np[e]?n.emulator.push(e):n.prod.push(e);return n}function HN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Vb=!1;function LA(n,e){if(typeof window>"u"||typeof document>"u"||!kd(window.location.host)||Np[n]===e||Np[n]||Vb)return;Np[n]=e;function t(A){return`__firebase__banner__${A}`}const i="__firebase__banner",u=zN().prod.length>0;function h(){const A=document.getElementById(i);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,D){A.setAttribute("width","24"),A.setAttribute("id",D),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function v(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Vb=!0,h()},A}function E(A,D){A.setAttribute("id",D),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function S(){const A=HN(i),D=t("text"),O=document.getElementById(D)||document.createElement("span"),F=t("learnmore"),k=document.getElementById(F)||document.createElement("a"),U=t("preprendIcon"),Q=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const J=A.element;m(J),E(k,F);const he=v();g(Q,U),J.append(Q,O,k,he),document.body.appendChild(J)}u?(O.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wi())}function GN(){var n;const e=(n=N_())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $N(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function YN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WN(){const n=wi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function QN(){return!GN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XN(){try{return typeof indexedDB=="object"}catch{return!1}}function ZN(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="FirebaseError";class Sl extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=JN,Object.setPrototypeOf(this,Sl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tg.prototype.create)}}class tg{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?eD(u,i):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new Sl(a,m,i)}}function eD(n,e){return n.replace(tD,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const tD=/\{\$([^}]+)}/g;function nD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Rf(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const u=n[a],h=e[a];if(jb(u)&&jb(h)){if(!Rf(u,h))return!1}else if(u!==h)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function jb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function rD(n,e){const t=new iD(n,e);return t.subscribe.bind(t)}class iD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");sD(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=TE),a.error===void 0&&(a.error=TE),a.complete===void 0&&(a.complete=TE);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sD(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function TE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(n){return n&&n._delegate?n._delegate:n}class xf{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aD=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new BN;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lD(e))try{this.getOrInitializeService({instanceIdentifier:af})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:a});i.resolve(u)}catch{}}}}clearInstance(e=af){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=af){return this.instances.has(e)}getOptions(e=af){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);i===m&&h.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),u=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:oD(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=af){return this.component?this.component.multipleInstances?e:af:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function oD(n){return n===af?void 0:n}function lD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new aD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ht||(Ht={}));const cD={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},fD=Ht.INFO,hD={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},dD=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=hD[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class JT{constructor(e){this.name=e,this._logLevel=fD,this._logHandler=dD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...e),this._logHandler(this,Ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...e),this._logHandler(this,Ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...e),this._logHandler(this,Ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...e),this._logHandler(this,Ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...e),this._logHandler(this,Ht.ERROR,...e)}}const mD=(n,e)=>e.some(t=>n instanceof t);let Bb,Fb;function pD(){return Bb||(Bb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gD(){return Fb||(Fb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kA=new WeakMap,tT=new WeakMap,UA=new WeakMap,wE=new WeakMap,ew=new WeakMap;function yD(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{t(xu(n.result)),a()},h=()=>{i(n.error),a()};n.addEventListener("success",u),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&kA.set(t,n)}).catch(()=>{}),ew.set(e,n),e}function vD(n){if(tT.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{t(),a()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});tT.set(n,e)}let nT={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return tT.get(n);if(e==="objectStoreNames")return n.objectStoreNames||UA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function _D(n){nT=n(nT)}function ED(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(bE(this),e,...t);return UA.set(i,e.sort?e.sort():[e]),xu(i)}:gD().includes(n)?function(...e){return n.apply(bE(this),e),xu(kA.get(this))}:function(...e){return xu(n.apply(bE(this),e))}}function TD(n){return typeof n=="function"?ED(n):(n instanceof IDBTransaction&&vD(n),mD(n,pD())?new Proxy(n,nT):n)}function xu(n){if(n instanceof IDBRequest)return yD(n);if(wE.has(n))return wE.get(n);const e=TD(n);return e!==n&&(wE.set(n,e),ew.set(e,n)),e}const bE=n=>ew.get(n);function wD(n,e,{blocked:t,upgrade:i,blocking:a,terminated:u}={}){const h=indexedDB.open(n,e),m=xu(h);return i&&h.addEventListener("upgradeneeded",g=>{i(xu(h.result),g.oldVersion,g.newVersion,xu(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),a&&g.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const bD=["get","getKey","getAll","getAllKeys","count"],SD=["put","add","delete","clear"],SE=new Map;function zb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(SE.get(e))return SE.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=SD.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||bD.includes(t)))return;const u=async function(h,...m){const g=this.transaction(h,a?"readwrite":"readonly");let v=g.store;return i&&(v=v.index(m.shift())),(await Promise.all([v[t](...m),a&&g.done]))[0]};return SE.set(e,u),u}_D(n=>({...n,get:(e,t,i)=>zb(e,t)||n.get(e,t,i),has:(e,t)=>!!zb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(RD(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function RD(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rT="@firebase/app",Hb="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new JT("@firebase/app"),xD="@firebase/app-compat",CD="@firebase/analytics-compat",ID="@firebase/analytics",ND="@firebase/app-check-compat",DD="@firebase/app-check",OD="@firebase/auth",MD="@firebase/auth-compat",PD="@firebase/database",LD="@firebase/data-connect",kD="@firebase/database-compat",UD="@firebase/functions",VD="@firebase/functions-compat",jD="@firebase/installations",BD="@firebase/installations-compat",FD="@firebase/messaging",zD="@firebase/messaging-compat",HD="@firebase/performance",qD="@firebase/performance-compat",GD="@firebase/remote-config",$D="@firebase/remote-config-compat",KD="@firebase/storage",YD="@firebase/storage-compat",WD="@firebase/firestore",QD="@firebase/ai",XD="@firebase/firestore-compat",ZD="firebase",JD="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="[DEFAULT]",eO={[rT]:"fire-core",[xD]:"fire-core-compat",[ID]:"fire-analytics",[CD]:"fire-analytics-compat",[DD]:"fire-app-check",[ND]:"fire-app-check-compat",[OD]:"fire-auth",[MD]:"fire-auth-compat",[PD]:"fire-rtdb",[LD]:"fire-data-connect",[kD]:"fire-rtdb-compat",[UD]:"fire-fn",[VD]:"fire-fn-compat",[jD]:"fire-iid",[BD]:"fire-iid-compat",[FD]:"fire-fcm",[zD]:"fire-fcm-compat",[HD]:"fire-perf",[qD]:"fire-perf-compat",[GD]:"fire-rc",[$D]:"fire-rc-compat",[KD]:"fire-gcs",[YD]:"fire-gcs-compat",[WD]:"fire-fst",[XD]:"fire-fst-compat",[QD]:"fire-vertex","fire-js":"fire-js",[ZD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=new Map,tO=new Map,sT=new Map;function qb(n,e){try{n.container.addComponent(e)}catch(t){_l.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Sd(n){const e=n.name;if(sT.has(e))return _l.debug(`There were multiple attempts to register component ${e}.`),!1;sT.set(e,n);for(const t of Xv.values())qb(t,n);for(const t of tO.values())qb(t,n);return!0}function tw(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ma(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cu=new tg("app","Firebase",nO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=JD;function VA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:iT,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw Cu.create("bad-app-name",{appName:String(a)});if(t||(t=OA()),!t)throw Cu.create("no-options");const u=Xv.get(a);if(u){if(Rf(t,u.options)&&Rf(i,u.config))return u;throw Cu.create("duplicate-app",{appName:a})}const h=new uD(a);for(const g of sT.values())h.addComponent(g);const m=new rO(t,i,h);return Xv.set(a,m),m}function jA(n=iT){const e=Xv.get(n);if(!e&&n===iT&&OA())return VA();if(!e)throw Cu.create("no-app",{appName:n});return e}function Iu(n,e,t){var i;let a=(i=eO[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${a}" with version "${e}":`];u&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_l.warn(m.join(" "));return}Sd(new xf(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="firebase-heartbeat-database",sO=1,Vp="firebase-heartbeat-store";let AE=null;function BA(){return AE||(AE=wD(iO,sO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Vp)}catch(t){console.warn(t)}}}}).catch(n=>{throw Cu.create("idb-open",{originalErrorMessage:n.message})})),AE}async function aO(n){try{const t=(await BA()).transaction(Vp),i=await t.objectStore(Vp).get(FA(n));return await t.done,i}catch(e){if(e instanceof Sl)_l.warn(e.message);else{const t=Cu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_l.warn(t.message)}}}async function Gb(n,e){try{const i=(await BA()).transaction(Vp,"readwrite");await i.objectStore(Vp).put(e,FA(n)),await i.done}catch(t){if(t instanceof Sl)_l.warn(t.message);else{const i=Cu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});_l.warn(i.message)}}}function FA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=1024,lO=30;class uO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fO(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=$b();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats.length>lO){const h=hO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){_l.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$b(),{heartbeatsToSend:i,unsentEntries:a}=cO(this._heartbeatsCache.heartbeats),u=Qv(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return _l.warn(t),""}}}function $b(){return new Date().toISOString().substring(0,10)}function cO(n,e=oO){const t=[];let i=n.slice();for(const a of n){const u=t.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),Kb(t)>e){u.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Kb(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class fO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XN()?ZN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await aO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Gb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Gb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Kb(n){return Qv(JSON.stringify({version:2,heartbeats:n})).length}function hO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(n){Sd(new xf("platform-logger",e=>new AD(e),"PRIVATE")),Sd(new xf("heartbeat",e=>new uO(e),"PRIVATE")),Iu(rT,Hb,n),Iu(rT,Hb,"esm2017"),Iu("fire-js","")}dO("");var mO="firebase",pO="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Iu(mO,pO,"app");function nw(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function zA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gO=zA,HA=new tg("auth","Firebase",zA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=new JT("@firebase/auth");function yO(n,...e){Zv.logLevel<=Ht.WARN&&Zv.warn(`Auth (${Ud}): ${n}`,...e)}function Mv(n,...e){Zv.logLevel<=Ht.ERROR&&Zv.error(`Auth (${Ud}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(n,...e){throw iw(n,...e)}function ka(n,...e){return iw(n,...e)}function rw(n,e,t){const i=Object.assign(Object.assign({},gO()),{[e]:t});return new tg("auth","Firebase",i).create(e,{appName:n.name})}function wf(n){return rw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vO(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Io(n,"argument-error"),rw(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function iw(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return HA.create(n,...e)}function mt(n,e,...t){if(!n)throw iw(e,...t)}function pl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Mv(e),new Error(e)}function El(n,e){n||pl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function _O(){return Yb()==="http:"||Yb()==="https:"}function Yb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_O()||KN()||"connection"in navigator)?navigator.onLine:!0}function TO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t){this.shortDelay=e,this.longDelay=t,El(t>e,"Short delay should be less than long delay!"),this.isMobile=qN()||YN()}get(){return EO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(n,e){El(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SO=new rg(3e4,6e4);function aw(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Vd(n,e,t,i,a={}){return GA(n,a,async()=>{let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});const m=ng(Object.assign({key:n.config.apiKey},h)).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const v=Object.assign({method:e,headers:g},u);return $N()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&kd(n.emulatorConfig.host)&&(v.credentials="include"),qA.fetch()(await $A(n,n.config.apiHost,t,m),v)})}async function GA(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},wO),e);try{const a=new RO(n),u=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw _v(n,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,v]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw _v(n,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw _v(n,"email-already-in-use",h);if(g==="USER_DISABLED")throw _v(n,"user-disabled",h);const E=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw rw(n,E,v);Io(n,E)}}catch(a){if(a instanceof Sl)throw a;Io(n,"network-request-failed",{message:String(a)})}}async function AO(n,e,t,i,a={}){const u=await Vd(n,e,t,i,a);return"mfaPendingCredential"in u&&Io(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function $A(n,e,t,i){const a=`${e}${t}?${i}`,u=n,h=u.config.emulator?sw(n.config,a):`${n.config.apiScheme}://${a}`;return bO.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class RO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ka(this.auth,"network-request-failed")),SO.get())})}}function _v(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=ka(n,e,i);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(n,e){return Vd(n,"POST","/v1/accounts:delete",e)}async function Jv(n,e){return Vd(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CO(n,e=!1){const t=Sr(n),i=await t.getIdToken(e),a=ow(i);mt(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:a,token:i,authTime:Dp(RE(a.auth_time)),issuedAtTime:Dp(RE(a.iat)),expirationTime:Dp(RE(a.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function RE(n){return Number(n)*1e3}function ow(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Mv("JWT malformed, contained fewer than 3 sections"),null;try{const a=NA(t);return a?JSON.parse(a):(Mv("Failed to decode base64 JWT payload"),null)}catch(a){return Mv("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Wb(n){const e=ow(n);return mt(e,"internal-error"),mt(typeof e.exp<"u","internal-error"),mt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jp(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Sl&&IO(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function IO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dp(this.lastLoginAt),this.creationTime=Dp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e_(n){var e;const t=n.auth,i=await n.getIdToken(),a=await jp(n,Jv(t,{idToken:i}));mt(a==null?void 0:a.users.length,t,"internal-error");const u=a.users[0];n._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?KA(u.providerUserInfo):[],m=OO(n.providerData,h),g=n.isAnonymous,v=!(n.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?v:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new oT(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(n,S)}async function DO(n){const e=Sr(n);await e_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OO(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function KA(n){return n.map(e=>{var{providerId:t}=e,i=nw(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(n,e){const t=await GA(n,{},async()=>{const i=ng({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:u}=n.config,h=await $A(n,a,"/v1/token",`key=${u}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:i};return n.emulatorConfig&&kd(n.emulatorConfig.host)&&(g.credentials="include"),qA.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function PO(n,e){return Vd(n,"POST","/v2/accounts:revokeToken",aw(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){mt(e.idToken,"internal-error"),mt(typeof e.idToken<"u","internal-error"),mt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Wb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){mt(e.length!==0,"internal-error");const t=Wb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:u}=await MO(e,t);this.updateTokensAndExpiration(i,a,Number(u))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:u}=t,h=new _d;return i&&(mt(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),a&&(mt(typeof a=="string","internal-error",{appName:e}),h.accessToken=a),u&&(mt(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _d,this.toJSON())}_performRefresh(){return pl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(n,e){mt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class La{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,u=nw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new oT(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await jp(this,this.stsTokenManager.getToken(this.auth,e));return mt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return CO(this,e)}reload(){return DO(this)}_assign(e){this!==e&&(mt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new La(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await e_(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ma(this.auth.app))return Promise.reject(wf(this.auth));const e=await this.getIdToken();return await jp(this,xO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,u,h,m,g,v,E;const S=(i=t.displayName)!==null&&i!==void 0?i:void 0,A=(a=t.email)!==null&&a!==void 0?a:void 0,D=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,O=(h=t.photoURL)!==null&&h!==void 0?h:void 0,F=(m=t.tenantId)!==null&&m!==void 0?m:void 0,k=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,U=(v=t.createdAt)!==null&&v!==void 0?v:void 0,Q=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:J,emailVerified:he,isAnonymous:ne,providerData:z,stsTokenManager:N}=t;mt(J&&N,e,"internal-error");const I=_d.fromJSON(this.name,N);mt(typeof J=="string",e,"internal-error"),vu(S,e.name),vu(A,e.name),mt(typeof he=="boolean",e,"internal-error"),mt(typeof ne=="boolean",e,"internal-error"),vu(D,e.name),vu(O,e.name),vu(F,e.name),vu(k,e.name),vu(U,e.name),vu(Q,e.name);const L=new La({uid:J,auth:e,email:A,emailVerified:he,displayName:S,isAnonymous:ne,photoURL:O,phoneNumber:D,tenantId:F,stsTokenManager:I,createdAt:U,lastLoginAt:Q});return z&&Array.isArray(z)&&(L.providerData=z.map(H=>Object.assign({},H))),k&&(L._redirectEventId=k),L}static async _fromIdTokenResponse(e,t,i=!1){const a=new _d;a.updateFromServerResponse(t);const u=new La({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await e_(u),u}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];mt(a.localId!==void 0,"internal-error");const u=a.providerUserInfo!==void 0?KA(a.providerUserInfo):[],h=!(a.email&&a.passwordHash)&&!(u!=null&&u.length),m=new _d;m.updateFromIdToken(i);const g=new La({uid:a.localId,auth:e,stsTokenManager:m,isAnonymous:h}),v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new oT(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,v),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=new Map;function gl(n){El(n instanceof Function,"Expected a class definition");let e=Qb.get(n);return e?(El(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Qb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}YA.type="NONE";const Xb=YA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(n,e,t){return`firebase:${n}:${e}:${t}`}class Ed{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:u}=this.auth;this.fullUserKey=Pv(this.userKey,a.apiKey,u),this.fullPersistenceKey=Pv("persistence",a.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Jv(this.auth,{idToken:e}).catch(()=>{});return t?La._fromGetAccountInfoResponse(this.auth,t,e):null}return La._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ed(gl(Xb),e,i);const a=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=a[0]||gl(Xb);const h=Pv(i,e.config.apiKey,e.name);let m=null;for(const v of t)try{const E=await v._get(h);if(E){let S;if(typeof E=="string"){const A=await Jv(e,{idToken:E}).catch(()=>{});if(!A)break;S=await La._fromGetAccountInfoResponse(e,A,E)}else S=La._fromJSON(e,E);v!==u&&(m=S),u=v;break}}catch{}const g=a.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Ed(u,e,i):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async v=>{if(v!==u)try{await v._remove(h)}catch{}})),new Ed(u,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eR(e))return"Blackberry";if(tR(e))return"Webos";if(QA(e))return"Safari";if((e.includes("chrome/")||XA(e))&&!e.includes("edge/"))return"Chrome";if(JA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function WA(n=wi()){return/firefox\//i.test(n)}function QA(n=wi()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XA(n=wi()){return/crios\//i.test(n)}function ZA(n=wi()){return/iemobile/i.test(n)}function JA(n=wi()){return/android/i.test(n)}function eR(n=wi()){return/blackberry/i.test(n)}function tR(n=wi()){return/webos/i.test(n)}function lw(n=wi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function LO(n=wi()){var e;return lw(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kO(){return WN()&&document.documentMode===10}function nR(n=wi()){return lw(n)||JA(n)||tR(n)||eR(n)||/windows phone/i.test(n)||ZA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(n,e=[]){let t;switch(n){case"Browser":t=Zb(wi());break;case"Worker":t=`${Zb(wi())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ud}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(n,e={}){return Vd(n,"GET","/v2/passwordPolicy",aw(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=6;class BO{constructor(e){var t,i,a,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:jO,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,u,h,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(i=g.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(a=g.containsLowercaseLetter)!==null&&a!==void 0?a:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jb(this),this.idTokenSubscription=new Jb(this),this.beforeStateQueue=new UO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gl(t)),this._initializationPromise=this.queue(async()=>{var i,a,u;if(!this._deleted&&(this.persistenceManager=await Ed.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Jv(this,{idToken:e}),i=await La._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ma(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=a==null?void 0:a._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===m)&&(g!=null&&g.user)&&(a=g.user,u=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await e_(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ma(this.app))return Promise.reject(wf(this));const t=e?Sr(e):null;return t&&mt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&mt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ma(this.app)?Promise.reject(wf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ma(this.app)?Promise.reject(wf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VO(this),t=new BO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tg("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await PO(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gl(e)||this._popupRedirectResolver;mt(t,this,"argument-error"),this.redirectPersistenceManager=await Ed.create(this,[gl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,a);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Ma(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&yO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function D_(n){return Sr(n)}class Jb{constructor(e){this.auth=e,this.observer=null,this.addObserver=rD(t=>this.observer=t)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zO(n){uw=n}function HO(n){return uw.loadJS(n)}function qO(){return uw.gapiScript}function GO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(n,e){const t=tw(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),u=t.getOptions();if(Rf(u,e??{}))return a;Io(a,"already-initialized")}return t.initialize({options:e})}function KO(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(gl);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function YO(n,e,t){const i=D_(n);mt(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,u=iR(e),{host:h,port:m}=WO(e),g=m===null?"":`:${m}`,v={url:`${u}//${h}${g}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){mt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),mt(Rf(v,i.config.emulator)&&Rf(E,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=v,i.emulatorConfig=E,i.settings.appVerificationDisabledForTesting=!0,kd(h)?(PA(`${u}//${h}${g}`),LA("Auth",!0)):QO()}function iR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function WO(n){const e=iR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const u=a[1];return{host:u,port:eS(i.substr(u.length+1))}}else{const[u,h]=i.split(":");return{host:u,port:eS(h)}}}function eS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function QO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return pl("not implemented")}_getIdTokenResponse(e){return pl("not implemented")}_linkToIdToken(e,t){return pl("not implemented")}_getReauthenticationResolver(e){return pl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(n,e){return AO(n,"POST","/v1/accounts:signInWithIdp",aw(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="http://localhost";class Cf extends sR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Cf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Io("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,u=nw(t,["providerId","signInMethod"]);if(!i||!a)return null;const h=new Cf(i,a);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Td(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Td(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Td(e,t)}buildRequest(){const e={requestUri:XO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ng(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig extends cw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends ig{constructor(){super("facebook.com")}static credential(e){return Cf._fromParams({providerId:Tu.PROVIDER_ID,signInMethod:Tu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tu.credentialFromTaggedObject(e)}static credentialFromError(e){return Tu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tu.credential(e.oauthAccessToken)}catch{return null}}}Tu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends ig{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Cf._fromParams({providerId:ml.PROVIDER_ID,signInMethod:ml.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ml.credentialFromTaggedObject(e)}static credentialFromError(e){return ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ml.credential(t,i)}catch{return null}}}ml.GOOGLE_SIGN_IN_METHOD="google.com";ml.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends ig{constructor(){super("github.com")}static credential(e){return Cf._fromParams({providerId:wu.PROVIDER_ID,signInMethod:wu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wu.credentialFromTaggedObject(e)}static credentialFromError(e){return wu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wu.credential(e.oauthAccessToken)}catch{return null}}}wu.GITHUB_SIGN_IN_METHOD="github.com";wu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends ig{constructor(){super("twitter.com")}static credential(e,t){return Cf._fromParams({providerId:bu.PROVIDER_ID,signInMethod:bu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bu.credentialFromTaggedObject(e)}static credentialFromError(e){return bu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return bu.credential(t,i)}catch{return null}}}bu.TWITTER_SIGN_IN_METHOD="twitter.com";bu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const u=await La._fromIdTokenResponse(e,i,a),h=tS(i);return new Ad({user:u,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=tS(i);return new Ad({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function tS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_ extends Sl{constructor(e,t,i,a){var u;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,t_.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new t_(e,t,i,a)}}function aR(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?t_._fromErrorAndOperation(n,u,e,i):u})}async function ZO(n,e,t=!1){const i=await jp(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ad._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(n,e,t=!1){const{auth:i}=n;if(Ma(i.app))return Promise.reject(wf(i));const a="reauthenticate";try{const u=await jp(n,aR(i,a,e,n),t);mt(u.idToken,i,"internal-error");const h=ow(u.idToken);mt(h,i,"internal-error");const{sub:m}=h;return mt(n.uid===m,i,"user-mismatch"),Ad._forOperation(n,a,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Io(i,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(n,e,t=!1){if(Ma(n.app))return Promise.reject(wf(n));const i="signIn",a=await aR(n,i,e),u=await Ad._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(n,e){return Sr(n).setPersistence(e)}function n2(n,e,t,i){return Sr(n).onIdTokenChanged(e,t,i)}function r2(n,e,t){return Sr(n).beforeAuthStateChanged(e,t)}function i2(n,e,t,i){return Sr(n).onAuthStateChanged(e,t,i)}function s2(n){return Sr(n).signOut()}const n_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(n_,"1"),this.storage.removeItem(n_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=1e3,o2=10;class lR extends oR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},u=this.storage.getItem(i);kO()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,o2):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},a2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}lR.type="LOCAL";const uR=lR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR extends oR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}cR.type="SESSION";const fR=cR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new O_(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:u}=t.data,h=this.handlersMap[a];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const m=Array.from(h).map(async v=>v(t.origin,u)),g=await l2(m);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}O_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const v=fw("",20);a.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:a,onMessage(S){const A=S;if(A.data.eventId===v)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),a.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[a.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(){return window}function c2(n){So().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(){return typeof So().WorkerGlobalScope<"u"&&typeof So().importScripts=="function"}async function f2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function h2(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function d2(){return hR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="firebaseLocalStorageDb",m2=1,r_="firebaseLocalStorage",mR="fbase_key";class sg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function M_(n,e){return n.transaction([r_],e?"readwrite":"readonly").objectStore(r_)}function p2(){const n=indexedDB.deleteDatabase(dR);return new sg(n).toPromise()}function lT(){const n=indexedDB.open(dR,m2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(r_,{keyPath:mR})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(r_)?e(i):(i.close(),await p2(),e(await lT()))})})}async function nS(n,e,t){const i=M_(n,!0).put({[mR]:e,value:t});return new sg(i).toPromise()}async function g2(n,e){const t=M_(n,!1).get(e),i=await new sg(t).toPromise();return i===void 0?null:i.value}function rS(n,e){const t=M_(n,!0).delete(e);return new sg(t).toPromise()}const y2=800,v2=3;class pR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lT(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>v2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=O_._getInstance(d2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await f2(),!this.activeServiceWorker)return;this.sender=new u2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||h2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lT();return await nS(e,n_,"1"),await rS(e,n_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>nS(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>g2(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>rS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const u=M_(a,!1).getAll();return new sg(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:u}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pR.type="LOCAL";const _2=pR;new rg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(n,e){return e?gl(e):(mt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw extends sR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Td(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Td(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Td(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function E2(n){return e2(n.auth,new hw(n),n.bypassAuthState)}function T2(n){const{auth:e,user:t}=n;return mt(t,e,"internal-error"),JO(t,new hw(n),n.bypassAuthState)}async function w2(n){const{auth:e,user:t}=n;return mt(t,e,"internal-error"),ZO(t,new hw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,t,i,a,u=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:u||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E2;case"linkViaPopup":case"linkViaRedirect":return w2;case"reauthViaPopup":case"reauthViaRedirect":return T2;default:Io(this.auth,"internal-error")}}resolve(e){El(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){El(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=new rg(2e3,1e4);async function S2(n,e,t){if(Ma(n.app))return Promise.reject(ka(n,"operation-not-supported-in-this-environment"));const i=D_(n);vO(n,e,cw);const a=gR(i,t);return new pf(i,"signInViaPopup",e,a).executeNotNull()}class pf extends yR{constructor(e,t,i,a,u){super(e,t,a,u),this.provider=i,this.authWindow=null,this.pollId=null,pf.currentPopupAction&&pf.currentPopupAction.cancel(),pf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return mt(e,this.auth,"internal-error"),e}async onExecution(){El(this.filter.length===1,"Popup operations only handle one event");const e=fw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ka(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ka(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ka(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,b2.get())};e()}}pf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="pendingRedirect",Lv=new Map;class R2 extends yR{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Lv.get(this.auth._key());if(!e){try{const i=await x2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Lv.set(this.auth._key(),e)}return this.bypassAuthState||Lv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function x2(n,e){const t=N2(e),i=I2(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function C2(n,e){Lv.set(n._key(),e)}function I2(n){return gl(n._redirectPersistence)}function N2(n){return Pv(A2,n.config.apiKey,n.name)}async function D2(n,e,t=!1){if(Ma(n.app))return Promise.reject(wf(n));const i=D_(n),a=gR(i,e),h=await new R2(i,a,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=10*60*1e3;class M2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!P2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!vR(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ka(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=O2&&this.cachedEventUids.clear(),this.cachedEventUids.has(iS(e))}saveEventToCache(e){this.cachedEventUids.add(iS(e)),this.lastProcessedEventTime=Date.now()}}function iS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function vR({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function P2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L2(n,e={}){return Vd(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U2=/^https?/;async function V2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await L2(n);for(const t of e)try{if(j2(t))return}catch{}Io(n,"unauthorized-domain")}function j2(n){const e=aT(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!U2.test(t))return!1;if(k2.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new rg(3e4,6e4);function sS(){const n=So().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function F2(n){return new Promise((e,t)=>{var i,a,u;function h(){sS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sS(),t(ka(n,"network-request-failed"))},timeout:B2.get()})}if(!((a=(i=So().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((u=So().gapi)===null||u===void 0)&&u.load)h();else{const m=GO("iframefcb");return So()[m]=()=>{gapi.load?h():t(ka(n,"network-request-failed"))},HO(`${qO()}?onload=${m}`).catch(g=>t(g))}}).catch(e=>{throw kv=null,e})}let kv=null;function z2(n){return kv=kv||F2(n),kv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new rg(5e3,15e3),q2="__/auth/iframe",G2="emulator/auth/iframe",$2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},K2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y2(n){const e=n.config;mt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?sw(e,G2):`https://${n.config.authDomain}/${q2}`,i={apiKey:e.apiKey,appName:n.name,v:Ud},a=K2.get(n.config.apiHost);a&&(i.eid=a);const u=n._getFrameworks();return u.length&&(i.fw=u.join(",")),`${t}?${ng(i).slice(1)}`}async function W2(n){const e=await z2(n),t=So().gapi;return mt(t,n,"internal-error"),e.open({where:document.body,url:Y2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$2,dontclear:!0},i=>new Promise(async(a,u)=>{await i.restyle({setHideOnLeave:!1});const h=ka(n,"network-request-failed"),m=So().setTimeout(()=>{u(h)},H2.get());function g(){So().clearTimeout(m),a(i)}i.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},X2=500,Z2=600,J2="_blank",eM="http://localhost";class aS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tM(n,e,t,i=X2,a=Z2){const u=Math.max((window.screen.availHeight-a)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const g=Object.assign(Object.assign({},Q2),{width:i.toString(),height:a.toString(),top:u,left:h}),v=wi().toLowerCase();t&&(m=XA(v)?J2:t),WA(v)&&(e=e||eM,g.scrollbars="yes");const E=Object.entries(g).reduce((A,[D,O])=>`${A}${D}=${O},`,"");if(LO(v)&&m!=="_self")return nM(e||"",m),new aS(null);const S=window.open(e||"",m,E);mt(S,n,"popup-blocked");try{S.focus()}catch{}return new aS(S)}function nM(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="__/auth/handler",iM="emulator/auth/handler",sM=encodeURIComponent("fac");async function oS(n,e,t,i,a,u){mt(n.config.authDomain,n,"auth-domain-config-required"),mt(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ud,eventId:a};if(e instanceof cw){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",nD(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))h[E]=S}if(e instanceof ig){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(h.scopes=E.join(","))}n.tenantId&&(h.tid=n.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await n._getAppCheckToken(),v=g?`#${sM}=${encodeURIComponent(g)}`:"";return`${aM(n)}?${ng(m).slice(1)}${v}`}function aM({config:n}){return n.emulator?sw(n,iM):`https://${n.authDomain}/${rM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="webStorageSupport";class oM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fR,this._completeRedirectFn=D2,this._overrideRedirectResult=C2}async _openPopup(e,t,i,a){var u;El((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await oS(e,t,i,aT(),a);return tM(e,h,fw())}async _openRedirect(e,t,i,a){await this._originValidation(e);const u=await oS(e,t,i,aT(),a);return c2(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:u}=this.eventManagers[t];return a?Promise.resolve(a):(El(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await W2(e),i=new M2(e);return t.register("authEvent",a=>(mt(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xE,{type:xE},a=>{var u;const h=(u=a==null?void 0:a[0])===null||u===void 0?void 0:u[xE];h!==void 0&&t(!!h),Io(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=V2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nR()||QA()||lw()}}const lM=oM;var lS="@firebase/auth",uS="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fM(n){Sd(new xf("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=i.options;mt(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rR(n)},v=new FO(i,a,u,g);return KO(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Sd(new xf("auth-internal",e=>{const t=D_(e.getProvider("auth").getImmediate());return(i=>new uM(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Iu(lS,uS,cM(n)),Iu(lS,uS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=5*60,dM=MA("authIdTokenMaxAge")||hM;let cS=null;const mM=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>dM)return;const a=t==null?void 0:t.token;cS!==a&&(cS=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function pM(n=jA()){const e=tw(n,"auth");if(e.isInitialized())return e.getImmediate();const t=$O(n,{popupRedirectResolver:lM,persistence:[_2,uR,fR]}),i=MA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const h=mM(u.toString());r2(t,h,()=>h(t.currentUser)),n2(t,m=>h(m))}}const a=DA("auth");return a&&YO(t,`http://${a}`),t}function gM(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}zO({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const u=ka("internal-error");u.customData=a,t(u)},i.type="text/javascript",i.charset="UTF-8",gM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fM("Browser");var fS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nu,_R;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function L(){}L.prototype=I.prototype,N.D=I.prototype,N.prototype=new L,N.prototype.constructor=N,N.C=function(H,K,X){for(var q=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)q[Xe-2]=arguments[Xe];return I.prototype[K].apply(H,q)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,I,L){L||(L=0);var H=Array(16);if(typeof I=="string")for(var K=0;16>K;++K)H[K]=I.charCodeAt(L++)|I.charCodeAt(L++)<<8|I.charCodeAt(L++)<<16|I.charCodeAt(L++)<<24;else for(K=0;16>K;++K)H[K]=I[L++]|I[L++]<<8|I[L++]<<16|I[L++]<<24;I=N.g[0],L=N.g[1],K=N.g[2];var X=N.g[3],q=I+(X^L&(K^X))+H[0]+3614090360&4294967295;I=L+(q<<7&4294967295|q>>>25),q=X+(K^I&(L^K))+H[1]+3905402710&4294967295,X=I+(q<<12&4294967295|q>>>20),q=K+(L^X&(I^L))+H[2]+606105819&4294967295,K=X+(q<<17&4294967295|q>>>15),q=L+(I^K&(X^I))+H[3]+3250441966&4294967295,L=K+(q<<22&4294967295|q>>>10),q=I+(X^L&(K^X))+H[4]+4118548399&4294967295,I=L+(q<<7&4294967295|q>>>25),q=X+(K^I&(L^K))+H[5]+1200080426&4294967295,X=I+(q<<12&4294967295|q>>>20),q=K+(L^X&(I^L))+H[6]+2821735955&4294967295,K=X+(q<<17&4294967295|q>>>15),q=L+(I^K&(X^I))+H[7]+4249261313&4294967295,L=K+(q<<22&4294967295|q>>>10),q=I+(X^L&(K^X))+H[8]+1770035416&4294967295,I=L+(q<<7&4294967295|q>>>25),q=X+(K^I&(L^K))+H[9]+2336552879&4294967295,X=I+(q<<12&4294967295|q>>>20),q=K+(L^X&(I^L))+H[10]+4294925233&4294967295,K=X+(q<<17&4294967295|q>>>15),q=L+(I^K&(X^I))+H[11]+2304563134&4294967295,L=K+(q<<22&4294967295|q>>>10),q=I+(X^L&(K^X))+H[12]+1804603682&4294967295,I=L+(q<<7&4294967295|q>>>25),q=X+(K^I&(L^K))+H[13]+4254626195&4294967295,X=I+(q<<12&4294967295|q>>>20),q=K+(L^X&(I^L))+H[14]+2792965006&4294967295,K=X+(q<<17&4294967295|q>>>15),q=L+(I^K&(X^I))+H[15]+1236535329&4294967295,L=K+(q<<22&4294967295|q>>>10),q=I+(K^X&(L^K))+H[1]+4129170786&4294967295,I=L+(q<<5&4294967295|q>>>27),q=X+(L^K&(I^L))+H[6]+3225465664&4294967295,X=I+(q<<9&4294967295|q>>>23),q=K+(I^L&(X^I))+H[11]+643717713&4294967295,K=X+(q<<14&4294967295|q>>>18),q=L+(X^I&(K^X))+H[0]+3921069994&4294967295,L=K+(q<<20&4294967295|q>>>12),q=I+(K^X&(L^K))+H[5]+3593408605&4294967295,I=L+(q<<5&4294967295|q>>>27),q=X+(L^K&(I^L))+H[10]+38016083&4294967295,X=I+(q<<9&4294967295|q>>>23),q=K+(I^L&(X^I))+H[15]+3634488961&4294967295,K=X+(q<<14&4294967295|q>>>18),q=L+(X^I&(K^X))+H[4]+3889429448&4294967295,L=K+(q<<20&4294967295|q>>>12),q=I+(K^X&(L^K))+H[9]+568446438&4294967295,I=L+(q<<5&4294967295|q>>>27),q=X+(L^K&(I^L))+H[14]+3275163606&4294967295,X=I+(q<<9&4294967295|q>>>23),q=K+(I^L&(X^I))+H[3]+4107603335&4294967295,K=X+(q<<14&4294967295|q>>>18),q=L+(X^I&(K^X))+H[8]+1163531501&4294967295,L=K+(q<<20&4294967295|q>>>12),q=I+(K^X&(L^K))+H[13]+2850285829&4294967295,I=L+(q<<5&4294967295|q>>>27),q=X+(L^K&(I^L))+H[2]+4243563512&4294967295,X=I+(q<<9&4294967295|q>>>23),q=K+(I^L&(X^I))+H[7]+1735328473&4294967295,K=X+(q<<14&4294967295|q>>>18),q=L+(X^I&(K^X))+H[12]+2368359562&4294967295,L=K+(q<<20&4294967295|q>>>12),q=I+(L^K^X)+H[5]+4294588738&4294967295,I=L+(q<<4&4294967295|q>>>28),q=X+(I^L^K)+H[8]+2272392833&4294967295,X=I+(q<<11&4294967295|q>>>21),q=K+(X^I^L)+H[11]+1839030562&4294967295,K=X+(q<<16&4294967295|q>>>16),q=L+(K^X^I)+H[14]+4259657740&4294967295,L=K+(q<<23&4294967295|q>>>9),q=I+(L^K^X)+H[1]+2763975236&4294967295,I=L+(q<<4&4294967295|q>>>28),q=X+(I^L^K)+H[4]+1272893353&4294967295,X=I+(q<<11&4294967295|q>>>21),q=K+(X^I^L)+H[7]+4139469664&4294967295,K=X+(q<<16&4294967295|q>>>16),q=L+(K^X^I)+H[10]+3200236656&4294967295,L=K+(q<<23&4294967295|q>>>9),q=I+(L^K^X)+H[13]+681279174&4294967295,I=L+(q<<4&4294967295|q>>>28),q=X+(I^L^K)+H[0]+3936430074&4294967295,X=I+(q<<11&4294967295|q>>>21),q=K+(X^I^L)+H[3]+3572445317&4294967295,K=X+(q<<16&4294967295|q>>>16),q=L+(K^X^I)+H[6]+76029189&4294967295,L=K+(q<<23&4294967295|q>>>9),q=I+(L^K^X)+H[9]+3654602809&4294967295,I=L+(q<<4&4294967295|q>>>28),q=X+(I^L^K)+H[12]+3873151461&4294967295,X=I+(q<<11&4294967295|q>>>21),q=K+(X^I^L)+H[15]+530742520&4294967295,K=X+(q<<16&4294967295|q>>>16),q=L+(K^X^I)+H[2]+3299628645&4294967295,L=K+(q<<23&4294967295|q>>>9),q=I+(K^(L|~X))+H[0]+4096336452&4294967295,I=L+(q<<6&4294967295|q>>>26),q=X+(L^(I|~K))+H[7]+1126891415&4294967295,X=I+(q<<10&4294967295|q>>>22),q=K+(I^(X|~L))+H[14]+2878612391&4294967295,K=X+(q<<15&4294967295|q>>>17),q=L+(X^(K|~I))+H[5]+4237533241&4294967295,L=K+(q<<21&4294967295|q>>>11),q=I+(K^(L|~X))+H[12]+1700485571&4294967295,I=L+(q<<6&4294967295|q>>>26),q=X+(L^(I|~K))+H[3]+2399980690&4294967295,X=I+(q<<10&4294967295|q>>>22),q=K+(I^(X|~L))+H[10]+4293915773&4294967295,K=X+(q<<15&4294967295|q>>>17),q=L+(X^(K|~I))+H[1]+2240044497&4294967295,L=K+(q<<21&4294967295|q>>>11),q=I+(K^(L|~X))+H[8]+1873313359&4294967295,I=L+(q<<6&4294967295|q>>>26),q=X+(L^(I|~K))+H[15]+4264355552&4294967295,X=I+(q<<10&4294967295|q>>>22),q=K+(I^(X|~L))+H[6]+2734768916&4294967295,K=X+(q<<15&4294967295|q>>>17),q=L+(X^(K|~I))+H[13]+1309151649&4294967295,L=K+(q<<21&4294967295|q>>>11),q=I+(K^(L|~X))+H[4]+4149444226&4294967295,I=L+(q<<6&4294967295|q>>>26),q=X+(L^(I|~K))+H[11]+3174756917&4294967295,X=I+(q<<10&4294967295|q>>>22),q=K+(I^(X|~L))+H[2]+718787259&4294967295,K=X+(q<<15&4294967295|q>>>17),q=L+(X^(K|~I))+H[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(K+(q<<21&4294967295|q>>>11))&4294967295,N.g[2]=N.g[2]+K&4294967295,N.g[3]=N.g[3]+X&4294967295}i.prototype.u=function(N,I){I===void 0&&(I=N.length);for(var L=I-this.blockSize,H=this.B,K=this.h,X=0;X<I;){if(K==0)for(;X<=L;)a(this,N,X),X+=this.blockSize;if(typeof N=="string"){for(;X<I;)if(H[K++]=N.charCodeAt(X++),K==this.blockSize){a(this,H),K=0;break}}else for(;X<I;)if(H[K++]=N[X++],K==this.blockSize){a(this,H),K=0;break}}this.h=K,this.o+=I},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;var L=8*this.o;for(I=N.length-8;I<N.length;++I)N[I]=L&255,L/=256;for(this.u(N),N=Array(16),I=L=0;4>I;++I)for(var H=0;32>H;H+=8)N[L++]=this.g[I]>>>H&255;return N};function u(N,I){var L=m;return Object.prototype.hasOwnProperty.call(L,N)?L[N]:L[N]=I(N)}function h(N,I){this.h=I;for(var L=[],H=!0,K=N.length-1;0<=K;K--){var X=N[K]|0;H&&X==I||(L[K]=X,H=!1)}this.g=L}var m={};function g(N){return-128<=N&&128>N?u(N,function(I){return new h([I|0],0>I?-1:0)}):new h([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return S;if(0>N)return k(v(-N));for(var I=[],L=1,H=0;N>=L;H++)I[H]=N/L|0,L*=4294967296;return new h(I,0)}function E(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return k(E(N.substring(1),I));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=v(Math.pow(I,8)),H=S,K=0;K<N.length;K+=8){var X=Math.min(8,N.length-K),q=parseInt(N.substring(K,K+X),I);8>X?(X=v(Math.pow(I,X)),H=H.j(X).add(v(q))):(H=H.j(L),H=H.add(v(q)))}return H}var S=g(0),A=g(1),D=g(16777216);n=h.prototype,n.m=function(){if(F(this))return-k(this).m();for(var N=0,I=1,L=0;L<this.g.length;L++){var H=this.i(L);N+=(0<=H?H:4294967296+H)*I,I*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(O(this))return"0";if(F(this))return"-"+k(this).toString(N);for(var I=v(Math.pow(N,6)),L=this,H="";;){var K=he(L,I).g;L=U(L,K.j(I));var X=((0<L.g.length?L.g[0]:L.h)>>>0).toString(N);if(L=K,O(L))return X+H;for(;6>X.length;)X="0"+X;H=X+H}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function O(N){if(N.h!=0)return!1;for(var I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function F(N){return N.h==-1}n.l=function(N){return N=U(this,N),F(N)?-1:O(N)?0:1};function k(N){for(var I=N.g.length,L=[],H=0;H<I;H++)L[H]=~N.g[H];return new h(L,~N.h).add(A)}n.abs=function(){return F(this)?k(this):this},n.add=function(N){for(var I=Math.max(this.g.length,N.g.length),L=[],H=0,K=0;K<=I;K++){var X=H+(this.i(K)&65535)+(N.i(K)&65535),q=(X>>>16)+(this.i(K)>>>16)+(N.i(K)>>>16);H=q>>>16,X&=65535,q&=65535,L[K]=q<<16|X}return new h(L,L[L.length-1]&-2147483648?-1:0)};function U(N,I){return N.add(k(I))}n.j=function(N){if(O(this)||O(N))return S;if(F(this))return F(N)?k(this).j(k(N)):k(k(this).j(N));if(F(N))return k(this.j(k(N)));if(0>this.l(D)&&0>N.l(D))return v(this.m()*N.m());for(var I=this.g.length+N.g.length,L=[],H=0;H<2*I;H++)L[H]=0;for(H=0;H<this.g.length;H++)for(var K=0;K<N.g.length;K++){var X=this.i(H)>>>16,q=this.i(H)&65535,Xe=N.i(K)>>>16,Je=N.i(K)&65535;L[2*H+2*K]+=q*Je,Q(L,2*H+2*K),L[2*H+2*K+1]+=X*Je,Q(L,2*H+2*K+1),L[2*H+2*K+1]+=q*Xe,Q(L,2*H+2*K+1),L[2*H+2*K+2]+=X*Xe,Q(L,2*H+2*K+2)}for(H=0;H<I;H++)L[H]=L[2*H+1]<<16|L[2*H];for(H=I;H<2*I;H++)L[H]=0;return new h(L,0)};function Q(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function J(N,I){this.g=N,this.h=I}function he(N,I){if(O(I))throw Error("division by zero");if(O(N))return new J(S,S);if(F(N))return I=he(k(N),I),new J(k(I.g),k(I.h));if(F(I))return I=he(N,k(I)),new J(k(I.g),I.h);if(30<N.g.length){if(F(N)||F(I))throw Error("slowDivide_ only works with positive integers.");for(var L=A,H=I;0>=H.l(N);)L=ne(L),H=ne(H);var K=z(L,1),X=z(H,1);for(H=z(H,2),L=z(L,2);!O(H);){var q=X.add(H);0>=q.l(N)&&(K=K.add(L),X=q),H=z(H,1),L=z(L,1)}return I=U(N,K.j(I)),new J(K,I)}for(K=S;0<=N.l(I);){for(L=Math.max(1,Math.floor(N.m()/I.m())),H=Math.ceil(Math.log(L)/Math.LN2),H=48>=H?1:Math.pow(2,H-48),X=v(L),q=X.j(I);F(q)||0<q.l(N);)L-=H,X=v(L),q=X.j(I);O(X)&&(X=A),K=K.add(X),N=U(N,q)}return new J(K,N)}n.A=function(N){return he(this,N).h},n.and=function(N){for(var I=Math.max(this.g.length,N.g.length),L=[],H=0;H<I;H++)L[H]=this.i(H)&N.i(H);return new h(L,this.h&N.h)},n.or=function(N){for(var I=Math.max(this.g.length,N.g.length),L=[],H=0;H<I;H++)L[H]=this.i(H)|N.i(H);return new h(L,this.h|N.h)},n.xor=function(N){for(var I=Math.max(this.g.length,N.g.length),L=[],H=0;H<I;H++)L[H]=this.i(H)^N.i(H);return new h(L,this.h^N.h)};function ne(N){for(var I=N.g.length+1,L=[],H=0;H<I;H++)L[H]=N.i(H)<<1|N.i(H-1)>>>31;return new h(L,N.h)}function z(N,I){var L=I>>5;I%=32;for(var H=N.g.length-L,K=[],X=0;X<H;X++)K[X]=0<I?N.i(X+L)>>>I|N.i(X+L+1)<<32-I:N.i(X+L);return new h(K,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,_R=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=E,Nu=h}).apply(typeof fS<"u"?fS:typeof self<"u"?self:typeof window<"u"?window:{});var Ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ER,Tp,TR,Uv,uT,wR,bR,SR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,T,R){return d==Array.prototype||d==Object.prototype||(d[T]=R.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ev=="object"&&Ev];for(var T=0;T<d.length;++T){var R=d[T];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var i=t(this);function a(d,T){if(T)e:{var R=i;d=d.split(".");for(var V=0;V<d.length-1;V++){var ae=d[V];if(!(ae in R))break e;R=R[ae]}d=d[d.length-1],V=R[d],T=T(V),T!=V&&T!=null&&e(R,d,{configurable:!0,writable:!0,value:T})}}function u(d,T){d instanceof String&&(d+="");var R=0,V=!1,ae={next:function(){if(!V&&R<d.length){var ye=R++;return{value:T(ye,d[ye]),done:!1}}return V=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}a("Array.prototype.values",function(d){return d||function(){return u(this,function(T,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(d){var T=typeof d;return T=T!="object"?T:d?Array.isArray(d)?"array":T:"null",T=="array"||T=="object"&&typeof d.length=="number"}function v(d){var T=typeof d;return T=="object"&&d!=null||T=="function"}function E(d,T,R){return d.call.apply(d.bind,arguments)}function S(d,T,R){if(!d)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,V),d.apply(T,ae)}}return function(){return d.apply(T,arguments)}}function A(d,T,R){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,A.apply(null,arguments)}function D(d,T){var R=Array.prototype.slice.call(arguments,1);return function(){var V=R.slice();return V.push.apply(V,arguments),d.apply(this,V)}}function O(d,T){function R(){}R.prototype=T.prototype,d.aa=T.prototype,d.prototype=new R,d.prototype.constructor=d,d.Qb=function(V,ae,ye){for(var Pe=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)Pe[Ot-2]=arguments[Ot];return T.prototype[ae].apply(V,Pe)}}function F(d){const T=d.length;if(0<T){const R=Array(T);for(let V=0;V<T;V++)R[V]=d[V];return R}return[]}function k(d,T){for(let R=1;R<arguments.length;R++){const V=arguments[R];if(g(V)){const ae=d.length||0,ye=V.length||0;d.length=ae+ye;for(let Pe=0;Pe<ye;Pe++)d[ae+Pe]=V[Pe]}else d.push(V)}}class U{constructor(T,R){this.i=T,this.j=R,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function Q(d){return/^[\s\xa0]*$/.test(d)}function J(){var d=m.navigator;return d&&(d=d.userAgent)?d:""}function he(d){return he[" "](d),d}he[" "]=function(){};var ne=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function z(d,T,R){for(const V in d)T.call(R,d[V],V,d)}function N(d,T){for(const R in d)T.call(void 0,d[R],R,d)}function I(d){const T={};for(const R in d)T[R]=d[R];return T}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(d,T){let R,V;for(let ae=1;ae<arguments.length;ae++){V=arguments[ae];for(R in V)d[R]=V[R];for(let ye=0;ye<L.length;ye++)R=L[ye],Object.prototype.hasOwnProperty.call(V,R)&&(d[R]=V[R])}}function K(d){var T=1;d=d.split(":");const R=[];for(;0<T&&d.length;)R.push(d.shift()),T--;return d.length&&R.push(d.join(":")),R}function X(d){m.setTimeout(()=>{throw d},0)}function q(){var d=Me;let T=null;return d.g&&(T=d.g,d.g=d.g.next,d.g||(d.h=null),T.next=null),T}class Xe{constructor(){this.h=this.g=null}add(T,R){const V=Je.get();V.set(T,R),this.h?this.h.next=V:this.g=V,this.h=V}}var Je=new U(()=>new ce,d=>d.reset());class ce{constructor(){this.next=this.g=this.h=null}set(T,R){this.h=T,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,_e=!1,Me=new Xe,G=()=>{const d=m.Promise.resolve(void 0);pe=()=>{d.then(me)}};var me=()=>{for(var d;d=q();){try{d.h.call(d.g)}catch(R){X(R)}var T=Je;T.j(d),100>T.h&&(T.h++,d.next=T.g,T.g=d)}_e=!1};function Ne(){this.s=this.s,this.C=this.C}Ne.prototype.s=!1,Ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(d,T){this.type=d,this.g=this.target=T,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var Ue=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var d=!1,T=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const R=()=>{};m.addEventListener("test",R,T),m.removeEventListener("test",R,T)}catch{}return d}();function Ke(d,T){if(we.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var R=this.type=d.type,V=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=T,T=d.relatedTarget){if(ne){e:{try{he(T.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(T=null)}}else R=="mouseover"?T=d.fromElement:R=="mouseout"&&(T=d.toElement);this.relatedTarget=T,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ze[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ke.aa.h.call(this)}}O(Ke,we);var ze={2:"touch",3:"pen",4:"mouse"};Ke.prototype.h=function(){Ke.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var mn="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function Mn(d,T,R,V,ae){this.listener=d,this.proxy=null,this.src=T,this.type=R,this.capture=!!V,this.ha=ae,this.key=++Nt,this.da=this.fa=!1}function Zt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Sn(d){this.src=d,this.g={},this.h=0}Sn.prototype.add=function(d,T,R,V,ae){var ye=d.toString();d=this.g[ye],d||(d=this.g[ye]=[],this.h++);var Pe=Ar(d,T,V,ae);return-1<Pe?(T=d[Pe],R||(T.fa=!1)):(T=new Mn(T,this.src,ye,!!V,ae),T.fa=R,d.push(T)),T};function qn(d,T){var R=T.type;if(R in d.g){var V=d.g[R],ae=Array.prototype.indexOf.call(V,T,void 0),ye;(ye=0<=ae)&&Array.prototype.splice.call(V,ae,1),ye&&(Zt(T),d.g[R].length==0&&(delete d.g[R],d.h--))}}function Ar(d,T,R,V){for(var ae=0;ae<d.length;++ae){var ye=d[ae];if(!ye.da&&ye.listener==T&&ye.capture==!!R&&ye.ha==V)return ae}return-1}var Wt="closure_lm_"+(1e6*Math.random()|0),Dt={};function us(d,T,R,V,ae){if(Array.isArray(T)){for(var ye=0;ye<T.length;ye++)us(d,T[ye],R,V,ae);return null}return R=Qr(R),d&&d[mn]?d.K(T,R,v(V)?!!V.capture:!1,ae):an(d,T,R,!1,V,ae)}function an(d,T,R,V,ae,ye){if(!T)throw Error("Invalid event type");var Pe=v(ae)?!!ae.capture:!!ae,Ot=vr(d);if(Ot||(d[Wt]=Ot=new Sn(d)),R=Ot.add(T,R,V,Pe,ye),R.proxy)return R;if(V=Ba(),R.proxy=V,V.src=d,V.listener=R,d.addEventListener)Ue||(ae=Pe),ae===void 0&&(ae=!1),d.addEventListener(T.toString(),V,ae);else if(d.attachEvent)d.attachEvent(Bn(T.toString()),V);else if(d.addListener&&d.removeListener)d.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Ba(){function d(R){return T.call(d.src,d.listener,R)}const T=yr;return d}function aa(d,T,R,V,ae){if(Array.isArray(T))for(var ye=0;ye<T.length;ye++)aa(d,T[ye],R,V,ae);else V=v(V)?!!V.capture:!!V,R=Qr(R),d&&d[mn]?(d=d.i,T=String(T).toString(),T in d.g&&(ye=d.g[T],R=Ar(ye,R,V,ae),-1<R&&(Zt(ye[R]),Array.prototype.splice.call(ye,R,1),ye.length==0&&(delete d.g[T],d.h--)))):d&&(d=vr(d))&&(T=d.g[T.toString()],d=-1,T&&(d=Ar(T,R,V,ae)),(R=-1<d?T[d]:null)&&Wr(R))}function Wr(d){if(typeof d!="number"&&d&&!d.da){var T=d.src;if(T&&T[mn])qn(T.i,d);else{var R=d.type,V=d.proxy;T.removeEventListener?T.removeEventListener(R,V,d.capture):T.detachEvent?T.detachEvent(Bn(R),V):T.addListener&&T.removeListener&&T.removeListener(V),(R=vr(T))?(qn(R,d),R.h==0&&(R.src=null,T[Wt]=null)):Zt(d)}}}function Bn(d){return d in Dt?Dt[d]:Dt[d]="on"+d}function yr(d,T){if(d.da)d=!0;else{T=new Ke(T,this);var R=d.listener,V=d.ha||d.src;d.fa&&Wr(d),d=R.call(V,T)}return d}function vr(d){return d=d[Wt],d instanceof Sn?d:null}var cs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qr(d){return typeof d=="function"?d:(d[cs]||(d[cs]=function(T){return d.handleEvent(T)}),d[cs])}function He(){Ne.call(this),this.i=new Sn(this),this.M=this,this.F=null}O(He,Ne),He.prototype[mn]=!0,He.prototype.removeEventListener=function(d,T,R,V){aa(this,d,T,R,V)};function it(d,T){var R,V=d.F;if(V)for(R=[];V;V=V.F)R.push(V);if(d=d.M,V=T.type||T,typeof T=="string")T=new we(T,d);else if(T instanceof we)T.target=T.target||d;else{var ae=T;T=new we(V,d),H(T,ae)}if(ae=!0,R)for(var ye=R.length-1;0<=ye;ye--){var Pe=T.g=R[ye];ae=An(Pe,V,!0,T)&&ae}if(Pe=T.g=d,ae=An(Pe,V,!0,T)&&ae,ae=An(Pe,V,!1,T)&&ae,R)for(ye=0;ye<R.length;ye++)Pe=T.g=R[ye],ae=An(Pe,V,!1,T)&&ae}He.prototype.N=function(){if(He.aa.N.call(this),this.i){var d=this.i,T;for(T in d.g){for(var R=d.g[T],V=0;V<R.length;V++)Zt(R[V]);delete d.g[T],d.h--}}this.F=null},He.prototype.K=function(d,T,R,V){return this.i.add(String(d),T,!1,R,V)},He.prototype.L=function(d,T,R,V){return this.i.add(String(d),T,!0,R,V)};function An(d,T,R,V){if(T=d.i.g[String(T)],!T)return!0;T=T.concat();for(var ae=!0,ye=0;ye<T.length;++ye){var Pe=T[ye];if(Pe&&!Pe.da&&Pe.capture==R){var Ot=Pe.listener,Qn=Pe.ha||Pe.src;Pe.fa&&qn(d.i,Pe),ae=Ot.call(Qn,V)!==!1&&ae}}return ae&&!V.defaultPrevented}function Pn(d,T,R){if(typeof d=="function")R&&(d=A(d,R));else if(d&&typeof d.handleEvent=="function")d=A(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:m.setTimeout(d,T||0)}function Fa(d){d.g=Pn(()=>{d.g=null,d.i&&(d.i=!1,Fa(d))},d.l);const T=d.h;d.h=null,d.m.apply(null,T)}class Xr extends Ne{constructor(T,R){super(),this.m=T,this.l=R,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Fa(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vi(d){Ne.call(this),this.h=d,this.g={}}O(Vi,Ne);var ji=[];function Bi(d){z(d.g,function(T,R){this.g.hasOwnProperty(R)&&Wr(T)},d),d.g={}}Vi.prototype.N=function(){Vi.aa.N.call(this),Bi(this)},Vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pr=m.JSON.stringify,fs=m.JSON.parse,Zr=class{stringify(d){return m.JSON.stringify(d,void 0)}parse(d){return m.JSON.parse(d,void 0)}};function za(){}za.prototype.h=null;function oa(d){return d.h||(d.h=d.i())}function Oo(){}var bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fi(){we.call(this,"d")}O(Fi,we);function Ha(){we.call(this,"c")}O(Ha,we);var Lr={},Ms=null;function Ps(){return Ms=Ms||new He}Lr.La="serverreachability";function la(d){we.call(this,Lr.La,d)}O(la,we);function W(d){const T=Ps();it(T,new la(T))}Lr.STAT_EVENT="statevent";function se(d,T){we.call(this,Lr.STAT_EVENT,d),this.stat=T}O(se,we);function le(d){const T=Ps();it(T,new se(T,d))}Lr.Ma="timingevent";function Se(d,T){we.call(this,Lr.Ma,d),this.size=T}O(Se,we);function Oe(d,T){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){d()},T)}function Ve(){this.g=!0}Ve.prototype.xa=function(){this.g=!1};function et(d,T,R,V,ae,ye){d.info(function(){if(d.g)if(ye)for(var Pe="",Ot=ye.split("&"),Qn=0;Qn<Ot.length;Qn++){var Ut=Ot[Qn].split("=");if(1<Ut.length){var rn=Ut[0];Ut=Ut[1];var zn=rn.split("_");Pe=2<=zn.length&&zn[1]=="type"?Pe+(rn+"="+Ut+"&"):Pe+(rn+"=redacted&")}}else Pe=null;else Pe=ye;return"XMLHTTP REQ ("+V+") [attempt "+ae+"]: "+T+`
`+R+`
`+Pe})}function je(d,T,R,V,ae,ye,Pe){d.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+ae+"]: "+T+`
`+R+`
`+ye+" "+Pe})}function qe(d,T,R,V){d.info(function(){return"XMLHTTP TEXT ("+T+"): "+nt(d,R)+(V?" "+V:"")})}function We(d,T){d.info(function(){return"TIMEOUT: "+T})}Ve.prototype.info=function(){};function nt(d,T){if(!d.g)return T;if(!T)return null;try{var R=JSON.parse(T);if(R){for(d=0;d<R.length;d++)if(Array.isArray(R[d])){var V=R[d];if(!(2>V.length)){var ae=V[1];if(Array.isArray(ae)&&!(1>ae.length)){var ye=ae[0];if(ye!="noop"&&ye!="stop"&&ye!="close")for(var Pe=1;Pe<ae.length;Pe++)ae[Pe]=""}}}}return Pr(R)}catch{return T}}var Ge={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},st={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rt;function Jt(){}O(Jt,za),Jt.prototype.g=function(){return new XMLHttpRequest},Jt.prototype.i=function(){return{}},Rt=new Jt;function Qt(d,T,R,V){this.j=d,this.i=T,this.l=R,this.R=V||1,this.U=new Vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lt}function Lt(){this.i=null,this.g="",this.h=!1}var wt={},zi={};function Wn(d,T,R){d.L=1,d.v=ca(ti(T)),d.m=R,d.P=!0,kr(d,null)}function kr(d,T){d.F=Date.now(),Rr(d),d.A=ti(d.v);var R=d.A,V=d.R;Array.isArray(V)||(V=[String(V)]),Nl(R.i,"t",V),d.C=0,R=d.j.J,d.h=new Lt,d.g=Yf(d.j,R?T:null,!d.m),0<d.O&&(d.M=new Xr(A(d.Y,d,d.g),d.O)),T=d.U,R=d.g,V=d.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(ji[0]=ae.toString()),ae=ji);for(var ye=0;ye<ae.length;ye++){var Pe=us(R,ae[ye],V||T.handleEvent,!1,T.h||T);if(!Pe)break;T.g[Pe.key]=Pe}T=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,T)):(d.u="GET",d.g.ea(d.A,d.u,null,T)),W(),et(d.i,d.u,d.A,d.l,d.R,d.m)}Qt.prototype.ca=function(d){d=d.target;const T=this.M;T&&or(d)==3?T.j():this.Y(d)},Qt.prototype.Y=function(d){try{if(d==this.g)e:{const zn=or(this.g);var T=this.g.Ba();const Si=this.g.Z();if(!(3>zn)&&(zn!=3||this.g&&(this.h.h||this.g.oa()||Xu(this.g)))){this.J||zn!=4||T==7||(T==8||0>=Si?W(3):W(2)),xr(this);var R=this.g.Z();this.X=R;t:if(Gn(this)){var V=Xu(this.g);d="";var ae=V.length,ye=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ft(this),Ur(this);var Pe="";break t}this.h.i=new m.TextDecoder}for(T=0;T<ae;T++)this.h.h=!0,d+=this.h.i.decode(V[T],{stream:!(ye&&T==ae-1)});V.length=0,this.h.g+=d,this.C=0,Pe=this.h.g}else Pe=this.g.oa();if(this.o=R==200,je(this.i,this.u,this.A,this.l,this.R,zn,R),this.o){if(this.T&&!this.K){t:{if(this.g){var Ot,Qn=this.g;if((Ot=Qn.g?Qn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Ot)){var Ut=Ot;break t}}Ut=null}if(R=Ut)qe(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fn(this,R);else{this.o=!1,this.s=3,le(12),ft(this),Ur(this);break e}}if(this.P){R=!0;let ur;for(;!this.J&&this.C<Pe.length;)if(ur=Ls(this,Pe),ur==zi){zn==4&&(this.s=4,le(14),R=!1),qe(this.i,this.l,null,"[Incomplete Response]");break}else if(ur==wt){this.s=4,le(15),qe(this.i,this.l,Pe,"[Invalid Chunk]"),R=!1;break}else qe(this.i,this.l,ur,null),Fn(this,ur);if(Gn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zn!=4||Pe.length!=0||this.h.h||(this.s=1,le(16),R=!1),this.o=this.o&&R,!R)qe(this.i,this.l,Pe,"[Invalid Chunked Response]"),ft(this),Ur(this);else if(0<Pe.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+Pe.length),ii(rn),rn.M=!0,le(11))}}else qe(this.i,this.l,Pe,null),Fn(this,Pe);zn==4&&ft(this),this.o&&!this.J&&(zn==4?gn(this.j,this):(this.o=!1,Rr(this)))}else Zu(this.g),R==400&&0<Pe.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),ft(this),Ur(this)}}}catch{}finally{}};function Gn(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Ls(d,T){var R=d.C,V=T.indexOf(`
`,R);return V==-1?zi:(R=Number(T.substring(R,V)),isNaN(R)?wt:(V+=1,V+R>T.length?zi:(T=T.slice(V,V+R),d.C=V+R,T)))}Qt.prototype.cancel=function(){this.J=!0,ft(this)};function Rr(d){d.S=Date.now()+d.I,qa(d,d.I)}function qa(d,T){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Oe(A(d.ba,d),T)}function xr(d){d.B&&(m.clearTimeout(d.B),d.B=null)}Qt.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(We(this.i,this.A),this.L!=2&&(W(),le(17)),ft(this),this.s=2,Ur(this)):qa(this,this.S-d)};function Ur(d){d.j.G==0||d.J||gn(d.j,d)}function ft(d){xr(d);var T=d.M;T&&typeof T.ma=="function"&&T.ma(),d.M=null,Bi(d.U),d.g&&(T=d.g,d.g=null,T.abort(),T.ma())}function Fn(d,T){try{var R=d.j;if(R.G!=0&&(R.g==d||Hi(R.h,d))){if(!d.K&&Hi(R.h,d)&&R.G==3){try{var V=R.Da.g.parse(T)}catch{V=null}if(Array.isArray(V)&&V.length==3){var ae=V;if(ae[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<d.F)Ka(R),jo(R);else break e;Pl(R),le(18)}}else R.za=ae[1],0<R.za-R.T&&37500>ae[2]&&R.F&&R.v==0&&!R.C&&(R.C=Oe(A(R.Za,R),6e3));if(1>=pn(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else ds(R,11)}else if((d.K||R.g==d)&&Ka(R),!Q(T))for(ae=R.Da.g.parse(T),T=0;T<ae.length;T++){let Ut=ae[T];if(R.T=Ut[0],Ut=Ut[1],R.G==2)if(Ut[0]=="c"){R.K=Ut[1],R.ia=Ut[2];const rn=Ut[3];rn!=null&&(R.la=rn,R.j.info("VER="+R.la));const zn=Ut[4];zn!=null&&(R.Aa=zn,R.j.info("SVER="+R.Aa));const Si=Ut[5];Si!=null&&typeof Si=="number"&&0<Si&&(V=1.5*Si,R.L=V,R.j.info("backChannelRequestTimeoutMs_="+V)),V=R;const ur=d.g;if(ur){const ms=ur.g?ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var ye=V.h;ye.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(ye.j=ye.l,ye.g=new Set,ye.h&&(Us(ye,ye.h),ye.h=null))}if(V.D){const ec=ur.g?ur.g.getResponseHeader("X-HTTP-Session-Id"):null;ec&&(V.ya=ec,on(V.I,V.D,ec))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-d.F,R.j.info("Handshake RTT: "+R.R+"ms")),V=R;var Pe=d;if(V.qa=Ll(V,V.J?V.ia:null,V.W),Pe.K){sr(V.h,Pe);var Ot=Pe,Qn=V.L;Qn&&(Ot.I=Qn),Ot.B&&(xr(Ot),Rr(Ot)),V.g=Pe}else $f(V);0<R.i.length&&Bo(R)}else Ut[0]!="stop"&&Ut[0]!="close"||ds(R,7);else R.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?ds(R,7):Ml(R):Ut[0]!="noop"&&R.l&&R.l.ta(Ut),R.v=0)}}W(4)}catch{}}var Jr=class{constructor(d,T){this.g=d,this.map=T}};function ei(d){this.l=d||10,m.PerformanceNavigationTiming?(d=m.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ks(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function pn(d){return d.h?1:d.g?d.g.size:0}function Hi(d,T){return d.h?d.h==T:d.g?d.g.has(T):!1}function Us(d,T){d.g?d.g.add(T):d.h=T}function sr(d,T){d.h&&d.h==T?d.h=null:d.g&&d.g.has(T)&&d.g.delete(T)}ei.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Rl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let T=d.i;for(const R of d.g.values())T=T.concat(R.D);return T}return F(d.i)}function $u(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(g(d)){for(var T=[],R=d.length,V=0;V<R;V++)T.push(d[V]);return T}T=[],R=0;for(V in d)T[R++]=d[V];return T}function xl(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(g(d)||typeof d=="string"){var T=[];d=d.length;for(var R=0;R<d;R++)T.push(R);return T}T=[],R=0;for(const V in d)T[R++]=V;return T}}}function Cl(d,T){if(d.forEach&&typeof d.forEach=="function")d.forEach(T,void 0);else if(g(d)||typeof d=="string")Array.prototype.forEach.call(d,T,void 0);else for(var R=xl(d),V=$u(d),ae=V.length,ye=0;ye<ae;ye++)T.call(void 0,V[ye],R&&R[ye],d)}var Vs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bf(d,T){if(d){d=d.split("&");for(var R=0;R<d.length;R++){var V=d[R].indexOf("="),ae=null;if(0<=V){var ye=d[R].substring(0,V);ae=d[R].substring(V+1)}else ye=d[R];T(ye,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function $n(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof $n){this.h=d.h,Ga(this,d.j),this.o=d.o,this.g=d.g,js(this,d.s),this.l=d.l;var T=d.i,R=new Bs;R.i=T.i,T.g&&(R.g=new Map(T.g),R.h=T.h),ua(this,R),this.m=d.m}else d&&(T=String(d).match(Vs))?(this.h=!1,Ga(this,T[1]||"",!0),this.o=ni(T[2]||""),this.g=ni(T[3]||"",!0),js(this,T[4]),this.l=ni(T[5]||"",!0),ua(this,T[6]||"",!0),this.m=ni(T[7]||"")):(this.h=!1,this.i=new Bs(null,this.h))}$n.prototype.toString=function(){var d=[],T=this.j;T&&d.push(qi(T,Il,!0),":");var R=this.g;return(R||T=="file")&&(d.push("//"),(T=this.o)&&d.push(qi(T,Il,!0),"@"),d.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&d.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&d.push("/"),d.push(qi(R,R.charAt(0)=="/"?Ff:Yu,!0))),(R=this.i.toString())&&d.push("?",R),(R=this.m)&&d.push("#",qi(R,Mo)),d.join("")};function ti(d){return new $n(d)}function Ga(d,T,R){d.j=R?ni(T,!0):T,d.j&&(d.j=d.j.replace(/:$/,""))}function js(d,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);d.s=T}else d.s=null}function ua(d,T,R){T instanceof Bs?(d.i=T,Hf(d.i,d.h)):(R||(T=qi(T,zf)),d.i=new Bs(T,d.h))}function on(d,T,R){d.i.set(T,R)}function ca(d){return on(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function ni(d,T){return d?T?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function qi(d,T,R){return typeof d=="string"?(d=encodeURI(d).replace(T,Ku),R&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Ku(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Il=/[#\/\?@]/g,Yu=/[#\?:]/g,Ff=/[#\?]/g,zf=/[#\?@]/g,Mo=/#/g;function Bs(d,T){this.h=this.g=null,this.i=d||null,this.j=!!T}function Gi(d){d.g||(d.g=new Map,d.h=0,d.i&&Bf(d.i,function(T,R){d.add(decodeURIComponent(T.replace(/\+/g," ")),R)}))}n=Bs.prototype,n.add=function(d,T){Gi(this),this.i=null,d=Fs(this,d);var R=this.g.get(d);return R||this.g.set(d,R=[]),R.push(T),this.h+=1,this};function fa(d,T){Gi(d),T=Fs(d,T),d.g.has(T)&&(d.i=null,d.h-=d.g.get(T).length,d.g.delete(T))}function ha(d,T){return Gi(d),T=Fs(d,T),d.g.has(T)}n.forEach=function(d,T){Gi(this),this.g.forEach(function(R,V){R.forEach(function(ae){d.call(T,ae,V,this)},this)},this)},n.na=function(){Gi(this);const d=Array.from(this.g.values()),T=Array.from(this.g.keys()),R=[];for(let V=0;V<T.length;V++){const ae=d[V];for(let ye=0;ye<ae.length;ye++)R.push(T[V])}return R},n.V=function(d){Gi(this);let T=[];if(typeof d=="string")ha(this,d)&&(T=T.concat(this.g.get(Fs(this,d))));else{d=Array.from(this.g.values());for(let R=0;R<d.length;R++)T=T.concat(d[R])}return T},n.set=function(d,T){return Gi(this),this.i=null,d=Fs(this,d),ha(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[T]),this.h+=1,this},n.get=function(d,T){return d?(d=this.V(d),0<d.length?String(d[0]):T):T};function Nl(d,T,R){fa(d,T),0<R.length&&(d.i=null,d.g.set(Fs(d,T),F(R)),d.h+=R.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],T=Array.from(this.g.keys());for(var R=0;R<T.length;R++){var V=T[R];const ye=encodeURIComponent(String(V)),Pe=this.V(V);for(V=0;V<Pe.length;V++){var ae=ye;Pe[V]!==""&&(ae+="="+encodeURIComponent(String(Pe[V]))),d.push(ae)}}return this.i=d.join("&")};function Fs(d,T){return T=String(T),d.j&&(T=T.toLowerCase()),T}function Hf(d,T){T&&!d.j&&(Gi(d),d.i=null,d.g.forEach(function(R,V){var ae=V.toLowerCase();V!=ae&&(fa(this,V),Nl(this,ae,R))},d)),d.j=T}function Po(d,T){const R=new Ve;if(m.Image){const V=new Image;V.onload=D(ri,R,"TestLoadImage: loaded",!0,T,V),V.onerror=D(ri,R,"TestLoadImage: error",!1,T,V),V.onabort=D(ri,R,"TestLoadImage: abort",!1,T,V),V.ontimeout=D(ri,R,"TestLoadImage: timeout",!1,T,V),m.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=d}else T(!1)}function hs(d,T){const R=new Ve,V=new AbortController,ae=setTimeout(()=>{V.abort(),ri(R,"TestPingServer: timeout",!1,T)},1e4);fetch(d,{signal:V.signal}).then(ye=>{clearTimeout(ae),ye.ok?ri(R,"TestPingServer: ok",!0,T):ri(R,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(ae),ri(R,"TestPingServer: error",!1,T)})}function ri(d,T,R,V,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),V(R)}catch{}}function Lo(){this.g=new Zr}function zs(d,T,R){const V=R||"";try{Cl(d,function(ae,ye){let Pe=ae;v(ae)&&(Pe=Pr(ae)),T.push(V+ye+"="+encodeURIComponent(Pe))})}catch(ae){throw T.push(V+"type="+encodeURIComponent("_badmap")),ae}}function $a(d){this.l=d.Ub||null,this.j=d.eb||!1}O($a,za),$a.prototype.g=function(){return new da(this.l,this.j)},$a.prototype.i=function(d){return function(){return d}}({});function da(d,T){He.call(this),this.D=d,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(da,He),n=da.prototype,n.open=function(d,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=T,this.readyState=1,kt(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(T.body=d),(this.D||m).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ft(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,kt(this)),this.g&&(this.readyState=3,kt(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wu(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wu(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var T=d.value?d.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!d.done}))&&(this.response=this.responseText+=T)}d.done?Ft(this):kt(this),this.readyState==3&&Wu(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Ft(this))},n.Qa=function(d){this.g&&(this.response=d,Ft(this))},n.ga=function(){this.g&&Ft(this)};function Ft(d){d.readyState=4,d.l=null,d.j=null,d.v=null,kt(d)}n.setRequestHeader=function(d,T){this.u.append(d,T)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],T=this.h.entries();for(var R=T.next();!R.done;)R=R.value,d.push(R[0]+": "+R[1]),R=T.next();return d.join(`\r
`)};function kt(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Qu(d){let T="";return z(d,function(R,V){T+=V,T+=":",T+=R,T+=`\r
`}),T}function ar(d,T,R){e:{for(V in R){var V=!1;break e}V=!0}V||(R=Qu(R),typeof d=="string"?R!=null&&encodeURIComponent(String(R)):on(d,T,R))}function nn(d){He.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(nn,He);var Dl=/^https?$/i,ko=["POST","PUT"];n=nn.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,T,R,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);T=T?T.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rt.g(),this.v=this.o?oa(this.o):oa(Rt),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(T,String(d),!0),this.B=!1}catch(ye){qf(this,ye);return}if(d=R||"",R=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var ae in V)R.set(ae,V[ae]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ye of V.keys())R.set(ye,V.get(ye));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(R.keys()).find(ye=>ye.toLowerCase()=="content-type"),ae=m.FormData&&d instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ko,T,void 0))||V||ae||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ye,Pe]of R)this.g.setRequestHeader(ye,Pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ma(this),this.u=!0,this.g.send(d),this.u=!1}catch(ye){qf(this,ye)}};function qf(d,T){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=T,d.m=5,Uo(d),En(d)}function Uo(d){d.A||(d.A=!0,it(d,"complete"),it(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,it(this,"complete"),it(this,"abort"),En(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),En(this,!0)),nn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ol(this):this.bb())},n.bb=function(){Ol(this)};function Ol(d){if(d.h&&typeof h<"u"&&(!d.v[1]||or(d)!=4||d.Z()!=2)){if(d.u&&or(d)==4)Pn(d.Ea,0,d);else if(it(d,"readystatechange"),or(d)==4){d.h=!1;try{const Pe=d.Z();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var R;if(!(R=T)){var V;if(V=Pe===0){var ae=String(d.D).match(Vs)[1]||null;!ae&&m.self&&m.self.location&&(ae=m.self.location.protocol.slice(0,-1)),V=!Dl.test(ae?ae.toLowerCase():"")}R=V}if(R)it(d,"complete"),it(d,"success");else{d.m=6;try{var ye=2<or(d)?d.g.statusText:""}catch{ye=""}d.l=ye+" ["+d.Z()+"]",Uo(d)}}finally{En(d)}}}}function En(d,T){if(d.g){ma(d);const R=d.g,V=d.v[0]?()=>{}:null;d.g=null,d.v=null,T||it(d,"ready");try{R.onreadystatechange=V}catch{}}}function ma(d){d.I&&(m.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function or(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var T=this.g.responseText;return d&&T.indexOf(d)==0&&(T=T.substring(d.length)),fs(T)}};function Xu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Zu(d){const T={};d=(d.g&&2<=or(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<d.length;V++){if(Q(d[V]))continue;var R=K(d[V]);const ae=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ye=T[ae]||[];T[ae]=ye,ye.push(R)}N(T,function(V){return V.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lr(d,T,R){return R&&R.internalChannelParams&&R.internalChannelParams[d]||T}function Vo(d){this.Aa=0,this.i=[],this.j=new Ve,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lr("baseRetryDelayMs",5e3,d),this.cb=lr("retryDelaySeedMs",1e4,d),this.Wa=lr("forwardChannelMaxRetries",2,d),this.wa=lr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ei(d&&d.concurrentRequestLimit),this.Da=new Lo,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Vo.prototype,n.la=8,n.G=1,n.connect=function(d,T,R,V){le(0),this.W=d,this.H=T||{},R&&V!==void 0&&(this.H.OSID=R,this.H.OAID=V),this.F=this.X,this.I=Ll(this,null,this.W),Bo(this)};function Ml(d){if(Ju(d),d.G==3){var T=d.U++,R=ti(d.I);if(on(R,"SID",d.K),on(R,"RID",T),on(R,"TYPE","terminate"),Fo(d,R),T=new Qt(d,d.j,T),T.L=2,T.v=ca(ti(R)),R=!1,m.navigator&&m.navigator.sendBeacon)try{R=m.navigator.sendBeacon(T.v.toString(),"")}catch{}!R&&m.Image&&(new Image().src=T.v,R=!0),R||(T.g=Yf(T.j,null),T.g.ea(T.v)),T.F=Date.now(),Rr(T)}Kf(d)}function jo(d){d.g&&(ii(d),d.g.cancel(),d.g=null)}function Ju(d){jo(d),d.u&&(m.clearTimeout(d.u),d.u=null),Ka(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&m.clearTimeout(d.s),d.s=null)}function Bo(d){if(!ks(d.h)&&!d.s){d.s=!0;var T=d.Ga;pe||G(),_e||(pe(),_e=!0),Me.add(T,d),d.B=0}}function Gf(d,T){return pn(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=T.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Oe(A(d.Ga,d,T),$i(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const ae=new Qt(this,this.j,d);let ye=this.o;if(this.S&&(ye?(ye=I(ye),H(ye,this.S)):ye=this.S),this.m!==null||this.O||(ae.H=ye,ye=null),this.P)e:{for(var T=0,R=0;R<this.i.length;R++){t:{var V=this.i[R];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(T+=V,4096<T){T=R;break e}if(T===4096||R===this.i.length-1){T=R+1;break e}}T=1e3}else T=1e3;T=Vr(this,ae,T),R=ti(this.I),on(R,"RID",d),on(R,"CVER",22),this.D&&on(R,"X-HTTP-Session-Id",this.D),Fo(this,R),ye&&(this.O?T="headers="+encodeURIComponent(String(Qu(ye)))+"&"+T:this.m&&ar(R,this.m,ye)),Us(this.h,ae),this.Ua&&on(R,"TYPE","init"),this.P?(on(R,"$req",T),on(R,"SID","null"),ae.T=!0,Wn(ae,R,null)):Wn(ae,R,T),this.G=2}}else this.G==3&&(d?_r(this,d):this.i.length==0||ks(this.h)||_r(this))};function _r(d,T){var R;T?R=T.l:R=d.U++;const V=ti(d.I);on(V,"SID",d.K),on(V,"RID",R),on(V,"AID",d.T),Fo(d,V),d.m&&d.o&&ar(V,d.m,d.o),R=new Qt(d,d.j,R,d.B+1),d.m===null&&(R.H=d.o),T&&(d.i=T.D.concat(d.i)),T=Vr(d,R,1e3),R.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Us(d.h,R),Wn(R,V,T)}function Fo(d,T){d.H&&z(d.H,function(R,V){on(T,V,R)}),d.l&&Cl({},function(R,V){on(T,V,R)})}function Vr(d,T,R){R=Math.min(d.i.length,R);var V=d.l?A(d.l.Na,d.l,d):null;e:{var ae=d.i;let ye=-1;for(;;){const Pe=["count="+R];ye==-1?0<R?(ye=ae[0].g,Pe.push("ofs="+ye)):ye=0:Pe.push("ofs="+ye);let Ot=!0;for(let Qn=0;Qn<R;Qn++){let Ut=ae[Qn].g;const rn=ae[Qn].map;if(Ut-=ye,0>Ut)ye=Math.max(0,ae[Qn].g-100),Ot=!1;else try{zs(rn,Pe,"req"+Ut+"_")}catch{V&&V(rn)}}if(Ot){V=Pe.join("&");break e}}}return d=d.i.splice(0,R),T.D=d,V}function $f(d){if(!d.g&&!d.u){d.Y=1;var T=d.Fa;pe||G(),_e||(pe(),_e=!0),Me.add(T,d),d.v=0}}function Pl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Oe(A(d.Fa,d),$i(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,zo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Oe(A(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),jo(this),zo(this))};function ii(d){d.A!=null&&(m.clearTimeout(d.A),d.A=null)}function zo(d){d.g=new Qt(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var T=ti(d.qa);on(T,"RID","rpc"),on(T,"SID",d.K),on(T,"AID",d.T),on(T,"CI",d.F?"0":"1"),!d.F&&d.ja&&on(T,"TO",d.ja),on(T,"TYPE","xmlhttp"),Fo(d,T),d.m&&d.o&&ar(T,d.m,d.o),d.L&&(d.g.I=d.L);var R=d.g;d=d.ia,R.L=1,R.v=ca(ti(T)),R.m=null,R.P=!0,kr(R,d)}n.Za=function(){this.C!=null&&(this.C=null,jo(this),Pl(this),le(19))};function Ka(d){d.C!=null&&(m.clearTimeout(d.C),d.C=null)}function gn(d,T){var R=null;if(d.g==T){Ka(d),ii(d),d.g=null;var V=2}else if(Hi(d.h,T))R=T.D,sr(d.h,T),V=1;else return;if(d.G!=0){if(T.o)if(V==1){R=T.m?T.m.length:0,T=Date.now()-T.F;var ae=d.B;V=Ps(),it(V,new Se(V,R)),Bo(d)}else $f(d);else if(ae=T.s,ae==3||ae==0&&0<T.X||!(V==1&&Gf(d,T)||V==2&&Pl(d)))switch(R&&0<R.length&&(T=d.h,T.i=T.i.concat(R)),ae){case 1:ds(d,5);break;case 4:ds(d,10);break;case 3:ds(d,6);break;default:ds(d,2)}}}function $i(d,T){let R=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(R*=2),R*T}function ds(d,T){if(d.j.info("Error code "+T),T==2){var R=A(d.fb,d),V=d.Xa;const ae=!V;V=new $n(V||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ga(V,"https"),ca(V),ae?Po(V.toString(),R):hs(V.toString(),R)}else le(2);d.G=0,d.l&&d.l.sa(T),Kf(d),Ju(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function Kf(d){if(d.G=0,d.ka=[],d.l){const T=Rl(d.h);(T.length!=0||d.i.length!=0)&&(k(d.ka,T),k(d.ka,d.i),d.h.i.length=0,F(d.i),d.i.length=0),d.l.ra()}}function Ll(d,T,R){var V=R instanceof $n?ti(R):new $n(R);if(V.g!="")T&&(V.g=T+"."+V.g),js(V,V.s);else{var ae=m.location;V=ae.protocol,T=T?T+"."+ae.hostname:ae.hostname,ae=+ae.port;var ye=new $n(null);V&&Ga(ye,V),T&&(ye.g=T),ae&&js(ye,ae),R&&(ye.l=R),V=ye}return R=d.D,T=d.ya,R&&T&&on(V,R,T),on(V,"VER",d.la),Fo(d,V),V}function Yf(d,T,R){if(T&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=d.Ca&&!d.pa?new nn(new $a({eb:R})):new nn(d.pa),T.Ha(d.J),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wf(){}n=Wf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function kl(){}kl.prototype.g=function(d,T){return new Cr(d,T)};function Cr(d,T){He.call(this),this.g=new Vo(T),this.l=d,this.h=T&&T.messageUrlParams||null,d=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(d?d["X-WebChannel-Content-Type"]=T.messageContentType:d={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(d?d["X-WebChannel-Client-Profile"]=T.va:d={"X-WebChannel-Client-Profile":T.va}),this.g.S=d,(d=T&&T.Sb)&&!Q(d)&&(this.g.m=d),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!Q(T)&&(this.g.D=T,d=this.h,d!==null&&T in d&&(d=this.h,T in d&&delete d[T])),this.j=new Hs(this)}O(Cr,He),Cr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cr.prototype.close=function(){Ml(this.g)},Cr.prototype.o=function(d){var T=this.g;if(typeof d=="string"){var R={};R.__data__=d,d=R}else this.u&&(R={},R.__data__=Pr(d),d=R);T.i.push(new Jr(T.Ya++,d)),T.G==3&&Bo(T)},Cr.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,Cr.aa.N.call(this)};function Ho(d){Fi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var T=d.__sm__;if(T){e:{for(const R in T){d=R;break e}d=void 0}(this.i=d)&&(d=this.i,T=T!==null&&d in T?T[d]:void 0),this.data=T}else this.data=d}O(Ho,Fi);function pa(){Ha.call(this),this.status=1}O(pa,Ha);function Hs(d){this.g=d}O(Hs,Wf),Hs.prototype.ua=function(){it(this.g,"a")},Hs.prototype.ta=function(d){it(this.g,new Ho(d))},Hs.prototype.sa=function(d){it(this.g,new pa)},Hs.prototype.ra=function(){it(this.g,"b")},kl.prototype.createWebChannel=kl.prototype.g,Cr.prototype.send=Cr.prototype.o,Cr.prototype.open=Cr.prototype.m,Cr.prototype.close=Cr.prototype.close,SR=function(){return new kl},bR=function(){return Ps()},wR=Lr,uT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ge.NO_ERROR=0,Ge.TIMEOUT=8,Ge.HTTP_ERROR=6,Uv=Ge,st.COMPLETE="complete",TR=st,Oo.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",He.prototype.listen=He.prototype.K,Tp=Oo,nn.prototype.listenOnce=nn.prototype.L,nn.prototype.getLastError=nn.prototype.Ka,nn.prototype.getLastErrorCode=nn.prototype.Ba,nn.prototype.getStatus=nn.prototype.Z,nn.prototype.getResponseJson=nn.prototype.Oa,nn.prototype.getResponseText=nn.prototype.oa,nn.prototype.send=nn.prototype.ea,nn.prototype.setWithCredentials=nn.prototype.Ha,ER=nn}).apply(typeof Ev<"u"?Ev:typeof self<"u"?self:typeof window<"u"?window:{});const hS="@firebase/firestore",dS="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vi.UNAUTHENTICATED=new vi(null),vi.GOOGLE_CREDENTIALS=new vi("google-credentials-uid"),vi.FIRST_PARTY=new vi("first-party-uid"),vi.MOCK_USER=new vi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jd="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new JT("@firebase/firestore");function hd(){return If.logLevel}function Fe(n,...e){if(If.logLevel<=Ht.DEBUG){const t=e.map(dw);If.debug(`Firestore (${jd}): ${n}`,...t)}}function Tl(n,...e){if(If.logLevel<=Ht.ERROR){const t=e.map(dw);If.error(`Firestore (${jd}): ${n}`,...t)}}function Rd(n,...e){if(If.logLevel<=Ht.WARN){const t=e.map(dw);If.warn(`Firestore (${jd}): ${n}`,...t)}}function dw(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,AR(n,i,t)}function AR(n,e,t){let i=`FIRESTORE (${jd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Tl(i),new Error(i)}function dn(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||AR(e,a,i)}function yt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends Sl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(vi.UNAUTHENTICATED))}shutdown(){}}class vM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _M{constructor(e){this.t=e,this.currentUser=vi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){dn(this.o===void 0,42304);let i=this.i;const a=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let u=new Du;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Du,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Du)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dn(typeof i.accessToken=="string",31837,{l:i}),new RR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dn(e===null||typeof e=="string",2055,{h:e}),new vi(e)}}class EM{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=vi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TM{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new EM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(vi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ma(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){dn(this.o===void 0,3512);const i=u=>{u.error!=null&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,Fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>i(u))};const a=u=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?a(u):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(dn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new mS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=bM(40);for(let u=0;u<a.length;++u)i.length<20&&a[u]<t&&(i+=e.charAt(a[u]%62))}return i}}function It(n,e){return n<e?-1:n>e?1:0}function cT(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return It(i,a);{const u=xR(),h=SM(u.encode(pS(n,t)),u.encode(pS(e,t)));return h!==0?h:It(i,a)}}t+=i>65535?2:1}return It(n.length,e.length)}function pS(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function SM(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return It(n[t],e[t]);return It(n.length,e.length)}function xd(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=-62135596800,yS=1e6;class wr{static now(){return wr.fromMillis(Date.now())}static fromDate(e){return wr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*yS);return new wr(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $e(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $e(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<gS)throw new $e(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yS}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-gS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static fromTimestamp(e){return new gt(e)}static min(){return new gt(new wr(0,0))}static max(){return new gt(new wr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="__name__";class wo{constructor(e,t,i){t===void 0?t=0:t>e.length&&dt(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&dt(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return wo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wo?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const u=wo.compareSegments(e.get(a),t.get(a));if(u!==0)return u}return It(e.length,t.length)}static compareSegments(e,t){const i=wo.isNumericId(e),a=wo.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?wo.extractNumericId(e).compare(wo.extractNumericId(t)):cT(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nu.fromString(e.substring(4,e.length-2))}}class On extends wo{construct(e,t,i){return new On(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new $e(Ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new On(t)}static emptyPath(){return new On([])}}const AM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kr extends wo{construct(e,t,i){return new Kr(e,t,i)}static isValidIdentifier(e){return AM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vS}static keyField(){return new Kr([vS])}static fromServerFormat(e){const t=[];let i="",a=0;const u=()=>{if(i.length===0)throw new $e(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new $e(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new $e(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(i+=m,a++):(u(),a++)}if(u(),h)throw new $e(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kr(t)}static emptyPath(){return new Kr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.path=e}static fromPath(e){return new tt(On.fromString(e))}static fromName(e){return new tt(On.fromString(e).popFirst(5))}static empty(){return new tt(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&On.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return On.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new On(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=-1;function RM(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=gt.fromTimestamp(i===1e9?new wr(t+1,0):new wr(t,i));return new Pu(a,tt.empty(),e)}function xM(n){return new Pu(n.readTime,n.key,Bp)}class Pu{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Pu(gt.min(),tt.empty(),Bp)}static max(){return new Pu(gt.max(),tt.empty(),Bp)}}function CM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=tt.comparator(n.documentKey,e.documentKey),t!==0?t:It(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bd(n){if(n.code!==Ie.FAILED_PRECONDITION||n.message!==IM)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ce((i,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ce?t:Ce.resolve(t)}catch(t){return Ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.reject(t)}static resolve(e){return new Ce((t,i)=>{t(e)})}static reject(e){return new Ce((t,i)=>{i(e)})}static waitFor(e){return new Ce((t,i)=>{let a=0,u=0,h=!1;e.forEach(m=>{++a,m.next(()=>{++u,h&&u===a&&t()},g=>i(g))}),h=!0,u===a&&t()})}static or(e){let t=Ce.resolve(!1);for(const i of e)t=t.next(a=>a?Ce.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,u)=>{i.push(t.call(this,a,u))}),this.waitFor(i)}static mapArray(e,t){return new Ce((i,a)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const v=g;t(e[v]).next(E=>{h[v]=E,++m,m===u&&i(h)},E=>a(E))}})}static doWhile(e,t){return new Ce((i,a)=>{const u=()=>{e()===!0?t().next(()=>{u()},a):i()};u()})}}function DM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fd(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}P_.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=-1;function L_(n){return n==null}function i_(n){return n===0&&1/n==-1/0}function OM(n){return typeof n=="number"&&Number.isInteger(n)&&!i_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="";function MM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=_S(e)),e=PM(n.get(t),e);return _S(e)}function PM(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const u=n.charAt(a);switch(u){case"\0":t+="";break;case IR:t+="";break;default:t+=u}}return t}function _S(n){return n+IR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function NR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,t){this.comparator=e,this.root=t||$r.EMPTY}insert(e,t){return new Hn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$r.BLACK,null,null))}remove(e){return new Hn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$r.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tv(this.root,e,this.comparator,!0)}}class Tv{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $r{constructor(e,t,i,a,u){this.key=e,this.value=t,this.color=i??$r.RED,this.left=a??$r.EMPTY,this.right=u??$r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,u){return new $r(e??this.key,t??this.value,i??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const u=i(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,i),null):u===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return $r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return $r.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}$r.EMPTY=null,$r.RED=!0,$r.BLACK=!1;$r.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,t,i,a,u){return this}insert(e,t,i){return new $r(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.comparator=e,this.data=new Hn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new TS(this.data.getIterator())}getIteratorFrom(e){return new TS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof br)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=i.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new br(this.comparator);return t.data=e,t}}class TS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.fields=e,e.sort(Kr.comparator)}static empty(){return new Is([])}unionWith(e){let t=new br(Kr.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Is(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xd(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new DR("Invalid base64 string: "+u):u}}(e);return new Yr(t)}static fromUint8Array(e){const t=function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u}(e);return new Yr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yr.EMPTY_BYTE_STRING=new Yr("");const LM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lu(n){if(dn(!!n,39018),typeof n=="string"){let e=0;const t=LM.exec(n);if(dn(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ir(n.seconds),nanos:ir(n.nanos)}}function ir(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ku(n){return typeof n=="string"?Yr.fromBase64String(n):Yr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="server_timestamp",MR="__type__",PR="__previous_value__",LR="__local_write_time__";function pw(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[MR])===null||t===void 0?void 0:t.stringValue)===OR}function k_(n){const e=n.mapValue.fields[PR];return pw(e)?k_(e):e}function Fp(n){const e=Lu(n.mapValue.fields[LR].timestampValue);return new wr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,t,i,a,u,h,m,g,v,E){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=E}}const s_="(default)";class zp{constructor(e,t){this.projectId=e,this.database=t||s_}static empty(){return new zp("","")}get isDefaultDatabase(){return this.database===s_}isEqual(e){return e instanceof zp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="__type__",UM="__max__",wv={mapValue:{}},UR="__vector__",a_="value";function Uu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pw(n)?4:jM(n)?9007199254740991:VM(n)?10:11:dt(28295,{value:n})}function No(n,e){if(n===e)return!0;const t=Uu(n);if(t!==Uu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fp(n).isEqual(Fp(e));case 3:return function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const h=Lu(a.timestampValue),m=Lu(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,u){return ku(a.bytesValue).isEqual(ku(u.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,u){return ir(a.geoPointValue.latitude)===ir(u.geoPointValue.latitude)&&ir(a.geoPointValue.longitude)===ir(u.geoPointValue.longitude)}(n,e);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return ir(a.integerValue)===ir(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const h=ir(a.doubleValue),m=ir(u.doubleValue);return h===m?i_(h)===i_(m):isNaN(h)&&isNaN(m)}return!1}(n,e);case 9:return xd(n.arrayValue.values||[],e.arrayValue.values||[],No);case 10:case 11:return function(a,u){const h=a.mapValue.fields||{},m=u.mapValue.fields||{};if(ES(h)!==ES(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!No(h[g],m[g])))return!1;return!0}(n,e);default:return dt(52216,{left:n})}}function Hp(n,e){return(n.values||[]).find(t=>No(t,e))!==void 0}function Cd(n,e){if(n===e)return 0;const t=Uu(n),i=Uu(e);if(t!==i)return It(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return It(n.booleanValue,e.booleanValue);case 2:return function(u,h){const m=ir(u.integerValue||u.doubleValue),g=ir(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(n,e);case 3:return wS(n.timestampValue,e.timestampValue);case 4:return wS(Fp(n),Fp(e));case 5:return cT(n.stringValue,e.stringValue);case 6:return function(u,h){const m=ku(u),g=ku(h);return m.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),g=h.split("/");for(let v=0;v<m.length&&v<g.length;v++){const E=It(m[v],g[v]);if(E!==0)return E}return It(m.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(u,h){const m=It(ir(u.latitude),ir(h.latitude));return m!==0?m:It(ir(u.longitude),ir(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return bS(n.arrayValue,e.arrayValue);case 10:return function(u,h){var m,g,v,E;const S=u.fields||{},A=h.fields||{},D=(m=S[a_])===null||m===void 0?void 0:m.arrayValue,O=(g=A[a_])===null||g===void 0?void 0:g.arrayValue,F=It(((v=D==null?void 0:D.values)===null||v===void 0?void 0:v.length)||0,((E=O==null?void 0:O.values)===null||E===void 0?void 0:E.length)||0);return F!==0?F:bS(D,O)}(n.mapValue,e.mapValue);case 11:return function(u,h){if(u===wv.mapValue&&h===wv.mapValue)return 0;if(u===wv.mapValue)return 1;if(h===wv.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),v=h.fields||{},E=Object.keys(v);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const A=cT(g[S],E[S]);if(A!==0)return A;const D=Cd(m[g[S]],v[E[S]]);if(D!==0)return D}return It(g.length,E.length)}(n.mapValue,e.mapValue);default:throw dt(23264,{Pe:t})}}function wS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return It(n,e);const t=Lu(n),i=Lu(e),a=It(t.seconds,i.seconds);return a!==0?a:It(t.nanos,i.nanos)}function bS(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const u=Cd(t[a],i[a]);if(u)return u}return It(t.length,i.length)}function Id(n){return fT(n)}function fT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Lu(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ku(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return tt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const u of t.values||[])a?a=!1:i+=",",i+=fT(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",u=!0;for(const h of i)u?u=!1:a+=",",a+=`${h}:${fT(t.fields[h])}`;return a+"}"}(n.mapValue):dt(61005,{value:n})}function Vv(n){switch(Uu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=k_(n);return e?16+Vv(e):16;case 5:return 2*n.stringValue.length;case 6:return ku(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,u)=>a+Vv(u),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return zu(i.fields,(u,h)=>{a+=u.length+Vv(h)}),a}(n.mapValue);default:throw dt(13486,{value:n})}}function SS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function hT(n){return!!n&&"integerValue"in n}function gw(n){return!!n&&"arrayValue"in n}function AS(n){return!!n&&"nullValue"in n}function RS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jv(n){return!!n&&"mapValue"in n}function VM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[kR])===null||t===void 0?void 0:t.stringValue)===UR}function Op(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return zu(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Op(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Op(n.arrayValue.values[t]);return e}return Object.assign({},n)}function jM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===UM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.value=e}static empty(){return new as({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!jv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Op(t)}setAll(e){let t=Kr.emptyPath(),i={},a=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,i,a),i={},a=[],t=m.popLast()}h?i[m.lastSegment()]=Op(h):a.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,i,a)}delete(e){const t=this.field(e.popLast());jv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return No(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];jv(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){zu(t,(a,u)=>e[a]=u);for(const a of i)delete e[a]}clone(){return new as(Op(this.value))}}function VR(n){const e=[];return zu(n.fields,(t,i)=>{const a=new Kr([t]);if(jv(i)){const u=VR(i.mapValue).fields;if(u.length===0)e.push(a);else for(const h of u)e.push(a.child(h))}else e.push(a)}),new Is(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,t,i,a,u,h,m){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new _i(e,0,gt.min(),gt.min(),gt.min(),as.empty(),0)}static newFoundDocument(e,t,i,a){return new _i(e,1,t,gt.min(),i,a,0)}static newNoDocument(e,t){return new _i(e,2,t,gt.min(),gt.min(),as.empty(),0)}static newUnknownDocument(e,t){return new _i(e,3,t,gt.min(),gt.min(),as.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=as.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=as.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,t){this.position=e,this.inclusive=t}}function xS(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const u=e[a],h=n.position[a];if(u.field.isKeyField()?i=tt.comparator(tt.fromName(h.referenceValue),t.key):i=Cd(h,t.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function CS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!No(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,t="asc"){this.field=e,this.dir=t}}function BM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{}class pr extends jR{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new zM(e,t,i):t==="array-contains"?new GM(e,i):t==="in"?new $M(e,i):t==="not-in"?new KM(e,i):t==="array-contains-any"?new YM(e,i):new pr(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new HM(e,i):new qM(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Cd(t,this.value)):t!==null&&Uu(this.value)===Uu(t)&&this.matchesComparison(Cd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ua extends jR{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Ua(e,t)}matches(e){return BR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function BR(n){return n.op==="and"}function FR(n){return FM(n)&&BR(n)}function FM(n){for(const e of n.filters)if(e instanceof Ua)return!1;return!0}function dT(n){if(n instanceof pr)return n.field.canonicalString()+n.op.toString()+Id(n.value);if(FR(n))return n.filters.map(e=>dT(e)).join(",");{const e=n.filters.map(t=>dT(t)).join(",");return`${n.op}(${e})`}}function zR(n,e){return n instanceof pr?function(i,a){return a instanceof pr&&i.op===a.op&&i.field.isEqual(a.field)&&No(i.value,a.value)}(n,e):n instanceof Ua?function(i,a){return a instanceof Ua&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((u,h,m)=>u&&zR(h,a.filters[m]),!0):!1}(n,e):void dt(19439)}function HR(n){return n instanceof pr?function(t){return`${t.field.canonicalString()} ${t.op} ${Id(t.value)}`}(n):n instanceof Ua?function(t){return t.op.toString()+" {"+t.getFilters().map(HR).join(" ,")+"}"}(n):"Filter"}class zM extends pr{constructor(e,t,i){super(e,t,i),this.key=tt.fromName(i.referenceValue)}matches(e){const t=tt.comparator(e.key,this.key);return this.matchesComparison(t)}}class HM extends pr{constructor(e,t){super(e,"in",t),this.keys=qR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qM extends pr{constructor(e,t){super(e,"not-in",t),this.keys=qR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function qR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>tt.fromName(i.referenceValue))}class GM extends pr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gw(t)&&Hp(t.arrayValue,this.value)}}class $M extends pr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hp(this.value.arrayValue,t)}}class KM extends pr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hp(this.value.arrayValue,t)}}class YM extends pr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Hp(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,t=null,i=[],a=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=u,this.startAt=h,this.endAt=m,this.Ie=null}}function IS(n,e=null,t=[],i=[],a=null,u=null,h=null){return new WM(n,e,t,i,a,u,h)}function yw(n){const e=yt(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>dT(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(u){return u.field.canonicalString()+u.dir}(i)).join(","),L_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Id(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Id(i)).join(",")),e.Ie=t}return e.Ie}function vw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!BM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!CS(n.startAt,e.startAt)&&CS(n.endAt,e.endAt)}function mT(n){return tt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t=null,i=[],a=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function QM(n,e,t,i,a,u,h,m){return new ag(n,e,t,i,a,u,h,m)}function _w(n){return new ag(n)}function NS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function GR(n){return n.collectionGroup!==null}function Mp(n){const e=yt(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),t.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new br(Kr.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new l_(u,i))}),t.has(Kr.keyField().canonicalString())||e.Ee.push(new l_(Kr.keyField(),i))}return e.Ee}function Ao(n){const e=yt(n);return e.de||(e.de=XM(e,Mp(n))),e.de}function XM(n,e){if(n.limitType==="F")return IS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const u=a.dir==="desc"?"asc":"desc";return new l_(a.field,u)});const t=n.endAt?new o_(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new o_(n.startAt.position,n.startAt.inclusive):null;return IS(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function pT(n,e){const t=n.filters.concat([e]);return new ag(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function gT(n,e,t){return new ag(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function U_(n,e){return vw(Ao(n),Ao(e))&&n.limitType===e.limitType}function $R(n){return`${yw(Ao(n))}|lt:${n.limitType}`}function dd(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>HR(a)).join(", ")}]`),L_(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Id(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Id(a)).join(",")),`Target(${i})`}(Ao(n))}; limitType=${n.limitType})`}function V_(n,e){return e.isFoundDocument()&&function(i,a){const u=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):tt.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(n,e)&&function(i,a){for(const u of Mp(i))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const u of i.filters)if(!u.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(h,m,g){const v=xS(h,m,g);return h.inclusive?v<=0:v<0}(i.startAt,Mp(i),a)||i.endAt&&!function(h,m,g){const v=xS(h,m,g);return h.inclusive?v>=0:v>0}(i.endAt,Mp(i),a))}(n,e)}function ZM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function KR(n){return(e,t)=>{let i=!1;for(const a of Mp(n)){const u=JM(a,e,t);if(u!==0)return u;i=i||a.field.isKeyField()}return 0}}function JM(n,e,t){const i=n.field.isKeyField()?tt.comparator(e.key,t.key):function(u,h,m){const g=h.data.field(u),v=m.data.field(u);return g!==null&&v!==null?Cd(g,v):dt(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return dt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,u]of i)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){zu(this.inner,(t,i)=>{for(const[a,u]of i)e(a,u)})}isEmpty(){return NR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=new Hn(tt.comparator);function wl(){return eP}const YR=new Hn(tt.comparator);function wp(...n){let e=YR;for(const t of n)e=e.insert(t.key,t);return e}function WR(n){let e=YR;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function gf(){return Pp()}function QR(){return Pp()}function Pp(){return new Lf(n=>n.toString(),(n,e)=>n.isEqual(e))}const tP=new Hn(tt.comparator),nP=new br(tt.comparator);function qt(...n){let e=nP;for(const t of n)e=e.add(t);return e}const rP=new br(It);function iP(){return rP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:i_(e)?"-0":e}}function XR(n){return{integerValue:""+n}}function sP(n,e){return OM(e)?XR(e):Ew(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(){this._=void 0}}function aP(n,e,t){return n instanceof qp?function(a,u){const h={fields:{[MR]:{stringValue:OR},[LR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&pw(u)&&(u=k_(u)),u&&(h.fields[PR]=u),{mapValue:h}}(t,e):n instanceof Gp?JR(n,e):n instanceof $p?ex(n,e):function(a,u){const h=ZR(a,u),m=DS(h)+DS(a.Re);return hT(h)&&hT(a.Re)?XR(m):Ew(a.serializer,m)}(n,e)}function oP(n,e,t){return n instanceof Gp?JR(n,e):n instanceof $p?ex(n,e):t}function ZR(n,e){return n instanceof u_?function(i){return hT(i)||function(u){return!!u&&"doubleValue"in u}(i)}(e)?e:{integerValue:0}:null}class qp extends j_{}class Gp extends j_{constructor(e){super(),this.elements=e}}function JR(n,e){const t=tx(e);for(const i of n.elements)t.some(a=>No(a,i))||t.push(i);return{arrayValue:{values:t}}}class $p extends j_{constructor(e){super(),this.elements=e}}function ex(n,e){let t=tx(e);for(const i of n.elements)t=t.filter(a=>!No(a,i));return{arrayValue:{values:t}}}class u_ extends j_{constructor(e,t){super(),this.serializer=e,this.Re=t}}function DS(n){return ir(n.integerValue||n.doubleValue)}function tx(n){return gw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,t){this.field=e,this.transform=t}}function uP(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof Gp&&a instanceof Gp||i instanceof $p&&a instanceof $p?xd(i.elements,a.elements,No):i instanceof u_&&a instanceof u_?No(i.Re,a.Re):i instanceof qp&&a instanceof qp}(n.transform,e.transform)}class cP{constructor(e,t){this.version=e,this.transformResults=t}}class ra{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ra}static exists(e){return new ra(void 0,e)}static updateTime(e){return new ra(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bv(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class B_{}function nx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Tw(n.key,ra.none()):new og(n.key,n.data,ra.none());{const t=n.data,i=as.empty();let a=new br(Kr.comparator);for(let u of e.fields)if(!a.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?i.delete(u):i.set(u,h),a=a.add(u)}return new Hu(n.key,i,new Is(a.toArray()),ra.none())}}function fP(n,e,t){n instanceof og?function(a,u,h){const m=a.value.clone(),g=MS(a.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(n,e,t):n instanceof Hu?function(a,u,h){if(!Bv(a.precondition,u))return void u.convertToUnknownDocument(h.version);const m=MS(a.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(rx(a)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(n,e,t):function(a,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Lp(n,e,t,i){return n instanceof og?function(u,h,m,g){if(!Bv(u.precondition,h))return m;const v=u.value.clone(),E=PS(u.fieldTransforms,g,h);return v.setAll(E),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(n,e,t,i):n instanceof Hu?function(u,h,m,g){if(!Bv(u.precondition,h))return m;const v=PS(u.fieldTransforms,g,h),E=h.data;return E.setAll(rx(u)),E.setAll(v),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(n,e,t,i):function(u,h,m){return Bv(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(n,e,t)}function hP(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),u=ZR(i.transform,a||null);u!=null&&(t===null&&(t=as.empty()),t.set(i.field,u))}return t||null}function OS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&xd(i,a,(u,h)=>uP(u,h))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class og extends B_{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Hu extends B_{constructor(e,t,i,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function rx(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function MS(n,e,t){const i=new Map;dn(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const u=n[a],h=u.transform,m=e.data.field(u.field);i.set(u.field,oP(h,m,t[a]))}return i}function PS(n,e,t){const i=new Map;for(const a of n){const u=a.transform,h=t.data.field(a.field);i.set(a.field,aP(u,h,e))}return i}class Tw extends B_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dP extends B_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&fP(u,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Lp(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Lp(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=QR();return this.mutations.forEach(a=>{const u=e.get(a.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(a.key)?null:m;const g=nx(h,m);g!==null&&i.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(gt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qt())}isEqual(e){return this.batchId===e.batchId&&xd(this.mutations,e.mutations,(t,i)=>OS(t,i))&&xd(this.baseMutations,e.baseMutations,(t,i)=>OS(t,i))}}class ww{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){dn(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return tP}();const u=e.mutations;for(let h=0;h<u.length;h++)a=a.insert(u[h].key,i[h].version);return new ww(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mr,Xt;function yP(n){switch(n){case Ie.OK:return dt(64938);case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0;default:return dt(15467,{code:n})}}function ix(n){if(n===void 0)return Tl("GRPC error has no .code"),Ie.UNKNOWN;switch(n){case mr.OK:return Ie.OK;case mr.CANCELLED:return Ie.CANCELLED;case mr.UNKNOWN:return Ie.UNKNOWN;case mr.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case mr.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case mr.INTERNAL:return Ie.INTERNAL;case mr.UNAVAILABLE:return Ie.UNAVAILABLE;case mr.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case mr.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case mr.NOT_FOUND:return Ie.NOT_FOUND;case mr.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case mr.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case mr.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case mr.ABORTED:return Ie.ABORTED;case mr.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case mr.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case mr.DATA_LOSS:return Ie.DATA_LOSS;default:return dt(39323,{code:n})}}(Xt=mr||(mr={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=new Nu([4294967295,4294967295],0);function LS(n){const e=xR().encode(n),t=new _R;return t.update(e),new Uint8Array(t.digest())}function kS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Nu([t,i],0),new Nu([a,u],0)]}class bw{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new bp(`Invalid padding: ${t}`);if(i<0)throw new bp(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new bp(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new bp(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Nu.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(Nu.fromNumber(i)));return a.compare(vP)===1&&(a=new Nu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=LS(e),[i,a]=kS(t);for(let u=0;u<this.hashCount;u++){const h=this.we(i,a,u);if(!this.be(h))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new bw(u,a,t);return i.forEach(m=>h.insert(m)),h}insert(e){if(this.pe===0)return;const t=LS(e),[i,a]=kS(t);for(let u=0;u<this.hashCount;u++){const h=this.we(i,a,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class bp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,t,i,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,lg.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new F_(gt.min(),a,new Hn(It),wl(),qt())}}class lg{constructor(e,t,i,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new lg(i,t,qt(),qt(),qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class sx{constructor(e,t){this.targetId=e,this.Ce=t}}class ax{constructor(e,t,i=Yr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class US{constructor(){this.Fe=0,this.Me=VS(),this.xe=Yr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=qt(),t=qt(),i=qt();return this.Me.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:dt(38017,{changeType:u})}}),new lg(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=VS()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,dn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class _P{constructor(e){this.ze=e,this.je=new Map,this.He=wl(),this.Je=bv(),this.Ye=bv(),this.Ze=new Hn(It)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:dt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const u=a.target;if(mT(u))if(i===0){const h=new tt(u.path);this.tt(t,h,_i.newNoDocument(h,gt.min()))}else dn(i===1,20013,{expectedCount:i});else{const h=this.ut(t);if(h!==i){const m=this.ct(e),g=m?this.lt(m,e,h):1;if(g!==0){this.st(t);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,v)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:u=0}=t;let h,m;try{h=ku(i).toUint8Array()}catch(g){if(g instanceof DR)return Rd("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new bw(h,a,u)}catch(g){return Rd(g instanceof bp?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.pe===0?null:m}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(u=>{const h=this.ze.Pt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(t,u,null),a++)}),a}It(e){const t=new Map;this.je.forEach((u,h)=>{const m=this._t(h);if(m){if(u.current&&mT(m.target)){const g=new tt(m.target.path);this.Et(g).has(h)||this.dt(h,g)||this.tt(h,g,_i.newNoDocument(g,e))}u.Le&&(t.set(h,u.qe()),u.Qe())}});let i=qt();this.Ye.forEach((u,h)=>{let m=!0;h.forEachWhile(g=>{const v=this._t(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(u))}),this.He.forEach((u,h)=>h.setReadTime(e));const a=new F_(e,t,this.Ze,this.He,i);return this.He=wl(),this.Je=bv(),this.Ye=bv(),this.Ze=new Hn(It),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new US,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new br(It),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new br(It),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new US),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function bv(){return new Hn(tt.comparator)}function VS(){return new Hn(tt.comparator)}const EP={asc:"ASCENDING",desc:"DESCENDING"},TP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wP={and:"AND",or:"OR"};class bP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yT(n,e){return n.useProto3Json||L_(e)?e:{value:e}}function c_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ox(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function SP(n,e){return c_(n,e.toTimestamp())}function Ro(n){return dn(!!n,49232),gt.fromTimestamp(function(t){const i=Lu(t);return new wr(i.seconds,i.nanos)}(n))}function Sw(n,e){return vT(n,e).canonicalString()}function vT(n,e){const t=function(a){return new On(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function lx(n){const e=On.fromString(n);return dn(dx(e),10190,{key:e.toString()}),e}function _T(n,e){return Sw(n.databaseId,e.path)}function CE(n,e){const t=lx(e);if(t.get(1)!==n.databaseId.projectId)throw new $e(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $e(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tt(cx(t))}function ux(n,e){return Sw(n.databaseId,e)}function AP(n){const e=lx(n);return e.length===4?On.emptyPath():cx(e)}function ET(n){return new On(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cx(n){return dn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function jS(n,e,t){return{name:_T(n,e),fields:t.value.mapValue.fields}}function RP(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:dt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=function(v,E){return v.useProto3Json?(dn(E===void 0||typeof E=="string",58123),Yr.fromBase64String(E||"")):(dn(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yr.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(v){const E=v.code===void 0?Ie.UNKNOWN:ix(v.code);return new $e(E,v.message||"")}(h);t=new ax(i,a,u,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=CE(n,i.document.name),u=Ro(i.document.updateTime),h=i.document.createTime?Ro(i.document.createTime):gt.min(),m=new as({mapValue:{fields:i.document.fields}}),g=_i.newFoundDocument(a,u,h,m),v=i.targetIds||[],E=i.removedTargetIds||[];t=new Fv(v,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=CE(n,i.document),u=i.readTime?Ro(i.readTime):gt.min(),h=_i.newNoDocument(a,u),m=i.removedTargetIds||[];t=new Fv([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=CE(n,i.document),u=i.removedTargetIds||[];t=new Fv([],u,a,null)}else{if(!("filter"in e))return dt(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:u}=i,h=new gP(a,u),m=i.targetId;t=new sx(m,h)}}return t}function xP(n,e){let t;if(e instanceof og)t={update:jS(n,e.key,e.value)};else if(e instanceof Tw)t={delete:_T(n,e.key)};else if(e instanceof Hu)t={update:jS(n,e.key,e.data),updateMask:kP(e.fieldMask)};else{if(!(e instanceof dP))return dt(16599,{ft:e.type});t={verify:_T(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(u,h){const m=h.transform;if(m instanceof qp)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Gp)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof $p)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof u_)return{fieldPath:h.field.canonicalString(),increment:m.Re};throw dt(20930,{transform:h.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,u){return u.updateTime!==void 0?{updateTime:SP(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:dt(27497)}(n,e.precondition)),t}function CP(n,e){return n&&n.length>0?(dn(e!==void 0,14353),n.map(t=>function(a,u){let h=a.updateTime?Ro(a.updateTime):Ro(u);return h.isEqual(gt.min())&&(h=Ro(u)),new cP(h,a.transformResults||[])}(t,e))):[]}function IP(n,e){return{documents:[ux(n,e.path)]}}function NP(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=ux(n,a);const u=function(v){if(v.length!==0)return hx(Ua.create(v,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(v){if(v.length!==0)return v.map(E=>function(A){return{field:md(A.field),direction:MP(A.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=yT(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{gt:t,parent:a}}function DP(n){let e=AP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){dn(i===1,65062);const E=t.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(S){const A=fx(S);return A instanceof Ua&&FR(A)?A.getFilters():[A]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(A=>function(O){return new l_(pd(O.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(A))}(t.orderBy));let m=null;t.limit&&(m=function(S){let A;return A=typeof S=="object"?S.value:S,L_(A)?null:A}(t.limit));let g=null;t.startAt&&(g=function(S){const A=!!S.before,D=S.values||[];return new o_(D,A)}(t.startAt));let v=null;return t.endAt&&(v=function(S){const A=!S.before,D=S.values||[];return new o_(D,A)}(t.endAt)),QM(e,a,h,u,m,"F",g,v)}function OP(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function fx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=pd(t.unaryFilter.field);return pr.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=pd(t.unaryFilter.field);return pr.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=pd(t.unaryFilter.field);return pr.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=pd(t.unaryFilter.field);return pr.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}}(n):n.fieldFilter!==void 0?function(t){return pr.create(pd(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ua.create(t.compositeFilter.filters.map(i=>fx(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return dt(1026)}}(t.compositeFilter.op))}(n):dt(30097,{filter:n})}function MP(n){return EP[n]}function PP(n){return TP[n]}function LP(n){return wP[n]}function md(n){return{fieldPath:n.canonicalString()}}function pd(n){return Kr.fromServerFormat(n.fieldPath)}function hx(n){return n instanceof pr?function(t){if(t.op==="=="){if(RS(t.value))return{unaryFilter:{field:md(t.field),op:"IS_NAN"}};if(AS(t.value))return{unaryFilter:{field:md(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(RS(t.value))return{unaryFilter:{field:md(t.field),op:"IS_NOT_NAN"}};if(AS(t.value))return{unaryFilter:{field:md(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:md(t.field),op:PP(t.op),value:t.value}}}(n):n instanceof Ua?function(t){const i=t.getFilters().map(a=>hx(a));return i.length===1?i[0]:{compositeFilter:{op:LP(t.op),filters:i}}}(n):dt(54877,{filter:n})}function kP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t,i,a,u=gt.min(),h=gt.min(),m=Yr.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Au(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Au(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Au(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Au(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.wt=e}}function VP(n){const e=DP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?gT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(){this.Cn=new BP}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ce.resolve()}getCollectionParents(e,t){return Ce.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ce.resolve()}deleteFieldIndex(e,t){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,t){return Ce.resolve()}getDocumentsMatchingTarget(e,t){return Ce.resolve(null)}getIndexType(e,t){return Ce.resolve(0)}getFieldIndexes(e,t){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,t){return Ce.resolve(Pu.min())}getMinOffsetFromCollectionGroup(e,t){return Ce.resolve(Pu.min())}updateCollectionGroup(e,t,i){return Ce.resolve()}updateIndexEntries(e,t){return Ce.resolve()}}class BP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new br(On.comparator),u=!a.has(i);return this.index[t]=a.add(i),u}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new br(On.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mx=41943040;class ss{static withCacheSize(e){return new ss(e,ss.DEFAULT_COLLECTION_PERCENTILE,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ss.DEFAULT_COLLECTION_PERCENTILE=10,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ss.DEFAULT=new ss(mx,ss.DEFAULT_COLLECTION_PERCENTILE,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ss.DISABLED=new ss(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Nd(0)}static lr(){return new Nd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="LruGarbageCollector",FP=1048576;function zS([n,e],[t,i]){const a=It(n,t);return a===0?It(e,i):a}class zP{constructor(e){this.Er=e,this.buffer=new br(zS),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();zS(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class HP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Fe(FS,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fd(t)?Fe(FS,"Ignoring IndexedDB error during garbage collection: ",t):await Bd(t)}await this.mr(3e5)})}}class qP{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Ce.resolve(P_.le);const i=new zP(t);return this.gr.forEachTarget(e,a=>i.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>i.Rr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(BS)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BS):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,a,u,h,m,g,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),a=this.params.maximumSequenceNumbersToCollect):a=S,h=Date.now(),this.nthSequenceNumber(e,a))).next(S=>(i=S,m=Date.now(),this.removeTargets(e,i,t))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(v=Date.now(),hd()<=Ht.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${a} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(v-g)+`ms
Total Duration: ${v-E}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:S})))}}function GP(n,e){return new qP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this.changes=new Lf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_i.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Ce.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&Lp(i.mutation,a,Is.empty(),wr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,qt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=qt()){const a=gf();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(u=>{let h=wp();return u.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=gf();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,qt()))}populateOverlays(e,t,i){const a=[];return i.forEach(u=>{t.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,i,a){let u=wl();const h=Pp(),m=function(){return Pp()}();return t.forEach((g,v)=>{const E=i.get(v.key);a.has(v.key)&&(E===void 0||E.mutation instanceof Hu)?u=u.insert(v.key,v):E!==void 0?(h.set(v.key,E.mutation.getFieldMask()),Lp(E.mutation,v,E.mutation.getFieldMask(),wr.now())):h.set(v.key,Is.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((v,E)=>h.set(v,E)),t.forEach((v,E)=>{var S;return m.set(v,new KP(E,(S=h.get(v))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,t){const i=Pp();let a=new Hn((h,m)=>h-m),u=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(g=>{const v=t.get(g);if(v===null)return;let E=i.get(g)||Is.empty();E=m.applyToLocalView(v,E),i.set(g,E);const S=(a.get(m.batchId)||qt()).add(g);a=a.insert(m.batchId,S)})}).next(()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),v=g.key,E=g.value,S=QR();E.forEach(A=>{if(!u.has(A)){const D=nx(t.get(A),i.get(A));D!==null&&S.set(A,D),u=u.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,S))}return Ce.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(h){return tt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-u.size):Ce.resolve(gf());let m=Bp,g=u;return h.next(v=>Ce.forEach(v,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?Ce.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{g=g.insert(E,A)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,g,v,qt())).next(E=>({batchId:m,changes:WR(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tt(t)).next(i=>{let a=wp();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const u=t.collectionGroup;let h=wp();return this.indexManager.getCollectionParents(e,u).next(m=>Ce.forEach(m,g=>{const v=function(S,A){return new ag(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,i,a).next(E=>{E.forEach((S,A)=>{h=h.insert(S,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,u,a))).next(h=>{u.forEach((g,v)=>{const E=v.getKey();h.get(E)===null&&(h=h.insert(E,_i.newInvalidDocument(E)))});let m=wp();return h.forEach((g,v)=>{const E=u.get(g);E!==void 0&&Lp(E.mutation,v,Is.empty(),wr.now()),V_(t,v)&&(m=m.insert(g,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Ce.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Ro(a.createTime)}}(t)),Ce.resolve()}getNamedQuery(e,t){return Ce.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:VP(a.bundledQuery),readTime:Ro(a.readTime)}}(t)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(){this.overlays=new Hn(tt.comparator),this.Qr=new Map}getOverlay(e,t){return Ce.resolve(this.overlays.get(t))}getOverlays(e,t){const i=gf();return Ce.forEach(t,a=>this.getOverlay(e,a).next(u=>{u!==null&&i.set(a,u)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,u)=>{this.St(e,t,u)}),Ce.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Qr.get(i);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(i)),Ce.resolve()}getOverlaysForCollection(e,t,i){const a=gf(),u=t.length+1,h=new tt(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>i&&a.set(g.getKey(),g)}return Ce.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let u=new Hn((v,E)=>v-E);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let E=u.get(v.largestBatchId);E===null&&(E=gf(),u=u.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const m=gf(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,E)=>m.set(v,E)),!(m.size()>=a)););return Ce.resolve(m)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const h=this.Qr.get(a.largestBatchId).delete(i.key);this.Qr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new pP(t,i));let u=this.Qr.get(t);u===void 0&&(u=qt(),this.Qr.set(t,u)),this.Qr.set(t,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(){this.sessionToken=Yr.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.$r=new br(Mr.Ur),this.Kr=new br(Mr.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new Mr(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new Mr(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new tt(new On([])),i=new Mr(t,e),a=new Mr(t,e+1),u=[];return this.Kr.forEachInRange([i,a],h=>{this.zr(h),u.push(h.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new tt(new On([])),i=new Mr(t,e),a=new Mr(t,e+1);let u=qt();return this.Kr.forEachInRange([i,a],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Mr(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Mr{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return tt.comparator(e.key,t.key)||It(e.Zr,t.Zr)}static Wr(e,t){return It(e.Zr,t.Zr)||tt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new br(Mr.Ur)}checkEmpty(e){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new mP(u,t,i,a);this.mutationQueue.push(h);for(const m of a)this.Xr=this.Xr.add(new Mr(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Ce.resolve(h)}lookupMutationBatch(e,t){return Ce.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ti(i),u=a<0?0:a;return Ce.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?mw:this.nr-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Mr(t,0),a=new Mr(t,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([i,a],h=>{const m=this.ei(h.Zr);u.push(m)}),Ce.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new br(It);return t.forEach(a=>{const u=new Mr(a,0),h=new Mr(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,h],m=>{i=i.add(m.Zr)})}),Ce.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let u=i;tt.isDocumentKey(u)||(u=u.child(""));const h=new Mr(new tt(u),0);let m=new br(It);return this.Xr.forEachWhile(g=>{const v=g.key.path;return!!i.isPrefixOf(v)&&(v.length===a&&(m=m.add(g.Zr)),!0)},h),Ce.resolve(this.ni(m))}ni(e){const t=[];return e.forEach(i=>{const a=this.ei(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){dn(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return Ce.forEach(t.mutations,a=>{const u=new Mr(a.key,t.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new Mr(t,0),a=this.Xr.firstAfterOrEqual(i);return Ce.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.ii=e,this.docs=function(){return new Hn(tt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),u=a?a.size:0,h=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ce.resolve(i?i.document.mutableCopy():_i.newInvalidDocument(t))}getEntries(e,t){let i=wl();return t.forEach(a=>{const u=this.docs.get(a);i=i.insert(a,u?u.document.mutableCopy():_i.newInvalidDocument(a))}),Ce.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let u=wl();const h=t.path,m=new tt(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:v,value:{document:E}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||CM(xM(E),i)<=0||(a.has(E.key)||V_(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Ce.resolve(u)}getAllFromCollectionGroup(e,t,i,a){dt(9500)}si(e,t){return Ce.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new eL(this)}getSize(e){return Ce.resolve(this.size)}}class eL extends $P{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(i)}),Ce.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.persistence=e,this.oi=new Lf(t=>yw(t),vw),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this._i=0,this.ai=new Aw,this.targetCount=0,this.ui=Nd.cr()}forEachTarget(e,t){return this.oi.forEach((i,a)=>t(a)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),Ce.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Nd(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Ce.resolve()}updateTargetData(e,t){return this.Tr(t),Ce.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,t,i){let a=0;const u=[];return this.oi.forEach((h,m)=>{m.sequenceNumber<=t&&i.get(m.targetId)===null&&(this.oi.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),Ce.waitFor(u).next(()=>a)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return Ce.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),Ce.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach(h=>{u.push(a.markPotentiallyOrphaned(e,h))}),Ce.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Ce.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return Ce.resolve(i)}containsKey(e,t){return Ce.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,t){this.ci={},this.overlays={},this.li=new P_(0),this.hi=!1,this.hi=!0,this.Pi=new XP,this.referenceDelegate=e(this),this.Ti=new tL(this),this.indexManager=new jP,this.remoteDocumentCache=function(a){return new JP(a)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new UP(t),this.Ei=new WP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new QP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new ZP(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){Fe("MemoryPersistence","Starting transaction:",e);const a=new nL(this.li.next());return this.referenceDelegate.di(),i(a).next(u=>this.referenceDelegate.Ai(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Ri(e,t){return Ce.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class nL extends NM{constructor(e){super(),this.currentSequenceNumber=e}}class Rw{constructor(e){this.persistence=e,this.Vi=new Aw,this.mi=null}static fi(e){return new Rw(e)}get gi(){if(this.mi)return this.mi;throw dt(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),Ce.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),Ce.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Ce.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(u=>this.gi.add(u.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.gi,i=>{const a=tt.fromPath(i);return this.pi(e,a).next(u=>{u||t.removeEntry(a,gt.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return Ce.or([()=>Ce.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class f_{constructor(e,t){this.persistence=e,this.yi=new Lf(i=>MM(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=GP(this,t)}static fi(e,t){return new f_(e,t)}di(){}Ai(e){return Ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return Ce.forEach(this.yi,(i,a)=>this.Dr(e,i,a).next(u=>u?Ce.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.si(e,h=>this.Dr(e,h,t).next(m=>{m||(i++,u.removeEntry(h,gt.min()))})).next(()=>u.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Ce.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),Ce.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),Ce.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Ce.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Vv(e.data.value)),t}Dr(e,t,i){return Ce.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return Ce.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ds=i,this.As=a}static Rs(e,t){let i=qt(),a=qt();for(const u of t.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new xw(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return QN()?8:DM(wi())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,a){const u={result:null};return this.ws(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.bs(e,t,a,i).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new rL;return this.Ss(e,t,h).next(m=>{if(u.result=m,this.fs)return this.Ds(e,t,h,m.size)})}).next(()=>u.result)}Ds(e,t,i,a){return i.documentReadCount<this.gs?(hd()<=Ht.DEBUG&&Fe("QueryEngine","SDK will not create cache indexes for query:",dd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Ce.resolve()):(hd()<=Ht.DEBUG&&Fe("QueryEngine","Query:",dd(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ps*a?(hd()<=Ht.DEBUG&&Fe("QueryEngine","The SDK decides to create cache indexes for query:",dd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ao(t))):Ce.resolve())}ws(e,t){if(NS(t))return Ce.resolve(null);let i=Ao(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=gT(t,null,"F"),i=Ao(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(u=>{const h=qt(...u);return this.ys.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,i).next(g=>{const v=this.vs(t,m);return this.Cs(t,v,h,g.readTime)?this.ws(e,gT(t,null,"F")):this.Fs(e,v,t,g)}))})))}bs(e,t,i,a){return NS(t)||a.isEqual(gt.min())?Ce.resolve(null):this.ys.getDocuments(e,i).next(u=>{const h=this.vs(t,u);return this.Cs(t,h,i,a)?Ce.resolve(null):(hd()<=Ht.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),dd(t)),this.Fs(e,h,t,RM(a,Bp)).next(m=>m))})}vs(e,t){let i=new br(KR(e));return t.forEach((a,u)=>{V_(e,u)&&(i=i.add(u))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Ss(e,t,i){return hd()<=Ht.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",dd(t)),this.ys.getDocumentsMatchingQuery(e,t,Pu.min(),i)}Fs(e,t,i,a){return this.ys.getDocumentsMatchingQuery(e,i,a).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="LocalStore",sL=3e8;class aL{constructor(e,t,i,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new Hn(It),this.Os=new Lf(u=>yw(u),vw),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YP(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function oL(n,e,t,i){return new aL(n,e,t,i)}async function gx(n,e){const t=yt(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(u=>(a=u,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(u=>{const h=[],m=[];let g=qt();for(const v of a){h.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}for(const v of u){m.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(i,g).next(v=>({ks:v,removedBatchIds:h,addedBatchIds:m}))})})}function lL(n,e){const t=yt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),u=t.Bs.newChangeBuffer({trackRemovals:!0});return function(m,g,v,E){const S=v.batch,A=S.keys();let D=Ce.resolve();return A.forEach(O=>{D=D.next(()=>E.getEntry(g,O)).next(F=>{const k=v.docVersions.get(O);dn(k!==null,48541),F.version.compareTo(k)<0&&(S.applyToRemoteDocument(F,v),F.isValidDocument()&&(F.setReadTime(v.commitVersion),E.addEntry(F)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(g,S))}(t,i,e,u).next(()=>u.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let g=qt();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(g=g.add(m.batch.mutations[v].key));return g}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function yx(n){const e=yt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function uL(n,e){const t=yt(n),i=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const m=[];e.targetChanges.forEach((E,S)=>{const A=a.get(S);if(!A)return;m.push(t.Ti.removeMatchingKeys(u,E.removedDocuments,S).next(()=>t.Ti.addMatchingKeys(u,E.addedDocuments,S)));let D=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?D=D.withResumeToken(Yr.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,i)),a=a.insert(S,D),function(F,k,U){return F.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=sL?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(A,D,E)&&m.push(t.Ti.updateTargetData(u,D))});let g=wl(),v=qt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(cL(u,h,e.documentUpdates).next(E=>{g=E.qs,v=E.Qs})),!i.isEqual(gt.min())){const E=t.Ti.getLastRemoteSnapshotVersion(u).next(S=>t.Ti.setTargetsMetadata(u,u.currentSequenceNumber,i));m.push(E)}return Ce.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,v)).next(()=>g)}).then(u=>(t.xs=a,u))}function cL(n,e,t){let i=qt(),a=qt();return t.forEach(u=>i=i.add(u)),e.getEntries(n,i).next(u=>{let h=wl();return t.forEach((m,g)=>{const v=u.get(m);g.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(gt.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):Fe(Cw,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",g.version)}),{qs:h,Qs:a}})}function fL(n,e){const t=yt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=mw),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function hL(n,e){const t=yt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Ti.getTargetData(i,e).next(u=>u?(a=u,Ce.resolve(a)):t.Ti.allocateTargetId(i).next(h=>(a=new Au(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.xs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function TT(n,e,t){const i=yt(n),a=i.xs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",u,h=>i.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!Fd(h))throw h;Fe(Cw,`Failed to update sequence numbers for target ${e}: ${h}`)}i.xs=i.xs.remove(e),i.Os.delete(a.target)}function HS(n,e,t){const i=yt(n);let a=gt.min(),u=qt();return i.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,E){const S=yt(g),A=S.Os.get(E);return A!==void 0?Ce.resolve(S.xs.get(A)):S.Ti.getTargetData(v,E)}(i,h,Ao(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(h,m.targetId).next(g=>{u=g})}).next(()=>i.Ms.getDocumentsMatchingQuery(h,e,t?a:gt.min(),t?u:qt())).next(m=>(dL(i,ZM(e),m),{documents:m,$s:u})))}function dL(n,e,t){let i=n.Ns.get(e)||gt.min();t.forEach((a,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),n.Ns.set(e,i)}class qS{constructor(){this.activeTargetIds=iP()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mL{constructor(){this.xo=new qS,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new qS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="ConnectivityMonitor";class $S{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Fe(GS,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Fe(GS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sv=null;function wT(){return Sv===null?Sv=function(){return 268435456+Math.round(2147483648*Math.random())}():Sv++,"0x"+Sv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="RestConnection",gL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yL{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${a}`,this.Go=this.databaseId.database===s_?`project_id=${i}`:`project_id=${i}&database_id=${a}`}zo(e,t,i,a,u){const h=wT(),m=this.jo(e,t.toUriEncodedString());Fe(IE,`Sending RPC '${e}' ${h}:`,m,i);const g={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(g,a,u);const{host:v}=new URL(m),E=kd(v);return this.Jo(e,m,g,i,E).then(S=>(Fe(IE,`Received RPC '${e}' ${h}: `,S),S),S=>{throw Rd(IE,`RPC '${e}' ${h} failed with error: `,S,"url: ",m,"request:",i),S})}Yo(e,t,i,a,u,h){return this.zo(e,t,i,a,u)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,u)=>e[u]=a),i&&i.headers.forEach((a,u)=>e[u]=a)}jo(e,t){const i=gL[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi="WebChannelConnection";class _L extends yL{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,u){const h=wT();return new Promise((m,g)=>{const v=new ER;v.setWithCredentials(!0),v.listenOnce(TR.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Uv.NO_ERROR:const S=v.getResponseJson();Fe(yi,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),m(S);break;case Uv.TIMEOUT:Fe(yi,`RPC '${e}' ${h} timed out`),g(new $e(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case Uv.HTTP_ERROR:const A=v.getStatus();if(Fe(yi,`RPC '${e}' ${h} failed with status:`,A,"response text:",v.getResponseText()),A>0){let D=v.getResponseJson();Array.isArray(D)&&(D=D[0]);const O=D==null?void 0:D.error;if(O&&O.status&&O.message){const F=function(U){const Q=U.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(Q)>=0?Q:Ie.UNKNOWN}(O.status);g(new $e(F,O.message))}else g(new $e(Ie.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new $e(Ie.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{h_:e,streamId:h,P_:v.getLastErrorCode(),T_:v.getLastError()})}}finally{Fe(yi,`RPC '${e}' ${h} completed.`)}});const E=JSON.stringify(a);Fe(yi,`RPC '${e}' ${h} sending request:`,a),v.send(t,"POST",E,i,15)})}I_(e,t,i){const a=wT(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=SR(),m=bR(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Ho(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const E=u.join("");Fe(yi,`Creating RPC '${e}' stream ${a}: ${E}`,g);const S=h.createWebChannel(E,g);this.E_(S);let A=!1,D=!1;const O=new vL({Zo:k=>{D?Fe(yi,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(A||(Fe(yi,`Opening RPC '${e}' stream ${a} transport.`),S.open(),A=!0),Fe(yi,`RPC '${e}' stream ${a} sending:`,k),S.send(k))},Xo:()=>S.close()}),F=(k,U,Q)=>{k.listen(U,J=>{try{Q(J)}catch(he){setTimeout(()=>{throw he},0)}})};return F(S,Tp.EventType.OPEN,()=>{D||(Fe(yi,`RPC '${e}' stream ${a} transport opened.`),O.__())}),F(S,Tp.EventType.CLOSE,()=>{D||(D=!0,Fe(yi,`RPC '${e}' stream ${a} transport closed`),O.u_(),this.d_(S))}),F(S,Tp.EventType.ERROR,k=>{D||(D=!0,Rd(yi,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),O.u_(new $e(Ie.UNAVAILABLE,"The operation could not be completed")))}),F(S,Tp.EventType.MESSAGE,k=>{var U;if(!D){const Q=k.data[0];dn(!!Q,16349);const J=Q,he=(J==null?void 0:J.error)||((U=J[0])===null||U===void 0?void 0:U.error);if(he){Fe(yi,`RPC '${e}' stream ${a} received error:`,he);const ne=he.status;let z=function(L){const H=mr[L];if(H!==void 0)return ix(H)}(ne),N=he.message;z===void 0&&(z=Ie.INTERNAL,N="Unknown error status: "+ne+" with message "+he.message),D=!0,O.u_(new $e(z,N)),S.close()}else Fe(yi,`RPC '${e}' stream ${a} received:`,Q),O.c_(Q)}}),F(m,wR.STAT_EVENT,k=>{k.stat===uT.PROXY?Fe(yi,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===uT.NOPROXY&&Fe(yi,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{O.a_()},0),O}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function NE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(n){return new bP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,t,i=1e3,a=1.5,u=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=a,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-i);a>0&&Fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="PersistentStream";class _x{constructor(e,t,i,a,u,h,m,g){this.xi=e,this.S_=i,this.D_=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new vx(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===Ie.RESOURCE_EXHAUSTED?(Tl(t.toString()),Tl("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===Ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.v_===t&&this.z_(i,a)},i=>{e(()=>{const a=new $e(Ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(a)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{i(()=>this.j_(a))}),this.stream.onMessage(a=>{i(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Fe(KS,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(Fe(KS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EL extends _x{constructor(e,t,i,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,h),this.serializer=u}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=RP(this.serializer,e),i=function(u){if(!("targetChange"in u))return gt.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?gt.min():h.readTime?Ro(h.readTime):gt.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=ET(this.serializer),t.addTarget=function(u,h){let m;const g=h.target;if(m=mT(g)?{documents:IP(u,g)}:{query:NP(u,g).gt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=ox(u,h.resumeToken);const v=yT(u,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(gt.min())>0){m.readTime=c_(u,h.snapshotVersion.toTimestamp());const v=yT(u,h.expectedCount);v!==null&&(m.expectedCount=v)}return m}(this.serializer,e);const i=OP(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=ET(this.serializer),t.removeTarget=e,this.Q_(t)}}class TL extends _x{constructor(e,t,i,a,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,h),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return dn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dn(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){dn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=CP(e.writeResults,e.commitTime),i=Ro(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=ET(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>xP(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{}class bL extends wL{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new $e(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.zo(e,vT(t,i),a,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new $e(Ie.UNKNOWN,u.toString())})}Yo(e,t,i,a,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Yo(e,vT(t,i),a,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new $e(Ie.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class SL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Tl(t),this.ua=!1):Fe("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="RemoteStore";class AL{constructor(e,t,i,a,u){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(h=>{i.enqueueAndForget(async()=>{kf(this)&&(Fe(Nf,"Restarting streams for network reachability change."),await async function(g){const v=yt(g);v.da.add(4),await ug(v),v.Va.set("Unknown"),v.da.delete(4),await H_(v)}(this))})}),this.Va=new SL(i,a)}}async function H_(n){if(kf(n))for(const e of n.Aa)await e(!0)}async function ug(n){for(const e of n.Aa)await e(!1)}function Ex(n,e){const t=yt(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Ow(t)?Dw(t):zd(t).N_()&&Nw(t,e))}function Iw(n,e){const t=yt(n),i=zd(t);t.Ea.delete(e),i.N_()&&Tx(t,e),t.Ea.size===0&&(i.N_()?i.k_():kf(t)&&t.Va.set("Unknown"))}function Nw(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zd(n).Z_(e)}function Tx(n,e){n.ma.Ke(e),zd(n).X_(e)}function Dw(n){n.ma=new _P({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),zd(n).start(),n.Va.ca()}function Ow(n){return kf(n)&&!zd(n).O_()&&n.Ea.size>0}function kf(n){return yt(n).da.size===0}function wx(n){n.ma=void 0}async function RL(n){n.Va.set("Online")}async function xL(n){n.Ea.forEach((e,t)=>{Nw(n,e)})}async function CL(n,e){wx(n),Ow(n)?(n.Va.Pa(e),Dw(n)):n.Va.set("Unknown")}async function IL(n,e,t){if(n.Va.set("Online"),e instanceof ax&&e.state===2&&e.cause)try{await async function(a,u){const h=u.cause;for(const m of u.targetIds)a.Ea.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.Ea.delete(m),a.ma.removeTarget(m))}(n,e)}catch(i){Fe(Nf,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await h_(n,i)}else if(e instanceof Fv?n.ma.Xe(e):e instanceof sx?n.ma.ot(e):n.ma.nt(e),!t.isEqual(gt.min()))try{const i=await yx(n.localStore);t.compareTo(i)>=0&&await function(u,h){const m=u.ma.It(h);return m.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ea.get(v);E&&u.Ea.set(v,E.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,v)=>{const E=u.Ea.get(g);if(!E)return;u.Ea.set(g,E.withResumeToken(Yr.EMPTY_BYTE_STRING,E.snapshotVersion)),Tx(u,g);const S=new Au(E.target,g,v,E.sequenceNumber);Nw(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(n,t)}catch(i){Fe(Nf,"Failed to raise snapshot:",i),await h_(n,i)}}async function h_(n,e,t){if(!Fd(e))throw e;n.da.add(1),await ug(n),n.Va.set("Offline"),t||(t=()=>yx(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Fe(Nf,"Retrying IndexedDB access"),await t(),n.da.delete(1),await H_(n)})}function bx(n,e){return e().catch(t=>h_(n,t,e))}async function q_(n){const e=yt(n),t=Vu(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:mw;for(;NL(e);)try{const a=await fL(e.localStore,i);if(a===null){e.Ia.length===0&&t.k_();break}i=a.batchId,DL(e,a)}catch(a){await h_(e,a)}Sx(e)&&Ax(e)}function NL(n){return kf(n)&&n.Ia.length<10}function DL(n,e){n.Ia.push(e);const t=Vu(n);t.N_()&&t.ea&&t.ta(e.mutations)}function Sx(n){return kf(n)&&!Vu(n).O_()&&n.Ia.length>0}function Ax(n){Vu(n).start()}async function OL(n){Vu(n).ia()}async function ML(n){const e=Vu(n);for(const t of n.Ia)e.ta(t.mutations)}async function PL(n,e,t){const i=n.Ia.shift(),a=ww.from(i,e,t);await bx(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await q_(n)}async function LL(n,e){e&&Vu(n).ea&&await async function(i,a){if(function(h){return yP(h)&&h!==Ie.ABORTED}(a.code)){const u=i.Ia.shift();Vu(i).L_(),await bx(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,a)),await q_(i)}}(n,e),Sx(n)&&Ax(n)}async function YS(n,e){const t=yt(n);t.asyncQueue.verifyOperationInProgress(),Fe(Nf,"RemoteStore received new credentials");const i=kf(t);t.da.add(3),await ug(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await H_(t)}async function kL(n,e){const t=yt(n);e?(t.da.delete(2),await H_(t)):e||(t.da.add(2),await ug(t),t.Va.set("Unknown"))}function zd(n){return n.fa||(n.fa=function(t,i,a){const u=yt(t);return u.oa(),new EL(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(n.datastore,n.asyncQueue,{e_:RL.bind(null,n),n_:xL.bind(null,n),i_:CL.bind(null,n),Y_:IL.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),Ow(n)?Dw(n):n.Va.set("Unknown")):(await n.fa.stop(),wx(n))})),n.fa}function Vu(n){return n.ga||(n.ga=function(t,i,a){const u=yt(t);return u.oa(),new TL(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:OL.bind(null,n),i_:LL.bind(null,n),na:ML.bind(null,n),ra:PL.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await q_(n)):(await n.ga.stop(),n.Ia.length>0&&(Fe(Nf,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,t,i,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=u,this.deferred=new Du,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,u){const h=Date.now()+i,m=new Mw(e,t,h,a,u);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pw(n,e){if(Tl("AsyncQueue",`${e}: ${n}`),Fd(n))return new $e(Ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{static emptySet(e){return new wd(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||tt.comparator(t.key,i.key):(t,i)=>tt.comparator(t.key,i.key),this.keyedMap=wp(),this.sortedSet=new Hn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=i.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new wd;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.pa=new Hn(tt.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):dt(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Dd{constructor(e,t,i,a,u,h,m,g,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,a,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Dd(e,t,wd.emptySet(t),h,i,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&U_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class VL{constructor(){this.queries=QS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=yt(t),u=a.queries;a.queries=QS(),u.forEach((h,m)=>{for(const g of m.Sa)g.onError(i)})})(this,new $e(Ie.ABORTED,"Firestore shutting down"))}}function QS(){return new Lf(n=>$R(n),U_)}async function Rx(n,e){const t=yt(n);let i=3;const a=e.query;let u=t.queries.get(a);u?!u.Da()&&e.va()&&(i=2):(u=new UL,i=e.va()?0:1);try{switch(i){case 0:u.ba=await t.onListen(a,!0);break;case 1:u.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(h){const m=Pw(h,`Initialization of query '${dd(e.query)}' failed`);return void e.onError(m)}t.queries.set(a,u),u.Sa.push(e),e.Fa(t.onlineState),u.ba&&e.Ma(u.ba)&&Lw(t)}async function xx(n,e){const t=yt(n),i=e.query;let a=3;const u=t.queries.get(i);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?a=e.va()?0:1:!u.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function jL(n,e){const t=yt(n);let i=!1;for(const a of e){const u=a.query,h=t.queries.get(u);if(h){for(const m of h.Sa)m.Ma(a)&&(i=!0);h.ba=a}}i&&Lw(t)}function BL(n,e,t){const i=yt(n),a=i.queries.get(e);if(a)for(const u of a.Sa)u.onError(t);i.queries.delete(e)}function Lw(n){n.Ca.forEach(e=>{e.next()})}var bT,XS;(XS=bT||(bT={})).xa="default",XS.Cache="cache";class Cx{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Dd(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Dd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==bT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.key=e}}class Nx{constructor(e){this.key=e}}class FL{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qt(),this.mutatedKeys=qt(),this.Za=KR(e),this.Xa=new wd(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new WS,a=t?t.Xa:this.Xa;let u=t?t.mutatedKeys:this.mutatedKeys,h=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((E,S)=>{const A=a.get(E),D=V_(this.query,S)?S:null,O=!!A&&this.mutatedKeys.has(A.key),F=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let k=!1;A&&D?A.data.isEqual(D.data)?O!==F&&(i.track({type:3,doc:D}),k=!0):this.ru(A,D)||(i.track({type:2,doc:D}),k=!0,(g&&this.Za(D,g)>0||v&&this.Za(D,v)<0)&&(m=!0)):!A&&D?(i.track({type:0,doc:D}),k=!0):A&&!D&&(i.track({type:1,doc:A}),k=!0,(g||v)&&(m=!0)),k&&(D?(h=h.add(D),u=F?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),i.track({type:1,doc:E})}return{Xa:h,nu:i,Cs:m,mutatedKeys:u}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const h=e.nu.wa();h.sort((E,S)=>function(D,O){const F=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:k})}};return F(D)-F(O)}(E.type,S.type)||this.Za(E.doc,S.doc)),this.iu(i),a=a!=null&&a;const m=t&&!a?this.su():[],g=this.Ya.size===0&&this.current&&!a?1:0,v=g!==this.Ja;return this.Ja=g,h.length!==0||v?{snapshot:new Dd(this.query,e.Xa,u,h,e.mutatedKeys,g===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new WS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=qt(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new Nx(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new Ix(i))}),t}au(e){this.Ha=e.$s,this.Ya=qt();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Dd.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const kw="SyncEngine";class zL{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class HL{constructor(e){this.key=e,this.cu=!1}}class qL{constructor(e,t,i,a,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new Lf(m=>$R(m),U_),this.Pu=new Map,this.Tu=new Set,this.Iu=new Hn(tt.comparator),this.Eu=new Map,this.du=new Aw,this.Au={},this.Ru=new Map,this.Vu=Nd.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function GL(n,e,t=!0){const i=kx(n);let a;const u=i.hu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.uu()):a=await Dx(i,e,t,!0),a}async function $L(n,e){const t=kx(n);await Dx(t,e,!0,!1)}async function Dx(n,e,t,i){const a=await hL(n.localStore,Ao(e)),u=a.targetId,h=n.sharedClientState.addLocalQueryTarget(u,t);let m;return i&&(m=await KL(n,e,u,h==="current",a.resumeToken)),n.isPrimaryClient&&t&&Ex(n.remoteStore,a),m}async function KL(n,e,t,i,a){n.fu=(S,A,D)=>async function(F,k,U,Q){let J=k.view.tu(U);J.Cs&&(J=await HS(F.localStore,k.query,!1).then(({documents:N})=>k.view.tu(N,J)));const he=Q&&Q.targetChanges.get(k.targetId),ne=Q&&Q.targetMismatches.get(k.targetId)!=null,z=k.view.applyChanges(J,F.isPrimaryClient,he,ne);return JS(F,k.targetId,z.ou),z.snapshot}(n,S,A,D);const u=await HS(n.localStore,e,!0),h=new FL(e,u.$s),m=h.tu(u.documents),g=lg.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),v=h.applyChanges(m,n.isPrimaryClient,g);JS(n,t,v.ou);const E=new zL(e,t,h);return n.hu.set(e,E),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),v.snapshot}async function YL(n,e,t){const i=yt(n),a=i.hu.get(e),u=i.Pu.get(a.targetId);if(u.length>1)return i.Pu.set(a.targetId,u.filter(h=>!U_(h,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await TT(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Iw(i.remoteStore,a.targetId),ST(i,a.targetId)}).catch(Bd)):(ST(i,a.targetId),await TT(i.localStore,a.targetId,!0))}async function WL(n,e){const t=yt(n),i=t.hu.get(e),a=t.Pu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Iw(t.remoteStore,i.targetId))}async function QL(n,e,t){const i=r4(n);try{const a=await function(h,m){const g=yt(h),v=wr.now(),E=m.reduce((D,O)=>D.add(O.key),qt());let S,A;return g.persistence.runTransaction("Locally write mutations","readwrite",D=>{let O=wl(),F=qt();return g.Bs.getEntries(D,E).next(k=>{O=k,O.forEach((U,Q)=>{Q.isValidDocument()||(F=F.add(U))})}).next(()=>g.localDocuments.getOverlayedDocuments(D,O)).next(k=>{S=k;const U=[];for(const Q of m){const J=hP(Q,S.get(Q.key).overlayedDocument);J!=null&&U.push(new Hu(Q.key,J,VR(J.value.mapValue),ra.exists(!0)))}return g.mutationQueue.addMutationBatch(D,v,U,m)}).next(k=>{A=k;const U=k.applyToLocalDocumentSet(S,F);return g.documentOverlayCache.saveOverlays(D,k.batchId,U)})}).then(()=>({batchId:A.batchId,changes:WR(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(h,m,g){let v=h.Au[h.currentUser.toKey()];v||(v=new Hn(It)),v=v.insert(m,g),h.Au[h.currentUser.toKey()]=v}(i,a.batchId,t),await cg(i,a.changes),await q_(i.remoteStore)}catch(a){const u=Pw(a,"Failed to persist write");t.reject(u)}}async function Ox(n,e){const t=yt(n);try{const i=await uL(t.localStore,e);e.targetChanges.forEach((a,u)=>{const h=t.Eu.get(u);h&&(dn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?h.cu=!0:a.modifiedDocuments.size>0?dn(h.cu,14607):a.removedDocuments.size>0&&(dn(h.cu,42227),h.cu=!1))}),await cg(t,i,e)}catch(i){await Bd(i)}}function ZS(n,e,t){const i=yt(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.hu.forEach((u,h)=>{const m=h.view.Fa(e);m.snapshot&&a.push(m.snapshot)}),function(h,m){const g=yt(h);g.onlineState=m;let v=!1;g.queries.forEach((E,S)=>{for(const A of S.Sa)A.Fa(m)&&(v=!0)}),v&&Lw(g)}(i.eventManager,e),a.length&&i.lu.Y_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function XL(n,e,t){const i=yt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Eu.get(e),u=a&&a.key;if(u){let h=new Hn(tt.comparator);h=h.insert(u,_i.newNoDocument(u,gt.min()));const m=qt().add(u),g=new F_(gt.min(),new Map,new Hn(It),h,m);await Ox(i,g),i.Iu=i.Iu.remove(u),i.Eu.delete(e),Uw(i)}else await TT(i.localStore,e,!1).then(()=>ST(i,e,t)).catch(Bd)}async function ZL(n,e){const t=yt(n),i=e.batch.batchId;try{const a=await lL(t.localStore,e);Px(t,i,null),Mx(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await cg(t,a)}catch(a){await Bd(a)}}async function JL(n,e,t){const i=yt(n);try{const a=await function(h,m){const g=yt(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let E;return g.mutationQueue.lookupMutationBatch(v,m).next(S=>(dn(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(v,S))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E)).next(()=>g.localDocuments.getDocuments(v,E))})}(i.localStore,e);Px(i,e,t),Mx(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await cg(i,a)}catch(a){await Bd(a)}}function Mx(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function Px(n,e,t){const i=yt(n);let a=i.Au[i.currentUser.toKey()];if(a){const u=a.get(e);u&&(t?u.reject(t):u.resolve(),a=a.remove(e)),i.Au[i.currentUser.toKey()]=a}}function ST(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||Lx(n,i)})}function Lx(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(Iw(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),Uw(n))}function JS(n,e,t){for(const i of t)i instanceof Ix?(n.du.addReference(i.key,e),e4(n,i)):i instanceof Nx?(Fe(kw,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||Lx(n,i.key)):dt(19791,{pu:i})}function e4(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(Fe(kw,"New document in limbo: "+t),n.Tu.add(i),Uw(n))}function Uw(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new tt(On.fromString(e)),i=n.Vu.next();n.Eu.set(i,new HL(t)),n.Iu=n.Iu.insert(t,i),Ex(n.remoteStore,new Au(Ao(_w(t.path)),i,"TargetPurposeLimboResolution",P_.le))}}async function cg(n,e,t){const i=yt(n),a=[],u=[],h=[];i.hu.isEmpty()||(i.hu.forEach((m,g)=>{h.push(i.fu(g,e,t).then(v=>{var E;if((v||t)&&i.isPrimaryClient){const S=v?!v.fromCache:(E=t==null?void 0:t.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;i.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(v){a.push(v);const S=xw.Rs(g.targetId,v);u.push(S)}}))}),await Promise.all(h),i.lu.Y_(a),await async function(g,v){const E=yt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Ce.forEach(v,A=>Ce.forEach(A.ds,D=>E.persistence.referenceDelegate.addReference(S,A.targetId,D)).next(()=>Ce.forEach(A.As,D=>E.persistence.referenceDelegate.removeReference(S,A.targetId,D)))))}catch(S){if(!Fd(S))throw S;Fe(Cw,"Failed to update sequence numbers: "+S)}for(const S of v){const A=S.targetId;if(!S.fromCache){const D=E.xs.get(A),O=D.snapshotVersion,F=D.withLastLimboFreeSnapshotVersion(O);E.xs=E.xs.insert(A,F)}}}(i.localStore,u))}async function t4(n,e){const t=yt(n);if(!t.currentUser.isEqual(e)){Fe(kw,"User change. New user:",e.toKey());const i=await gx(t.localStore,e);t.currentUser=e,function(u,h){u.Ru.forEach(m=>{m.forEach(g=>{g.reject(new $e(Ie.CANCELLED,h))})}),u.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await cg(t,i.ks)}}function n4(n,e){const t=yt(n),i=t.Eu.get(e);if(i&&i.cu)return qt().add(i.key);{let a=qt();const u=t.Pu.get(e);if(!u)return a;for(const h of u){const m=t.hu.get(h);a=a.unionWith(m.view.eu)}return a}}function kx(n){const e=yt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ox.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XL.bind(null,e),e.lu.Y_=jL.bind(null,e.eventManager),e.lu.gu=BL.bind(null,e.eventManager),e}function r4(n){const e=yt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JL.bind(null,e),e}class d_{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=z_(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return oL(this.persistence,new iL,e.initialUser,this.serializer)}Su(e){return new px(Rw.fi,this.serializer)}bu(e){return new mL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}d_.provider={build:()=>new d_};class i4 extends d_{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){dn(this.persistence.referenceDelegate instanceof f_,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new HP(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?ss.withCacheSize(this.cacheSizeBytes):ss.DEFAULT;return new px(i=>f_.fi(i,t),this.serializer)}}class AT{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ZS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=t4.bind(null,this.syncEngine),await kL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VL}()}createDatastore(e){const t=z_(e.databaseInfo.databaseId),i=function(u){return new _L(u)}(e.databaseInfo);return function(u,h,m,g){return new bL(u,h,m,g)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,u,h,m){return new AL(i,a,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>ZS(this.syncEngine,t,0),function(){return $S.C()?new $S:new pL}())}createSyncEngine(e,t){return function(a,u,h,m,g,v,E){const S=new qL(a,u,h,m,g,v);return E&&(S.mu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const u=yt(a);Fe(Nf,"RemoteStore shutting down."),u.da.add(5),await ug(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}AT.provider={build:()=>new AT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Tl("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju="FirestoreClient";class s4{constructor(e,t,i,a,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=vi.UNAUTHENTICATED,this.clientId=CR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async h=>{Fe(ju,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(Fe(ju,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Du;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Pw(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function DE(n,e){n.asyncQueue.verifyOperationInProgress(),Fe(ju,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await gx(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function e1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await a4(n);Fe(ju,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>YS(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>YS(e.remoteStore,a)),n._onlineComponents=e}async function a4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Fe(ju,"Using user provided OfflineComponentProvider");try{await DE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===Ie.FAILED_PRECONDITION||a.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Rd("Error using user provided cache. Falling back to memory cache: "+t),await DE(n,new d_)}}else Fe(ju,"Using default OfflineComponentProvider"),await DE(n,new i4(void 0));return n._offlineComponents}async function Vx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Fe(ju,"Using user provided OnlineComponentProvider"),await e1(n,n._uninitializedComponentsProvider._online)):(Fe(ju,"Using default OnlineComponentProvider"),await e1(n,new AT))),n._onlineComponents}function o4(n){return Vx(n).then(e=>e.syncEngine)}async function RT(n){const e=await Vx(n),t=e.eventManager;return t.onListen=GL.bind(null,e.syncEngine),t.onUnlisten=YL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$L.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=WL.bind(null,e.syncEngine),t}function l4(n,e,t={}){const i=new Du;return n.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,v){const E=new Ux({next:A=>{E.xu(),h.enqueueAndForget(()=>xx(u,S)),A.fromCache&&g.source==="server"?v.reject(new $e(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(A)},error:A=>v.reject(A)}),S=new Cx(m,E,{includeMetadataChanges:!0,Qa:!0});return Rx(u,S)}(await RT(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(n,e,t){if(!t)throw new $e(Ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function u4(n,e,t,i){if(e===!0&&i===!0)throw new $e(Ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function n1(n){if(!tt.isDocumentKey(n))throw new $e(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function r1(n){if(tt.isDocumentKey(n))throw new $e(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function G_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":dt(12329,{type:typeof n})}function ia(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $e(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=G_(n);throw new $e(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="firestore.googleapis.com",i1=!0;class s1{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new $e(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Fx,this.ssl=i1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:i1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FP)throw new $e(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jx((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new $e(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new $e(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new $e(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $_{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new yM;switch(i.type){case"firstParty":return new TM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new $e(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=t1.get(t);i&&(Fe("ComponentProvider","Removing Datastore"),t1.delete(t),i.terminate())}(this),Promise.resolve()}}function c4(n,e,t,i={}){var a;n=ia(n,$_);const u=kd(e),h=n._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:n._getEmulatorOptions()}),g=`${e}:${t}`;u&&(PA(`https://${g}`),LA("Firestore",!0)),h.host!==Fx&&h.host!==g&&Rd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},h),{host:g,ssl:u,emulatorOptions:i});if(!Rf(v,m)&&(n._setSettings(v),i.mockUserToken)){let E,S;if(typeof i.mockUserToken=="string")E=i.mockUserToken,S=vi.MOCK_USER;else{E=FN(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const A=i.mockUserToken.sub||i.mockUserToken.user_id;if(!A)throw new $e(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new vi(A)}n._authCredentials=new vM(new RR(E,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Uf(this.firestore,e,this._query)}}class Ui{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ui(this.firestore,e,this._key)}}class Ou extends Uf{constructor(e,t,i){super(e,t,_w(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ui(this.firestore,null,new tt(e))}withConverter(e){return new Ou(this.firestore,e,this._path)}}function m_(n,e,...t){if(n=Sr(n),Bx("collection","path",e),n instanceof $_){const i=On.fromString(e,...t);return r1(i),new Ou(n,null,i)}{if(!(n instanceof Ui||n instanceof Ou))throw new $e(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(On.fromString(e,...t));return r1(i),new Ou(n.firestore,null,i)}}function yf(n,e,...t){if(n=Sr(n),arguments.length===1&&(e=CR.newId()),Bx("doc","path",e),n instanceof $_){const i=On.fromString(e,...t);return n1(i),new Ui(n,null,new tt(i))}{if(!(n instanceof Ui||n instanceof Ou))throw new $e(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(On.fromString(e,...t));return n1(i),new Ui(n.firestore,n instanceof Ou?n.converter:null,new tt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="AsyncQueue";class o1{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new vx(this,"async_queue_retry"),this.rc=()=>{const i=NE();i&&Fe(a1,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=NE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=NE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Du;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Fd(e))throw e;Fe(a1,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Tl("INTERNAL UNHANDLED ERROR: ",l1(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=Mw.createAndSchedule(this,e,t,i,u=>this.uc(u));return this.Zu.push(a),a}oc(){this.Xu&&dt(47125,{cc:l1(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function l1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const u of i)if(u in a&&typeof a[u]=="function")return!0;return!1}(n,["next","error","complete"])}class Bu extends $_{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new o1,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new o1(e),this._firestoreClient=void 0,await e}}}function f4(n,e){const t=typeof n=="object"?n:jA(),i=typeof n=="string"?n:s_,a=tw(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const u=jN("firestore");u&&c4(a,...u)}return a}function Vw(n){if(n._terminated)throw new $e(Ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||h4(n),n._firestoreClient}function h4(n){var e,t,i;const a=n._freezeSettings(),u=function(m,g,v,E){return new kM(m,g,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,jx(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new s4(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Od(Yr.fromBase64String(e))}catch(t){throw new $e(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Od(Yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $e(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $e(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $e(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==a[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=/^__.*__$/;class m4{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Hu(e,this.data,this.fieldMask,t,this.fieldTransforms):new og(e,this.data,t,this.fieldTransforms)}}class zx{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Hu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Hx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ic:n})}}class Fw{constructor(e,t,i,a,u,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Fw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Vc(e),a}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return p_(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Hx(this.Ic)&&d4.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class p4{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||z_(e)}bc(e,t,i,a=!1){return new Fw({Ic:e,methodName:t,wc:i,path:Kr.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function W_(n){const e=n._freezeSettings(),t=z_(n._databaseId);return new p4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qx(n,e,t,i,a,u={}){const h=n.bc(u.merge||u.mergeFields?2:0,e,t,a);Hw("Data must be an object, but it was:",h,i);const m=Gx(i,h);let g,v;if(u.merge)g=new Is(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const A=xT(e,S,t);if(!h.contains(A))throw new $e(Ie.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Kx(E,A)||E.push(A)}g=new Is(E),v=h.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,v=h.fieldTransforms;return new m4(new as(m),g,v)}class Q_ extends Y_{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Q_}}class zw extends Y_{_toFieldTransform(e){return new lP(e.path,new qp)}isEqual(e){return e instanceof zw}}function g4(n,e,t,i){const a=n.bc(1,e,t);Hw("Data must be an object, but it was:",a,i);const u=[],h=as.empty();zu(i,(g,v)=>{const E=qw(e,g,t);v=Sr(v);const S=a.mc(E);if(v instanceof Q_)u.push(E);else{const A=fg(v,S);A!=null&&(u.push(E),h.set(E,A))}});const m=new Is(u);return new zx(h,m,a.fieldTransforms)}function y4(n,e,t,i,a,u){const h=n.bc(1,e,t),m=[xT(e,i,t)],g=[a];if(u.length%2!=0)throw new $e(Ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(xT(e,u[A])),g.push(u[A+1]);const v=[],E=as.empty();for(let A=m.length-1;A>=0;--A)if(!Kx(v,m[A])){const D=m[A];let O=g[A];O=Sr(O);const F=h.mc(D);if(O instanceof Q_)v.push(D);else{const k=fg(O,F);k!=null&&(v.push(D),E.set(D,k))}}const S=new Is(v);return new zx(E,S,h.fieldTransforms)}function v4(n,e,t,i=!1){return fg(t,n.bc(i?4:3,e))}function fg(n,e){if($x(n=Sr(n)))return Hw("Unsupported field value:",e,n),Gx(n,e);if(n instanceof Y_)return function(i,a){if(!Hx(a.Ic))throw a.gc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(a);u&&a.fieldTransforms.push(u)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,a){const u=[];let h=0;for(const m of i){let g=fg(m,a.fc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(n,e)}return function(i,a){if((i=Sr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return sP(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=wr.fromDate(i);return{timestampValue:c_(a.serializer,u)}}if(i instanceof wr){const u=new wr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:c_(a.serializer,u)}}if(i instanceof jw)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Od)return{bytesValue:ox(a.serializer,i._byteString)};if(i instanceof Ui){const u=a.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw a.gc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sw(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Bw)return function(h,m){return{mapValue:{fields:{[kR]:{stringValue:UR},[a_]:{arrayValue:{values:h.toArray().map(v=>{if(typeof v!="number")throw m.gc("VectorValues must only contain numeric values.");return Ew(m.serializer,v)})}}}}}}(i,a);throw a.gc(`Unsupported field value: ${G_(i)}`)}(n,e)}function Gx(n,e){const t={};return NR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zu(n,(i,a)=>{const u=fg(a,e.Ac(i));u!=null&&(t[i]=u)}),{mapValue:{fields:t}}}function $x(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof wr||n instanceof jw||n instanceof Od||n instanceof Ui||n instanceof Y_||n instanceof Bw)}function Hw(n,e,t){if(!$x(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=G_(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function xT(n,e,t){if((e=Sr(e))instanceof K_)return e._internalPath;if(typeof e=="string")return qw(n,e);throw p_("Field path arguments must be of type string or ",n,!1,void 0,t)}const _4=new RegExp("[~\\*/\\[\\]]");function qw(n,e,t){if(e.search(_4)>=0)throw p_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new K_(...e.split("."))._internalPath}catch{throw p_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function p_(n,e,t,i,a){const u=i&&!i.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${i}`),h&&(g+=` in document ${a}`),g+=")"),new $e(Ie.INVALID_ARGUMENT,m+n+g)}function Kx(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,t,i,a,u){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ui(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Gw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class E4 extends Yx{data(){return super.data()}}function Gw(n,e){return typeof e=="string"?qw(n,e):e instanceof K_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $e(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $w{}class T4 extends $w{}function w4(n,e,...t){let i=[];e instanceof $w&&i.push(e),i=i.concat(t),function(u){const h=u.filter(g=>g instanceof Kw).length,m=u.filter(g=>g instanceof X_).length;if(h>1||h>0&&m>0)throw new $e(Ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class X_ extends T4{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new X_(e,t,i)}_apply(e){const t=this._parse(e);return Qx(e._query,t),new Uf(e.firestore,e.converter,pT(e._query,t))}_parse(e){const t=W_(e.firestore);return function(u,h,m,g,v,E,S){let A;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new $e(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){f1(S,E);const O=[];for(const F of S)O.push(c1(g,u,F));A={arrayValue:{values:O}}}else A=c1(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||f1(S,E),A=v4(m,h,S,E==="in"||E==="not-in");return pr.create(v,E,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function b4(n,e,t){const i=e,a=Gw("where",n);return X_._create(a,i,t)}class Kw extends $w{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Kw(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Ua.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,u){let h=a;const m=u.getFlattenedFilters();for(const g of m)Qx(h,g),h=pT(h,g)}(e._query,t),new Uf(e.firestore,e.converter,pT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function c1(n,e,t){if(typeof(t=Sr(t))=="string"){if(t==="")throw new $e(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GR(e)&&t.indexOf("/")!==-1)throw new $e(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(On.fromString(t));if(!tt.isDocumentKey(i))throw new $e(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return SS(n,new tt(i))}if(t instanceof Ui)return SS(n,t._key);throw new $e(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${G_(t)}.`)}function f1(n,e){if(!Array.isArray(n)||n.length===0)throw new $e(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Qx(n,e){const t=function(a,u){for(const h of a)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new $e(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $e(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class S4{convertValue(e,t="none"){switch(Uu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ir(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ku(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return zu(e,(a,u)=>{i[a]=this.convertValue(u,t)}),i}convertVectorValue(e){var t,i,a;const u=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[a_].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(h=>ir(h.doubleValue));return new Bw(u)}convertGeoPoint(e){return new jw(ir(e.latitude),ir(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=k_(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Fp(e));default:return null}}convertTimestamp(e){const t=Lu(e);return new wr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=On.fromString(e);dn(dx(i),9688,{name:e});const a=new zp(i.get(1),i.get(3)),u=new tt(i.popFirst(5));return a.isEqual(t)||Tl(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zx extends Yx{constructor(e,t,i,a,u,h){super(e,t,i,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Gw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class zv extends Zx{data(e={}){return super.data(e)}}class Jx{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Sp(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new zv(this._firestore,this._userDataWriter,i.key,i,new Sp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $e(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(m=>{const g=new zv(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Sp(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new zv(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Sp(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,E=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:A4(m.type),doc:g,oldIndex:v,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function A4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:n})}}class Yw extends S4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Od(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ui(this.firestore,null,t)}}function R4(n){n=ia(n,Uf);const e=ia(n.firestore,Bu),t=Vw(e),i=new Yw(e);return Wx(n._query),l4(t,n._query).then(a=>new Jx(e,i,n,a))}function x4(n,e,t){n=ia(n,Ui);const i=ia(n.firestore,Bu),a=Xx(n.converter,e);return Z_(i,[qx(W_(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,ra.none())])}function eC(n,e,t,...i){n=ia(n,Ui);const a=ia(n.firestore,Bu),u=W_(a);let h;return h=typeof(e=Sr(e))=="string"||e instanceof K_?y4(u,"updateDoc",n._key,e,t,i):g4(u,"updateDoc",n._key,e),Z_(a,[h.toMutation(n._key,ra.exists(!0))])}function OE(n){return Z_(ia(n.firestore,Bu),[new Tw(n._key,ra.none())])}function C4(n,e){const t=ia(n.firestore,Bu),i=yf(n),a=Xx(n.converter,e);return Z_(t,[qx(W_(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,ra.exists(!1))]).then(()=>i)}function g_(n,...e){var t,i,a;n=Sr(n);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||u1(e[h])||(u=e[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(u1(e[h])){const S=e[h];e[h]=(t=S.next)===null||t===void 0?void 0:t.bind(S),e[h+1]=(i=S.error)===null||i===void 0?void 0:i.bind(S),e[h+2]=(a=S.complete)===null||a===void 0?void 0:a.bind(S)}let g,v,E;if(n instanceof Ui)v=ia(n.firestore,Bu),E=_w(n._key.path),g={next:S=>{e[h]&&e[h](I4(v,n,S))},error:e[h+1],complete:e[h+2]};else{const S=ia(n,Uf);v=ia(S.firestore,Bu),E=S._query;const A=new Yw(v);g={next:D=>{e[h]&&e[h](new Jx(v,A,S,D))},error:e[h+1],complete:e[h+2]},Wx(n._query)}return function(A,D,O,F){const k=new Ux(F),U=new Cx(D,k,O);return A.asyncQueue.enqueueAndForget(async()=>Rx(await RT(A),U)),()=>{k.xu(),A.asyncQueue.enqueueAndForget(async()=>xx(await RT(A),U))}}(Vw(v),E,m,g)}function Z_(n,e){return function(i,a){const u=new Du;return i.asyncQueue.enqueueAndForget(async()=>QL(await o4(i),a,u)),u.promise}(Vw(n),e)}function I4(n,e,t){const i=t.docs.get(e._key),a=new Yw(n);return new Zx(n,a,e._key,i,new Sp(t.hasPendingWrites,t.fromCache),e.converter)}function kp(){return new zw("serverTimestamp")}(function(e,t=!0){(function(a){jd=a})(Ud),Sd(new xf("firestore",(i,{instanceIdentifier:a,options:u})=>{const h=i.getProvider("app").getImmediate(),m=new Bu(new _M(i.getProvider("auth-internal")),new wM(h,i.getProvider("app-check-internal")),function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new $e(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zp(v.options.projectId,E)}(h,a),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Iu(hS,dS,e),Iu(hS,dS,"esm2017")})();const N4={apiKey:"AIzaSyCLA_RFXrPvBdN_vrApCUlj28a82ownuzg",authDomain:"fire-set.firebaseapp.com",databaseURL:"https://fire-set.firebaseio.com",projectId:"fire-set",storageBucket:"fire-set.firebasestorage.app",messagingSenderId:"958559518798",appId:"1:958559518798:web:ec451bbfb4ac03f30ec31f",measurementId:"G-FCHHM3FEZE"},tC=VA(N4),Md=pM(tC),vf=f4(tC);var gp={},h1;function D4(){if(h1)return gp;h1=1,Object.defineProperty(gp,"__esModule",{value:!0}),gp.parse=h,gp.serialize=v;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,D){const O=new u,F=A.length;if(F<2)return O;const k=(D==null?void 0:D.decode)||E;let U=0;do{const Q=A.indexOf("=",U);if(Q===-1)break;const J=A.indexOf(";",U),he=J===-1?F:J;if(Q>he){U=A.lastIndexOf(";",Q-1)+1;continue}const ne=m(A,U,Q),z=g(A,Q,ne),N=A.slice(ne,z);if(O[N]===void 0){let I=m(A,Q+1,he),L=g(A,he,I);const H=k(A.slice(I,L));O[N]=H}U=he+1}while(U<F);return O}function m(A,D,O){do{const F=A.charCodeAt(D);if(F!==32&&F!==9)return D}while(++D<O);return O}function g(A,D,O){for(;D>O;){const F=A.charCodeAt(--D);if(F!==32&&F!==9)return D+1}return O}function v(A,D,O){const F=(O==null?void 0:O.encode)||encodeURIComponent;if(!n.test(A))throw new TypeError(`argument name is invalid: ${A}`);const k=F(D);if(!e.test(k))throw new TypeError(`argument val is invalid: ${D}`);let U=A+"="+k;if(!O)return U;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);U+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);U+="; Domain="+O.domain}if(O.path){if(!i.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);U+="; Path="+O.path}if(O.expires){if(!S(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);U+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(U+="; HttpOnly"),O.secure&&(U+="; Secure"),O.partitioned&&(U+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return U}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function S(A){return a.call(A)==="[object Date]"}return gp}D4();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nC=n=>{throw TypeError(n)},O4=(n,e,t)=>e.has(n)||nC("Cannot "+t),ME=(n,e,t)=>(O4(n,e,"read from private field"),t?t.call(n):e.get(n)),M4=(n,e,t)=>e.has(n)?nC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),d1="popstate";function P4(n={}){function e(i,a){let{pathname:u,search:h,hash:m}=i.location;return Kp("",{pathname:u,search:h,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Fu(a)}return k4(e,t,null,n)}function Bt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function gr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L4(){return Math.random().toString(36).substring(2,10)}function m1(n,e){return{usr:n.state,key:n.key,idx:e}}function Kp(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?qu(e):e,state:t,key:e&&e.key||i||L4()}}function Fu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function qu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function k4(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:u=!1}=i,h=a.history,m="POP",g=null,v=E();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function E(){return(h.state||{idx:null}).idx}function S(){m="POP";let k=E(),U=k==null?null:k-v;v=k,g&&g({action:m,location:F.location,delta:U})}function A(k,U){m="PUSH";let Q=Kp(F.location,k,U);v=E()+1;let J=m1(Q,v),he=F.createHref(Q);try{h.pushState(J,"",he)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;a.location.assign(he)}u&&g&&g({action:m,location:F.location,delta:1})}function D(k,U){m="REPLACE";let Q=Kp(F.location,k,U);v=E();let J=m1(Q,v),he=F.createHref(Q);h.replaceState(J,"",he),u&&g&&g({action:m,location:F.location,delta:0})}function O(k){return rC(k)}let F={get action(){return m},get location(){return n(a,h)},listen(k){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(d1,S),g=k,()=>{a.removeEventListener(d1,S),g=null}},createHref(k){return e(a,k)},createURL:O,encodeLocation(k){let U=O(k);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:A,replace:D,go(k){return h.go(k)}};return F}function rC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Fu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}var Ap,p1=class{constructor(n){if(M4(this,Ap,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(ME(this,Ap).has(n))return ME(this,Ap).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){ME(this,Ap).set(n,e)}};Ap=new WeakMap;var U4=new Set(["lazy","caseSensitive","path","id","index","children"]);function V4(n){return U4.has(n)}var j4=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function B4(n){return j4.has(n)}function F4(n){return n.index===!0}function y_(n,e,t=[],i={}){return n.map((a,u)=>{let h=[...t,String(u)],m=typeof a.id=="string"?a.id:h.join("-");if(Bt(a.index!==!0||!a.children,"Cannot specify children on an index route"),Bt(!i[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),F4(a)){let g={...a,...e(a),id:m};return i[m]=g,g}else{let g={...a,...e(a),id:m,children:void 0};return i[m]=g,a.children&&(g.children=y_(a.children,e,h,i)),g}})}function Su(n,e,t="/"){return Hv(n,e,t,!1)}function Hv(n,e,t,i){let a=typeof e=="string"?qu(e):e,u=sa(a.pathname||"/",t);if(u==null)return null;let h=iC(n);H4(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let v=ek(u);m=Z4(h[g],v,i)}return m}function z4(n,e){let{route:t,pathname:i,params:a}=n;return{id:t.id,pathname:i,params:a,data:e[t.id],handle:t.handle}}function iC(n,e=[],t=[],i=""){let a=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Bt(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let v=xo([i,g.relativePath]),E=t.concat(g);u.children&&u.children.length>0&&(Bt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),iC(u.children,e,E,v)),!(u.path==null&&!u.index)&&e.push({path:v,score:Q4(v,u.index),routesMeta:E})};return n.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))a(u,h);else for(let g of sC(u.path))a(u,h,g)}),e}function sC(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),u=t.replace(/\?$/,"");if(i.length===0)return a?[u,""]:[u];let h=sC(i.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),a&&m.push(...h),m.map(g=>n.startsWith("/")&&g===""?"/":g)}function H4(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:X4(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var q4=/^:[\w-]+$/,G4=3,$4=2,K4=1,Y4=10,W4=-2,g1=n=>n==="*";function Q4(n,e){let t=n.split("/"),i=t.length;return t.some(g1)&&(i+=W4),e&&(i+=$4),t.filter(a=>!g1(a)).reduce((a,u)=>a+(q4.test(u)?G4:u===""?K4:Y4),i)}function X4(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function Z4(n,e,t=!1){let{routesMeta:i}=n,a={},u="/",h=[];for(let m=0;m<i.length;++m){let g=i[m],v=m===i.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=v_({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},E),A=g.route;if(!S&&v&&t&&!i[i.length-1].route.index&&(S=v_({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(a,S.params),h.push({params:a,pathname:xo([u,S.pathname]),pathnameBase:rk(xo([u,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(u=xo([u,S.pathnameBase]))}return h}function v_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=J4(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let u=a[0],h=u.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:i.reduce((v,{paramName:E,isOptional:S},A)=>{if(E==="*"){let O=m[A]||"";h=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const D=m[A];return S&&!D?v[E]=void 0:v[E]=(D||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:n}}function J4(n,e=!1,t=!0){gr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(i.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function ek(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function sa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function tk(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?qu(n):n;return{pathname:t?t.startsWith("/")?t:nk(t,e):e,search:ik(i),hash:sk(a)}}function nk(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function PE(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ww(n){let e=aC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Qw(n,e,t,i=!1){let a;typeof n=="string"?a=qu(n):(a={...n},Bt(!a.pathname||!a.pathname.includes("?"),PE("?","pathname","search",a)),Bt(!a.pathname||!a.pathname.includes("#"),PE("#","pathname","hash",a)),Bt(!a.search||!a.search.includes("#"),PE("#","search","hash",a)));let u=n===""||a.pathname==="",h=u?"/":a.pathname,m;if(h==null)m=t;else{let S=e.length-1;if(!i&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),S-=1;a.pathname=A.join("/")}m=S>=0?e[S]:"/"}let g=tk(a,m),v=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(v||E)&&(g.pathname+="/"),g}var xo=n=>n.join("/").replace(/\/\/+/g,"/"),rk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ik=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,sk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,__=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Yp(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var oC=["POST","PUT","PATCH","DELETE"],ak=new Set(oC),ok=["GET",...oC],lk=new Set(ok),uk=new Set([301,302,303,307,308]),ck=new Set([307,308]),LE={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yp={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Xw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hk=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),lC="remix-router-transitions",uC=Symbol("ResetLoaderData");function dk(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Bt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.hydrationRouteProperties||[],a=n.mapRouteProperties||hk,u={},h=y_(n.routes,a,void 0,u),m,g=n.basename||"/",v=n.dataStrategy||vk,E={unstable_middleware:!1,...n.future},S=null,A=new Set,D=null,O=null,F=null,k=n.hydrationData!=null,U=Su(h,n.history.location,g),Q=!1,J=null,he;if(U==null&&!n.patchRoutesOnNavigation){let W=ta(404,{pathname:n.history.location.pathname}),{matches:se,route:le}=C1(h);he=!0,U=se,J={[le.id]:W}}else if(U&&!n.hydrationData&&Lr(U,h,n.history.location.pathname).active&&(U=null),U)if(U.some(W=>W.route.lazy))he=!1;else if(!U.some(W=>W.route.loader))he=!0;else{let W=n.hydrationData?n.hydrationData.loaderData:null,se=n.hydrationData?n.hydrationData.errors:null;if(se){let le=U.findIndex(Se=>se[Se.route.id]!==void 0);he=U.slice(0,le+1).every(Se=>!IT(Se.route,W,se))}else he=U.every(le=>!IT(le.route,W,se))}else{he=!1,U=[];let W=Lr(null,h,n.history.location.pathname);W.active&&W.matches&&(Q=!0,U=W.matches)}let ne,z={historyAction:n.history.action,location:n.history.location,matches:U,initialized:he,navigation:LE,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||J,fetchers:new Map,blockers:new Map},N="POP",I=!1,L,H=!1,K=new Map,X=null,q=!1,Xe=!1,Je=new Set,ce=new Map,pe=0,_e=-1,Me=new Map,G=new Set,me=new Map,Ne=new Map,we=new Set,Ue=new Map,Ke,ze=null;function mn(){if(S=n.history.listen(({action:W,location:se,delta:le})=>{if(Ke){Ke(),Ke=void 0;return}gr(Ue.size===0||le!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Se=za({currentLocation:z.location,nextLocation:se,historyAction:W});if(Se&&le!=null){let Oe=new Promise(Ve=>{Ke=Ve});n.history.go(le*-1),Zr(Se,{state:"blocked",location:se,proceed(){Zr(Se,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),Oe.then(()=>n.history.go(le))},reset(){let Ve=new Map(z.blockers);Ve.set(Se,yp),Zt({blockers:Ve})}});return}return Wt(W,se)}),t){Ik(e,K);let W=()=>Nk(e,K);e.addEventListener("pagehide",W),X=()=>e.removeEventListener("pagehide",W)}return z.initialized||Wt("POP",z.location,{initialHydration:!0}),ne}function Nt(){S&&S(),X&&X(),A.clear(),L&&L.abort(),z.fetchers.forEach((W,se)=>Pn(se)),z.blockers.forEach((W,se)=>fs(se))}function Mn(W){return A.add(W),()=>A.delete(W)}function Zt(W,se={}){z={...z,...W};let le=[],Se=[];z.fetchers.forEach((Oe,Ve)=>{Oe.state==="idle"&&(we.has(Ve)?le.push(Ve):Se.push(Ve))}),we.forEach(Oe=>{!z.fetchers.has(Oe)&&!ce.has(Oe)&&le.push(Oe)}),[...A].forEach(Oe=>Oe(z,{deletedFetchers:le,viewTransitionOpts:se.viewTransitionOpts,flushSync:se.flushSync===!0})),le.forEach(Oe=>Pn(Oe)),Se.forEach(Oe=>z.fetchers.delete(Oe))}function Sn(W,se,{flushSync:le}={}){var We,nt;let Se=z.actionData!=null&&z.navigation.formMethod!=null&&xs(z.navigation.formMethod)&&z.navigation.state==="loading"&&((We=W.state)==null?void 0:We._isRedirect)!==!0,Oe;se.actionData?Object.keys(se.actionData).length>0?Oe=se.actionData:Oe=null:Se?Oe=z.actionData:Oe=null;let Ve=se.loaderData?R1(z.loaderData,se.loaderData,se.matches||[],se.errors):z.loaderData,et=z.blockers;et.size>0&&(et=new Map(et),et.forEach((Ge,st)=>et.set(st,yp)));let je=I===!0||z.navigation.formMethod!=null&&xs(z.navigation.formMethod)&&((nt=W.state)==null?void 0:nt._isRedirect)!==!0;m&&(h=m,m=void 0),q||N==="POP"||(N==="PUSH"?n.history.push(W,W.state):N==="REPLACE"&&n.history.replace(W,W.state));let qe;if(N==="POP"){let Ge=K.get(z.location.pathname);Ge&&Ge.has(W.pathname)?qe={currentLocation:z.location,nextLocation:W}:K.has(W.pathname)&&(qe={currentLocation:W,nextLocation:z.location})}else if(H){let Ge=K.get(z.location.pathname);Ge?Ge.add(W.pathname):(Ge=new Set([W.pathname]),K.set(z.location.pathname,Ge)),qe={currentLocation:z.location,nextLocation:W}}Zt({...se,actionData:Oe,loaderData:Ve,historyAction:N,location:W,initialized:!0,navigation:LE,revalidation:"idle",restoreScrollPosition:Ha(W,se.matches||z.matches),preventScrollReset:je,blockers:et},{viewTransitionOpts:qe,flushSync:le===!0}),N="POP",I=!1,H=!1,q=!1,Xe=!1,ze==null||ze.resolve(),ze=null}async function qn(W,se){if(typeof W=="number"){n.history.go(W);return}let le=CT(z.location,z.matches,g,W,se==null?void 0:se.fromRouteId,se==null?void 0:se.relative),{path:Se,submission:Oe,error:Ve}=y1(!1,le,se),et=z.location,je=Kp(z.location,Se,se&&se.state);je={...je,...n.history.encodeLocation(je)};let qe=se&&se.replace!=null?se.replace:void 0,We="PUSH";qe===!0?We="REPLACE":qe===!1||Oe!=null&&xs(Oe.formMethod)&&Oe.formAction===z.location.pathname+z.location.search&&(We="REPLACE");let nt=se&&"preventScrollReset"in se?se.preventScrollReset===!0:void 0,Ge=(se&&se.flushSync)===!0,st=za({currentLocation:et,nextLocation:je,historyAction:We});if(st){Zr(st,{state:"blocked",location:je,proceed(){Zr(st,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),qn(W,se)},reset(){let Rt=new Map(z.blockers);Rt.set(st,yp),Zt({blockers:Rt})}});return}await Wt(We,je,{submission:Oe,pendingError:Ve,preventScrollReset:nt,replace:se&&se.replace,enableViewTransition:se&&se.viewTransition,flushSync:Ge})}function Ar(){ze||(ze=Dk()),Qr(),Zt({revalidation:"loading"});let W=ze.promise;return z.navigation.state==="submitting"?W:z.navigation.state==="idle"?(Wt(z.historyAction,z.location,{startUninterruptedRevalidation:!0}),W):(Wt(N||z.historyAction,z.navigation.location,{overrideNavigation:z.navigation,enableViewTransition:H===!0}),W)}async function Wt(W,se,le){L&&L.abort(),L=null,N=W,q=(le&&le.startUninterruptedRevalidation)===!0,Fi(z.location,z.matches),I=(le&&le.preventScrollReset)===!0,H=(le&&le.enableViewTransition)===!0;let Se=m||h,Oe=le&&le.overrideNavigation,Ve=le!=null&&le.initialHydration&&z.matches&&z.matches.length>0&&!Q?z.matches:Su(Se,se,g),et=(le&&le.flushSync)===!0;if(Ve&&z.initialized&&!Xe&&Sk(z.location,se)&&!(le&&le.submission&&xs(le.submission.formMethod))){Sn(se,{matches:Ve},{flushSync:et});return}let je=Lr(Ve,Se,se.pathname);if(je.active&&je.matches&&(Ve=je.matches),!Ve){let{error:Qt,notFoundMatches:Lt,route:wt}=oa(se.pathname);Sn(se,{matches:Lt,loaderData:{},errors:{[wt.id]:Qt}},{flushSync:et});return}L=new AbortController;let qe=gd(n.history,se,L.signal,le&&le.submission),We=new p1(n.unstable_getContext?await n.unstable_getContext():void 0),nt;if(le&&le.pendingError)nt=[cf(Ve).route.id,{type:"error",error:le.pendingError}];else if(le&&le.submission&&xs(le.submission.formMethod)){let Qt=await Dt(qe,se,le.submission,Ve,We,je.active,le&&le.initialHydration===!0,{replace:le.replace,flushSync:et});if(Qt.shortCircuited)return;if(Qt.pendingActionResult){let[Lt,wt]=Qt.pendingActionResult;if(Rs(wt)&&Yp(wt.error)&&wt.error.status===404){L=null,Sn(se,{matches:Qt.matches,loaderData:{},errors:{[Lt]:wt.error}});return}}Ve=Qt.matches||Ve,nt=Qt.pendingActionResult,Oe=kE(se,le.submission),et=!1,je.active=!1,qe=gd(n.history,qe.url,qe.signal)}let{shortCircuited:Ge,matches:st,loaderData:Rt,errors:Jt}=await us(qe,se,Ve,We,je.active,Oe,le&&le.submission,le&&le.fetcherSubmission,le&&le.replace,le&&le.initialHydration===!0,et,nt);Ge||(L=null,Sn(se,{matches:st||Ve,...x1(nt),loaderData:Rt,errors:Jt}))}async function Dt(W,se,le,Se,Oe,Ve,et,je={}){Qr();let qe=xk(se,le);if(Zt({navigation:qe},{flushSync:je.flushSync===!0}),Ve){let Ge=await Ms(Se,se.pathname,W.signal);if(Ge.type==="aborted")return{shortCircuited:!0};if(Ge.type==="error"){let st=cf(Ge.partialMatches).route.id;return{matches:Ge.partialMatches,pendingActionResult:[st,{type:"error",error:Ge.error}]}}else if(Ge.matches)Se=Ge.matches;else{let{notFoundMatches:st,error:Rt,route:Jt}=oa(se.pathname);return{matches:st,pendingActionResult:[Jt.id,{type:"error",error:Rt}]}}}let We,nt=Rp(Se,se);if(!nt.route.action&&!nt.route.lazy)We={type:"error",error:ta(405,{method:W.method,pathname:se.pathname,routeId:nt.route.id})};else{let Ge=bd(a,u,W,Se,nt,et?[]:i,Oe),st=await vr(W,Ge,Oe,null);if(We=st[nt.route.id],!We){for(let Rt of Se)if(st[Rt.route.id]){We=st[Rt.route.id];break}}if(W.signal.aborted)return{shortCircuited:!0}}if(_f(We)){let Ge;return je&&je.replace!=null?Ge=je.replace:Ge=b1(We.response.headers.get("Location"),new URL(W.url),g)===z.location.pathname+z.location.search,await yr(W,We,!0,{submission:le,replace:Ge}),{shortCircuited:!0}}if(Rs(We)){let Ge=cf(Se,nt.route.id);return(je&&je.replace)!==!0&&(N="PUSH"),{matches:Se,pendingActionResult:[Ge.route.id,We,nt.route.id]}}return{matches:Se,pendingActionResult:[nt.route.id,We]}}async function us(W,se,le,Se,Oe,Ve,et,je,qe,We,nt,Ge){let st=Ve||kE(se,et),Rt=et||je||N1(st),Jt=!q&&!We;if(Oe){if(Jt){let Fn=an(Ge);Zt({navigation:st,...Fn!==void 0?{actionData:Fn}:{}},{flushSync:nt})}let ft=await Ms(le,se.pathname,W.signal);if(ft.type==="aborted")return{shortCircuited:!0};if(ft.type==="error"){let Fn=cf(ft.partialMatches).route.id;return{matches:ft.partialMatches,loaderData:{},errors:{[Fn]:ft.error}}}else if(ft.matches)le=ft.matches;else{let{error:Fn,notFoundMatches:Jr,route:ei}=oa(se.pathname);return{matches:Jr,loaderData:{},errors:{[ei.id]:Fn}}}}let Qt=m||h,{dsMatches:Lt,revalidatingFetchers:wt}=v1(W,Se,a,u,n.history,z,le,Rt,se,We?[]:i,We===!0,Xe,Je,we,me,G,Qt,g,n.patchRoutesOnNavigation!=null,Ge);if(_e=++pe,!n.dataStrategy&&!Lt.some(ft=>ft.shouldLoad)&&wt.length===0){let ft=ji();return Sn(se,{matches:le,loaderData:{},errors:Ge&&Rs(Ge[1])?{[Ge[0]]:Ge[1].error}:null,...x1(Ge),...ft?{fetchers:new Map(z.fetchers)}:{}},{flushSync:nt}),{shortCircuited:!0}}if(Jt){let ft={};if(!Oe){ft.navigation=st;let Fn=an(Ge);Fn!==void 0&&(ft.actionData=Fn)}wt.length>0&&(ft.fetchers=Ba(wt)),Zt(ft,{flushSync:nt})}wt.forEach(ft=>{Xr(ft.key),ft.controller&&ce.set(ft.key,ft.controller)});let zi=()=>wt.forEach(ft=>Xr(ft.key));L&&L.signal.addEventListener("abort",zi);let{loaderResults:Wn,fetcherResults:kr}=await cs(Lt,wt,W,Se);if(W.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",zi),wt.forEach(ft=>ce.delete(ft.key));let Gn=Av(Wn);if(Gn)return await yr(W,Gn.result,!0,{replace:qe}),{shortCircuited:!0};if(Gn=Av(kr),Gn)return G.add(Gn.key),await yr(W,Gn.result,!0,{replace:qe}),{shortCircuited:!0};let{loaderData:Ls,errors:Rr}=A1(z,le,Wn,Ge,wt,kr);We&&z.errors&&(Rr={...z.errors,...Rr});let qa=ji(),xr=Bi(_e),Ur=qa||xr||wt.length>0;return{matches:le,loaderData:Ls,errors:Rr,...Ur?{fetchers:new Map(z.fetchers)}:{}}}function an(W){if(W&&!Rs(W[1]))return{[W[0]]:W[1].data};if(z.actionData)return Object.keys(z.actionData).length===0?null:z.actionData}function Ba(W){return W.forEach(se=>{let le=z.fetchers.get(se.key),Se=vp(void 0,le?le.data:void 0);z.fetchers.set(se.key,Se)}),new Map(z.fetchers)}async function aa(W,se,le,Se){Xr(W);let Oe=(Se&&Se.flushSync)===!0,Ve=m||h,et=CT(z.location,z.matches,g,le,se,Se==null?void 0:Se.relative),je=Su(Ve,et,g),qe=Lr(je,Ve,et);if(qe.active&&qe.matches&&(je=qe.matches),!je){it(W,se,ta(404,{pathname:et}),{flushSync:Oe});return}let{path:We,submission:nt,error:Ge}=y1(!0,et,Se);if(Ge){it(W,se,Ge,{flushSync:Oe});return}let st=Rp(je,We),Rt=new p1(n.unstable_getContext?await n.unstable_getContext():void 0),Jt=(Se&&Se.preventScrollReset)===!0;if(nt&&xs(nt.formMethod)){await Wr(W,se,We,st,je,Rt,qe.active,Oe,Jt,nt);return}me.set(W,{routeId:se,path:We}),await Bn(W,se,We,st,je,Rt,qe.active,Oe,Jt,nt)}async function Wr(W,se,le,Se,Oe,Ve,et,je,qe,We){Qr(),me.delete(W);function nt(pn){if(!pn.route.action&&!pn.route.lazy){let Hi=ta(405,{method:We.formMethod,pathname:le,routeId:se});return it(W,se,Hi,{flushSync:je}),!0}return!1}if(!et&&nt(Se))return;let Ge=z.fetchers.get(W);He(W,Ck(We,Ge),{flushSync:je});let st=new AbortController,Rt=gd(n.history,le,st.signal,We);if(et){let pn=await Ms(Oe,le,Rt.signal,W);if(pn.type==="aborted")return;if(pn.type==="error"){it(W,se,pn.error,{flushSync:je});return}else if(pn.matches){if(Oe=pn.matches,Se=Rp(Oe,le),nt(Se))return}else{it(W,se,ta(404,{pathname:le}),{flushSync:je});return}}ce.set(W,st);let Jt=pe,Qt=bd(a,u,Rt,Oe,Se,i,Ve),wt=(await vr(Rt,Qt,Ve,W))[Se.route.id];if(Rt.signal.aborted){ce.get(W)===st&&ce.delete(W);return}if(we.has(W)){if(_f(wt)||Rs(wt)){He(W,_u(void 0));return}}else{if(_f(wt))if(ce.delete(W),_e>Jt){He(W,_u(void 0));return}else return G.add(W),He(W,vp(We)),yr(Rt,wt,!1,{fetcherSubmission:We,preventScrollReset:qe});if(Rs(wt)){it(W,se,wt.error);return}}let zi=z.navigation.location||z.location,Wn=gd(n.history,zi,st.signal),kr=m||h,Gn=z.navigation.state!=="idle"?Su(kr,z.navigation.location,g):z.matches;Bt(Gn,"Didn't find any matches after fetcher action");let Ls=++pe;Me.set(W,Ls);let Rr=vp(We,wt.data);z.fetchers.set(W,Rr);let{dsMatches:qa,revalidatingFetchers:xr}=v1(Wn,Ve,a,u,n.history,z,Gn,We,zi,i,!1,Xe,Je,we,me,G,kr,g,n.patchRoutesOnNavigation!=null,[Se.route.id,wt]);xr.filter(pn=>pn.key!==W).forEach(pn=>{let Hi=pn.key,Us=z.fetchers.get(Hi),sr=vp(void 0,Us?Us.data:void 0);z.fetchers.set(Hi,sr),Xr(Hi),pn.controller&&ce.set(Hi,pn.controller)}),Zt({fetchers:new Map(z.fetchers)});let Ur=()=>xr.forEach(pn=>Xr(pn.key));st.signal.addEventListener("abort",Ur);let{loaderResults:ft,fetcherResults:Fn}=await cs(qa,xr,Wn,Ve);if(st.signal.aborted)return;if(st.signal.removeEventListener("abort",Ur),Me.delete(W),ce.delete(W),xr.forEach(pn=>ce.delete(pn.key)),z.fetchers.has(W)){let pn=_u(wt.data);z.fetchers.set(W,pn)}let Jr=Av(ft);if(Jr)return yr(Wn,Jr.result,!1,{preventScrollReset:qe});if(Jr=Av(Fn),Jr)return G.add(Jr.key),yr(Wn,Jr.result,!1,{preventScrollReset:qe});let{loaderData:ei,errors:ks}=A1(z,Gn,ft,void 0,xr,Fn);Bi(Ls),z.navigation.state==="loading"&&Ls>_e?(Bt(N,"Expected pending action"),L&&L.abort(),Sn(z.navigation.location,{matches:Gn,loaderData:ei,errors:ks,fetchers:new Map(z.fetchers)})):(Zt({errors:ks,loaderData:R1(z.loaderData,ei,Gn,ks),fetchers:new Map(z.fetchers)}),Xe=!1)}async function Bn(W,se,le,Se,Oe,Ve,et,je,qe,We){let nt=z.fetchers.get(W);He(W,vp(We,nt?nt.data:void 0),{flushSync:je});let Ge=new AbortController,st=gd(n.history,le,Ge.signal);if(et){let wt=await Ms(Oe,le,st.signal,W);if(wt.type==="aborted")return;if(wt.type==="error"){it(W,se,wt.error,{flushSync:je});return}else if(wt.matches)Oe=wt.matches,Se=Rp(Oe,le);else{it(W,se,ta(404,{pathname:le}),{flushSync:je});return}}ce.set(W,Ge);let Rt=pe,Jt=bd(a,u,st,Oe,Se,i,Ve),Lt=(await vr(st,Jt,Ve,W))[Se.route.id];if(ce.get(W)===Ge&&ce.delete(W),!st.signal.aborted){if(we.has(W)){He(W,_u(void 0));return}if(_f(Lt))if(_e>Rt){He(W,_u(void 0));return}else{G.add(W),await yr(st,Lt,!1,{preventScrollReset:qe});return}if(Rs(Lt)){it(W,se,Lt.error);return}He(W,_u(Lt.data))}}async function yr(W,se,le,{submission:Se,fetcherSubmission:Oe,preventScrollReset:Ve,replace:et}={}){se.response.headers.has("X-Remix-Revalidate")&&(Xe=!0);let je=se.response.headers.get("Location");Bt(je,"Expected a Location header on the redirect Response"),je=b1(je,new URL(W.url),g);let qe=Kp(z.location,je,{_isRedirect:!0});if(t){let Jt=!1;if(se.response.headers.has("X-Remix-Reload-Document"))Jt=!0;else if(Xw.test(je)){const Qt=rC(je,!0);Jt=Qt.origin!==e.location.origin||sa(Qt.pathname,g)==null}if(Jt){et?e.location.replace(je):e.location.assign(je);return}}L=null;let We=et===!0||se.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:nt,formAction:Ge,formEncType:st}=z.navigation;!Se&&!Oe&&nt&&Ge&&st&&(Se=N1(z.navigation));let Rt=Se||Oe;if(ck.has(se.response.status)&&Rt&&xs(Rt.formMethod))await Wt(We,qe,{submission:{...Rt,formAction:je},preventScrollReset:Ve||I,enableViewTransition:le?H:void 0});else{let Jt=kE(qe,Se);await Wt(We,qe,{overrideNavigation:Jt,fetcherSubmission:Oe,preventScrollReset:Ve||I,enableViewTransition:le?H:void 0})}}async function vr(W,se,le,Se){let Oe,Ve={};try{Oe=await _k(v,W,se,Se,le,!1)}catch(et){return se.filter(je=>je.shouldLoad).forEach(je=>{Ve[je.route.id]={type:"error",error:et}}),Ve}if(W.signal.aborted)return Ve;for(let[et,je]of Object.entries(Oe))if(Ak(je)){let qe=je.result;Ve[et]={type:"redirect",response:wk(qe,W,et,se,g)}}else Ve[et]=await Tk(je);return Ve}async function cs(W,se,le,Se){let Oe=vr(le,W,Se,null),Ve=Promise.all(se.map(async qe=>{if(qe.matches&&qe.match&&qe.request&&qe.controller){let nt=(await vr(qe.request,qe.matches,Se,qe.key))[qe.match.route.id];return{[qe.key]:nt}}else return Promise.resolve({[qe.key]:{type:"error",error:ta(404,{pathname:qe.path})}})})),et=await Oe,je=(await Ve).reduce((qe,We)=>Object.assign(qe,We),{});return{loaderResults:et,fetcherResults:je}}function Qr(){Xe=!0,me.forEach((W,se)=>{ce.has(se)&&Je.add(se),Xr(se)})}function He(W,se,le={}){z.fetchers.set(W,se),Zt({fetchers:new Map(z.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function it(W,se,le,Se={}){let Oe=cf(z.matches,se);Pn(W),Zt({errors:{[Oe.route.id]:le},fetchers:new Map(z.fetchers)},{flushSync:(Se&&Se.flushSync)===!0})}function An(W){return Ne.set(W,(Ne.get(W)||0)+1),we.has(W)&&we.delete(W),z.fetchers.get(W)||fk}function Pn(W){let se=z.fetchers.get(W);ce.has(W)&&!(se&&se.state==="loading"&&Me.has(W))&&Xr(W),me.delete(W),Me.delete(W),G.delete(W),we.delete(W),Je.delete(W),z.fetchers.delete(W)}function Fa(W){let se=(Ne.get(W)||0)-1;se<=0?(Ne.delete(W),we.add(W)):Ne.set(W,se),Zt({fetchers:new Map(z.fetchers)})}function Xr(W){let se=ce.get(W);se&&(se.abort(),ce.delete(W))}function Vi(W){for(let se of W){let le=An(se),Se=_u(le.data);z.fetchers.set(se,Se)}}function ji(){let W=[],se=!1;for(let le of G){let Se=z.fetchers.get(le);Bt(Se,`Expected fetcher: ${le}`),Se.state==="loading"&&(G.delete(le),W.push(le),se=!0)}return Vi(W),se}function Bi(W){let se=[];for(let[le,Se]of Me)if(Se<W){let Oe=z.fetchers.get(le);Bt(Oe,`Expected fetcher: ${le}`),Oe.state==="loading"&&(Xr(le),Me.delete(le),se.push(le))}return Vi(se),se.length>0}function Pr(W,se){let le=z.blockers.get(W)||yp;return Ue.get(W)!==se&&Ue.set(W,se),le}function fs(W){z.blockers.delete(W),Ue.delete(W)}function Zr(W,se){let le=z.blockers.get(W)||yp;Bt(le.state==="unblocked"&&se.state==="blocked"||le.state==="blocked"&&se.state==="blocked"||le.state==="blocked"&&se.state==="proceeding"||le.state==="blocked"&&se.state==="unblocked"||le.state==="proceeding"&&se.state==="unblocked",`Invalid blocker state transition: ${le.state} -> ${se.state}`);let Se=new Map(z.blockers);Se.set(W,se),Zt({blockers:Se})}function za({currentLocation:W,nextLocation:se,historyAction:le}){if(Ue.size===0)return;Ue.size>1&&gr(!1,"A router only supports one blocker at a time");let Se=Array.from(Ue.entries()),[Oe,Ve]=Se[Se.length-1],et=z.blockers.get(Oe);if(!(et&&et.state==="proceeding")&&Ve({currentLocation:W,nextLocation:se,historyAction:le}))return Oe}function oa(W){let se=ta(404,{pathname:W}),le=m||h,{matches:Se,route:Oe}=C1(le);return{notFoundMatches:Se,route:Oe,error:se}}function Oo(W,se,le){if(D=W,F=se,O=le||null,!k&&z.navigation===LE){k=!0;let Se=Ha(z.location,z.matches);Se!=null&&Zt({restoreScrollPosition:Se})}return()=>{D=null,F=null,O=null}}function bi(W,se){return O&&O(W,se.map(Se=>z4(Se,z.loaderData)))||W.key}function Fi(W,se){if(D&&F){let le=bi(W,se);D[le]=F()}}function Ha(W,se){if(D){let le=bi(W,se),Se=D[le];if(typeof Se=="number")return Se}return null}function Lr(W,se,le){if(n.patchRoutesOnNavigation)if(W){if(Object.keys(W[0].params).length>0)return{active:!0,matches:Hv(se,le,g,!0)}}else return{active:!0,matches:Hv(se,le,g,!0)||[]};return{active:!1,matches:null}}async function Ms(W,se,le,Se){if(!n.patchRoutesOnNavigation)return{type:"success",matches:W};let Oe=W;for(;;){let Ve=m==null,et=m||h,je=u;try{await n.patchRoutesOnNavigation({signal:le,path:se,matches:Oe,fetcherKey:Se,patch:(nt,Ge)=>{le.aborted||_1(nt,Ge,et,je,a)}})}catch(nt){return{type:"error",error:nt,partialMatches:Oe}}finally{Ve&&!le.aborted&&(h=[...h])}if(le.aborted)return{type:"aborted"};let qe=Su(et,se,g);if(qe)return{type:"success",matches:qe};let We=Hv(et,se,g,!0);if(!We||Oe.length===We.length&&Oe.every((nt,Ge)=>nt.route.id===We[Ge].route.id))return{type:"success",matches:null};Oe=We}}function Ps(W){u={},m=y_(W,a,void 0,u)}function la(W,se){let le=m==null;_1(W,se,m||h,u,a),le&&(h=[...h],Zt({}))}return ne={get basename(){return g},get future(){return E},get state(){return z},get routes(){return h},get window(){return e},initialize:mn,subscribe:Mn,enableScrollRestoration:Oo,navigate:qn,fetch:aa,revalidate:Ar,createHref:W=>n.history.createHref(W),encodeLocation:W=>n.history.encodeLocation(W),getFetcher:An,deleteFetcher:Fa,dispose:Nt,getBlocker:Pr,deleteBlocker:fs,patchRoutes:la,_internalFetchControllers:ce,_internalSetRoutes:Ps},ne}function mk(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function CT(n,e,t,i,a,u){let h,m;if(a){h=[];for(let v of e)if(h.push(v),v.route.id===a){m=v;break}}else h=e,m=e[e.length-1];let g=Qw(i||".",Ww(h),sa(n.pathname,t)||n.pathname,u==="path");if(i==null&&(g.search=n.search,g.hash=n.hash),(i==null||i===""||i===".")&&m){let v=Zw(g.search);if(m.route.index&&!v)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&v){let E=new URLSearchParams(g.search),S=E.getAll("index");E.delete("index"),S.filter(D=>D).forEach(D=>E.append("index",D));let A=E.toString();g.search=A?`?${A}`:""}}return t!=="/"&&(g.pathname=g.pathname==="/"?t:xo([t,g.pathname])),Fu(g)}function y1(n,e,t){if(!t||!mk(t))return{path:e};if(t.formMethod&&!Rk(t.formMethod))return{path:e,error:ta(405,{method:t.formMethod})};let i=()=>({path:e,error:ta(400,{type:"invalid-body"})}),u=(t.formMethod||"get").toUpperCase(),h=pC(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!xs(u))return i();let S=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((A,[D,O])=>`${A}${D}=${O}
`,""):String(t.body);return{path:e,submission:{formMethod:u,formAction:h,formEncType:t.formEncType,formData:void 0,json:void 0,text:S}}}else if(t.formEncType==="application/json"){if(!xs(u))return i();try{let S=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:u,formAction:h,formEncType:t.formEncType,formData:void 0,json:S,text:void 0}}}catch{return i()}}}Bt(typeof FormData=="function","FormData is not available in this environment");let m,g;if(t.formData)m=DT(t.formData),g=t.formData;else if(t.body instanceof FormData)m=DT(t.body),g=t.body;else if(t.body instanceof URLSearchParams)m=t.body,g=S1(m);else if(t.body==null)m=new URLSearchParams,g=new FormData;else try{m=new URLSearchParams(t.body),g=S1(m)}catch{return i()}let v={formMethod:u,formAction:h,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(xs(v.formMethod))return{path:e,submission:v};let E=qu(e);return n&&E.search&&Zw(E.search)&&m.append("index",""),E.search=`?${m}`,{path:Fu(E),submission:v}}function v1(n,e,t,i,a,u,h,m,g,v,E,S,A,D,O,F,k,U,Q,J){var q;let he=J?Rs(J[1])?J[1].error:J[1].data:void 0,ne=a.createURL(u.location),z=a.createURL(g),N;if(E&&u.errors){let Xe=Object.keys(u.errors)[0];N=h.findIndex(Je=>Je.route.id===Xe)}else if(J&&Rs(J[1])){let Xe=J[0];N=h.findIndex(Je=>Je.route.id===Xe)-1}let I=J?J[1].statusCode:void 0,L=I&&I>=400,H={currentUrl:ne,currentParams:((q=u.matches[0])==null?void 0:q.params)||{},nextUrl:z,nextParams:h[0].params,...m,actionResult:he,actionStatus:I},K=h.map((Xe,Je)=>{let{route:ce}=Xe,pe=null;if(N!=null&&Je>N?pe=!1:ce.lazy?pe=!0:ce.loader==null?pe=!1:E?pe=IT(ce,u.loaderData,u.errors):pk(u.loaderData,u.matches[Je],Xe)&&(pe=!0),pe!==null)return NT(t,i,n,Xe,v,e,pe);let _e=L?!1:S||ne.pathname+ne.search===z.pathname+z.search||ne.search!==z.search||gk(u.matches[Je],Xe),Me={...H,defaultShouldRevalidate:_e},G=E_(Xe,Me);return NT(t,i,n,Xe,v,e,G,Me)}),X=[];return O.forEach((Xe,Je)=>{if(E||!h.some(we=>we.route.id===Xe.routeId)||D.has(Je))return;let ce=u.fetchers.get(Je),pe=ce&&ce.state!=="idle"&&ce.data===void 0,_e=Su(k,Xe.path,U);if(!_e){if(Q&&pe)return;X.push({key:Je,routeId:Xe.routeId,path:Xe.path,matches:null,match:null,request:null,controller:null});return}if(F.has(Je))return;let Me=Rp(_e,Xe.path),G=new AbortController,me=gd(a,Xe.path,G.signal),Ne=null;if(A.has(Je))A.delete(Je),Ne=bd(t,i,me,_e,Me,v,e);else if(pe)S&&(Ne=bd(t,i,me,_e,Me,v,e));else{let we={...H,defaultShouldRevalidate:L?!1:S};E_(Me,we)&&(Ne=bd(t,i,me,_e,Me,v,e,we))}Ne&&X.push({key:Je,routeId:Xe.routeId,path:Xe.path,matches:Ne,match:Me,request:me,controller:G})}),{dsMatches:K,revalidatingFetchers:X}}function IT(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&n.id in e,a=t!=null&&t[n.id]!==void 0;return!i&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!a}function pk(n,e,t){let i=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return i||a}function gk(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function E_(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function _1(n,e,t,i,a){let u;if(n){let g=i[n];Bt(g,`No route found to patch children into: routeId = ${n}`),g.children||(g.children=[]),u=g.children}else u=t;let h=e.filter(g=>!u.some(v=>cC(g,v))),m=y_(h,a,[n||"_","patch",String((u==null?void 0:u.length)||"0")],i);u.push(...m)}function cC(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var a;return(a=e.children)==null?void 0:a.some(u=>cC(t,u))}):!1}var E1=new WeakMap,fC=({key:n,route:e,manifest:t,mapRouteProperties:i})=>{let a=t[e.id];if(Bt(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let u=a.lazy[n];if(!u)return;let h=E1.get(a);h||(h={},E1.set(a,h));let m=h[n];if(m)return m;let g=(async()=>{let v=V4(n),S=a[n]!==void 0&&n!=="hasErrorBoundary";if(v)gr(!v,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),h[n]=Promise.resolve();else if(S)gr(!1,`Route "${a.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let A=await u();A!=null&&(Object.assign(a,{[n]:A}),Object.assign(a,i(a)))}typeof a.lazy=="object"&&(a.lazy[n]=void 0,Object.values(a.lazy).every(A=>A===void 0)&&(a.lazy=void 0))})();return h[n]=g,g},T1=new WeakMap;function yk(n,e,t,i,a){let u=t[n.id];if(Bt(u,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let E=T1.get(u);if(E)return{lazyRoutePromise:E,lazyHandlerPromise:E};let S=(async()=>{Bt(typeof n.lazy=="function","No lazy route function found");let A=await n.lazy(),D={};for(let O in A){let F=A[O];if(F===void 0)continue;let k=B4(O),Q=u[O]!==void 0&&O!=="hasErrorBoundary";k?gr(!k,"Route property "+O+" is not a supported property to be returned from a lazy route function. This property will be ignored."):Q?gr(!Q,`Route "${u.id}" has a static property "${O}" defined but its lazy function is also returning a value for this property. The lazy route property "${O}" will be ignored.`):D[O]=F}Object.assign(u,D),Object.assign(u,{...i(u),lazy:void 0})})();return T1.set(u,S),S.catch(()=>{}),{lazyRoutePromise:S,lazyHandlerPromise:S}}let h=Object.keys(n.lazy),m=[],g;for(let E of h){if(a&&a.includes(E))continue;let S=fC({key:E,route:n,manifest:t,mapRouteProperties:i});S&&(m.push(S),E===e&&(g=S))}let v=m.length>0?Promise.all(m).then(()=>{}):void 0;return v==null||v.catch(()=>{}),g==null||g.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:g}}async function w1(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,u)=>{t[e[u].route.id]=a}),t}async function vk(n){return n.matches.some(e=>e.route.unstable_middleware)?hC(n,!1,()=>w1(n),(e,t)=>({[t]:{type:"error",result:e}})):w1(n)}async function hC(n,e,t,i){let{matches:a,request:u,params:h,context:m}=n,g={handlerResult:void 0};try{let v=a.flatMap(S=>S.route.unstable_middleware?S.route.unstable_middleware.map(A=>[S.route.id,A]):[]),E=await dC({request:u,params:h,context:m},v,e,g,t);return e?E:g.handlerResult}catch(v){if(!g.middlewareError)throw v;let E=await i(g.middlewareError.error,g.middlewareError.routeId);return g.handlerResult?Object.assign(g.handlerResult,E):E}}async function dC(n,e,t,i,a,u=0){let{request:h}=n;if(h.signal.aborted)throw h.signal.reason?h.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${h.method} ${h.url}`);let m=e[u];if(!m)return i.handlerResult=await a(),i.handlerResult;let[g,v]=m,E=!1,S,A=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");E=!0,await dC(n,e,t,i,a,u+1)};try{let D=await v({request:n.request,params:n.params,context:n.context},A);return E?D===void 0?S:D:A()}catch(D){throw i.middlewareError?i.middlewareError.error!==D&&(i.middlewareError={routeId:g,error:D}):i.middlewareError={routeId:g,error:D},D}}function mC(n,e,t,i,a){let u=fC({key:"unstable_middleware",route:i.route,manifest:e,mapRouteProperties:n}),h=yk(i.route,xs(t.method)?"action":"loader",e,n,a);return{middleware:u,route:h.lazyRoutePromise,handler:h.lazyHandlerPromise}}function NT(n,e,t,i,a,u,h,m=null){let g=!1,v=mC(n,e,t,i,a);return{...i,_lazyPromises:v,shouldLoad:h,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(E){return g=!0,m?typeof E=="boolean"?E_(i,{...m,defaultShouldRevalidate:E}):E_(i,m):h},resolve(E){return g||h||E&&t.method==="GET"&&(i.route.lazy||i.route.loader)?Ek({request:t,match:i,lazyHandlerPromise:v==null?void 0:v.handler,lazyRoutePromise:v==null?void 0:v.route,handlerOverride:E,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function bd(n,e,t,i,a,u,h,m=null){return i.map(g=>g.route.id!==a.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:mC(n,e,t,g,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:NT(n,e,t,g,u,h,!0,m))}async function _k(n,e,t,i,a,u){t.some(v=>{var E;return(E=v._lazyPromises)==null?void 0:E.middleware})&&await Promise.all(t.map(v=>{var E;return(E=v._lazyPromises)==null?void 0:E.middleware}));let h={request:e,params:t[0].params,context:a,matches:t},g=await n({...h,fetcherKey:i,unstable_runClientMiddleware:v=>{let E=h;return hC(E,!1,()=>v({...E,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(S,A)=>({[A]:{type:"error",result:S}}))}});try{await Promise.all(t.flatMap(v=>{var E,S;return[(E=v._lazyPromises)==null?void 0:E.handler,(S=v._lazyPromises)==null?void 0:S.route]}))}catch{}return g}async function Ek({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:i,handlerOverride:a,scopedContext:u}){let h,m,g=xs(n.method),v=g?"action":"loader",E=S=>{let A,D=new Promise((k,U)=>A=U);m=()=>A(),n.signal.addEventListener("abort",m);let O=k=>typeof S!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${v}" [routeId: ${e.route.id}]`)):S({request:n,params:e.params,context:u},...k!==void 0?[k]:[]),F=(async()=>{try{return{type:"data",result:await(a?a(U=>O(U)):O())}}catch(k){return{type:"error",result:k}}})();return Promise.race([F,D])};try{let S=g?e.route.action:e.route.loader;if(t||i)if(S){let A,[D]=await Promise.all([E(S).catch(O=>{A=O}),t,i]);if(A!==void 0)throw A;h=D}else{await t;let A=g?e.route.action:e.route.loader;if(A)[h]=await Promise.all([E(A),i]);else if(v==="action"){let D=new URL(n.url),O=D.pathname+D.search;throw ta(405,{method:n.method,pathname:O,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(S)h=await E(S);else{let A=new URL(n.url),D=A.pathname+A.search;throw ta(404,{pathname:D})}}catch(S){return{type:"error",result:S}}finally{m&&n.signal.removeEventListener("abort",m)}return h}async function Tk(n){var i,a,u,h,m,g;let{result:e,type:t}=n;if(gC(e)){let v;try{let E=e.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?e.body==null?v=null:v=await e.json():v=await e.text()}catch(E){return{type:"error",error:E}}return t==="error"?{type:"error",error:new __(e.status,e.statusText,v),statusCode:e.status,headers:e.headers}:{type:"data",data:v,statusCode:e.status,headers:e.headers}}return t==="error"?I1(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new __(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:Yp(e)?e.status:void 0,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Yp(e)?e.status:void 0}:I1(e)?{type:"data",data:e.data,statusCode:(m=e.init)==null?void 0:m.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function wk(n,e,t,i,a){let u=n.headers.get("Location");if(Bt(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Xw.test(u)){let h=i.slice(0,i.findIndex(m=>m.route.id===t)+1);u=CT(new URL(e.url),h,a,u),n.headers.set("Location",u)}return n}function b1(n,e,t){if(Xw.test(n)){let i=n,a=i.startsWith("//")?new URL(e.protocol+i):new URL(i),u=sa(a.pathname,t)!=null;if(a.origin===e.origin&&u)return a.pathname+a.search+a.hash}return n}function gd(n,e,t,i){let a=n.createURL(pC(e)).toString(),u={signal:t};if(i&&xs(i.formMethod)){let{formMethod:h,formEncType:m}=i;u.method=h.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(i.json)):m==="text/plain"?u.body=i.text:m==="application/x-www-form-urlencoded"&&i.formData?u.body=DT(i.formData):u.body=i.formData}return new Request(a,u)}function DT(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function S1(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function bk(n,e,t,i=!1,a=!1){let u={},h=null,m,g=!1,v={},E=t&&Rs(t[1])?t[1].error:void 0;return n.forEach(S=>{if(!(S.route.id in e))return;let A=S.route.id,D=e[A];if(Bt(!_f(D),"Cannot handle redirect results in processLoaderData"),Rs(D)){let O=D.error;if(E!==void 0&&(O=E,E=void 0),h=h||{},a)h[A]=O;else{let F=cf(n,A);h[F.route.id]==null&&(h[F.route.id]=O)}i||(u[A]=uC),g||(g=!0,m=Yp(D.error)?D.error.status:500),D.headers&&(v[A]=D.headers)}else u[A]=D.data,D.statusCode&&D.statusCode!==200&&!g&&(m=D.statusCode),D.headers&&(v[A]=D.headers)}),E!==void 0&&t&&(h={[t[0]]:E},t[2]&&(u[t[2]]=void 0)),{loaderData:u,errors:h,statusCode:m||200,loaderHeaders:v}}function A1(n,e,t,i,a,u){let{loaderData:h,errors:m}=bk(e,t,i);return a.filter(g=>!g.matches||g.matches.some(v=>v.shouldLoad)).forEach(g=>{let{key:v,match:E,controller:S}=g,A=u[v];if(Bt(A,"Did not find corresponding fetcher result"),!(S&&S.signal.aborted))if(Rs(A)){let D=cf(n.matches,E==null?void 0:E.route.id);m&&m[D.route.id]||(m={...m,[D.route.id]:A.error}),n.fetchers.delete(v)}else if(_f(A))Bt(!1,"Unhandled fetcher revalidation redirect");else{let D=_u(A.data);n.fetchers.set(v,D)}}),{loaderData:h,errors:m}}function R1(n,e,t,i){let a=Object.entries(e).filter(([,u])=>u!==uC).reduce((u,[h,m])=>(u[h]=m,u),{});for(let u of t){let h=u.route.id;if(!e.hasOwnProperty(h)&&n.hasOwnProperty(h)&&u.route.loader&&(a[h]=n[h]),i&&i.hasOwnProperty(h))break}return a}function x1(n){return n?Rs(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function cf(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function C1(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ta(n,{pathname:e,routeId:t,method:i,type:a,message:u}={}){let h="Unknown Server Error",m="Unknown @remix-run/router error";return n===400?(h="Bad Request",i&&e&&t?m=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(m="Unable to encode submission body")):n===403?(h="Forbidden",m=`Route "${t}" does not match URL "${e}"`):n===404?(h="Not Found",m=`No route matches URL "${e}"`):n===405&&(h="Method Not Allowed",i&&e&&t?m=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(m=`Invalid request method "${i.toUpperCase()}"`)),new __(n||500,h,new Error(m),!0)}function Av(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,a]=e[t];if(_f(a))return{key:i,result:a}}}function pC(n){let e=typeof n=="string"?qu(n):n;return Fu({...e,hash:""})}function Sk(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function Ak(n){return gC(n.result)&&uk.has(n.result.status)}function Rs(n){return n.type==="error"}function _f(n){return(n&&n.type)==="redirect"}function I1(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function gC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function Rk(n){return lk.has(n.toUpperCase())}function xs(n){return ak.has(n.toUpperCase())}function Zw(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Rp(n,e){let t=typeof e=="string"?qu(e).search:e.search;if(n[n.length-1].route.index&&Zw(t||""))return n[n.length-1];let i=aC(n);return i[i.length-1]}function N1(n){let{formMethod:e,formAction:t,formEncType:i,text:a,formData:u,json:h}=n;if(!(!e||!t||!i)){if(a!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:a};if(u!=null)return{formMethod:e,formAction:t,formEncType:i,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:h,text:void 0}}}function kE(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function xk(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function vp(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ck(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function _u(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function Ik(n,e){try{let t=n.sessionStorage.getItem(lC);if(t){let i=JSON.parse(t);for(let[a,u]of Object.entries(i||{}))u&&Array.isArray(u)&&e.set(a,new Set(u||[]))}}catch{}}function Nk(n,e){if(e.size>0){let t={};for(let[i,a]of e)t[i]=[...a];try{n.sessionStorage.setItem(lC,JSON.stringify(t))}catch(i){gr(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function Dk(){let n,e,t=new Promise((i,a)=>{n=async u=>{i(u);try{await t}catch{}},e=async u=>{a(u);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Vf=B.createContext(null);Vf.displayName="DataRouter";var hg=B.createContext(null);hg.displayName="DataRouterState";var Jw=B.createContext({isTransitioning:!1});Jw.displayName="ViewTransition";var yC=B.createContext(new Map);yC.displayName="Fetchers";var Ok=B.createContext(null);Ok.displayName="Await";var Do=B.createContext(null);Do.displayName="Navigation";var J_=B.createContext(null);J_.displayName="Location";var Va=B.createContext({outlet:null,matches:[],isDataRoute:!1});Va.displayName="Route";var eb=B.createContext(null);eb.displayName="RouteError";function Mk(n,{relative:e}={}){Bt(dg(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=B.useContext(Do),{hash:a,pathname:u,search:h}=mg(n,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:xo([t,u])),i.createHref({pathname:m,search:h,hash:a})}function dg(){return B.useContext(J_)!=null}function jf(){return Bt(dg(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(J_).location}var vC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _C(n){B.useContext(Do).static||B.useLayoutEffect(n)}function EC(){let{isDataRoute:n}=B.useContext(Va);return n?Wk():Pk()}function Pk(){Bt(dg(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(Vf),{basename:e,navigator:t}=B.useContext(Do),{matches:i}=B.useContext(Va),{pathname:a}=jf(),u=JSON.stringify(Ww(i)),h=B.useRef(!1);return _C(()=>{h.current=!0}),B.useCallback((g,v={})=>{if(gr(h.current,vC),!h.current)return;if(typeof g=="number"){t.go(g);return}let E=Qw(g,JSON.parse(u),a,v.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:xo([e,E.pathname])),(v.replace?t.replace:t.push)(E,v.state,v)},[e,t,u,a,n])}var Lk=B.createContext(null);function kk(n){let e=B.useContext(Va).outlet;return e&&B.createElement(Lk.Provider,{value:n},e)}function Uk(){let{matches:n}=B.useContext(Va),e=n[n.length-1];return e?e.params:{}}function mg(n,{relative:e}={}){let{matches:t}=B.useContext(Va),{pathname:i}=jf(),a=JSON.stringify(Ww(t));return B.useMemo(()=>Qw(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function Vk(n,e,t,i){Bt(dg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=B.useContext(Do),{matches:u}=B.useContext(Va),h=u[u.length-1],m=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",E=h&&h.route;{let U=E&&E.path||"";TC(g,!E||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let S=jf(),A;A=S;let D=A.pathname||"/",O=D;if(v!=="/"){let U=v.replace(/^\//,"").split("/");O="/"+D.replace(/^\//,"").split("/").slice(U.length).join("/")}let F=Su(n,{pathname:O});return gr(E||F!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),gr(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Hk(F&&F.map(U=>Object.assign({},U,{params:Object.assign({},m,U.params),pathname:xo([v,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?v:xo([v,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,t,i)}function jk(){let n=Yk(),e=Yp(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:a},t):null,h)}var Bk=B.createElement(jk,null),Fk=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?B.createElement(Va.Provider,{value:this.props.routeContext},B.createElement(eb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zk({routeContext:n,match:e,children:t}){let i=B.useContext(Vf);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Va.Provider,{value:n},t)}function Hk(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,u=t==null?void 0:t.errors;if(u!=null){let g=a.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);Bt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,m=-1;if(t)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:E,errors:S}=t,A=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||A){h=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((g,v,E)=>{let S,A=!1,D=null,O=null;t&&(S=u&&v.route.id?u[v.route.id]:void 0,D=v.route.errorElement||Bk,h&&(m<0&&E===0?(TC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,O=null):m===E&&(A=!0,O=v.route.hydrateFallbackElement||null)));let F=e.concat(a.slice(0,E+1)),k=()=>{let U;return S?U=D:A?U=O:v.route.Component?U=B.createElement(v.route.Component,null):v.route.element?U=v.route.element:U=g,B.createElement(zk,{match:v,routeContext:{outlet:g,matches:F,isDataRoute:t!=null},children:U})};return t&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?B.createElement(Fk,{location:t.location,revalidation:t.revalidation,component:D,error:S,children:k(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):k()},null)}function tb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qk(n){let e=B.useContext(Vf);return Bt(e,tb(n)),e}function Gk(n){let e=B.useContext(hg);return Bt(e,tb(n)),e}function $k(n){let e=B.useContext(Va);return Bt(e,tb(n)),e}function nb(n){let e=$k(n),t=e.matches[e.matches.length-1];return Bt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Kk(){return nb("useRouteId")}function Yk(){var i;let n=B.useContext(eb),e=Gk("useRouteError"),t=nb("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function Wk(){let{router:n}=qk("useNavigate"),e=nb("useNavigate"),t=B.useRef(!1);return _C(()=>{t.current=!0}),B.useCallback(async(a,u={})=>{gr(t.current,vC),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...u}))},[n,e])}var D1={};function TC(n,e,t){!e&&!D1[n]&&(D1[n]=!0,gr(!1,t))}var O1={};function M1(n,e){!n&&!O1[e]&&(O1[e]=!0,console.warn(e))}function Qk(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&gr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:B.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&gr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:B.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&gr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:B.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var Xk=["HydrateFallback","hydrateFallbackElement"],Zk=class{constructor(){this.status="pending",this.promise=new Promise((n,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",n(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function Jk({router:n,flushSync:e}){let[t,i]=B.useState(n.state),[a,u]=B.useState(),[h,m]=B.useState({isTransitioning:!1}),[g,v]=B.useState(),[E,S]=B.useState(),[A,D]=B.useState(),O=B.useRef(new Map),F=B.useCallback((J,{deletedFetchers:he,flushSync:ne,viewTransitionOpts:z})=>{J.fetchers.forEach((I,L)=>{I.data!==void 0&&O.current.set(L,I.data)}),he.forEach(I=>O.current.delete(I)),M1(ne===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let N=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(M1(z==null||N,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!z||!N){e&&ne?e(()=>i(J)):B.startTransition(()=>i(J));return}if(e&&ne){e(()=>{E&&(g&&g.resolve(),E.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:z.currentLocation,nextLocation:z.nextLocation})});let I=n.window.document.startViewTransition(()=>{e(()=>i(J))});I.finished.finally(()=>{e(()=>{v(void 0),S(void 0),u(void 0),m({isTransitioning:!1})})}),e(()=>S(I));return}E?(g&&g.resolve(),E.skipTransition(),D({state:J,currentLocation:z.currentLocation,nextLocation:z.nextLocation})):(u(J),m({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}))},[n.window,e,E,g]);B.useLayoutEffect(()=>n.subscribe(F),[n,F]),B.useEffect(()=>{h.isTransitioning&&!h.flushSync&&v(new Zk)},[h]),B.useEffect(()=>{if(g&&a&&n.window){let J=a,he=g.promise,ne=n.window.document.startViewTransition(async()=>{B.startTransition(()=>i(J)),await he});ne.finished.finally(()=>{v(void 0),S(void 0),u(void 0),m({isTransitioning:!1})}),S(ne)}},[a,g,n.window]),B.useEffect(()=>{g&&a&&t.location.key===a.location.key&&g.resolve()},[g,E,t.location,a]),B.useEffect(()=>{!h.isTransitioning&&A&&(u(A.state),m({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}),D(void 0))},[h.isTransitioning,A]);let k=B.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:J=>n.navigate(J),push:(J,he,ne)=>n.navigate(J,{state:he,preventScrollReset:ne==null?void 0:ne.preventScrollReset}),replace:(J,he,ne)=>n.navigate(J,{replace:!0,state:he,preventScrollReset:ne==null?void 0:ne.preventScrollReset})}),[n]),U=n.basename||"/",Q=B.useMemo(()=>({router:n,navigator:k,static:!1,basename:U}),[n,k,U]);return B.createElement(B.Fragment,null,B.createElement(Vf.Provider,{value:Q},B.createElement(hg.Provider,{value:t},B.createElement(yC.Provider,{value:O.current},B.createElement(Jw.Provider,{value:h},B.createElement(r3,{basename:U,location:t.location,navigationType:t.historyAction,navigator:k},B.createElement(e3,{routes:n.routes,future:n.future,state:t})))))),null)}var e3=B.memo(t3);function t3({routes:n,future:e,state:t}){return Vk(n,void 0,t,e)}function n3(n){return kk(n.context)}function r3({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:u=!1}){Bt(!dg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:h,navigator:a,static:u,future:{}}),[h,a,u]);typeof t=="string"&&(t=qu(t));let{pathname:g="/",search:v="",hash:E="",state:S=null,key:A="default"}=t,D=B.useMemo(()=>{let O=sa(g,h);return O==null?null:{location:{pathname:O,search:v,hash:E,state:S,key:A},navigationType:i}},[h,g,v,E,S,A,i]);return gr(D!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:B.createElement(Do.Provider,{value:m},B.createElement(J_.Provider,{children:e,value:D}))}var qv="get",Gv="application/x-www-form-urlencoded";function e0(n){return n!=null&&typeof n.tagName=="string"}function i3(n){return e0(n)&&n.tagName.toLowerCase()==="button"}function s3(n){return e0(n)&&n.tagName.toLowerCase()==="form"}function a3(n){return e0(n)&&n.tagName.toLowerCase()==="input"}function o3(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function l3(n,e){return n.button===0&&(!e||e==="_self")&&!o3(n)}var Rv=null;function u3(){if(Rv===null)try{new FormData(document.createElement("form"),0),Rv=!1}catch{Rv=!0}return Rv}var c3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function UE(n){return n!=null&&!c3.has(n)?(gr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gv}"`),null):n}function f3(n,e){let t,i,a,u,h;if(s3(n)){let m=n.getAttribute("action");i=m?sa(m,e):null,t=n.getAttribute("method")||qv,a=UE(n.getAttribute("enctype"))||Gv,u=new FormData(n)}else if(i3(n)||a3(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||m.getAttribute("action");if(i=g?sa(g,e):null,t=n.getAttribute("formmethod")||m.getAttribute("method")||qv,a=UE(n.getAttribute("formenctype"))||UE(m.getAttribute("enctype"))||Gv,u=new FormData(m,n),!u3()){let{name:v,type:E,value:S}=n;if(E==="image"){let A=v?`${v}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else v&&u.append(v,S)}}else{if(e0(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qv,i=null,a=Gv,h=n}return u&&a==="text/plain"&&(h=u,u=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:u,body:h}}function rb(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function h3(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function d3(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function m3(n,e,t){let i=await Promise.all(n.map(async a=>{let u=e.routes[a.route.id];if(u){let h=await h3(u,t);return h.links?h.links():[]}return[]}));return v3(i.flat(1).filter(d3).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function P1(n,e,t,i,a,u){let h=(g,v)=>t[v]?g.route.id!==t[v].route.id:!0,m=(g,v)=>{var E;return t[v].pathname!==g.pathname||((E=t[v].route.path)==null?void 0:E.endsWith("*"))&&t[v].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,v)=>h(g,v)||m(g,v)):u==="data"?e.filter((g,v)=>{var S;let E=i.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,v)||m(g,v))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function p3(n,e,{includeHydrateFallback:t}={}){return g3(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let u=[a.module];return a.clientActionModule&&(u=u.concat(a.clientActionModule)),a.clientLoaderModule&&(u=u.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(u=u.concat(a.hydrateFallbackModule)),a.imports&&(u=u.concat(a.imports)),u}).flat(1))}function g3(n){return[...new Set(n)]}function y3(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function v3(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let u=JSON.stringify(y3(a));return t.has(u)||(t.add(u),i.push({key:u,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _3=new Set([100,101,204,205]);function E3(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&sa(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function wC(){let n=B.useContext(Vf);return rb(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function T3(){let n=B.useContext(hg);return rb(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ib=B.createContext(void 0);ib.displayName="FrameworkContext";function bC(){let n=B.useContext(ib);return rb(n,"You must render this element inside a <HydratedRouter> element"),n}function w3(n,e){let t=B.useContext(ib),[i,a]=B.useState(!1),[u,h]=B.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:v,onMouseLeave:E,onTouchStart:S}=e,A=B.useRef(null);B.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let F=U=>{U.forEach(Q=>{h(Q.isIntersecting)})},k=new IntersectionObserver(F,{threshold:.5});return A.current&&k.observe(A.current),()=>{k.disconnect()}}},[n]),B.useEffect(()=>{if(i){let F=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(F)}}},[i]);let D=()=>{a(!0)},O=()=>{a(!1),h(!1)};return t?n!=="intent"?[u,A,{}]:[u,A,{onFocus:_p(m,D),onBlur:_p(g,O),onMouseEnter:_p(v,D),onMouseLeave:_p(E,O),onTouchStart:_p(S,D)}]:[!1,A,{}]}function _p(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function b3({page:n,...e}){let{router:t}=wC(),i=B.useMemo(()=>Su(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?B.createElement(A3,{page:n,matches:i,...e}):null}function S3(n){let{manifest:e,routeModules:t}=bC(),[i,a]=B.useState([]);return B.useEffect(()=>{let u=!1;return m3(n,e,t).then(h=>{u||a(h)}),()=>{u=!0}},[n,e,t]),i}function A3({page:n,matches:e,...t}){let i=jf(),{manifest:a,routeModules:u}=bC(),{basename:h}=wC(),{loaderData:m,matches:g}=T3(),v=B.useMemo(()=>P1(n,e,g,a,i,"data"),[n,e,g,a,i]),E=B.useMemo(()=>P1(n,e,g,a,i,"assets"),[n,e,g,a,i]),S=B.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let O=new Set,F=!1;if(e.forEach(U=>{var J;let Q=a.routes[U.route.id];!Q||!Q.hasLoader||(!v.some(he=>he.route.id===U.route.id)&&U.route.id in m&&((J=u[U.route.id])!=null&&J.shouldRevalidate)||Q.hasClientLoader?F=!0:O.add(U.route.id))}),O.size===0)return[];let k=E3(n,h);return F&&O.size>0&&k.searchParams.set("_routes",e.filter(U=>O.has(U.route.id)).map(U=>U.route.id).join(",")),[k.pathname+k.search]},[h,m,i,a,v,e,n,u]),A=B.useMemo(()=>p3(E,a),[E,a]),D=S3(E);return B.createElement(B.Fragment,null,S.map(O=>B.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),A.map(O=>B.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),D.map(({key:O,link:F})=>B.createElement("link",{key:O,...F})))}function R3(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var SC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{SC&&(window.__reactRouterVersion="7.6.2")}catch{}function x3(n,e){return dk({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:P4({window:e==null?void 0:e.window}),hydrationData:C3(),routes:n,mapRouteProperties:Qk,hydrationRouteProperties:Xk,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function C3(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:I3(n.errors)}),n}function I3(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,a]of e)if(a&&a.__type==="RouteErrorResponse")t[i]=new __(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let u=window[a.__subType];if(typeof u=="function")try{let h=new u(a.message);h.stack="",t[i]=h}catch{}}if(t[i]==null){let u=new Error(a.message);u.stack="",t[i]=u}}else t[i]=a;return t}var AC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tr=B.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:u,replace:h,state:m,target:g,to:v,preventScrollReset:E,viewTransition:S,...A},D){let{basename:O}=B.useContext(Do),F=typeof v=="string"&&AC.test(v),k,U=!1;if(typeof v=="string"&&F&&(k=v,SC))try{let L=new URL(window.location.href),H=v.startsWith("//")?new URL(L.protocol+v):new URL(v),K=sa(H.pathname,O);H.origin===L.origin&&K!=null?v=K+H.search+H.hash:U=!0}catch{gr(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=Mk(v,{relative:a}),[J,he,ne]=w3(i,A),z=M3(v,{replace:h,state:m,target:g,preventScrollReset:E,relative:a,viewTransition:S});function N(L){e&&e(L),L.defaultPrevented||z(L)}let I=B.createElement("a",{...A,...ne,href:k||Q,onClick:U||u?e:N,ref:R3(D,he),target:g,"data-discover":!F&&t==="render"?"true":void 0});return J&&!F?B.createElement(B.Fragment,null,I,B.createElement(b3,{page:Q})):I});Tr.displayName="Link";var N3=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:u,to:h,viewTransition:m,children:g,...v},E){let S=mg(h,{relative:v.relative}),A=jf(),D=B.useContext(hg),{navigator:O,basename:F}=B.useContext(Do),k=D!=null&&V3(S)&&m===!0,U=O.encodeLocation?O.encodeLocation(S).pathname:S.pathname,Q=A.pathname,J=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),J=J?J.toLowerCase():null,U=U.toLowerCase()),J&&F&&(J=sa(J,F)||J);const he=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let ne=Q===U||!a&&Q.startsWith(U)&&Q.charAt(he)==="/",z=J!=null&&(J===U||!a&&J.startsWith(U)&&J.charAt(U.length)==="/"),N={isActive:ne,isPending:z,isTransitioning:k},I=ne?e:void 0,L;typeof i=="function"?L=i(N):L=[i,ne?"active":null,z?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let H=typeof u=="function"?u(N):u;return B.createElement(Tr,{...v,"aria-current":I,className:L,ref:E,style:H,to:h,viewTransition:m},typeof g=="function"?g(N):g)});N3.displayName="NavLink";var D3=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:u,method:h=qv,action:m,onSubmit:g,relative:v,preventScrollReset:E,viewTransition:S,...A},D)=>{let O=k3(),F=U3(m,{relative:v}),k=h.toLowerCase()==="get"?"get":"post",U=typeof m=="string"&&AC.test(m),Q=J=>{if(g&&g(J),J.defaultPrevented)return;J.preventDefault();let he=J.nativeEvent.submitter,ne=(he==null?void 0:he.getAttribute("formmethod"))||h;O(he||J.currentTarget,{fetcherKey:e,method:ne,navigate:t,replace:a,state:u,relative:v,preventScrollReset:E,viewTransition:S})};return B.createElement("form",{ref:D,method:k,action:F,onSubmit:i?g:Q,...A,"data-discover":!U&&n==="render"?"true":void 0})});D3.displayName="Form";function O3(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RC(n){let e=B.useContext(Vf);return Bt(e,O3(n)),e}function M3(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:u,viewTransition:h}={}){let m=EC(),g=jf(),v=mg(n,{relative:u});return B.useCallback(E=>{if(l3(E,e)){E.preventDefault();let S=t!==void 0?t:Fu(g)===Fu(v);m(n,{replace:S,state:i,preventScrollReset:a,relative:u,viewTransition:h})}},[g,m,v,t,i,e,n,a,u,h])}var P3=0,L3=()=>`__${String(++P3)}__`;function k3(){let{router:n}=RC("useSubmit"),{basename:e}=B.useContext(Do),t=Kk();return B.useCallback(async(i,a={})=>{let{action:u,method:h,encType:m,formData:g,body:v}=f3(i,e);if(a.navigate===!1){let E=a.fetcherKey||L3();await n.fetch(E,t,a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||m,flushSync:a.flushSync})}else await n.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function U3(n,{relative:e}={}){let{basename:t}=B.useContext(Do),i=B.useContext(Va);Bt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),u={...mg(n||".",{relative:e})},h=jf();if(n==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!n||n===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:xo([t,u.pathname])),Fu(u)}function V3(n,e={}){let t=B.useContext(Jw);Bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=RC("useViewTransitionState"),a=mg(n,{relative:e.relative});if(!t.isTransitioning)return!1;let u=sa(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=sa(t.nextLocation.pathname,i)||t.nextLocation.pathname;return v_(a.pathname,h)!=null||v_(a.pathname,u)!=null}[..._3];var xC=AA();const vd=Ld(xC);/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function j3(n){return B.createElement(Jk,{flushSync:xC.flushSync,...n})}function CC(n,e){return function(){return n.apply(e,arguments)}}const{toString:B3}=Object.prototype,{getPrototypeOf:sb}=Object,{iterator:t0,toStringTag:IC}=Symbol,n0=(n=>e=>{const t=B3.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ja=n=>(n=n.toLowerCase(),e=>n0(e)===n),r0=n=>e=>typeof e===n,{isArray:Hd}=Array,Wp=r0("undefined");function F3(n){return n!==null&&!Wp(n)&&n.constructor!==null&&!Wp(n.constructor)&&os(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const NC=ja("ArrayBuffer");function z3(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&NC(n.buffer),e}const H3=r0("string"),os=r0("function"),DC=r0("number"),i0=n=>n!==null&&typeof n=="object",q3=n=>n===!0||n===!1,$v=n=>{if(n0(n)!=="object")return!1;const e=sb(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(IC in n)&&!(t0 in n)},G3=ja("Date"),$3=ja("File"),K3=ja("Blob"),Y3=ja("FileList"),W3=n=>i0(n)&&os(n.pipe),Q3=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||os(n.append)&&((e=n0(n))==="formdata"||e==="object"&&os(n.toString)&&n.toString()==="[object FormData]"))},X3=ja("URLSearchParams"),[Z3,J3,eU,tU]=["ReadableStream","Request","Response","Headers"].map(ja),nU=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pg(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,a;if(typeof n!="object"&&(n=[n]),Hd(n))for(i=0,a=n.length;i<a;i++)e.call(null,n[i],i,n);else{const u=t?Object.getOwnPropertyNames(n):Object.keys(n),h=u.length;let m;for(i=0;i<h;i++)m=u[i],e.call(null,n[m],m,n)}}function OC(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,a;for(;i-- >0;)if(a=t[i],e===a.toLowerCase())return a;return null}const Ef=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,MC=n=>!Wp(n)&&n!==Ef;function OT(){const{caseless:n}=MC(this)&&this||{},e={},t=(i,a)=>{const u=n&&OC(e,a)||a;$v(e[u])&&$v(i)?e[u]=OT(e[u],i):$v(i)?e[u]=OT({},i):Hd(i)?e[u]=i.slice():e[u]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&pg(arguments[i],t);return e}const rU=(n,e,t,{allOwnKeys:i}={})=>(pg(e,(a,u)=>{t&&os(a)?n[u]=CC(a,t):n[u]=a},{allOwnKeys:i}),n),iU=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),sU=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},aU=(n,e,t,i)=>{let a,u,h;const m={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),u=a.length;u-- >0;)h=a[u],(!i||i(h,n,e))&&!m[h]&&(e[h]=n[h],m[h]=!0);n=t!==!1&&sb(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},oU=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},lU=n=>{if(!n)return null;if(Hd(n))return n;let e=n.length;if(!DC(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},uU=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&sb(Uint8Array)),cU=(n,e)=>{const i=(n&&n[t0]).call(n);let a;for(;(a=i.next())&&!a.done;){const u=a.value;e.call(n,u[0],u[1])}},fU=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},hU=ja("HTMLFormElement"),dU=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,a){return i.toUpperCase()+a}),L1=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),mU=ja("RegExp"),PC=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};pg(t,(a,u)=>{let h;(h=e(a,u,n))!==!1&&(i[u]=h||a)}),Object.defineProperties(n,i)},pU=n=>{PC(n,(e,t)=>{if(os(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(os(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},gU=(n,e)=>{const t={},i=a=>{a.forEach(u=>{t[u]=!0})};return Hd(n)?i(n):i(String(n).split(e)),t},yU=()=>{},vU=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function _U(n){return!!(n&&os(n.append)&&n[IC]==="FormData"&&n[t0])}const EU=n=>{const e=new Array(10),t=(i,a)=>{if(i0(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[a]=i;const u=Hd(i)?[]:{};return pg(i,(h,m)=>{const g=t(h,a+1);!Wp(g)&&(u[m]=g)}),e[a]=void 0,u}}return i};return t(n,0)},TU=ja("AsyncFunction"),wU=n=>n&&(i0(n)||os(n))&&os(n.then)&&os(n.catch),LC=((n,e)=>n?setImmediate:e?((t,i)=>(Ef.addEventListener("message",({source:a,data:u})=>{a===Ef&&u===t&&i.length&&i.shift()()},!1),a=>{i.push(a),Ef.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",os(Ef.postMessage)),bU=typeof queueMicrotask<"u"?queueMicrotask.bind(Ef):typeof process<"u"&&process.nextTick||LC,SU=n=>n!=null&&os(n[t0]),ve={isArray:Hd,isArrayBuffer:NC,isBuffer:F3,isFormData:Q3,isArrayBufferView:z3,isString:H3,isNumber:DC,isBoolean:q3,isObject:i0,isPlainObject:$v,isReadableStream:Z3,isRequest:J3,isResponse:eU,isHeaders:tU,isUndefined:Wp,isDate:G3,isFile:$3,isBlob:K3,isRegExp:mU,isFunction:os,isStream:W3,isURLSearchParams:X3,isTypedArray:uU,isFileList:Y3,forEach:pg,merge:OT,extend:rU,trim:nU,stripBOM:iU,inherits:sU,toFlatObject:aU,kindOf:n0,kindOfTest:ja,endsWith:oU,toArray:lU,forEachEntry:cU,matchAll:fU,isHTMLForm:hU,hasOwnProperty:L1,hasOwnProp:L1,reduceDescriptors:PC,freezeMethods:pU,toObjectSet:gU,toCamelCase:dU,noop:yU,toFiniteNumber:vU,findKey:OC,global:Ef,isContextDefined:MC,isSpecCompliantForm:_U,toJSONObject:EU,isAsyncFn:TU,isThenable:wU,setImmediate:LC,asap:bU,isIterable:SU};function _t(n,e,t,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}ve.inherits(_t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.status}}});const kC=_t.prototype,UC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{UC[n]={value:n}});Object.defineProperties(_t,UC);Object.defineProperty(kC,"isAxiosError",{value:!0});_t.from=(n,e,t,i,a,u)=>{const h=Object.create(kC);return ve.toFlatObject(n,h,function(g){return g!==Error.prototype},m=>m!=="isAxiosError"),_t.call(h,n.message,e,t,i,a),h.cause=n,h.name=n.name,u&&Object.assign(h,u),h};const AU=null;function MT(n){return ve.isPlainObject(n)||ve.isArray(n)}function VC(n){return ve.endsWith(n,"[]")?n.slice(0,-2):n}function k1(n,e,t){return n?n.concat(e).map(function(a,u){return a=VC(a),!t&&u?"["+a+"]":a}).join(t?".":""):e}function RU(n){return ve.isArray(n)&&!n.some(MT)}const xU=ve.toFlatObject(ve,{},null,function(e){return/^is[A-Z]/.test(e)});function s0(n,e,t){if(!ve.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=ve.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(F,k){return!ve.isUndefined(k[F])});const i=t.metaTokens,a=t.visitor||E,u=t.dots,h=t.indexes,g=(t.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(e);if(!ve.isFunction(a))throw new TypeError("visitor must be a function");function v(O){if(O===null)return"";if(ve.isDate(O))return O.toISOString();if(ve.isBoolean(O))return O.toString();if(!g&&ve.isBlob(O))throw new _t("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(O)||ve.isTypedArray(O)?g&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function E(O,F,k){let U=O;if(O&&!k&&typeof O=="object"){if(ve.endsWith(F,"{}"))F=i?F:F.slice(0,-2),O=JSON.stringify(O);else if(ve.isArray(O)&&RU(O)||(ve.isFileList(O)||ve.endsWith(F,"[]"))&&(U=ve.toArray(O)))return F=VC(F),U.forEach(function(J,he){!(ve.isUndefined(J)||J===null)&&e.append(h===!0?k1([F],he,u):h===null?F:F+"[]",v(J))}),!1}return MT(O)?!0:(e.append(k1(k,F,u),v(O)),!1)}const S=[],A=Object.assign(xU,{defaultVisitor:E,convertValue:v,isVisitable:MT});function D(O,F){if(!ve.isUndefined(O)){if(S.indexOf(O)!==-1)throw Error("Circular reference detected in "+F.join("."));S.push(O),ve.forEach(O,function(U,Q){(!(ve.isUndefined(U)||U===null)&&a.call(e,U,ve.isString(Q)?Q.trim():Q,F,A))===!0&&D(U,F?F.concat(Q):[Q])}),S.pop()}}if(!ve.isObject(n))throw new TypeError("data must be an object");return D(n),e}function U1(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function ab(n,e){this._pairs=[],n&&s0(n,this,e)}const jC=ab.prototype;jC.append=function(e,t){this._pairs.push([e,t])};jC.toString=function(e){const t=e?function(i){return e.call(this,i,U1)}:U1;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function CU(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function BC(n,e,t){if(!e)return n;const i=t&&t.encode||CU;ve.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let u;if(a?u=a(e,t):u=ve.isURLSearchParams(e)?e.toString():new ab(e,t).toString(i),u){const h=n.indexOf("#");h!==-1&&(n=n.slice(0,h)),n+=(n.indexOf("?")===-1?"?":"&")+u}return n}class V1{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ve.forEach(this.handlers,function(i){i!==null&&e(i)})}}const FC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},IU=typeof URLSearchParams<"u"?URLSearchParams:ab,NU=typeof FormData<"u"?FormData:null,DU=typeof Blob<"u"?Blob:null,OU={isBrowser:!0,classes:{URLSearchParams:IU,FormData:NU,Blob:DU},protocols:["http","https","file","blob","url","data"]},ob=typeof window<"u"&&typeof document<"u",PT=typeof navigator=="object"&&navigator||void 0,MU=ob&&(!PT||["ReactNative","NativeScript","NS"].indexOf(PT.product)<0),PU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",LU=ob&&window.location.href||"http://localhost",kU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ob,hasStandardBrowserEnv:MU,hasStandardBrowserWebWorkerEnv:PU,navigator:PT,origin:LU},Symbol.toStringTag,{value:"Module"})),Ei={...kU,...OU};function UU(n,e){return s0(n,new Ei.classes.URLSearchParams,Object.assign({visitor:function(t,i,a,u){return Ei.isNode&&ve.isBuffer(t)?(this.append(i,t.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function VU(n){return ve.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jU(n){const e={},t=Object.keys(n);let i;const a=t.length;let u;for(i=0;i<a;i++)u=t[i],e[u]=n[u];return e}function zC(n){function e(t,i,a,u){let h=t[u++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),g=u>=t.length;return h=!h&&ve.isArray(a)?a.length:h,g?(ve.hasOwnProp(a,h)?a[h]=[a[h],i]:a[h]=i,!m):((!a[h]||!ve.isObject(a[h]))&&(a[h]=[]),e(t,i,a[h],u)&&ve.isArray(a[h])&&(a[h]=jU(a[h])),!m)}if(ve.isFormData(n)&&ve.isFunction(n.entries)){const t={};return ve.forEachEntry(n,(i,a)=>{e(VU(i),a,t,0)}),t}return null}function BU(n,e,t){if(ve.isString(n))try{return(e||JSON.parse)(n),ve.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const gg={transitional:FC,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",a=i.indexOf("application/json")>-1,u=ve.isObject(e);if(u&&ve.isHTMLForm(e)&&(e=new FormData(e)),ve.isFormData(e))return a?JSON.stringify(zC(e)):e;if(ve.isArrayBuffer(e)||ve.isBuffer(e)||ve.isStream(e)||ve.isFile(e)||ve.isBlob(e)||ve.isReadableStream(e))return e;if(ve.isArrayBufferView(e))return e.buffer;if(ve.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(u){if(i.indexOf("application/x-www-form-urlencoded")>-1)return UU(e,this.formSerializer).toString();if((m=ve.isFileList(e))||i.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return s0(m?{"files[]":e}:e,g&&new g,this.formSerializer)}}return u||a?(t.setContentType("application/json",!1),BU(e)):e}],transformResponse:[function(e){const t=this.transitional||gg.transitional,i=t&&t.forcedJSONParsing,a=this.responseType==="json";if(ve.isResponse(e)||ve.isReadableStream(e))return e;if(e&&ve.isString(e)&&(i&&!this.responseType||a)){const h=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(m){if(h)throw m.name==="SyntaxError"?_t.from(m,_t.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ei.classes.FormData,Blob:Ei.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],n=>{gg.headers[n]={}});const FU=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zU=n=>{const e={};let t,i,a;return n&&n.split(`
`).forEach(function(h){a=h.indexOf(":"),t=h.substring(0,a).trim().toLowerCase(),i=h.substring(a+1).trim(),!(!t||e[t]&&FU[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},j1=Symbol("internals");function Ep(n){return n&&String(n).trim().toLowerCase()}function Kv(n){return n===!1||n==null?n:ve.isArray(n)?n.map(Kv):String(n)}function HU(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const qU=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function VE(n,e,t,i,a){if(ve.isFunction(i))return i.call(this,e,t);if(a&&(e=t),!!ve.isString(e)){if(ve.isString(i))return e.indexOf(i)!==-1;if(ve.isRegExp(i))return i.test(e)}}function GU(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function $U(n,e){const t=ve.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(a,u,h){return this[i].call(this,e,a,u,h)},configurable:!0})})}let ls=class{constructor(e){e&&this.set(e)}set(e,t,i){const a=this;function u(m,g,v){const E=Ep(g);if(!E)throw new Error("header name must be a non-empty string");const S=ve.findKey(a,E);(!S||a[S]===void 0||v===!0||v===void 0&&a[S]!==!1)&&(a[S||g]=Kv(m))}const h=(m,g)=>ve.forEach(m,(v,E)=>u(v,E,g));if(ve.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if(ve.isString(e)&&(e=e.trim())&&!qU(e))h(zU(e),t);else if(ve.isObject(e)&&ve.isIterable(e)){let m={},g,v;for(const E of e){if(!ve.isArray(E))throw TypeError("Object iterator must return a key-value pair");m[v=E[0]]=(g=m[v])?ve.isArray(g)?[...g,E[1]]:[g,E[1]]:E[1]}h(m,t)}else e!=null&&u(t,e,i);return this}get(e,t){if(e=Ep(e),e){const i=ve.findKey(this,e);if(i){const a=this[i];if(!t)return a;if(t===!0)return HU(a);if(ve.isFunction(t))return t.call(this,a,i);if(ve.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ep(e),e){const i=ve.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||VE(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let a=!1;function u(h){if(h=Ep(h),h){const m=ve.findKey(i,h);m&&(!t||VE(i,i[m],m,t))&&(delete i[m],a=!0)}}return ve.isArray(e)?e.forEach(u):u(e),a}clear(e){const t=Object.keys(this);let i=t.length,a=!1;for(;i--;){const u=t[i];(!e||VE(this,this[u],u,e,!0))&&(delete this[u],a=!0)}return a}normalize(e){const t=this,i={};return ve.forEach(this,(a,u)=>{const h=ve.findKey(i,u);if(h){t[h]=Kv(a),delete t[u];return}const m=e?GU(u):String(u).trim();m!==u&&delete t[u],t[m]=Kv(a),i[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ve.forEach(this,(i,a)=>{i!=null&&i!==!1&&(t[a]=e&&ve.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[j1]=this[j1]={accessors:{}}).accessors,a=this.prototype;function u(h){const m=Ep(h);i[m]||($U(a,h),i[m]=!0)}return ve.isArray(e)?e.forEach(u):u(e),this}};ls.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(ls.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});ve.freezeMethods(ls);function jE(n,e){const t=this||gg,i=e||t,a=ls.from(i.headers);let u=i.data;return ve.forEach(n,function(m){u=m.call(t,u,a.normalize(),e?e.status:void 0)}),a.normalize(),u}function HC(n){return!!(n&&n.__CANCEL__)}function qd(n,e,t){_t.call(this,n??"canceled",_t.ERR_CANCELED,e,t),this.name="CanceledError"}ve.inherits(qd,_t,{__CANCEL__:!0});function qC(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new _t("Request failed with status code "+t.status,[_t.ERR_BAD_REQUEST,_t.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function KU(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function YU(n,e){n=n||10;const t=new Array(n),i=new Array(n);let a=0,u=0,h;return e=e!==void 0?e:1e3,function(g){const v=Date.now(),E=i[u];h||(h=v),t[a]=g,i[a]=v;let S=u,A=0;for(;S!==a;)A+=t[S++],S=S%n;if(a=(a+1)%n,a===u&&(u=(u+1)%n),v-h<e)return;const D=E&&v-E;return D?Math.round(A*1e3/D):void 0}}function WU(n,e){let t=0,i=1e3/e,a,u;const h=(v,E=Date.now())=>{t=E,a=null,u&&(clearTimeout(u),u=null),n.apply(null,v)};return[(...v)=>{const E=Date.now(),S=E-t;S>=i?h(v,E):(a=v,u||(u=setTimeout(()=>{u=null,h(a)},i-S)))},()=>a&&h(a)]}const T_=(n,e,t=3)=>{let i=0;const a=YU(50,250);return WU(u=>{const h=u.loaded,m=u.lengthComputable?u.total:void 0,g=h-i,v=a(g),E=h<=m;i=h;const S={loaded:h,total:m,progress:m?h/m:void 0,bytes:g,rate:v||void 0,estimated:v&&m&&E?(m-h)/v:void 0,event:u,lengthComputable:m!=null,[e?"download":"upload"]:!0};n(S)},t)},B1=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},F1=n=>(...e)=>ve.asap(()=>n(...e)),QU=Ei.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Ei.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Ei.origin),Ei.navigator&&/(msie|trident)/i.test(Ei.navigator.userAgent)):()=>!0,XU=Ei.hasStandardBrowserEnv?{write(n,e,t,i,a,u){const h=[n+"="+encodeURIComponent(e)];ve.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),ve.isString(i)&&h.push("path="+i),ve.isString(a)&&h.push("domain="+a),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ZU(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function JU(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function GC(n,e,t){let i=!ZU(e);return n&&(i||t==!1)?JU(n,e):e}const z1=n=>n instanceof ls?{...n}:n;function Df(n,e){e=e||{};const t={};function i(v,E,S,A){return ve.isPlainObject(v)&&ve.isPlainObject(E)?ve.merge.call({caseless:A},v,E):ve.isPlainObject(E)?ve.merge({},E):ve.isArray(E)?E.slice():E}function a(v,E,S,A){if(ve.isUndefined(E)){if(!ve.isUndefined(v))return i(void 0,v,S,A)}else return i(v,E,S,A)}function u(v,E){if(!ve.isUndefined(E))return i(void 0,E)}function h(v,E){if(ve.isUndefined(E)){if(!ve.isUndefined(v))return i(void 0,v)}else return i(void 0,E)}function m(v,E,S){if(S in e)return i(v,E);if(S in n)return i(void 0,v)}const g={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(v,E,S)=>a(z1(v),z1(E),S,!0)};return ve.forEach(Object.keys(Object.assign({},n,e)),function(E){const S=g[E]||a,A=S(n[E],e[E],E);ve.isUndefined(A)&&S!==m||(t[E]=A)}),t}const $C=n=>{const e=Df({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:u,headers:h,auth:m}=e;e.headers=h=ls.from(h),e.url=BC(GC(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let g;if(ve.isFormData(t)){if(Ei.hasStandardBrowserEnv||Ei.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((g=h.getContentType())!==!1){const[v,...E]=g?g.split(";").map(S=>S.trim()).filter(Boolean):[];h.setContentType([v||"multipart/form-data",...E].join("; "))}}if(Ei.hasStandardBrowserEnv&&(i&&ve.isFunction(i)&&(i=i(e)),i||i!==!1&&QU(e.url))){const v=a&&u&&XU.read(u);v&&h.set(a,v)}return e},eV=typeof XMLHttpRequest<"u",tV=eV&&function(n){return new Promise(function(t,i){const a=$C(n);let u=a.data;const h=ls.from(a.headers).normalize();let{responseType:m,onUploadProgress:g,onDownloadProgress:v}=a,E,S,A,D,O;function F(){D&&D(),O&&O(),a.cancelToken&&a.cancelToken.unsubscribe(E),a.signal&&a.signal.removeEventListener("abort",E)}let k=new XMLHttpRequest;k.open(a.method.toUpperCase(),a.url,!0),k.timeout=a.timeout;function U(){if(!k)return;const J=ls.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),ne={data:!m||m==="text"||m==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:J,config:n,request:k};qC(function(N){t(N),F()},function(N){i(N),F()},ne),k=null}"onloadend"in k?k.onloadend=U:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(U)},k.onabort=function(){k&&(i(new _t("Request aborted",_t.ECONNABORTED,n,k)),k=null)},k.onerror=function(){i(new _t("Network Error",_t.ERR_NETWORK,n,k)),k=null},k.ontimeout=function(){let he=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const ne=a.transitional||FC;a.timeoutErrorMessage&&(he=a.timeoutErrorMessage),i(new _t(he,ne.clarifyTimeoutError?_t.ETIMEDOUT:_t.ECONNABORTED,n,k)),k=null},u===void 0&&h.setContentType(null),"setRequestHeader"in k&&ve.forEach(h.toJSON(),function(he,ne){k.setRequestHeader(ne,he)}),ve.isUndefined(a.withCredentials)||(k.withCredentials=!!a.withCredentials),m&&m!=="json"&&(k.responseType=a.responseType),v&&([A,O]=T_(v,!0),k.addEventListener("progress",A)),g&&k.upload&&([S,D]=T_(g),k.upload.addEventListener("progress",S),k.upload.addEventListener("loadend",D)),(a.cancelToken||a.signal)&&(E=J=>{k&&(i(!J||J.type?new qd(null,n,k):J),k.abort(),k=null)},a.cancelToken&&a.cancelToken.subscribe(E),a.signal&&(a.signal.aborted?E():a.signal.addEventListener("abort",E)));const Q=KU(a.url);if(Q&&Ei.protocols.indexOf(Q)===-1){i(new _t("Unsupported protocol "+Q+":",_t.ERR_BAD_REQUEST,n));return}k.send(u||null)})},nV=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,a;const u=function(v){if(!a){a=!0,m();const E=v instanceof Error?v:this.reason;i.abort(E instanceof _t?E:new qd(E instanceof Error?E.message:E))}};let h=e&&setTimeout(()=>{h=null,u(new _t(`timeout ${e} of ms exceeded`,_t.ETIMEDOUT))},e);const m=()=>{n&&(h&&clearTimeout(h),h=null,n.forEach(v=>{v.unsubscribe?v.unsubscribe(u):v.removeEventListener("abort",u)}),n=null)};n.forEach(v=>v.addEventListener("abort",u));const{signal:g}=i;return g.unsubscribe=()=>ve.asap(m),g}},rV=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,a;for(;i<t;)a=i+e,yield n.slice(i,a),i=a},iV=async function*(n,e){for await(const t of sV(n))yield*rV(t,e)},sV=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},H1=(n,e,t,i)=>{const a=iV(n,e);let u=0,h,m=g=>{h||(h=!0,i&&i(g))};return new ReadableStream({async pull(g){try{const{done:v,value:E}=await a.next();if(v){m(),g.close();return}let S=E.byteLength;if(t){let A=u+=S;t(A)}g.enqueue(new Uint8Array(E))}catch(v){throw m(v),v}},cancel(g){return m(g),a.return()}},{highWaterMark:2})},a0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",KC=a0&&typeof ReadableStream=="function",aV=a0&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),YC=(n,...e)=>{try{return!!n(...e)}catch{return!1}},oV=KC&&YC(()=>{let n=!1;const e=new Request(Ei.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),q1=64*1024,LT=KC&&YC(()=>ve.isReadableStream(new Response("").body)),w_={stream:LT&&(n=>n.body)};a0&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!w_[e]&&(w_[e]=ve.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new _t(`Response type '${e}' is not supported`,_t.ERR_NOT_SUPPORT,i)})})})(new Response);const lV=async n=>{if(n==null)return 0;if(ve.isBlob(n))return n.size;if(ve.isSpecCompliantForm(n))return(await new Request(Ei.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(ve.isArrayBufferView(n)||ve.isArrayBuffer(n))return n.byteLength;if(ve.isURLSearchParams(n)&&(n=n+""),ve.isString(n))return(await aV(n)).byteLength},uV=async(n,e)=>{const t=ve.toFiniteNumber(n.getContentLength());return t??lV(e)},cV=a0&&(async n=>{let{url:e,method:t,data:i,signal:a,cancelToken:u,timeout:h,onDownloadProgress:m,onUploadProgress:g,responseType:v,headers:E,withCredentials:S="same-origin",fetchOptions:A}=$C(n);v=v?(v+"").toLowerCase():"text";let D=nV([a,u&&u.toAbortSignal()],h),O;const F=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let k;try{if(g&&oV&&t!=="get"&&t!=="head"&&(k=await uV(E,i))!==0){let ne=new Request(e,{method:"POST",body:i,duplex:"half"}),z;if(ve.isFormData(i)&&(z=ne.headers.get("content-type"))&&E.setContentType(z),ne.body){const[N,I]=B1(k,T_(F1(g)));i=H1(ne.body,q1,N,I)}}ve.isString(S)||(S=S?"include":"omit");const U="credentials"in Request.prototype;O=new Request(e,{...A,signal:D,method:t.toUpperCase(),headers:E.normalize().toJSON(),body:i,duplex:"half",credentials:U?S:void 0});let Q=await fetch(O,A);const J=LT&&(v==="stream"||v==="response");if(LT&&(m||J&&F)){const ne={};["status","statusText","headers"].forEach(L=>{ne[L]=Q[L]});const z=ve.toFiniteNumber(Q.headers.get("content-length")),[N,I]=m&&B1(z,T_(F1(m),!0))||[];Q=new Response(H1(Q.body,q1,N,()=>{I&&I(),F&&F()}),ne)}v=v||"text";let he=await w_[ve.findKey(w_,v)||"text"](Q,n);return!J&&F&&F(),await new Promise((ne,z)=>{qC(ne,z,{data:he,headers:ls.from(Q.headers),status:Q.status,statusText:Q.statusText,config:n,request:O})})}catch(U){throw F&&F(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new _t("Network Error",_t.ERR_NETWORK,n,O),{cause:U.cause||U}):_t.from(U,U&&U.code,n,O)}}),kT={http:AU,xhr:tV,fetch:cV};ve.forEach(kT,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const G1=n=>`- ${n}`,fV=n=>ve.isFunction(n)||n===null||n===!1,WC={getAdapter:n=>{n=ve.isArray(n)?n:[n];const{length:e}=n;let t,i;const a={};for(let u=0;u<e;u++){t=n[u];let h;if(i=t,!fV(t)&&(i=kT[(h=String(t)).toLowerCase()],i===void 0))throw new _t(`Unknown adapter '${h}'`);if(i)break;a[h||"#"+u]=i}if(!i){const u=Object.entries(a).map(([m,g])=>`adapter ${m} `+(g===!1?"is not supported by the environment":"is not available in the build"));let h=e?u.length>1?`since :
`+u.map(G1).join(`
`):" "+G1(u[0]):"as no adapter specified";throw new _t("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return i},adapters:kT};function BE(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new qd(null,n)}function $1(n){return BE(n),n.headers=ls.from(n.headers),n.data=jE.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),WC.getAdapter(n.adapter||gg.adapter)(n).then(function(i){return BE(n),i.data=jE.call(n,n.transformResponse,i),i.headers=ls.from(i.headers),i},function(i){return HC(i)||(BE(n),i&&i.response&&(i.response.data=jE.call(n,n.transformResponse,i.response),i.response.headers=ls.from(i.response.headers))),Promise.reject(i)})}const QC="1.10.0",o0={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{o0[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const K1={};o0.transitional=function(e,t,i){function a(u,h){return"[Axios v"+QC+"] Transitional option '"+u+"'"+h+(i?". "+i:"")}return(u,h,m)=>{if(e===!1)throw new _t(a(h," has been removed"+(t?" in "+t:"")),_t.ERR_DEPRECATED);return t&&!K1[h]&&(K1[h]=!0,console.warn(a(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(u,h,m):!0}};o0.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function hV(n,e,t){if(typeof n!="object")throw new _t("options must be an object",_t.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let a=i.length;for(;a-- >0;){const u=i[a],h=e[u];if(h){const m=n[u],g=m===void 0||h(m,u,n);if(g!==!0)throw new _t("option "+u+" must be "+g,_t.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new _t("Unknown option "+u,_t.ERR_BAD_OPTION)}}const Yv={assertOptions:hV,validators:o0},To=Yv.validators;let bf=class{constructor(e){this.defaults=e||{},this.interceptors={request:new V1,response:new V1}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const u=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?u&&!String(i.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+u):i.stack=u}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Df(this.defaults,t);const{transitional:i,paramsSerializer:a,headers:u}=t;i!==void 0&&Yv.assertOptions(i,{silentJSONParsing:To.transitional(To.boolean),forcedJSONParsing:To.transitional(To.boolean),clarifyTimeoutError:To.transitional(To.boolean)},!1),a!=null&&(ve.isFunction(a)?t.paramsSerializer={serialize:a}:Yv.assertOptions(a,{encode:To.function,serialize:To.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Yv.assertOptions(t,{baseUrl:To.spelling("baseURL"),withXsrfToken:To.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=u&&ve.merge(u.common,u[t.method]);u&&ve.forEach(["delete","get","head","post","put","patch","common"],O=>{delete u[O]}),t.headers=ls.concat(h,u);const m=[];let g=!0;this.interceptors.request.forEach(function(F){typeof F.runWhen=="function"&&F.runWhen(t)===!1||(g=g&&F.synchronous,m.unshift(F.fulfilled,F.rejected))});const v=[];this.interceptors.response.forEach(function(F){v.push(F.fulfilled,F.rejected)});let E,S=0,A;if(!g){const O=[$1.bind(this),void 0];for(O.unshift.apply(O,m),O.push.apply(O,v),A=O.length,E=Promise.resolve(t);S<A;)E=E.then(O[S++],O[S++]);return E}A=m.length;let D=t;for(S=0;S<A;){const O=m[S++],F=m[S++];try{D=O(D)}catch(k){F.call(this,k);break}}try{E=$1.call(this,D)}catch(O){return Promise.reject(O)}for(S=0,A=v.length;S<A;)E=E.then(v[S++],v[S++]);return E}getUri(e){e=Df(this.defaults,e);const t=GC(e.baseURL,e.url,e.allowAbsoluteUrls);return BC(t,e.params,e.paramsSerializer)}};ve.forEach(["delete","get","head","options"],function(e){bf.prototype[e]=function(t,i){return this.request(Df(i||{},{method:e,url:t,data:(i||{}).data}))}});ve.forEach(["post","put","patch"],function(e){function t(i){return function(u,h,m){return this.request(Df(m||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}bf.prototype[e]=t(),bf.prototype[e+"Form"]=t(!0)});let dV=class XC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(u){t=u});const i=this;this.promise.then(a=>{if(!i._listeners)return;let u=i._listeners.length;for(;u-- >0;)i._listeners[u](a);i._listeners=null}),this.promise.then=a=>{let u;const h=new Promise(m=>{i.subscribe(m),u=m}).then(a);return h.cancel=function(){i.unsubscribe(u)},h},e(function(u,h,m){i.reason||(i.reason=new qd(u,h,m),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new XC(function(a){e=a}),cancel:e}}};function mV(n){return function(t){return n.apply(null,t)}}function pV(n){return ve.isObject(n)&&n.isAxiosError===!0}const UT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(UT).forEach(([n,e])=>{UT[e]=n});function ZC(n){const e=new bf(n),t=CC(bf.prototype.request,e);return ve.extend(t,bf.prototype,e,{allOwnKeys:!0}),ve.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return ZC(Df(n,a))},t}const jn=ZC(gg);jn.Axios=bf;jn.CanceledError=qd;jn.CancelToken=dV;jn.isCancel=HC;jn.VERSION=QC;jn.toFormData=s0;jn.AxiosError=_t;jn.Cancel=jn.CanceledError;jn.all=function(e){return Promise.all(e)};jn.spread=mV;jn.isAxiosError=pV;jn.mergeConfig=Df;jn.AxiosHeaders=ls;jn.formToJSON=n=>zC(ve.isHTMLForm(n)?new FormData(n):n);jn.getAdapter=WC.getAdapter;jn.HttpStatusCode=UT;jn.default=jn;const{Axios:$9,AxiosError:K9,CanceledError:Y9,isCancel:W9,CancelToken:Q9,VERSION:X9,all:Z9,Cancel:J9,isAxiosError:e5,spread:t5,toFormData:n5,AxiosHeaders:r5,HttpStatusCode:i5,formToJSON:s5,getAdapter:a5,mergeConfig:o5}=jn;function Gr(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var gV=typeof Symbol=="function"&&Symbol.observable||"@@observable",Y1=gV,FE=()=>Math.random().toString(36).substring(7).split("").join("."),yV={INIT:`@@redux/INIT${FE()}`,REPLACE:`@@redux/REPLACE${FE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${FE()}`},b_=yV;function lb(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function JC(n,e,t){if(typeof n!="function")throw new Error(Gr(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Gr(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Gr(1));return t(JC)(n,e)}let i=n,a=e,u=new Map,h=u,m=0,g=!1;function v(){h===u&&(h=new Map,u.forEach((k,U)=>{h.set(U,k)}))}function E(){if(g)throw new Error(Gr(3));return a}function S(k){if(typeof k!="function")throw new Error(Gr(4));if(g)throw new Error(Gr(5));let U=!0;v();const Q=m++;return h.set(Q,k),function(){if(U){if(g)throw new Error(Gr(6));U=!1,v(),h.delete(Q),u=null}}}function A(k){if(!lb(k))throw new Error(Gr(7));if(typeof k.type>"u")throw new Error(Gr(8));if(typeof k.type!="string")throw new Error(Gr(17));if(g)throw new Error(Gr(9));try{g=!0,a=i(a,k)}finally{g=!1}return(u=h).forEach(Q=>{Q()}),k}function D(k){if(typeof k!="function")throw new Error(Gr(10));i=k,A({type:b_.REPLACE})}function O(){const k=S;return{subscribe(U){if(typeof U!="object"||U===null)throw new Error(Gr(11));function Q(){const he=U;he.next&&he.next(E())}return Q(),{unsubscribe:k(Q)}},[Y1](){return this}}}return A({type:b_.INIT}),{dispatch:A,subscribe:S,getState:E,replaceReducer:D,[Y1]:O}}function vV(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:b_.INIT})>"u")throw new Error(Gr(12));if(typeof t(void 0,{type:b_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Gr(13))})}function _V(n){const e=Object.keys(n),t={};for(let u=0;u<e.length;u++){const h=e[u];typeof n[h]=="function"&&(t[h]=n[h])}const i=Object.keys(t);let a;try{vV(t)}catch(u){a=u}return function(h={},m){if(a)throw a;let g=!1;const v={};for(let E=0;E<i.length;E++){const S=i[E],A=t[S],D=h[S],O=A(D,m);if(typeof O>"u")throw m&&m.type,new Error(Gr(14));v[S]=O,g=g||O!==D}return g=g||i.length!==Object.keys(h).length,g?v:h}}function S_(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function EV(...n){return e=>(t,i)=>{const a=e(t,i);let u=()=>{throw new Error(Gr(15))};const h={getState:a.getState,dispatch:(g,...v)=>u(g,...v)},m=n.map(g=>g(h));return u=S_(...m)(a.dispatch),{...a,dispatch:u}}}function TV(n){return lb(n)&&"type"in n&&typeof n.type=="string"}var eI=Symbol.for("immer-nothing"),W1=Symbol.for("immer-draftable"),Ns=Symbol.for("immer-state");function Pa(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Pd=Object.getPrototypeOf;function Of(n){return!!n&&!!n[Ns]}function bl(n){var e;return n?tI(n)||Array.isArray(n)||!!n[W1]||!!((e=n.constructor)!=null&&e[W1])||u0(n)||c0(n):!1}var wV=Object.prototype.constructor.toString();function tI(n){if(!n||typeof n!="object")return!1;const e=Pd(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===wV}function A_(n,e){l0(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,i)=>e(i,t,n))}function l0(n){const e=n[Ns];return e?e.type_:Array.isArray(n)?1:u0(n)?2:c0(n)?3:0}function VT(n,e){return l0(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function nI(n,e,t){const i=l0(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function bV(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function u0(n){return n instanceof Map}function c0(n){return n instanceof Set}function of(n){return n.copy_||n.base_}function jT(n,e){if(u0(n))return new Map(n);if(c0(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=tI(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[Ns];let a=Reflect.ownKeys(i);for(let u=0;u<a.length;u++){const h=a[u],m=i[h];m.writable===!1&&(m.writable=!0,m.configurable=!0),(m.get||m.set)&&(i[h]={configurable:!0,writable:!0,enumerable:m.enumerable,value:n[h]})}return Object.create(Pd(n),i)}else{const i=Pd(n);if(i!==null&&t)return{...n};const a=Object.create(i);return Object.assign(a,n)}}function ub(n,e=!1){return f0(n)||Of(n)||!bl(n)||(l0(n)>1&&(n.set=n.add=n.clear=n.delete=SV),Object.freeze(n),e&&Object.entries(n).forEach(([t,i])=>ub(i,!0))),n}function SV(){Pa(2)}function f0(n){return Object.isFrozen(n)}var AV={};function Mf(n){const e=AV[n];return e||Pa(0,n),e}var Qp;function rI(){return Qp}function RV(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Q1(n,e){e&&(Mf("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function BT(n){FT(n),n.drafts_.forEach(xV),n.drafts_=null}function FT(n){n===Qp&&(Qp=n.parent_)}function X1(n){return Qp=RV(Qp,n)}function xV(n){const e=n[Ns];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Z1(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Ns].modified_&&(BT(e),Pa(4)),bl(n)&&(n=R_(e,n),e.parent_||x_(e,n)),e.patches_&&Mf("Patches").generateReplacementPatches_(t[Ns].base_,n,e.patches_,e.inversePatches_)):n=R_(e,t,[]),BT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==eI?n:void 0}function R_(n,e,t){if(f0(e))return e;const i=e[Ns];if(!i)return A_(e,(a,u)=>J1(n,i,e,a,u,t)),e;if(i.scope_!==n)return e;if(!i.modified_)return x_(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let u=a,h=!1;i.type_===3&&(u=new Set(a),a.clear(),h=!0),A_(u,(m,g)=>J1(n,i,a,m,g,t,h)),x_(n,a,!1),t&&n.patches_&&Mf("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function J1(n,e,t,i,a,u,h){if(Of(a)){const m=u&&e&&e.type_!==3&&!VT(e.assigned_,i)?u.concat(i):void 0,g=R_(n,a,m);if(nI(t,i,g),Of(g))n.canAutoFreeze_=!1;else return}else h&&t.add(a);if(bl(a)&&!f0(a)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;R_(n,a),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,i)&&x_(n,a)}}function x_(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&ub(e,t)}function CV(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:rI(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=i,u=cb;t&&(a=[i],u=Xp);const{revoke:h,proxy:m}=Proxy.revocable(a,u);return i.draft_=m,i.revoke_=h,m}var cb={get(n,e){if(e===Ns)return n;const t=of(n);if(!VT(t,e))return IV(n,t,e);const i=t[e];return n.finalized_||!bl(i)?i:i===zE(n.base_,e)?(HE(n),n.copy_[e]=HT(i,n)):i},has(n,e){return e in of(n)},ownKeys(n){return Reflect.ownKeys(of(n))},set(n,e,t){const i=iI(of(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const a=zE(of(n),e),u=a==null?void 0:a[Ns];if(u&&u.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(bV(t,a)&&(t!==void 0||VT(n.base_,e)))return!0;HE(n),zT(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return zE(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,HE(n),zT(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=of(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){Pa(11)},getPrototypeOf(n){return Pd(n.base_)},setPrototypeOf(){Pa(12)}},Xp={};A_(cb,(n,e)=>{Xp[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Xp.deleteProperty=function(n,e){return Xp.set.call(this,n,e,void 0)};Xp.set=function(n,e,t){return cb.set.call(this,n[0],e,t,n[0])};function zE(n,e){const t=n[Ns];return(t?of(t):n)[e]}function IV(n,e,t){var a;const i=iI(e,t);return i?"value"in i?i.value:(a=i.get)==null?void 0:a.call(n.draft_):void 0}function iI(n,e){if(!(e in n))return;let t=Pd(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Pd(t)}}function zT(n){n.modified_||(n.modified_=!0,n.parent_&&zT(n.parent_))}function HE(n){n.copy_||(n.copy_=jT(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var NV=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const u=t;t=e;const h=this;return function(g=u,...v){return h.produce(g,E=>t.call(this,E,...v))}}typeof t!="function"&&Pa(6),i!==void 0&&typeof i!="function"&&Pa(7);let a;if(bl(e)){const u=X1(this),h=HT(e,void 0);let m=!0;try{a=t(h),m=!1}finally{m?BT(u):FT(u)}return Q1(u,i),Z1(a,u)}else if(!e||typeof e!="object"){if(a=t(e),a===void 0&&(a=e),a===eI&&(a=void 0),this.autoFreeze_&&ub(a,!0),i){const u=[],h=[];Mf("Patches").generateReplacementPatches_(e,a,u,h),i(u,h)}return a}else Pa(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(h,...m)=>this.produceWithPatches(h,g=>e(g,...m));let i,a;return[this.produce(e,t,(h,m)=>{i=h,a=m}),i,a]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){bl(n)||Pa(8),Of(n)&&(n=DV(n));const e=X1(this),t=HT(n,void 0);return t[Ns].isManual_=!0,FT(e),t}finishDraft(n,e){const t=n&&n[Ns];(!t||!t.isManual_)&&Pa(9);const{scope_:i}=t;return Q1(i,e),Z1(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const a=e[t];if(a.path.length===0&&a.op==="replace"){n=a.value;break}}t>-1&&(e=e.slice(t+1));const i=Mf("Patches").applyPatches_;return Of(n)?i(n,e):this.produce(n,a=>i(a,e))}};function HT(n,e){const t=u0(n)?Mf("MapSet").proxyMap_(n,e):c0(n)?Mf("MapSet").proxySet_(n,e):CV(n,e);return(e?e.scope_:rI()).drafts_.push(t),t}function DV(n){return Of(n)||Pa(10,n),sI(n)}function sI(n){if(!bl(n)||f0(n))return n;const e=n[Ns];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=jT(n,e.scope_.immer_.useStrictShallowCopy_)}else t=jT(n,!0);return A_(t,(i,a)=>{nI(t,i,sI(a))}),e&&(e.finalized_=!1),t}var Ds=new NV,aI=Ds.produce;Ds.produceWithPatches.bind(Ds);Ds.setAutoFreeze.bind(Ds);Ds.setUseStrictShallowCopy.bind(Ds);Ds.applyPatches.bind(Ds);Ds.createDraft.bind(Ds);Ds.finishDraft.bind(Ds);function oI(n){return({dispatch:t,getState:i})=>a=>u=>typeof u=="function"?u(t,i,n):a(u)}var OV=oI(),MV=oI,PV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?S_:S_.apply(null,arguments)};function eA(n,e){function t(...i){if(e){let a=e(...i);if(!a)throw new Error(vl(0));return{type:n,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>TV(i)&&i.type===n,t}var lI=class xp extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,xp.prototype)}static get[Symbol.species](){return xp}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new xp(...e[0].concat(this)):new xp(...e.concat(this))}};function tA(n){return bl(n)?aI(n,()=>{}):n}function xv(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function LV(n){return typeof n=="boolean"}var kV=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:a=!0,actionCreatorCheck:u=!0}=e??{};let h=new lI;return t&&(LV(t)?h.push(OV):h.push(MV(t.extraArgument))),h},UV="RTK_autoBatch",nA=n=>e=>{setTimeout(e,n)},VV=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let a=!0,u=!1,h=!1;const m=new Set,g=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:nA(10):n.type==="callback"?n.queueNotification:nA(n.timeout),v=()=>{h=!1,u&&(u=!1,m.forEach(E=>E()))};return Object.assign({},i,{subscribe(E){const S=()=>a&&E(),A=i.subscribe(S);return m.add(E),()=>{A(),m.delete(E)}},dispatch(E){var S;try{return a=!((S=E==null?void 0:E.meta)!=null&&S[UV]),u=!a,u&&(h||(h=!0,g(v))),i.dispatch(E)}finally{a=!0}}})},jV=n=>function(t){const{autoBatch:i=!0}=t??{};let a=new lI(n);return i&&a.push(VV(typeof i=="object"?i:void 0)),a};function BV(n){const e=kV(),{reducer:t=void 0,middleware:i,devTools:a=!0,preloadedState:u=void 0,enhancers:h=void 0}=n||{};let m;if(typeof t=="function")m=t;else if(lb(t))m=_V(t);else throw new Error(vl(1));let g;typeof i=="function"?g=i(e):g=e();let v=S_;a&&(v=PV({trace:!1,...typeof a=="object"&&a}));const E=EV(...g),S=jV(E);let A=typeof h=="function"?h(S):S();const D=v(...A);return JC(m,u,D)}function uI(n){const e={},t=[];let i;const a={addCase(u,h){const m=typeof u=="string"?u:u.type;if(!m)throw new Error(vl(28));if(m in e)throw new Error(vl(29));return e[m]=h,a},addMatcher(u,h){return t.push({matcher:u,reducer:h}),a},addDefaultCase(u){return i=u,a}};return n(a),[e,t,i]}function FV(n){return typeof n=="function"}function zV(n,e){let[t,i,a]=uI(e),u;if(FV(n))u=()=>tA(n());else{const m=tA(n);u=()=>m}function h(m=u(),g){let v=[t[g.type],...i.filter(({matcher:E})=>E(g)).map(({reducer:E})=>E)];return v.filter(E=>!!E).length===0&&(v=[a]),v.reduce((E,S)=>{if(S)if(Of(E)){const D=S(E,g);return D===void 0?E:D}else{if(bl(E))return aI(E,A=>S(A,g));{const A=S(E,g);if(A===void 0){if(E===null)return E;throw Error("A case reducer on a non-draftable value must not return undefined")}return A}}return E},m)}return h.getInitialState=u,h}var HV=Symbol.for("rtk-slice-createasyncthunk");function qV(n,e){return`${n}/${e}`}function GV({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[HV];return function(a){const{name:u,reducerPath:h=u}=a;if(!u)throw new Error(vl(11));const m=(typeof a.reducers=="function"?a.reducers(YV()):a.reducers)||{},g=Object.keys(m),v={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},E={addCase(he,ne){const z=typeof he=="string"?he:he.type;if(!z)throw new Error(vl(12));if(z in v.sliceCaseReducersByType)throw new Error(vl(13));return v.sliceCaseReducersByType[z]=ne,E},addMatcher(he,ne){return v.sliceMatchers.push({matcher:he,reducer:ne}),E},exposeAction(he,ne){return v.actionCreators[he]=ne,E},exposeCaseReducer(he,ne){return v.sliceCaseReducersByName[he]=ne,E}};g.forEach(he=>{const ne=m[he],z={reducerName:he,type:qV(u,he),createNotation:typeof a.reducers=="function"};QV(ne)?ZV(z,ne,E,e):WV(z,ne,E)});function S(){const[he={},ne=[],z=void 0]=typeof a.extraReducers=="function"?uI(a.extraReducers):[a.extraReducers],N={...he,...v.sliceCaseReducersByType};return zV(a.initialState,I=>{for(let L in N)I.addCase(L,N[L]);for(let L of v.sliceMatchers)I.addMatcher(L.matcher,L.reducer);for(let L of ne)I.addMatcher(L.matcher,L.reducer);z&&I.addDefaultCase(z)})}const A=he=>he,D=new Map,O=new WeakMap;let F;function k(he,ne){return F||(F=S()),F(he,ne)}function U(){return F||(F=S()),F.getInitialState()}function Q(he,ne=!1){function z(I){let L=I[he];return typeof L>"u"&&ne&&(L=xv(O,z,U)),L}function N(I=A){const L=xv(D,ne,()=>new WeakMap);return xv(L,I,()=>{const H={};for(const[K,X]of Object.entries(a.selectors??{}))H[K]=$V(X,I,()=>xv(O,I,U),ne);return H})}return{reducerPath:he,getSelectors:N,get selectors(){return N(z)},selectSlice:z}}const J={name:u,reducer:k,actions:v.actionCreators,caseReducers:v.sliceCaseReducersByName,getInitialState:U,...Q(h),injectInto(he,{reducerPath:ne,...z}={}){const N=ne??h;return he.inject({reducerPath:N,reducer:k},z),{...J,...Q(N,!0)}}};return J}}function $V(n,e,t,i){function a(u,...h){let m=e(u);return typeof m>"u"&&i&&(m=t()),n(m,...h)}return a.unwrapped=n,a}var KV=GV();function YV(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function WV({type:n,reducerName:e,createNotation:t},i,a){let u,h;if("reducer"in i){if(t&&!XV(i))throw new Error(vl(17));u=i.reducer,h=i.prepare}else u=i;a.addCase(n,u).exposeCaseReducer(e,u).exposeAction(e,h?eA(n,h):eA(n))}function QV(n){return n._reducerDefinitionType==="asyncThunk"}function XV(n){return n._reducerDefinitionType==="reducerWithPrepare"}function ZV({type:n,reducerName:e},t,i,a){if(!a)throw new Error(vl(18));const{payloadCreator:u,fulfilled:h,pending:m,rejected:g,settled:v,options:E}=t,S=a(n,u,E);i.exposeAction(e,S),h&&i.addCase(S.fulfilled,h),m&&i.addCase(S.pending,m),g&&i.addCase(S.rejected,g),v&&i.addMatcher(S.settled,v),i.exposeCaseReducer(e,{fulfilled:h||Cv,pending:m||Cv,rejected:g||Cv,settled:v||Cv})}function Cv(){}function vl(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Iv={exports:{}},rA;function JV(){return rA||(rA=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});function t(N){return typeof N=="object"&&!("toString"in N)?Object.prototype.toString.call(N).slice(8,-1):N}var i=typeof process=="object"&&!0;function a(N,I){if(!N)throw i?new Error("Invariant failed"):new Error(I())}e.invariant=a;var u=Object.prototype.hasOwnProperty,h=Array.prototype.splice,m=Object.prototype.toString;function g(N){return m.call(N).slice(8,-1)}var v=Object.assign||function(N,I){return E(I).forEach(function(L){u.call(I,L)&&(N[L]=I[L])}),N},E=typeof Object.getOwnPropertySymbols=="function"?function(N){return Object.keys(N).concat(Object.getOwnPropertySymbols(N))}:function(N){return Object.keys(N)};function S(N){return Array.isArray(N)?v(N.constructor(N.length),N):g(N)==="Map"?new Map(N):g(N)==="Set"?new Set(N):N&&typeof N=="object"?v(Object.create(Object.getPrototypeOf(N)),N):N}var A=function(){function N(){this.commands=v({},D),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(I,L){return I===L},this.update.newContext=function(){return new N().update}}return Object.defineProperty(N.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(I){this.update.isEquals=I},enumerable:!0,configurable:!0}),N.prototype.extend=function(I,L){this.commands[I]=L},N.prototype.update=function(I,L){var H=this,K=typeof L=="function"?{$apply:L}:L;Array.isArray(I)&&Array.isArray(K)||a(!Array.isArray(K),function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."}),a(typeof K=="object"&&K!==null,function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the "+("following commands: "+Object.keys(H.commands).join(", ")+".")});var X=I;return E(K).forEach(function(q){if(u.call(H.commands,q)){var Xe=I===X;X=H.commands[q](K[q],X,K,I),Xe&&H.isEquals(X,I)&&(X=I)}else{var Je=g(I)==="Map"?H.update(I.get(q),K[q]):H.update(I[q],K[q]),ce=g(X)==="Map"?X.get(q):X[q];(!H.isEquals(Je,ce)||typeof Je>"u"&&!u.call(I,q))&&(X===I&&(X=S(I)),g(X)==="Map"?X.set(q,Je):X[q]=Je)}}),X},N}();e.Context=A;var D={$push:function(N,I,L){return F(I,L,"$push"),N.length?I.concat(N):I},$unshift:function(N,I,L){return F(I,L,"$unshift"),N.length?N.concat(I):I},$splice:function(N,I,L,H){return U(I,L),N.forEach(function(K){Q(K),I===H&&K.length&&(I=S(H)),h.apply(I,K)}),I},$set:function(N,I,L){return he(L),N},$toggle:function(N,I){k(N,"$toggle");var L=N.length?S(I):I;return N.forEach(function(H){L[H]=!I[H]}),L},$unset:function(N,I,L,H){return k(N,"$unset"),N.forEach(function(K){Object.hasOwnProperty.call(I,K)&&(I===H&&(I=S(H)),delete I[K])}),I},$add:function(N,I,L,H){return z(I,"$add"),k(N,"$add"),g(I)==="Map"?N.forEach(function(K){var X=K[0],q=K[1];I===H&&I.get(X)!==q&&(I=S(H)),I.set(X,q)}):N.forEach(function(K){I===H&&!I.has(K)&&(I=S(H)),I.add(K)}),I},$remove:function(N,I,L,H){return z(I,"$remove"),k(N,"$remove"),N.forEach(function(K){I===H&&I.has(K)&&(I=S(H)),I.delete(K)}),I},$merge:function(N,I,L,H){return ne(I,N),E(N).forEach(function(K){N[K]!==I[K]&&(I===H&&(I=S(H)),I[K]=N[K])}),I},$apply:function(N,I){return J(N),N(I)}},O=new A;e.isEquals=O.update.isEquals,e.extend=O.extend,e.default=O.update,e.default.default=n.exports=v(e.default,e);function F(N,I,L){a(Array.isArray(N),function(){return"update(): expected target of "+t(L)+" to be an array; got "+t(N)+"."}),k(I[L],L)}function k(N,I){a(Array.isArray(N),function(){return"update(): expected spec of "+t(I)+" to be an array; got "+t(N)+". Did you forget to wrap your parameter in an array?"})}function U(N,I){a(Array.isArray(N),function(){return"Expected $splice target to be an array; got "+t(N)}),Q(I.$splice)}function Q(N){a(Array.isArray(N),function(){return"update(): expected spec of $splice to be an array of arrays; got "+t(N)+". Did you forget to wrap your parameters in an array?"})}function J(N){a(typeof N=="function",function(){return"update(): expected spec of $apply to be a function; got "+t(N)+"."})}function he(N){a(Object.keys(N).length===1,function(){return"Cannot have more than one key in an object with $set"})}function ne(N,I){a(I&&typeof I=="object",function(){return"update(): $merge expects a spec of type 'object'; got "+t(I)}),a(N&&typeof N=="object",function(){return"update(): $merge expects a target of type 'object'; got "+t(N)})}function z(N,I){var L=g(N);a(L==="Map"||L==="Set",function(){return"update(): "+t(I)+" expects a target of type Set or Map; got "+t(L)})}}(Iv,Iv.exports)),Iv.exports}var ej=JV();const fb=Ld(ej),tj={loading:!0,user:null},cI=KV({name:"user",initialState:tj,reducers:{updateUser:(n,e)=>({...n,...e.payload}),updateNickname:(n,e)=>fb(n,{user:{nickname:{$set:e.payload}}}),logOut:n=>{n.loading=!1,n.user=null}}}),{updateUser:Wv,updateNickname:fI,logOut:nj}=cI.actions,rj=cI.reducer;function ij(){const n=Pf();return B.useEffect(()=>{console.log("Layout: Starting authentication setup"),console.log("Layout: Current URL:",window.location.href),t2(Md,uR).then(()=>{console.log("Auth persistence set to LOCAL")}).catch(i=>{console.error("Error setting auth persistence:",i)});const e=localStorage.getItem("guestUser");if(e)try{const i=JSON.parse(e);console.log("🔍 Found stored guest user:",i.nickname),n(Wv({loading:!1,user:i}))}catch(i){console.error("Error parsing stored guest user:",i),localStorage.removeItem("guestUser")}const t=i2(Md,i=>{var a;if(console.log("🔥 Auth state changed:",i?`${i.displayName} (${i.uid})`:"No user"),i){console.log("User authenticated, updating Redux store"),i.isAnonymous||localStorage.removeItem("guestUser");const u=window.localStorage.getItem("nickname")||((a=i.displayName)==null?void 0:a.split(" ")[0]),h={displayName:i.displayName,email:i.email,emailVerified:i.emailVerified,photoURL:i.photoURL,isAnonymous:i.isAnonymous,uid:i.uid,providerData:i.providerData,nickname:u};n(Wv({loading:!1,user:h})),jn.get(`/api/user/${i.uid}`).then(m=>{console.log("User is registered")}).catch(m=>{console.log("API call failed (expected in development):",m.message),m.response&&m.response.status===404?(console.log("User not registered, attempting to register..."),jn.post("/api/user",{uid:i.uid,info:h}).then(()=>{console.log("User registered successfully")}).catch(g=>{console.log("Error registering user (expected in development):",g.message)})):console.log("API error (expected in development):",m.message)})}else console.log("🔥 No user authenticated"),n(Wv({loading:!1,user:null}))});return()=>{t()}},[n]),b.jsxs("div",{children:[b.jsx(n3,{})," "]})}var Cp={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var sj=Cp.exports,iA;function aj(){return iA||(iA=1,function(n,e){(function(){var t,i="4.17.21",a=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",h="Expected a function",m="Invalid `variable` option passed into `_.template`",g="__lodash_hash_undefined__",v=500,E="__lodash_placeholder__",S=1,A=2,D=4,O=1,F=2,k=1,U=2,Q=4,J=8,he=16,ne=32,z=64,N=128,I=256,L=512,H=30,K="...",X=800,q=16,Xe=1,Je=2,ce=3,pe=1/0,_e=9007199254740991,Me=17976931348623157e292,G=NaN,me=4294967295,Ne=me-1,we=me>>>1,Ue=[["ary",N],["bind",k],["bindKey",U],["curry",J],["curryRight",he],["flip",L],["partial",ne],["partialRight",z],["rearg",I]],Ke="[object Arguments]",ze="[object Array]",mn="[object AsyncFunction]",Nt="[object Boolean]",Mn="[object Date]",Zt="[object DOMException]",Sn="[object Error]",qn="[object Function]",Ar="[object GeneratorFunction]",Wt="[object Map]",Dt="[object Number]",us="[object Null]",an="[object Object]",Ba="[object Promise]",aa="[object Proxy]",Wr="[object RegExp]",Bn="[object Set]",yr="[object String]",vr="[object Symbol]",cs="[object Undefined]",Qr="[object WeakMap]",He="[object WeakSet]",it="[object ArrayBuffer]",An="[object DataView]",Pn="[object Float32Array]",Fa="[object Float64Array]",Xr="[object Int8Array]",Vi="[object Int16Array]",ji="[object Int32Array]",Bi="[object Uint8Array]",Pr="[object Uint8ClampedArray]",fs="[object Uint16Array]",Zr="[object Uint32Array]",za=/\b__p \+= '';/g,oa=/\b(__p \+=) '' \+/g,Oo=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bi=/&(?:amp|lt|gt|quot|#39);/g,Fi=/[&<>"']/g,Ha=RegExp(bi.source),Lr=RegExp(Fi.source),Ms=/<%-([\s\S]+?)%>/g,Ps=/<%([\s\S]+?)%>/g,la=/<%=([\s\S]+?)%>/g,W=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,se=/^\w*$/,le=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Se=/[\\^$.*+?()[\]{}|]/g,Oe=RegExp(Se.source),Ve=/^\s+/,et=/\s/,je=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,qe=/\{\n\/\* \[wrapped with (.+)\] \*/,We=/,? & /,nt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ge=/[()=,{}\[\]\/\s]/,st=/\\(\\)?/g,Rt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Jt=/\w*$/,Qt=/^[-+]0x[0-9a-f]+$/i,Lt=/^0b[01]+$/i,wt=/^\[object .+?Constructor\]$/,zi=/^0o[0-7]+$/i,Wn=/^(?:0|[1-9]\d*)$/,kr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Gn=/($^)/,Ls=/['\n\r\u2028\u2029\\]/g,Rr="\\ud800-\\udfff",qa="\\u0300-\\u036f",xr="\\ufe20-\\ufe2f",Ur="\\u20d0-\\u20ff",ft=qa+xr+Ur,Fn="\\u2700-\\u27bf",Jr="a-z\\xdf-\\xf6\\xf8-\\xff",ei="\\xac\\xb1\\xd7\\xf7",ks="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",pn="\\u2000-\\u206f",Hi=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Us="A-Z\\xc0-\\xd6\\xd8-\\xde",sr="\\ufe0e\\ufe0f",Rl=ei+ks+pn+Hi,$u="['’]",xl="["+Rr+"]",Cl="["+Rl+"]",Vs="["+ft+"]",Bf="\\d+",$n="["+Fn+"]",ti="["+Jr+"]",Ga="[^"+Rr+Rl+Bf+Fn+Jr+Us+"]",js="\\ud83c[\\udffb-\\udfff]",ua="(?:"+Vs+"|"+js+")",on="[^"+Rr+"]",ca="(?:\\ud83c[\\udde6-\\uddff]){2}",ni="[\\ud800-\\udbff][\\udc00-\\udfff]",qi="["+Us+"]",Ku="\\u200d",Il="(?:"+ti+"|"+Ga+")",Yu="(?:"+qi+"|"+Ga+")",Ff="(?:"+$u+"(?:d|ll|m|re|s|t|ve))?",zf="(?:"+$u+"(?:D|LL|M|RE|S|T|VE))?",Mo=ua+"?",Bs="["+sr+"]?",Gi="(?:"+Ku+"(?:"+[on,ca,ni].join("|")+")"+Bs+Mo+")*",fa="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ha="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Nl=Bs+Mo+Gi,Fs="(?:"+[$n,ca,ni].join("|")+")"+Nl,Hf="(?:"+[on+Vs+"?",Vs,ca,ni,xl].join("|")+")",Po=RegExp($u,"g"),hs=RegExp(Vs,"g"),ri=RegExp(js+"(?="+js+")|"+Hf+Nl,"g"),Lo=RegExp([qi+"?"+ti+"+"+Ff+"(?="+[Cl,qi,"$"].join("|")+")",Yu+"+"+zf+"(?="+[Cl,qi+Il,"$"].join("|")+")",qi+"?"+Il+"+"+Ff,qi+"+"+zf,ha,fa,Bf,Fs].join("|"),"g"),zs=RegExp("["+Ku+Rr+ft+sr+"]"),$a=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,da=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Wu=-1,Ft={};Ft[Pn]=Ft[Fa]=Ft[Xr]=Ft[Vi]=Ft[ji]=Ft[Bi]=Ft[Pr]=Ft[fs]=Ft[Zr]=!0,Ft[Ke]=Ft[ze]=Ft[it]=Ft[Nt]=Ft[An]=Ft[Mn]=Ft[Sn]=Ft[qn]=Ft[Wt]=Ft[Dt]=Ft[an]=Ft[Wr]=Ft[Bn]=Ft[yr]=Ft[Qr]=!1;var kt={};kt[Ke]=kt[ze]=kt[it]=kt[An]=kt[Nt]=kt[Mn]=kt[Pn]=kt[Fa]=kt[Xr]=kt[Vi]=kt[ji]=kt[Wt]=kt[Dt]=kt[an]=kt[Wr]=kt[Bn]=kt[yr]=kt[vr]=kt[Bi]=kt[Pr]=kt[fs]=kt[Zr]=!0,kt[Sn]=kt[qn]=kt[Qr]=!1;var Qu={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ar={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},nn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Dl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ko=parseFloat,qf=parseInt,Uo=typeof vv=="object"&&vv&&vv.Object===Object&&vv,Ol=typeof self=="object"&&self&&self.Object===Object&&self,En=Uo||Ol||Function("return this")(),ma=e&&!e.nodeType&&e,or=ma&&!0&&n&&!n.nodeType&&n,Xu=or&&or.exports===ma,Zu=Xu&&Uo.process,lr=function(){try{var te=or&&or.require&&or.require("util").types;return te||Zu&&Zu.binding&&Zu.binding("util")}catch{}}(),Vo=lr&&lr.isArrayBuffer,Ml=lr&&lr.isDate,jo=lr&&lr.isMap,Ju=lr&&lr.isRegExp,Bo=lr&&lr.isSet,Gf=lr&&lr.isTypedArray;function _r(te,Ee,ge){switch(ge.length){case 0:return te.call(Ee);case 1:return te.call(Ee,ge[0]);case 2:return te.call(Ee,ge[0],ge[1]);case 3:return te.call(Ee,ge[0],ge[1],ge[2])}return te.apply(Ee,ge)}function Fo(te,Ee,ge,Le){for(var lt=-1,Gt=te==null?0:te.length;++lt<Gt;){var Kn=te[lt];Ee(Le,Kn,ge(Kn),te)}return Le}function Vr(te,Ee){for(var ge=-1,Le=te==null?0:te.length;++ge<Le&&Ee(te[ge],ge,te)!==!1;);return te}function $f(te,Ee){for(var ge=te==null?0:te.length;ge--&&Ee(te[ge],ge,te)!==!1;);return te}function Pl(te,Ee){for(var ge=-1,Le=te==null?0:te.length;++ge<Le;)if(!Ee(te[ge],ge,te))return!1;return!0}function ii(te,Ee){for(var ge=-1,Le=te==null?0:te.length,lt=0,Gt=[];++ge<Le;){var Kn=te[ge];Ee(Kn,ge,te)&&(Gt[lt++]=Kn)}return Gt}function zo(te,Ee){var ge=te==null?0:te.length;return!!ge&&pa(te,Ee,0)>-1}function Ka(te,Ee,ge){for(var Le=-1,lt=te==null?0:te.length;++Le<lt;)if(ge(Ee,te[Le]))return!0;return!1}function gn(te,Ee){for(var ge=-1,Le=te==null?0:te.length,lt=Array(Le);++ge<Le;)lt[ge]=Ee(te[ge],ge,te);return lt}function $i(te,Ee){for(var ge=-1,Le=Ee.length,lt=te.length;++ge<Le;)te[lt+ge]=Ee[ge];return te}function ds(te,Ee,ge,Le){var lt=-1,Gt=te==null?0:te.length;for(Le&&Gt&&(ge=te[++lt]);++lt<Gt;)ge=Ee(ge,te[lt],lt,te);return ge}function Kf(te,Ee,ge,Le){var lt=te==null?0:te.length;for(Le&&lt&&(ge=te[--lt]);lt--;)ge=Ee(ge,te[lt],lt,te);return ge}function Ll(te,Ee){for(var ge=-1,Le=te==null?0:te.length;++ge<Le;)if(Ee(te[ge],ge,te))return!0;return!1}var Yf=R("length");function Wf(te){return te.split("")}function kl(te){return te.match(nt)||[]}function Cr(te,Ee,ge){var Le;return ge(te,function(lt,Gt,Kn){if(Ee(lt,Gt,Kn))return Le=Gt,!1}),Le}function Ho(te,Ee,ge,Le){for(var lt=te.length,Gt=ge+(Le?1:-1);Le?Gt--:++Gt<lt;)if(Ee(te[Gt],Gt,te))return Gt;return-1}function pa(te,Ee,ge){return Ee===Ee?v0(te,Ee,ge):Ho(te,d,ge)}function Hs(te,Ee,ge,Le){for(var lt=ge-1,Gt=te.length;++lt<Gt;)if(Le(te[lt],Ee))return lt;return-1}function d(te){return te!==te}function T(te,Ee){var ge=te==null?0:te.length;return ge?Pe(te,Ee)/ge:G}function R(te){return function(Ee){return Ee==null?t:Ee[te]}}function V(te){return function(Ee){return te==null?t:te[Ee]}}function ae(te,Ee,ge,Le,lt){return lt(te,function(Gt,Kn,$t){ge=Le?(Le=!1,Gt):Ee(ge,Gt,Kn,$t)}),ge}function ye(te,Ee){var ge=te.length;for(te.sort(Ee);ge--;)te[ge]=te[ge].value;return te}function Pe(te,Ee){for(var ge,Le=-1,lt=te.length;++Le<lt;){var Gt=Ee(te[Le]);Gt!==t&&(ge=ge===t?Gt:ge+Gt)}return ge}function Ot(te,Ee){for(var ge=-1,Le=Array(te);++ge<te;)Le[ge]=Ee(ge);return Le}function Qn(te,Ee){return gn(Ee,function(ge){return[ge,te[ge]]})}function Ut(te){return te&&te.slice(0,Kd(te)+1).replace(Ve,"")}function rn(te){return function(Ee){return te(Ee)}}function zn(te,Ee){return gn(Ee,function(ge){return te[ge]})}function Si(te,Ee){return te.has(Ee)}function ur(te,Ee){for(var ge=-1,Le=te.length;++ge<Le&&pa(Ee,te[ge],0)>-1;);return ge}function ms(te,Ee){for(var ge=te.length;ge--&&pa(Ee,te[ge],0)>-1;);return ge}function ec(te,Ee){for(var ge=te.length,Le=0;ge--;)te[ge]===Ee&&++Le;return Le}var Qf=V(Qu),vg=V(ar);function _g(te){return"\\"+Dl[te]}function $d(te,Ee){return te==null?t:te[Ee]}function Ya(te){return zs.test(te)}function Eg(te){return $a.test(te)}function Tg(te){for(var Ee,ge=[];!(Ee=te.next()).done;)ge.push(Ee.value);return ge}function Xf(te){var Ee=-1,ge=Array(te.size);return te.forEach(function(Le,lt){ge[++Ee]=[lt,Le]}),ge}function wg(te,Ee){return function(ge){return te(Ee(ge))}}function Wa(te,Ee){for(var ge=-1,Le=te.length,lt=0,Gt=[];++ge<Le;){var Kn=te[ge];(Kn===Ee||Kn===E)&&(te[ge]=E,Gt[lt++]=ge)}return Gt}function Zf(te){var Ee=-1,ge=Array(te.size);return te.forEach(function(Le){ge[++Ee]=Le}),ge}function y0(te){var Ee=-1,ge=Array(te.size);return te.forEach(function(Le){ge[++Ee]=[Le,Le]}),ge}function v0(te,Ee,ge){for(var Le=ge-1,lt=te.length;++Le<lt;)if(te[Le]===Ee)return Le;return-1}function Ai(te,Ee,ge){for(var Le=ge+1;Le--;)if(te[Le]===Ee)return Le;return Le}function qs(te){return Ya(te)?Sg(te):Yf(te)}function Ki(te){return Ya(te)?Yd(te):Wf(te)}function Kd(te){for(var Ee=te.length;Ee--&&et.test(te.charAt(Ee)););return Ee}var bg=V(nn);function Sg(te){for(var Ee=ri.lastIndex=0;ri.test(te);)++Ee;return Ee}function Yd(te){return te.match(ri)||[]}function _0(te){return te.match(Lo)||[]}var Ul=function te(Ee){Ee=Ee==null?En:Qa.defaults(En.Object(),Ee,Qa.pick(En,da));var ge=Ee.Array,Le=Ee.Date,lt=Ee.Error,Gt=Ee.Function,Kn=Ee.Math,$t=Ee.Object,Jf=Ee.RegExp,Ag=Ee.String,Ri=Ee.TypeError,eh=ge.prototype,E0=Gt.prototype,Vl=$t.prototype,tc=Ee["__core-js_shared__"],nc=E0.toString,en=Vl.hasOwnProperty,ps=0,Wd=function(){var l=/[^.]+$/.exec(tc&&tc.keys&&tc.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),jr=Vl.toString,Yi=nc.call($t),jl=En._,Qd=Jf("^"+nc.call(en).replace(Se,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qo=Xu?Ee.Buffer:t,gs=Ee.Symbol,Bl=Ee.Uint8Array,Go=qo?qo.allocUnsafe:t,rc=wg($t.getPrototypeOf,$t),ic=$t.create,$o=Vl.propertyIsEnumerable,th=eh.splice,si=gs?gs.isConcatSpreadable:t,Ko=gs?gs.iterator:t,Br=gs?gs.toStringTag:t,sc=function(){try{var l=so($t,"defineProperty");return l({},"",{}),l}catch{}}(),nh=Ee.clearTimeout!==En.clearTimeout&&Ee.clearTimeout,Yo=Le&&Le.now!==En.Date.now&&Le.now,Xd=Ee.setTimeout!==En.setTimeout&&Ee.setTimeout,Fl=Kn.ceil,ga=Kn.floor,Xa=$t.getOwnPropertySymbols,rh=qo?qo.isBuffer:t,ac=Ee.isFinite,Wi=eh.join,Qi=wg($t.keys,$t),wn=Kn.max,Rn=Kn.min,ya=Le.now,Wo=Ee.parseInt,Zd=Kn.random,Jd=eh.reverse,oc=so(Ee,"DataView"),Xn=so(Ee,"Map"),xn=so(Ee,"Promise"),Mt=so(Ee,"Set"),ys=so(Ee,"WeakMap"),ai=so($t,"create"),zl=ys&&new ys,Xi={},Rg=Ra(oc),xg=Ra(Xn),lc=Ra(xn),uc=Ra(Mt),Cg=Ra(ys),Za=gs?gs.prototype:t,Qo=Za?Za.valueOf:t,Ja=Za?Za.toString:t;function M(l){if(Nn(l)&&!ht(l)&&!(l instanceof bt)){if(l instanceof oi)return l;if(en.call(l,"__wrapped__"))return Jn(l)}return new oi(l)}var xi=function(){function l(){}return function(c){if(!In(c))return{};if(ic)return ic(c);l.prototype=c;var y=new l;return l.prototype=t,y}}();function Zi(){}function oi(l,c){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=t}M.templateSettings={escape:Ms,evaluate:Ps,interpolate:la,variable:"",imports:{_:M}},M.prototype=Zi.prototype,M.prototype.constructor=M,oi.prototype=xi(Zi.prototype),oi.prototype.constructor=oi;function bt(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=me,this.__views__=[]}function cc(){var l=new bt(this.__wrapped__);return l.__actions__=Zn(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Zn(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Zn(this.__views__),l}function ih(){if(this.__filtered__){var l=new bt(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function Xo(){var l=this.__wrapped__.value(),c=this.__dir__,y=ht(l),w=c<0,C=y?l.length:0,j=oy(0,C,this.__views__),$=j.start,Z=j.end,ie=Z-$,Ae=w?Z:$-1,xe=this.__iteratees__,De=xe.length,ke=0,Ye=Rn(ie,this.__takeCount__);if(!y||!w&&C==ie&&Ye==ie)return Kg(l,this.__actions__);var ut=[];e:for(;ie--&&ke<Ye;){Ae+=c;for(var At=-1,ct=l[Ae];++At<De;){var jt=xe[At],Yt=jt.iteratee,Ss=jt.type,Pi=Yt(ct);if(Ss==Je)ct=Pi;else if(!Pi){if(Ss==Xe)continue e;break e}}ut[ke++]=ct}return ut}bt.prototype=xi(Zi.prototype),bt.prototype.constructor=bt;function Ln(l){var c=-1,y=l==null?0:l.length;for(this.clear();++c<y;){var w=l[c];this.set(w[0],w[1])}}function sh(){this.__data__=ai?ai(null):{},this.size=0}function Ig(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}function T0(l){var c=this.__data__;if(ai){var y=c[l];return y===g?t:y}return en.call(c,l)?c[l]:t}function w0(l){var c=this.__data__;return ai?c[l]!==t:en.call(c,l)}function b0(l,c){var y=this.__data__;return this.size+=this.has(l)?0:1,y[l]=ai&&c===t?g:c,this}Ln.prototype.clear=sh,Ln.prototype.delete=Ig,Ln.prototype.get=T0,Ln.prototype.has=w0,Ln.prototype.set=b0;function yn(l){var c=-1,y=l==null?0:l.length;for(this.clear();++c<y;){var w=l[c];this.set(w[0],w[1])}}function em(){this.__data__=[],this.size=0}function fc(l){var c=this.__data__,y=Gl(c,l);if(y<0)return!1;var w=c.length-1;return y==w?c.pop():th.call(c,y,1),--this.size,!0}function hc(l){var c=this.__data__,y=Gl(c,l);return y<0?t:c[y][1]}function tm(l){return Gl(this.__data__,l)>-1}function Hl(l,c){var y=this.__data__,w=Gl(y,l);return w<0?(++this.size,y.push([l,c])):y[w][1]=c,this}yn.prototype.clear=em,yn.prototype.delete=fc,yn.prototype.get=hc,yn.prototype.has=tm,yn.prototype.set=Hl;function li(l){var c=-1,y=l==null?0:l.length;for(this.clear();++c<y;){var w=l[c];this.set(w[0],w[1])}}function S0(){this.size=0,this.__data__={hash:new Ln,map:new(Xn||yn),string:new Ln}}function Ng(l){var c=Xl(this,l).delete(l);return this.size-=c?1:0,c}function A0(l){return Xl(this,l).get(l)}function Dg(l){return Xl(this,l).has(l)}function Zo(l,c){var y=Xl(this,l),w=y.size;return y.set(l,c),this.size+=y.size==w?0:1,this}li.prototype.clear=S0,li.prototype.delete=Ng,li.prototype.get=A0,li.prototype.has=Dg,li.prototype.set=Zo;function va(l){var c=-1,y=l==null?0:l.length;for(this.__data__=new li;++c<y;)this.add(l[c])}function ah(l){return this.__data__.set(l,g),this}function Og(l){return this.__data__.has(l)}va.prototype.add=va.prototype.push=ah,va.prototype.has=Og;function Fr(l){var c=this.__data__=new yn(l);this.size=c.size}function Mg(){this.__data__=new yn,this.size=0}function oh(l){var c=this.__data__,y=c.delete(l);return this.size=c.size,y}function nm(l){return this.__data__.get(l)}function Pg(l){return this.__data__.has(l)}function lh(l,c){var y=this.__data__;if(y instanceof yn){var w=y.__data__;if(!Xn||w.length<a-1)return w.push([l,c]),this.size=++y.size,this;y=this.__data__=new li(w)}return y.set(l,c),this.size=y.size,this}Fr.prototype.clear=Mg,Fr.prototype.delete=oh,Fr.prototype.get=nm,Fr.prototype.has=Pg,Fr.prototype.set=lh;function rm(l,c){var y=ht(l),w=!y&&Na(l),C=!y&&!w&&go(l),j=!y&&!w&&!C&&fu(l),$=y||w||C||j,Z=$?Ot(l.length,Ag):[],ie=Z.length;for(var Ae in l)(c||en.call(l,Ae))&&!($&&(Ae=="length"||C&&(Ae=="offset"||Ae=="parent")||j&&(Ae=="buffer"||Ae=="byteLength"||Ae=="byteOffset")||Ts(Ae,ie)))&&Z.push(Ae);return Z}function ql(l){var c=l.length;return c?l[vh(0,c-1)]:t}function Lg(l,c){return jc(Zn(l),_s(c,0,l.length))}function kg(l){return jc(Zn(l))}function Gs(l,c,y){(y!==t&&!pi(l[c],y)||y===t&&!(c in l))&&vs(l,c,y)}function Jo(l,c,y){var w=l[c];(!(en.call(l,c)&&pi(w,y))||y===t&&!(c in l))&&vs(l,c,y)}function Gl(l,c){for(var y=l.length;y--;)if(pi(l[y][0],c))return y;return-1}function eo(l,c,y,w){return Ea(l,function(C,j,$){c(w,C,y(C),$)}),w}function _a(l,c){return l&&fi(c,nr(c),l)}function dc(l,c){return l&&fi(c,hr(c),l)}function vs(l,c,y){c=="__proto__"&&sc?sc(l,c,{configurable:!0,enumerable:!0,value:y,writable:!0}):l[c]=y}function mc(l,c){for(var y=-1,w=c.length,C=ge(w),j=l==null;++y<w;)C[y]=j?t:Jc(l,c[y]);return C}function _s(l,c,y){return l===l&&(y!==t&&(l=l<=y?l:y),c!==t&&(l=l>=c?l:c)),l}function Ir(l,c,y,w,C,j){var $,Z=c&S,ie=c&A,Ae=c&D;if(y&&($=C?y(l,w,C,j):y(l)),$!==t)return $;if(!In(l))return l;var xe=ht(l);if(xe){if($=Im(l),!Z)return Zn(l,$)}else{var De=fr(l),ke=De==qn||De==Ar;if(go(l))return Tm(l,Z);if(De==an||De==Ke||ke&&!C){if($=ie||ke?{}:Nm(l),!Z)return ie?xc(l,dc($,l)):Sh(l,_a($,l))}else{if(!kt[De])return C?l:{};$=Dm(l,De,Z)}}j||(j=new Fr);var Ye=j.get(l);if(Ye)return Ye;j.set(l,$),Jy(l)?l.forEach(function(ct){$.add(Ir(ct,c,y,ct,l,j))}):Wh(l)&&l.forEach(function(ct,jt){$.set(jt,Ir(ct,c,y,jt,l,j))});var ut=Ae?ie?Ch:xh:ie?hr:nr,At=xe?t:ut(l);return Vr(At||l,function(ct,jt){At&&(jt=ct,ct=l[jt]),Jo($,jt,Ir(ct,c,y,jt,l,j))}),$}function Ug(l){var c=nr(l);return function(y){return im(y,l,c)}}function im(l,c,y){var w=y.length;if(l==null)return!w;for(l=$t(l);w--;){var C=y[w],j=c[C],$=l[C];if($===t&&!(C in l)||!j($))return!1}return!0}function el(l,c,y){if(typeof l!="function")throw new Ri(h);return Jl(function(){l.apply(t,y)},c)}function to(l,c,y,w){var C=-1,j=zo,$=!0,Z=l.length,ie=[],Ae=c.length;if(!Z)return ie;y&&(c=gn(c,rn(y))),w?(j=Ka,$=!1):c.length>=a&&(j=Si,$=!1,c=new va(c));e:for(;++C<Z;){var xe=l[C],De=y==null?xe:y(xe);if(xe=w||xe!==0?xe:0,$&&De===De){for(var ke=Ae;ke--;)if(c[ke]===De)continue e;ie.push(xe)}else j(c,De,w)||ie.push(xe)}return ie}var Ea=Am(Nr),uh=Am(Kl,!0);function sm(l,c){var y=!0;return Ea(l,function(w,C,j){return y=!!c(w,C,j),y}),y}function Es(l,c,y){for(var w=-1,C=l.length;++w<C;){var j=l[w],$=c(j);if($!=null&&(Z===t?$===$&&!qr($):y($,Z)))var Z=$,ie=j}return ie}function Et(l,c,y,w){var C=l.length;for(y=pt(y),y<0&&(y=-y>C?0:C+y),w=w===t||w>C?C:pt(w),w<0&&(w+=C),w=y>w?0:ea(w);y<w;)l[y++]=c;return l}function ln(l,c){var y=[];return Ea(l,function(w,C,j){c(w,C,j)&&y.push(w)}),y}function Pt(l,c,y,w,C){var j=-1,$=l.length;for(y||(y=Sa),C||(C=[]);++j<$;){var Z=l[j];c>0&&y(Z)?c>1?Pt(Z,c-1,y,w,C):$i(C,Z):w||(C[C.length]=Z)}return C}var $l=ol(),tl=ol(!0);function Nr(l,c){return l&&$l(l,c,nr)}function Kl(l,c){return l&&tl(l,c,nr)}function no(l,c){return ii(c,function(y){return ws(l[y])})}function Ji(l,c){c=wa(c,l);for(var y=0,w=c.length;l!=null&&y<w;)l=l[sn(c[y++])];return y&&y==w?l:t}function Vg(l,c,y){var w=c(l);return ht(l)?w:$i(w,y(l))}function Vt(l){return l==null?l===t?cs:us:Br&&Br in $t(l)?ay(l):hy(l)}function pc(l,c){return l>c}function am(l,c){return l!=null&&en.call(l,c)}function jg(l,c){return l!=null&&c in $t(l)}function Bg(l,c,y){return l>=Rn(c,y)&&l<wn(c,y)}function om(l,c,y){for(var w=y?Ka:zo,C=l[0].length,j=l.length,$=j,Z=ge(j),ie=1/0,Ae=[];$--;){var xe=l[$];$&&c&&(xe=gn(xe,rn(c))),ie=Rn(xe.length,ie),Z[$]=!y&&(c||C>=120&&xe.length>=120)?new va($&&xe):t}xe=l[0];var De=-1,ke=Z[0];e:for(;++De<C&&Ae.length<ie;){var Ye=xe[De],ut=c?c(Ye):Ye;if(Ye=y||Ye!==0?Ye:0,!(ke?Si(ke,ut):w(Ae,ut,y))){for($=j;--$;){var At=Z[$];if(!(At?Si(At,ut):w(l[$],ut,y)))continue e}ke&&ke.push(ut),Ae.push(Ye)}}return Ae}function lm(l,c,y,w){return Nr(l,function(C,j,$){c(w,y(C),j,$)}),w}function nl(l,c,y){c=wa(c,l),l=Zl(l,c);var w=l==null?l:l[sn(Dr(c))];return w==null?t:_r(w,l,y)}function ch(l){return Nn(l)&&Vt(l)==Ke}function ui(l){return Nn(l)&&Vt(l)==it}function Yn(l){return Nn(l)&&Vt(l)==Mn}function rl(l,c,y,w,C){return l===c?!0:l==null||c==null||!Nn(l)&&!Nn(c)?l!==l&&c!==c:gc(l,c,y,w,rl,C)}function gc(l,c,y,w,C,j){var $=ht(l),Z=ht(c),ie=$?ze:fr(l),Ae=Z?ze:fr(c);ie=ie==Ke?an:ie,Ae=Ae==Ke?an:Ae;var xe=ie==an,De=Ae==an,ke=ie==Ae;if(ke&&go(l)){if(!go(c))return!1;$=!0,xe=!1}if(ke&&!xe)return j||(j=new Fr),$||fu(l)?iy(l,c,y,w,C,j):sy(l,c,ie,y,w,C,j);if(!(y&O)){var Ye=xe&&en.call(l,"__wrapped__"),ut=De&&en.call(c,"__wrapped__");if(Ye||ut){var At=Ye?l.value():l,ct=ut?c.value():c;return j||(j=new Fr),C(At,ct,y,w,j)}}return ke?(j||(j=new Fr),cr(l,c,y,w,C,j)):!1}function fh(l){return Nn(l)&&fr(l)==Wt}function yc(l,c,y,w){var C=y.length,j=C,$=!w;if(l==null)return!j;for(l=$t(l);C--;){var Z=y[C];if($&&Z[2]?Z[1]!==l[Z[0]]:!(Z[0]in l))return!1}for(;++C<j;){Z=y[C];var ie=Z[0],Ae=l[ie],xe=Z[1];if($&&Z[2]){if(Ae===t&&!(ie in l))return!1}else{var De=new Fr;if(w)var ke=w(Ae,xe,ie,l,c,De);if(!(ke===t?rl(xe,Ae,O|F,w,De):ke))return!1}}return!0}function $s(l){if(!In(l)||Ph(l))return!1;var c=ws(l)?Qd:wt;return c.test(Ra(l))}function hh(l){return Nn(l)&&Vt(l)==Wr}function um(l){return Nn(l)&&fr(l)==Bn}function cm(l){return Nn(l)&&hl(l.length)&&!!Ft[Vt(l)]}function fm(l){return typeof l=="function"?l:l==null?fe:typeof l=="object"?ht(l)?ph(l[0],l[1]):dm(l):Kt(l)}function dh(l){if(!vn(l))return Qi(l);var c=[];for(var y in $t(l))en.call(l,y)&&y!="constructor"&&c.push(y);return c}function Fg(l){if(!In(l))return ao(l);var c=vn(l),y=[];for(var w in l)w=="constructor"&&(c||!en.call(l,w))||y.push(w);return y}function mh(l,c){return l<c}function hm(l,c){var y=-1,w=er(l)?ge(l.length):[];return Ea(l,function(C,j,$){w[++y]=c(C,j,$)}),w}function dm(l){var c=Nh(l);return c.length==1&&c[0][2]?cy(c[0][0],c[0][1]):function(y){return y===l||yc(y,l,c)}}function ph(l,c){return Oh(l)&&uy(c)?cy(sn(l),c):function(y){var w=Jc(y,l);return w===t&&w===c?pu(y,l):rl(c,w,O|F)}}function vc(l,c,y,w,C){l!==c&&$l(c,function(j,$){if(C||(C=new Fr),In(j))R0(l,c,$,y,vc,w,C);else{var Z=w?w(Lh(l,$),j,$+"",l,c,C):t;Z===t&&(Z=j),Gs(l,$,Z)}},hr)}function R0(l,c,y,w,C,j,$){var Z=Lh(l,y),ie=Lh(c,y),Ae=$.get(ie);if(Ae){Gs(l,y,Ae);return}var xe=j?j(Z,ie,y+"",l,c,$):t,De=xe===t;if(De){var ke=ht(ie),Ye=!ke&&go(ie),ut=!ke&&!Ye&&fu(ie);xe=ie,ke||Ye||ut?ht(Z)?xe=Z:Vn(Z)?xe=Zn(Z):Ye?(De=!1,xe=Tm(ie,!0)):ut?(De=!1,xe=bm(ie,!0)):xe=[]:rs(ie)||Na(ie)?(xe=Z,Na(Z)?xe=nv(Z):(!In(Z)||ws(Z))&&(xe=Nm(ie))):De=!1}De&&($.set(ie,xe),C(xe,ie,w,j,$),$.delete(ie)),Gs(l,y,xe)}function mm(l,c){var y=l.length;if(y)return c+=c<0?y:0,Ts(c,y)?l[c]:t}function pm(l,c,y){c.length?c=gn(c,function(j){return ht(j)?function($){return Ji($,j.length===1?j[0]:j)}:j}):c=[fe];var w=-1;c=gn(c,rn(Ze()));var C=hm(l,function(j,$,Z){var ie=gn(c,function(Ae){return Ae(j)});return{criteria:ie,index:++w,value:j}});return ye(C,function(j,$){return Xg(j,$,y)})}function zg(l,c){return gh(l,c,function(y,w){return pu(l,w)})}function gh(l,c,y){for(var w=-1,C=c.length,j={};++w<C;){var $=c[w],Z=Ji(l,$);y(Z,$)&&Wl(j,wa($,l),Z)}return j}function Hg(l){return function(c){return Ji(c,l)}}function yh(l,c,y,w){var C=w?Hs:pa,j=-1,$=c.length,Z=l;for(l===c&&(c=Zn(c)),y&&(Z=gn(l,rn(y)));++j<$;)for(var ie=0,Ae=c[j],xe=y?y(Ae):Ae;(ie=C(Z,xe,ie,w))>-1;)Z!==l&&th.call(Z,ie,1),th.call(l,ie,1);return l}function gm(l,c){for(var y=l?c.length:0,w=y-1;y--;){var C=c[y];if(y==w||C!==j){var j=C;Ts(C)?th.call(l,C,1):wc(l,C)}}return l}function vh(l,c){return l+ga(Zd()*(c-l+1))}function qg(l,c,y,w){for(var C=-1,j=wn(Fl((c-l)/(y||1)),0),$=ge(j);j--;)$[w?j:++C]=l,l+=y;return $}function ym(l,c){var y="";if(!l||c<1||c>_e)return y;do c%2&&(y+=l),c=ga(c/2),c&&(l+=l);while(c);return y}function vt(l,c){return Uc(Om(l,c,fe),l+"")}function Yl(l){return ql(yu(l))}function _h(l,c){var y=yu(l);return jc(y,_s(c,0,y.length))}function Wl(l,c,y,w){if(!In(l))return l;c=wa(c,l);for(var C=-1,j=c.length,$=j-1,Z=l;Z!=null&&++C<j;){var ie=sn(c[C]),Ae=y;if(ie==="__proto__"||ie==="constructor"||ie==="prototype")return l;if(C!=$){var xe=Z[ie];Ae=w?w(xe,ie,Z):t,Ae===t&&(Ae=In(xe)?xe:Ts(c[C+1])?[]:{})}Jo(Z,ie,Ae),Z=Z[ie]}return l}var _c=zl?function(l,c){return zl.set(l,c),l}:fe,Ec=sc?function(l,c){return sc(l,"toString",{configurable:!0,enumerable:!1,value:ue(c),writable:!0})}:fe;function Gg(l){return jc(yu(l))}function Ci(l,c,y){var w=-1,C=l.length;c<0&&(c=-c>C?0:C+c),y=y>C?C:y,y<0&&(y+=C),C=c>y?0:y-c>>>0,c>>>=0;for(var j=ge(C);++w<C;)j[w]=l[w+c];return j}function $g(l,c){var y;return Ea(l,function(w,C,j){return y=c(w,C,j),!y}),!!y}function Tc(l,c,y){var w=0,C=l==null?w:l.length;if(typeof c=="number"&&c===c&&C<=we){for(;w<C;){var j=w+C>>>1,$=l[j];$!==null&&!qr($)&&(y?$<=c:$<c)?w=j+1:C=j}return C}return Eh(l,c,fe,y)}function Eh(l,c,y,w){var C=0,j=l==null?0:l.length;if(j===0)return 0;c=y(c);for(var $=c!==c,Z=c===null,ie=qr(c),Ae=c===t;C<j;){var xe=ga((C+j)/2),De=y(l[xe]),ke=De!==t,Ye=De===null,ut=De===De,At=qr(De);if($)var ct=w||ut;else Ae?ct=ut&&(w||ke):Z?ct=ut&&ke&&(w||!Ye):ie?ct=ut&&ke&&!Ye&&(w||!At):Ye||At?ct=!1:ct=w?De<=c:De<c;ct?C=xe+1:j=xe}return Rn(j,Ne)}function vm(l,c){for(var y=-1,w=l.length,C=0,j=[];++y<w;){var $=l[y],Z=c?c($):$;if(!y||!pi(Z,ie)){var ie=Z;j[C++]=$===0?0:$}}return j}function Th(l){return typeof l=="number"?l:qr(l)?G:+l}function ci(l){if(typeof l=="string")return l;if(ht(l))return gn(l,ci)+"";if(qr(l))return Ja?Ja.call(l):"";var c=l+"";return c=="0"&&1/l==-pe?"-0":c}function Ta(l,c,y){var w=-1,C=zo,j=l.length,$=!0,Z=[],ie=Z;if(y)$=!1,C=Ka;else if(j>=a){var Ae=c?null:ny(l);if(Ae)return Zf(Ae);$=!1,C=Si,ie=new va}else ie=c?[]:Z;e:for(;++w<j;){var xe=l[w],De=c?c(xe):xe;if(xe=y||xe!==0?xe:0,$&&De===De){for(var ke=ie.length;ke--;)if(ie[ke]===De)continue e;c&&ie.push(De),Z.push(xe)}else C(ie,De,y)||(ie!==Z&&ie.push(De),Z.push(xe))}return Z}function wc(l,c){return c=wa(c,l),l=Zl(l,c),l==null||delete l[sn(Dr(c))]}function _m(l,c,y,w){return Wl(l,c,y(Ji(l,c)),w)}function bc(l,c,y,w){for(var C=l.length,j=w?C:-1;(w?j--:++j<C)&&c(l[j],j,l););return y?Ci(l,w?0:j,w?j+1:C):Ci(l,w?j+1:0,w?C:j)}function Kg(l,c){var y=l;return y instanceof bt&&(y=y.value()),ds(c,function(w,C){return C.func.apply(C.thisArg,$i([w],C.args))},y)}function Sc(l,c,y){var w=l.length;if(w<2)return w?Ta(l[0]):[];for(var C=-1,j=ge(w);++C<w;)for(var $=l[C],Z=-1;++Z<w;)Z!=C&&(j[C]=to(j[C]||$,l[Z],c,y));return Ta(Pt(j,1),c,y)}function Em(l,c,y){for(var w=-1,C=l.length,j=c.length,$={};++w<C;){var Z=w<j?c[w]:t;y($,l[w],Z)}return $}function wh(l){return Vn(l)?l:[]}function Ac(l){return typeof l=="function"?l:fe}function wa(l,c){return ht(l)?l:Oh(l,c)?[l]:Qs(tn(l))}var Yg=vt;function ro(l,c,y){var w=l.length;return y=y===t?w:y,!c&&y>=w?l:Ci(l,c,y)}var Wg=nh||function(l){return En.clearTimeout(l)};function Tm(l,c){if(c)return l.slice();var y=l.length,w=Go?Go(y):new l.constructor(y);return l.copy(w),w}function il(l){var c=new l.constructor(l.byteLength);return new Bl(c).set(new Bl(l)),c}function wm(l,c){var y=c?il(l.buffer):l.buffer;return new l.constructor(y,l.byteOffset,l.byteLength)}function bh(l){var c=new l.constructor(l.source,Jt.exec(l));return c.lastIndex=l.lastIndex,c}function Qg(l){return Qo?$t(Qo.call(l)):{}}function bm(l,c){var y=c?il(l.buffer):l.buffer;return new l.constructor(y,l.byteOffset,l.length)}function Rc(l,c){if(l!==c){var y=l!==t,w=l===null,C=l===l,j=qr(l),$=c!==t,Z=c===null,ie=c===c,Ae=qr(c);if(!Z&&!Ae&&!j&&l>c||j&&$&&ie&&!Z&&!Ae||w&&$&&ie||!y&&ie||!C)return 1;if(!w&&!j&&!Ae&&l<c||Ae&&y&&C&&!w&&!j||Z&&y&&C||!$&&C||!ie)return-1}return 0}function Xg(l,c,y){for(var w=-1,C=l.criteria,j=c.criteria,$=C.length,Z=y.length;++w<$;){var ie=Rc(C[w],j[w]);if(ie){if(w>=Z)return ie;var Ae=y[w];return ie*(Ae=="desc"?-1:1)}}return l.index-c.index}function Sm(l,c,y,w){for(var C=-1,j=l.length,$=y.length,Z=-1,ie=c.length,Ae=wn(j-$,0),xe=ge(ie+Ae),De=!w;++Z<ie;)xe[Z]=c[Z];for(;++C<$;)(De||C<j)&&(xe[y[C]]=l[C]);for(;Ae--;)xe[Z++]=l[C++];return xe}function Zg(l,c,y,w){for(var C=-1,j=l.length,$=-1,Z=y.length,ie=-1,Ae=c.length,xe=wn(j-Z,0),De=ge(xe+Ae),ke=!w;++C<xe;)De[C]=l[C];for(var Ye=C;++ie<Ae;)De[Ye+ie]=c[ie];for(;++$<Z;)(ke||C<j)&&(De[Ye+y[$]]=l[C++]);return De}function Zn(l,c){var y=-1,w=l.length;for(c||(c=ge(w));++y<w;)c[y]=l[y];return c}function fi(l,c,y,w){var C=!y;y||(y={});for(var j=-1,$=c.length;++j<$;){var Z=c[j],ie=w?w(y[Z],l[Z],Z,y,l):t;ie===t&&(ie=l[Z]),C?vs(y,Z,ie):Jo(y,Z,ie)}return y}function Sh(l,c){return fi(l,Mc(l),c)}function xc(l,c){return fi(l,Dh(l),c)}function sl(l,c){return function(y,w){var C=ht(y)?Fo:eo,j=c?c():{};return C(y,l,Ze(w,2),j)}}function al(l){return vt(function(c,y){var w=-1,C=y.length,j=C>1?y[C-1]:t,$=C>2?y[2]:t;for(j=l.length>3&&typeof j=="function"?(C--,j):t,$&&Hr(y[0],y[1],$)&&(j=C<3?t:j,C=1),c=$t(c);++w<C;){var Z=y[w];Z&&l(c,Z,w,j)}return c})}function Am(l,c){return function(y,w){if(y==null)return y;if(!er(y))return l(y,w);for(var C=y.length,j=c?C:-1,$=$t(y);(c?j--:++j<C)&&w($[j],j,$)!==!1;);return y}}function ol(l){return function(c,y,w){for(var C=-1,j=$t(c),$=w(c),Z=$.length;Z--;){var ie=$[l?Z:++C];if(y(j[ie],ie,j)===!1)break}return c}}function Jg(l,c,y){var w=c&k,C=es(l);function j(){var $=this&&this!==En&&this instanceof j?C:l;return $.apply(w?y:this,arguments)}return j}function Ii(l){return function(c){c=tn(c);var y=Ya(c)?Ki(c):t,w=y?y[0]:c.charAt(0),C=y?ro(y,1).join(""):c.slice(1);return w[l]()+C}}function zr(l){return function(c){return ds(p(Da(c).replace(Po,"")),l,"")}}function es(l){return function(){var c=arguments;switch(c.length){case 0:return new l;case 1:return new l(c[0]);case 2:return new l(c[0],c[1]);case 3:return new l(c[0],c[1],c[2]);case 4:return new l(c[0],c[1],c[2],c[3]);case 5:return new l(c[0],c[1],c[2],c[3],c[4]);case 6:return new l(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new l(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var y=xi(l.prototype),w=l.apply(y,c);return In(w)?w:y}}function ey(l,c,y){var w=es(l);function C(){for(var j=arguments.length,$=ge(j),Z=j,ie=ul(C);Z--;)$[Z]=arguments[Z];var Ae=j<3&&$[0]!==ie&&$[j-1]!==ie?[]:Wa($,ie);if(j-=Ae.length,j<y)return Rm(l,c,kn,C.placeholder,t,$,Ae,t,t,y-j);var xe=this&&this!==En&&this instanceof C?w:l;return _r(xe,this,$)}return C}function ba(l){return function(c,y,w){var C=$t(c);if(!er(c)){var j=Ze(y,3);c=nr(c),y=function(Z){return j(C[Z],Z,C)}}var $=l(c,y,w);return $>-1?C[j?c[$]:$]:t}}function Ks(l){return bn(function(c){var y=c.length,w=y,C=oi.prototype.thru;for(l&&c.reverse();w--;){var j=c[w];if(typeof j!="function")throw new Ri(h);if(C&&!$&&Oc(j)=="wrapper")var $=new oi([],!0)}for(w=$?w:y;++w<y;){j=c[w];var Z=Oc(j),ie=Z=="wrapper"?Ih(j):t;ie&&Mh(ie[0])&&ie[1]==(N|J|ne|I)&&!ie[4].length&&ie[9]==1?$=$[Oc(ie[0])].apply($,ie[3]):$=j.length==1&&Mh(j)?$[Z]():$.thru(j)}return function(){var Ae=arguments,xe=Ae[0];if($&&Ae.length==1&&ht(xe))return $.plant(xe).value();for(var De=0,ke=y?c[De].apply(this,Ae):xe;++De<y;)ke=c[De].call(this,ke);return ke}})}function kn(l,c,y,w,C,j,$,Z,ie,Ae){var xe=c&N,De=c&k,ke=c&U,Ye=c&(J|he),ut=c&L,At=ke?t:es(l);function ct(){for(var jt=arguments.length,Yt=ge(jt),Ss=jt;Ss--;)Yt[Ss]=arguments[Ss];if(Ye)var Pi=ul(ct),As=ec(Yt,Pi);if(w&&(Yt=Sm(Yt,w,C,Ye)),j&&(Yt=Zg(Yt,j,$,Ye)),jt-=As,Ye&&jt<Ae){var rr=Wa(Yt,Pi);return Rm(l,c,kn,ct.placeholder,y,Yt,rr,Z,ie,Ae-jt)}var Oa=De?y:this,dl=ke?Oa[l]:l;return jt=Yt.length,Z?Yt=Ws(Yt,Z):ut&&jt>1&&Yt.reverse(),xe&&ie<jt&&(Yt.length=ie),this&&this!==En&&this instanceof ct&&(dl=At||es(dl)),dl.apply(Oa,Yt)}return ct}function Cc(l,c){return function(y,w){return lm(y,l,c(w),{})}}function Ql(l,c){return function(y,w){var C;if(y===t&&w===t)return c;if(y!==t&&(C=y),w!==t){if(C===t)return w;typeof y=="string"||typeof w=="string"?(y=ci(y),w=ci(w)):(y=Th(y),w=Th(w)),C=l(y,w)}return C}}function Ic(l){return bn(function(c){return c=gn(c,rn(Ze())),vt(function(y){var w=this;return l(c,function(C){return _r(C,w,y)})})})}function Nc(l,c){c=c===t?" ":ci(c);var y=c.length;if(y<2)return y?ym(c,l):c;var w=ym(c,Fl(l/qs(c)));return Ya(c)?ro(Ki(w),0,l).join(""):w.slice(0,l)}function ty(l,c,y,w){var C=c&k,j=es(l);function $(){for(var Z=-1,ie=arguments.length,Ae=-1,xe=w.length,De=ge(xe+ie),ke=this&&this!==En&&this instanceof $?j:l;++Ae<xe;)De[Ae]=w[Ae];for(;ie--;)De[Ae++]=arguments[++Z];return _r(ke,C?y:this,De)}return $}function io(l){return function(c,y,w){return w&&typeof w!="number"&&Hr(c,y,w)&&(y=w=t),c=Js(c),y===t?(y=c,c=0):y=Js(y),w=w===t?c<y?1:-1:Js(w),qg(c,y,w,l)}}function ll(l){return function(c,y){return typeof c=="string"&&typeof y=="string"||(c=is(c),y=is(y)),l(c,y)}}function Rm(l,c,y,w,C,j,$,Z,ie,Ae){var xe=c&J,De=xe?$:t,ke=xe?t:$,Ye=xe?j:t,ut=xe?t:j;c|=xe?ne:z,c&=~(xe?z:ne),c&Q||(c&=-4);var At=[l,c,C,Ye,De,ut,ke,Z,ie,Ae],ct=y.apply(t,At);return Mh(l)&&kh(ct,At),ct.placeholder=w,Uh(ct,l,c)}function Ah(l){var c=Kn[l];return function(y,w){if(y=is(y),w=w==null?0:Rn(pt(w),292),w&&ac(y)){var C=(tn(y)+"e").split("e"),j=c(C[0]+"e"+(+C[1]+w));return C=(tn(j)+"e").split("e"),+(C[0]+"e"+(+C[1]-w))}return c(y)}}var ny=Mt&&1/Zf(new Mt([,-0]))[1]==pe?function(l){return new Mt(l)}:Be;function Dc(l){return function(c){var y=fr(c);return y==Wt?Xf(c):y==Bn?y0(c):Qn(c,l(c))}}function Ys(l,c,y,w,C,j,$,Z){var ie=c&U;if(!ie&&typeof l!="function")throw new Ri(h);var Ae=w?w.length:0;if(Ae||(c&=-97,w=C=t),$=$===t?$:wn(pt($),0),Z=Z===t?Z:pt(Z),Ae-=C?C.length:0,c&z){var xe=w,De=C;w=C=t}var ke=ie?t:Ih(l),Ye=[l,c,y,w,C,xe,De,j,$,Z];if(ke&&kc(Ye,ke),l=Ye[0],c=Ye[1],y=Ye[2],w=Ye[3],C=Ye[4],Z=Ye[9]=Ye[9]===t?ie?0:l.length:wn(Ye[9]-Ae,0),!Z&&c&(J|he)&&(c&=-25),!c||c==k)var ut=Jg(l,c,y);else c==J||c==he?ut=ey(l,c,Z):(c==ne||c==(k|ne))&&!C.length?ut=ty(l,c,y,w):ut=kn.apply(t,Ye);var At=ke?_c:kh;return Uh(At(ut,Ye),l,c)}function Rh(l,c,y,w){return l===t||pi(l,Vl[y])&&!en.call(w,y)?c:l}function xm(l,c,y,w,C,j){return In(l)&&In(c)&&(j.set(c,l),vc(l,c,t,xm,j),j.delete(c)),l}function ry(l){return rs(l)?t:l}function iy(l,c,y,w,C,j){var $=y&O,Z=l.length,ie=c.length;if(Z!=ie&&!($&&ie>Z))return!1;var Ae=j.get(l),xe=j.get(c);if(Ae&&xe)return Ae==c&&xe==l;var De=-1,ke=!0,Ye=y&F?new va:t;for(j.set(l,c),j.set(c,l);++De<Z;){var ut=l[De],At=c[De];if(w)var ct=$?w(At,ut,De,c,l,j):w(ut,At,De,l,c,j);if(ct!==t){if(ct)continue;ke=!1;break}if(Ye){if(!Ll(c,function(jt,Yt){if(!Si(Ye,Yt)&&(ut===jt||C(ut,jt,y,w,j)))return Ye.push(Yt)})){ke=!1;break}}else if(!(ut===At||C(ut,At,y,w,j))){ke=!1;break}}return j.delete(l),j.delete(c),ke}function sy(l,c,y,w,C,j,$){switch(y){case An:if(l.byteLength!=c.byteLength||l.byteOffset!=c.byteOffset)return!1;l=l.buffer,c=c.buffer;case it:return!(l.byteLength!=c.byteLength||!j(new Bl(l),new Bl(c)));case Nt:case Mn:case Dt:return pi(+l,+c);case Sn:return l.name==c.name&&l.message==c.message;case Wr:case yr:return l==c+"";case Wt:var Z=Xf;case Bn:var ie=w&O;if(Z||(Z=Zf),l.size!=c.size&&!ie)return!1;var Ae=$.get(l);if(Ae)return Ae==c;w|=F,$.set(l,c);var xe=iy(Z(l),Z(c),w,C,j,$);return $.delete(l),xe;case vr:if(Qo)return Qo.call(l)==Qo.call(c)}return!1}function cr(l,c,y,w,C,j){var $=y&O,Z=xh(l),ie=Z.length,Ae=xh(c),xe=Ae.length;if(ie!=xe&&!$)return!1;for(var De=ie;De--;){var ke=Z[De];if(!($?ke in c:en.call(c,ke)))return!1}var Ye=j.get(l),ut=j.get(c);if(Ye&&ut)return Ye==c&&ut==l;var At=!0;j.set(l,c),j.set(c,l);for(var ct=$;++De<ie;){ke=Z[De];var jt=l[ke],Yt=c[ke];if(w)var Ss=$?w(Yt,jt,ke,c,l,j):w(jt,Yt,ke,l,c,j);if(!(Ss===t?jt===Yt||C(jt,Yt,y,w,j):Ss)){At=!1;break}ct||(ct=ke=="constructor")}if(At&&!ct){var Pi=l.constructor,As=c.constructor;Pi!=As&&"constructor"in l&&"constructor"in c&&!(typeof Pi=="function"&&Pi instanceof Pi&&typeof As=="function"&&As instanceof As)&&(At=!1)}return j.delete(l),j.delete(c),At}function bn(l){return Uc(Om(l,t,di),l+"")}function xh(l){return Vg(l,nr,Mc)}function Ch(l){return Vg(l,hr,Dh)}var Ih=zl?function(l){return zl.get(l)}:Be;function Oc(l){for(var c=l.name+"",y=Xi[c],w=en.call(Xi,c)?y.length:0;w--;){var C=y[w],j=C.func;if(j==null||j==l)return C.name}return c}function ul(l){var c=en.call(M,"placeholder")?M:l;return c.placeholder}function Ze(){var l=M.iteratee||at;return l=l===at?fm:l,arguments.length?l(arguments[0],arguments[1]):l}function Xl(l,c){var y=l.__data__;return Aa(c)?y[typeof c=="string"?"string":"hash"]:y.map}function Nh(l){for(var c=nr(l),y=c.length;y--;){var w=c[y],C=l[w];c[y]=[w,C,uy(C)]}return c}function so(l,c){var y=$d(l,c);return $s(y)?y:t}function ay(l){var c=en.call(l,Br),y=l[Br];try{l[Br]=t;var w=!0}catch{}var C=jr.call(l);return w&&(c?l[Br]=y:delete l[Br]),C}var Mc=Xa?function(l){return l==null?[]:(l=$t(l),ii(Xa(l),function(c){return $o.call(l,c)}))}:uE,Dh=Xa?function(l){for(var c=[];l;)$i(c,Mc(l)),l=rc(l);return c}:uE,fr=Vt;(oc&&fr(new oc(new ArrayBuffer(1)))!=An||Xn&&fr(new Xn)!=Wt||xn&&fr(xn.resolve())!=Ba||Mt&&fr(new Mt)!=Bn||ys&&fr(new ys)!=Qr)&&(fr=function(l){var c=Vt(l),y=c==an?l.constructor:t,w=y?Ra(y):"";if(w)switch(w){case Rg:return An;case xg:return Wt;case lc:return Ba;case uc:return Bn;case Cg:return Qr}return c});function oy(l,c,y){for(var w=-1,C=y.length;++w<C;){var j=y[w],$=j.size;switch(j.type){case"drop":l+=$;break;case"dropRight":c-=$;break;case"take":c=Rn(c,l+$);break;case"takeRight":l=wn(l,c-$);break}}return{start:l,end:c}}function Cm(l){var c=l.match(qe);return c?c[1].split(We):[]}function Pc(l,c,y){c=wa(c,l);for(var w=-1,C=c.length,j=!1;++w<C;){var $=sn(c[w]);if(!(j=l!=null&&y(l,$)))break;l=l[$]}return j||++w!=C?j:(C=l==null?0:l.length,!!C&&hl(C)&&Ts($,C)&&(ht(l)||Na(l)))}function Im(l){var c=l.length,y=new l.constructor(c);return c&&typeof l[0]=="string"&&en.call(l,"index")&&(y.index=l.index,y.input=l.input),y}function Nm(l){return typeof l.constructor=="function"&&!vn(l)?xi(rc(l)):{}}function Dm(l,c,y){var w=l.constructor;switch(c){case it:return il(l);case Nt:case Mn:return new w(+l);case An:return wm(l,y);case Pn:case Fa:case Xr:case Vi:case ji:case Bi:case Pr:case fs:case Zr:return bm(l,y);case Wt:return new w;case Dt:case yr:return new w(l);case Wr:return bh(l);case Bn:return new w;case vr:return Qg(l)}}function ly(l,c){var y=c.length;if(!y)return l;var w=y-1;return c[w]=(y>1?"& ":"")+c[w],c=c.join(y>2?", ":" "),l.replace(je,`{
/* [wrapped with `+c+`] */
`)}function Sa(l){return ht(l)||Na(l)||!!(si&&l&&l[si])}function Ts(l,c){var y=typeof l;return c=c??_e,!!c&&(y=="number"||y!="symbol"&&Wn.test(l))&&l>-1&&l%1==0&&l<c}function Hr(l,c,y){if(!In(y))return!1;var w=typeof c;return(w=="number"?er(y)&&Ts(c,y.length):w=="string"&&c in y)?pi(y[c],l):!1}function Oh(l,c){if(ht(l))return!1;var y=typeof l;return y=="number"||y=="symbol"||y=="boolean"||l==null||qr(l)?!0:se.test(l)||!W.test(l)||c!=null&&l in $t(c)}function Aa(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}function Mh(l){var c=Oc(l),y=M[c];if(typeof y!="function"||!(c in bt.prototype))return!1;if(l===y)return!0;var w=Ih(y);return!!w&&l===w[0]}function Ph(l){return!!Wd&&Wd in l}var Lc=tc?ws:cE;function vn(l){var c=l&&l.constructor,y=typeof c=="function"&&c.prototype||Vl;return l===y}function uy(l){return l===l&&!In(l)}function cy(l,c){return function(y){return y==null?!1:y[l]===c&&(c!==t||l in $t(y))}}function fy(l){var c=Kc(l,function(w){return y.size===v&&y.clear(),w}),y=c.cache;return c}function kc(l,c){var y=l[1],w=c[1],C=y|w,j=C<(k|U|N),$=w==N&&y==J||w==N&&y==I&&l[7].length<=c[8]||w==(N|I)&&c[7].length<=c[8]&&y==J;if(!(j||$))return l;w&k&&(l[2]=c[2],C|=y&k?0:Q);var Z=c[3];if(Z){var ie=l[3];l[3]=ie?Sm(ie,Z,c[4]):Z,l[4]=ie?Wa(l[3],E):c[4]}return Z=c[5],Z&&(ie=l[5],l[5]=ie?Zg(ie,Z,c[6]):Z,l[6]=ie?Wa(l[5],E):c[6]),Z=c[7],Z&&(l[7]=Z),w&N&&(l[8]=l[8]==null?c[8]:Rn(l[8],c[8])),l[9]==null&&(l[9]=c[9]),l[0]=c[0],l[1]=C,l}function ao(l){var c=[];if(l!=null)for(var y in $t(l))c.push(y);return c}function hy(l){return jr.call(l)}function Om(l,c,y){return c=wn(c===t?l.length-1:c,0),function(){for(var w=arguments,C=-1,j=wn(w.length-c,0),$=ge(j);++C<j;)$[C]=w[c+C];C=-1;for(var Z=ge(c+1);++C<c;)Z[C]=w[C];return Z[c]=y($),_r(l,this,Z)}}function Zl(l,c){return c.length<2?l:Ji(l,Ci(c,0,-1))}function Ws(l,c){for(var y=l.length,w=Rn(c.length,y),C=Zn(l);w--;){var j=c[w];l[w]=Ts(j,y)?C[j]:t}return l}function Lh(l,c){if(!(c==="constructor"&&typeof l[c]=="function")&&c!="__proto__")return l[c]}var kh=Vc(_c),Jl=Xd||function(l,c){return En.setTimeout(l,c)},Uc=Vc(Ec);function Uh(l,c,y){var w=c+"";return Uc(l,ly(w,dy(Cm(w),y)))}function Vc(l){var c=0,y=0;return function(){var w=ya(),C=q-(w-y);if(y=w,C>0){if(++c>=X)return arguments[0]}else c=0;return l.apply(t,arguments)}}function jc(l,c){var y=-1,w=l.length,C=w-1;for(c=c===t?w:c;++y<c;){var j=vh(y,C),$=l[j];l[j]=l[y],l[y]=$}return l.length=c,l}var Qs=fy(function(l){var c=[];return l.charCodeAt(0)===46&&c.push(""),l.replace(le,function(y,w,C,j){c.push(C?j.replace(st,"$1"):w||y)}),c});function sn(l){if(typeof l=="string"||qr(l))return l;var c=l+"";return c=="0"&&1/l==-pe?"-0":c}function Ra(l){if(l!=null){try{return nc.call(l)}catch{}try{return l+""}catch{}}return""}function dy(l,c){return Vr(Ue,function(y){var w="_."+y[0];c&y[1]&&!zo(l,w)&&l.push(w)}),l.sort()}function Jn(l){if(l instanceof bt)return l.clone();var c=new oi(l.__wrapped__,l.__chain__);return c.__actions__=Zn(l.__actions__),c.__index__=l.__index__,c.__values__=l.__values__,c}function x0(l,c,y){(y?Hr(l,c,y):c===t)?c=1:c=wn(pt(c),0);var w=l==null?0:l.length;if(!w||c<1)return[];for(var C=0,j=0,$=ge(Fl(w/c));C<w;)$[j++]=Ci(l,C,C+=c);return $}function my(l){for(var c=-1,y=l==null?0:l.length,w=0,C=[];++c<y;){var j=l[c];j&&(C[w++]=j)}return C}function py(){var l=arguments.length;if(!l)return[];for(var c=ge(l-1),y=arguments[0],w=l;w--;)c[w-1]=arguments[w];return $i(ht(y)?Zn(y):[y],Pt(c,1))}var Cn=vt(function(l,c){return Vn(l)?to(l,Pt(c,1,Vn,!0)):[]}),hi=vt(function(l,c){var y=Dr(c);return Vn(y)&&(y=t),Vn(l)?to(l,Pt(c,1,Vn,!0),Ze(y,2)):[]}),xa=vt(function(l,c){var y=Dr(c);return Vn(y)&&(y=t),Vn(l)?to(l,Pt(c,1,Vn,!0),t,y):[]});function gy(l,c,y){var w=l==null?0:l.length;return w?(c=y||c===t?1:pt(c),Ci(l,c<0?0:c,w)):[]}function yy(l,c,y){var w=l==null?0:l.length;return w?(c=y||c===t?1:pt(c),c=w-c,Ci(l,0,c<0?0:c)):[]}function C0(l,c){return l&&l.length?bc(l,Ze(c,3),!0,!0):[]}function Mm(l,c){return l&&l.length?bc(l,Ze(c,3),!0):[]}function Ni(l,c,y,w){var C=l==null?0:l.length;return C?(y&&typeof y!="number"&&Hr(l,c,y)&&(y=0,w=C),Et(l,c,y,w)):[]}function ts(l,c,y){var w=l==null?0:l.length;if(!w)return-1;var C=y==null?0:pt(y);return C<0&&(C=wn(w+C,0)),Ho(l,Ze(c,3),C)}function Pm(l,c,y){var w=l==null?0:l.length;if(!w)return-1;var C=w-1;return y!==t&&(C=pt(y),C=y<0?wn(w+C,0):Rn(C,w-1)),Ho(l,Ze(c,3),C,!0)}function di(l){var c=l==null?0:l.length;return c?Pt(l,1):[]}function vy(l){var c=l==null?0:l.length;return c?Pt(l,pe):[]}function oo(l,c){var y=l==null?0:l.length;return y?(c=c===t?1:pt(c),Pt(l,c)):[]}function cl(l){for(var c=-1,y=l==null?0:l.length,w={};++c<y;){var C=l[c];w[C[0]]=C[1]}return w}function Ca(l){return l&&l.length?l[0]:t}function Lm(l,c,y){var w=l==null?0:l.length;if(!w)return-1;var C=y==null?0:pt(y);return C<0&&(C=wn(w+C,0)),pa(l,c,C)}function km(l){var c=l==null?0:l.length;return c?Ci(l,0,-1):[]}var Xs=vt(function(l){var c=gn(l,wh);return c.length&&c[0]===l[0]?om(c):[]}),_y=vt(function(l){var c=Dr(l),y=gn(l,wh);return c===Dr(y)?c=t:y.pop(),y.length&&y[0]===l[0]?om(y,Ze(c,2)):[]}),eu=vt(function(l){var c=Dr(l),y=gn(l,wh);return c=typeof c=="function"?c:t,c&&y.pop(),y.length&&y[0]===l[0]?om(y,t,c):[]});function Bc(l,c){return l==null?"":Wi.call(l,c)}function Dr(l){var c=l==null?0:l.length;return c?l[c-1]:t}function tu(l,c,y){var w=l==null?0:l.length;if(!w)return-1;var C=w;return y!==t&&(C=pt(y),C=C<0?wn(w+C,0):Rn(C,w-1)),c===c?Ai(l,c,C):Ho(l,d,C,!0)}function Ey(l,c){return l&&l.length?mm(l,pt(c)):t}var Ty=vt(nu);function nu(l,c){return l&&l.length&&c&&c.length?yh(l,c):l}function wy(l,c,y){return l&&l.length&&c&&c.length?yh(l,c,Ze(y,2)):l}function Vh(l,c,y){return l&&l.length&&c&&c.length?yh(l,c,t,y):l}var by=bn(function(l,c){var y=l==null?0:l.length,w=mc(l,c);return gm(l,gn(c,function(C){return Ts(C,y)?+C:C}).sort(Rc)),w});function I0(l,c){var y=[];if(!(l&&l.length))return y;var w=-1,C=[],j=l.length;for(c=Ze(c,3);++w<j;){var $=l[w];c($,w,l)&&(y.push($),C.push(w))}return gm(l,C),y}function Um(l){return l==null?l:Jd.call(l)}function un(l,c,y){var w=l==null?0:l.length;return w?(y&&typeof y!="number"&&Hr(l,c,y)?(c=0,y=w):(c=c==null?0:pt(c),y=y===t?w:pt(y)),Ci(l,c,y)):[]}function Tn(l,c){return Tc(l,c)}function xt(l,c,y){return Eh(l,c,Ze(y,2))}function zt(l,c){var y=l==null?0:l.length;if(y){var w=Tc(l,c);if(w<y&&pi(l[w],c))return w}return-1}function cn(l,c){return Tc(l,c,!0)}function Di(l,c,y){return Eh(l,c,Ze(y,2),!0)}function lo(l,c){var y=l==null?0:l.length;if(y){var w=Tc(l,c,!0)-1;if(pi(l[w],c))return w}return-1}function ru(l){return l&&l.length?vm(l):[]}function Vm(l,c){return l&&l.length?vm(l,Ze(c,2)):[]}function Ia(l){var c=l==null?0:l.length;return c?Ci(l,1,c):[]}function Un(l,c,y){return l&&l.length?(c=y||c===t?1:pt(c),Ci(l,0,c<0?0:c)):[]}function uo(l,c,y){var w=l==null?0:l.length;return w?(c=y||c===t?1:pt(c),c=w-c,Ci(l,c<0?0:c,w)):[]}function fl(l,c){return l&&l.length?bc(l,Ze(c,3),!1,!0):[]}function jm(l,c){return l&&l.length?bc(l,Ze(c,3)):[]}var ns=vt(function(l){return Ta(Pt(l,1,Vn,!0))}),iu=vt(function(l){var c=Dr(l);return Vn(c)&&(c=t),Ta(Pt(l,1,Vn,!0),Ze(c,2))}),Fc=vt(function(l){var c=Dr(l);return c=typeof c=="function"?c:t,Ta(Pt(l,1,Vn,!0),t,c)});function mi(l){return l&&l.length?Ta(l):[]}function Bm(l,c){return l&&l.length?Ta(l,Ze(c,2)):[]}function Fm(l,c){return c=typeof c=="function"?c:t,l&&l.length?Ta(l,t,c):[]}function su(l){if(!(l&&l.length))return[];var c=0;return l=ii(l,function(y){if(Vn(y))return c=wn(y.length,c),!0}),Ot(c,function(y){return gn(l,R(y))})}function zc(l,c){if(!(l&&l.length))return[];var y=su(l);return c==null?y:gn(y,function(w){return _r(c,t,w)})}var co=vt(function(l,c){return Vn(l)?to(l,c):[]}),Er=vt(function(l){return Sc(ii(l,Vn))}),fo=vt(function(l){var c=Dr(l);return Vn(c)&&(c=t),Sc(ii(l,Vn),Ze(c,2))}),au=vt(function(l){var c=Dr(l);return c=typeof c=="function"?c:t,Sc(ii(l,Vn),t,c)}),ou=vt(su);function zm(l,c){return Em(l||[],c||[],Jo)}function Hm(l,c){return Em(l||[],c||[],Wl)}var Sy=vt(function(l){var c=l.length,y=c>1?l[c-1]:t;return y=typeof y=="function"?(l.pop(),y):t,zc(l,y)});function lu(l){var c=M(l);return c.__chain__=!0,c}function qm(l,c){return c(l),l}function Or(l,c){return c(l)}var Ay=bn(function(l){var c=l.length,y=c?l[0]:0,w=this.__wrapped__,C=function(j){return mc(j,l)};return c>1||this.__actions__.length||!(w instanceof bt)||!Ts(y)?this.thru(C):(w=w.slice(y,+y+(c?1:0)),w.__actions__.push({func:Or,args:[C],thisArg:t}),new oi(w,this.__chain__).thru(function(j){return c&&!j.length&&j.push(t),j}))});function Oi(){return lu(this)}function Ry(){return new oi(this.value(),this.__chain__)}function xy(){this.__values__===t&&(this.__values__=Mi(this.value()));var l=this.__index__>=this.__values__.length,c=l?t:this.__values__[this.__index__++];return{done:l,value:c}}function N0(){return this}function ho(l){for(var c,y=this;y instanceof Zi;){var w=Jn(y);w.__index__=0,w.__values__=t,c?C.__wrapped__=w:c=w;var C=w;y=y.__wrapped__}return C.__wrapped__=l,c}function jh(){var l=this.__wrapped__;if(l instanceof bt){var c=l;return this.__actions__.length&&(c=new bt(this)),c=c.reverse(),c.__actions__.push({func:Or,args:[Um],thisArg:t}),new oi(c,this.__chain__)}return this.thru(Um)}function Gm(){return Kg(this.__wrapped__,this.__actions__)}var uu=sl(function(l,c,y){en.call(l,y)?++l[y]:vs(l,y,1)});function Cy(l,c,y){var w=ht(l)?Pl:sm;return y&&Hr(l,c,y)&&(c=t),w(l,Ze(c,3))}function Iy(l,c){var y=ht(l)?ii:ln;return y(l,Ze(c,3))}var Ny=ba(ts),$m=ba(Pm);function Km(l,c){return Pt(Hc(l,c),1)}function D0(l,c){return Pt(Hc(l,c),pe)}function O0(l,c,y){return y=y===t?1:pt(y),Pt(Hc(l,c),y)}function Dy(l,c){var y=ht(l)?Vr:Ea;return y(l,Ze(c,3))}function Ym(l,c){var y=ht(l)?$f:uh;return y(l,Ze(c,3))}var Oy=sl(function(l,c,y){en.call(l,y)?l[y].push(c):vs(l,y,[c])});function cu(l,c,y,w){l=er(l)?l:yu(l),y=y&&!w?pt(y):0;var C=l.length;return y<0&&(y=wn(C+y,0)),Xh(l)?y<=C&&l.indexOf(c,y)>-1:!!C&&pa(l,c,y)>-1}var Bh=vt(function(l,c,y){var w=-1,C=typeof c=="function",j=er(l)?ge(l.length):[];return Ea(l,function($){j[++w]=C?_r(c,$,y):nl($,c,y)}),j}),My=sl(function(l,c,y){vs(l,y,c)});function Hc(l,c){var y=ht(l)?gn:hm;return y(l,Ze(c,3))}function Py(l,c,y,w){return l==null?[]:(ht(c)||(c=c==null?[]:[c]),y=w?t:y,ht(y)||(y=y==null?[]:[y]),pm(l,c,y))}var Ly=sl(function(l,c,y){l[y?0:1].push(c)},function(){return[[],[]]});function ky(l,c,y){var w=ht(l)?ds:ae,C=arguments.length<3;return w(l,Ze(c,4),y,C,Ea)}function Uy(l,c,y){var w=ht(l)?Kf:ae,C=arguments.length<3;return w(l,Ze(c,4),y,C,uh)}function Fh(l,c){var y=ht(l)?ii:ln;return y(l,Yc(Ze(c,3)))}function Vy(l){var c=ht(l)?ql:Yl;return c(l)}function jy(l,c,y){(y?Hr(l,c,y):c===t)?c=1:c=pt(c);var w=ht(l)?Lg:_h;return w(l,c)}function _n(l){var c=ht(l)?kg:Gg;return c(l)}function Wm(l){if(l==null)return 0;if(er(l))return Xh(l)?qs(l):l.length;var c=fr(l);return c==Wt||c==Bn?l.size:dh(l).length}function M0(l,c,y){var w=ht(l)?Ll:$g;return y&&Hr(l,c,y)&&(c=t),w(l,Ze(c,3))}var By=vt(function(l,c){if(l==null)return[];var y=c.length;return y>1&&Hr(l,c[0],c[1])?c=[]:y>2&&Hr(c[0],c[1],c[2])&&(c=[c[0]]),pm(l,Pt(c,1),[])}),zh=Yo||function(){return En.Date.now()};function P0(l,c){if(typeof c!="function")throw new Ri(h);return l=pt(l),function(){if(--l<1)return c.apply(this,arguments)}}function Fy(l,c,y){return c=y?t:c,c=l&&c==null?l.length:c,Ys(l,N,t,t,t,t,c)}function qc(l,c){var y;if(typeof c!="function")throw new Ri(h);return l=pt(l),function(){return--l>0&&(y=c.apply(this,arguments)),l<=1&&(c=t),y}}var mo=vt(function(l,c,y){var w=k;if(y.length){var C=Wa(y,ul(mo));w|=ne}return Ys(l,w,c,y,C)}),Hh=vt(function(l,c,y){var w=k|U;if(y.length){var C=Wa(y,ul(Hh));w|=ne}return Ys(c,w,l,y,C)});function Gc(l,c,y){c=y?t:c;var w=Ys(l,J,t,t,t,t,t,c);return w.placeholder=Gc.placeholder,w}function qh(l,c,y){c=y?t:c;var w=Ys(l,he,t,t,t,t,t,c);return w.placeholder=qh.placeholder,w}function po(l,c,y){var w,C,j,$,Z,ie,Ae=0,xe=!1,De=!1,ke=!0;if(typeof l!="function")throw new Ri(h);c=is(c)||0,In(y)&&(xe=!!y.leading,De="maxWait"in y,j=De?wn(is(y.maxWait)||0,c):j,ke="trailing"in y?!!y.trailing:ke);function Ye(rr){var Oa=w,dl=C;return w=C=t,Ae=rr,$=l.apply(dl,Oa),$}function ut(rr){return Ae=rr,Z=Jl(jt,c),xe?Ye(rr):$}function At(rr){var Oa=rr-ie,dl=rr-Ae,bb=c-Oa;return De?Rn(bb,j-dl):bb}function ct(rr){var Oa=rr-ie,dl=rr-Ae;return ie===t||Oa>=c||Oa<0||De&&dl>=j}function jt(){var rr=zh();if(ct(rr))return Yt(rr);Z=Jl(jt,At(rr))}function Yt(rr){return Z=t,ke&&w?Ye(rr):(w=C=t,$)}function Ss(){Z!==t&&Wg(Z),Ae=0,w=ie=C=Z=t}function Pi(){return Z===t?$:Yt(zh())}function As(){var rr=zh(),Oa=ct(rr);if(w=arguments,C=this,ie=rr,Oa){if(Z===t)return ut(ie);if(De)return Wg(Z),Z=Jl(jt,c),Ye(ie)}return Z===t&&(Z=Jl(jt,c)),$}return As.cancel=Ss,As.flush=Pi,As}var Zs=vt(function(l,c){return el(l,1,c)}),$c=vt(function(l,c,y){return el(l,is(c)||0,y)});function L0(l){return Ys(l,L)}function Kc(l,c){if(typeof l!="function"||c!=null&&typeof c!="function")throw new Ri(h);var y=function(){var w=arguments,C=c?c.apply(this,w):w[0],j=y.cache;if(j.has(C))return j.get(C);var $=l.apply(this,w);return y.cache=j.set(C,$)||j,$};return y.cache=new(Kc.Cache||li),y}Kc.Cache=li;function Yc(l){if(typeof l!="function")throw new Ri(h);return function(){var c=arguments;switch(c.length){case 0:return!l.call(this);case 1:return!l.call(this,c[0]);case 2:return!l.call(this,c[0],c[1]);case 3:return!l.call(this,c[0],c[1],c[2])}return!l.apply(this,c)}}function zy(l){return qc(2,l)}var Hy=Yg(function(l,c){c=c.length==1&&ht(c[0])?gn(c[0],rn(Ze())):gn(Pt(c,1),rn(Ze()));var y=c.length;return vt(function(w){for(var C=-1,j=Rn(w.length,y);++C<j;)w[C]=c[C].call(this,w[C]);return _r(l,this,w)})}),Qm=vt(function(l,c){var y=Wa(c,ul(Qm));return Ys(l,ne,t,c,y)}),Gh=vt(function(l,c){var y=Wa(c,ul(Gh));return Ys(l,z,t,c,y)}),qy=bn(function(l,c){return Ys(l,I,t,t,t,c)});function Gy(l,c){if(typeof l!="function")throw new Ri(h);return c=c===t?c:pt(c),vt(l,c)}function k0(l,c){if(typeof l!="function")throw new Ri(h);return c=c==null?0:wn(pt(c),0),vt(function(y){var w=y[c],C=ro(y,0,c);return w&&$i(C,w),_r(l,this,C)})}function Xm(l,c,y){var w=!0,C=!0;if(typeof l!="function")throw new Ri(h);return In(y)&&(w="leading"in y?!!y.leading:w,C="trailing"in y?!!y.trailing:C),po(l,c,{leading:w,maxWait:c,trailing:C})}function Zm(l){return Fy(l,1)}function U0(l,c){return Qm(Ac(c),l)}function V0(){if(!arguments.length)return[];var l=arguments[0];return ht(l)?l:[l]}function Wc(l){return Ir(l,D)}function j0(l,c){return c=typeof c=="function"?c:t,Ir(l,D,c)}function $y(l){return Ir(l,S|D)}function Ct(l,c){return c=typeof c=="function"?c:t,Ir(l,S|D,c)}function Jm(l,c){return c==null||im(l,c,nr(c))}function pi(l,c){return l===c||l!==l&&c!==c}var ep=ll(pc),Ky=ll(function(l,c){return l>=c}),Na=ch(function(){return arguments}())?ch:function(l){return Nn(l)&&en.call(l,"callee")&&!$o.call(l,"callee")},ht=ge.isArray,$h=Vo?rn(Vo):ui;function er(l){return l!=null&&hl(l.length)&&!ws(l)}function Vn(l){return Nn(l)&&er(l)}function B0(l){return l===!0||l===!1||Nn(l)&&Vt(l)==Nt}var go=rh||cE,Yy=Ml?rn(Ml):Yn;function Wy(l){return Nn(l)&&l.nodeType===1&&!rs(l)}function Kh(l){if(l==null)return!0;if(er(l)&&(ht(l)||typeof l=="string"||typeof l.splice=="function"||go(l)||fu(l)||Na(l)))return!l.length;var c=fr(l);if(c==Wt||c==Bn)return!l.size;if(vn(l))return!dh(l).length;for(var y in l)if(en.call(l,y))return!1;return!0}function fn(l,c){return rl(l,c)}function tp(l,c,y){y=typeof y=="function"?y:t;var w=y?y(l,c):t;return w===t?rl(l,c,t,y):!!w}function tr(l){if(!Nn(l))return!1;var c=Vt(l);return c==Sn||c==Zt||typeof l.message=="string"&&typeof l.name=="string"&&!rs(l)}function F0(l){return typeof l=="number"&&ac(l)}function ws(l){if(!In(l))return!1;var c=Vt(l);return c==qn||c==Ar||c==mn||c==aa}function Yh(l){return typeof l=="number"&&l==pt(l)}function hl(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=_e}function In(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}function Nn(l){return l!=null&&typeof l=="object"}var Wh=jo?rn(jo):fh;function np(l,c){return l===c||yc(l,c,Nh(c))}function z0(l,c,y){return y=typeof y=="function"?y:t,yc(l,c,Nh(c),y)}function Qy(l){return Zy(l)&&l!=+l}function H0(l){if(Lc(l))throw new lt(u);return $s(l)}function Xy(l){return l===null}function q0(l){return l==null}function Zy(l){return typeof l=="number"||Nn(l)&&Vt(l)==Dt}function rs(l){if(!Nn(l)||Vt(l)!=an)return!1;var c=rc(l);if(c===null)return!0;var y=en.call(c,"constructor")&&c.constructor;return typeof y=="function"&&y instanceof y&&nc.call(y)==Yi}var Qh=Ju?rn(Ju):hh;function rp(l){return Yh(l)&&l>=-_e&&l<=_e}var Jy=Bo?rn(Bo):um;function Xh(l){return typeof l=="string"||!ht(l)&&Nn(l)&&Vt(l)==yr}function qr(l){return typeof l=="symbol"||Nn(l)&&Vt(l)==vr}var fu=Gf?rn(Gf):cm;function bs(l){return l===t}function ip(l){return Nn(l)&&fr(l)==Qr}function ev(l){return Nn(l)&&Vt(l)==He}var tv=ll(mh),Qc=ll(function(l,c){return l<=c});function Mi(l){if(!l)return[];if(er(l))return Xh(l)?Ki(l):Zn(l);if(Ko&&l[Ko])return Tg(l[Ko]());var c=fr(l),y=c==Wt?Xf:c==Bn?Zf:yu;return y(l)}function Js(l){if(!l)return l===0?l:0;if(l=is(l),l===pe||l===-pe){var c=l<0?-1:1;return c*Me}return l===l?l:0}function pt(l){var c=Js(l),y=c%1;return c===c?y?c-y:c:0}function ea(l){return l?_s(pt(l),0,me):0}function is(l){if(typeof l=="number")return l;if(qr(l))return G;if(In(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=In(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=Ut(l);var y=Lt.test(l);return y||zi.test(l)?qf(l.slice(2),y?2:8):Qt.test(l)?G:+l}function nv(l){return fi(l,hr(l))}function hu(l){return l?_s(pt(l),-_e,_e):l===0?l:0}function tn(l){return l==null?"":ci(l)}var G0=al(function(l,c){if(vn(c)||er(c)){fi(c,nr(c),l);return}for(var y in c)en.call(c,y)&&Jo(l,y,c[y])}),rv=al(function(l,c){fi(c,hr(c),l)}),Zh=al(function(l,c,y,w){fi(c,hr(c),l,w)}),$0=al(function(l,c,y,w){fi(c,nr(c),l,w)}),K0=bn(mc);function Y0(l,c){var y=xi(l);return c==null?y:_a(y,c)}var W0=vt(function(l,c){l=$t(l);var y=-1,w=c.length,C=w>2?c[2]:t;for(C&&Hr(c[0],c[1],C)&&(w=1);++y<w;)for(var j=c[y],$=hr(j),Z=-1,ie=$.length;++Z<ie;){var Ae=$[Z],xe=l[Ae];(xe===t||pi(xe,Vl[Ae])&&!en.call(l,Ae))&&(l[Ae]=j[Ae])}return l}),iv=vt(function(l){return l.push(t,xm),_r(ef,t,l)});function du(l,c){return Cr(l,Ze(c,3),Nr)}function Xc(l,c){return Cr(l,Ze(c,3),Kl)}function sv(l,c){return l==null?l:$l(l,Ze(c,3),hr)}function Q0(l,c){return l==null?l:tl(l,Ze(c,3),hr)}function mu(l,c){return l&&Nr(l,Ze(c,3))}function Zc(l,c){return l&&Kl(l,Ze(c,3))}function av(l){return l==null?[]:no(l,nr(l))}function Jh(l){return l==null?[]:no(l,hr(l))}function Jc(l,c,y){var w=l==null?t:Ji(l,c);return w===t?y:w}function sp(l,c){return l!=null&&Pc(l,c,am)}function pu(l,c){return l!=null&&Pc(l,c,jg)}var ov=Cc(function(l,c,y){c!=null&&typeof c.toString!="function"&&(c=jr.call(c)),l[c]=y},ue(fe)),lv=Cc(function(l,c,y){c!=null&&typeof c.toString!="function"&&(c=jr.call(c)),en.call(l,c)?l[c].push(y):l[c]=[y]},Ze),X0=vt(nl);function nr(l){return er(l)?rm(l):dh(l)}function hr(l){return er(l)?rm(l,!0):Fg(l)}function Z0(l,c){var y={};return c=Ze(c,3),Nr(l,function(w,C,j){vs(y,c(w,C,j),w)}),y}function J0(l,c){var y={};return c=Ze(c,3),Nr(l,function(w,C,j){vs(y,C,c(w,C,j))}),y}var eE=al(function(l,c,y){vc(l,c,y)}),ef=al(function(l,c,y,w){vc(l,c,y,w)}),ed=bn(function(l,c){var y={};if(l==null)return y;var w=!1;c=gn(c,function(j){return j=wa(j,l),w||(w=j.length>1),j}),fi(l,Ch(l),y),w&&(y=Ir(y,S|A|D,ry));for(var C=c.length;C--;)wc(y,c[C]);return y});function ap(l,c){return gu(l,Yc(Ze(c)))}var tE=bn(function(l,c){return l==null?{}:zg(l,c)});function gu(l,c){if(l==null)return{};var y=gn(Ch(l),function(w){return[w]});return c=Ze(c),gh(l,y,function(w,C){return c(w,C[0])})}function nE(l,c,y){c=wa(c,l);var w=-1,C=c.length;for(C||(C=1,l=t);++w<C;){var j=l==null?t:l[sn(c[w])];j===t&&(w=C,j=y),l=ws(j)?j.call(l):j}return l}function uv(l,c,y){return l==null?l:Wl(l,c,y)}function cv(l,c,y,w){return w=typeof w=="function"?w:t,l==null?l:Wl(l,c,y,w)}var op=Dc(nr),lp=Dc(hr);function up(l,c,y){var w=ht(l),C=w||go(l)||fu(l);if(c=Ze(c,4),y==null){var j=l&&l.constructor;C?y=w?new j:[]:In(l)?y=ws(j)?xi(rc(l)):{}:y={}}return(C?Vr:Nr)(l,function($,Z,ie){return c(y,$,Z,ie)}),y}function fv(l,c){return l==null?!0:wc(l,c)}function td(l,c,y){return l==null?l:_m(l,c,Ac(y))}function rE(l,c,y,w){return w=typeof w=="function"?w:t,l==null?l:_m(l,c,Ac(y),w)}function yu(l){return l==null?[]:zn(l,nr(l))}function cp(l){return l==null?[]:zn(l,hr(l))}function fp(l,c,y){return y===t&&(y=c,c=t),y!==t&&(y=is(y),y=y===y?y:0),c!==t&&(c=is(c),c=c===c?c:0),_s(is(l),c,y)}function nd(l,c,y){return c=Js(c),y===t?(y=c,c=0):y=Js(y),l=is(l),Bg(l,c,y)}function hp(l,c,y){if(y&&typeof y!="boolean"&&Hr(l,c,y)&&(c=y=t),y===t&&(typeof c=="boolean"?(y=c,c=t):typeof l=="boolean"&&(y=l,l=t)),l===t&&c===t?(l=0,c=1):(l=Js(l),c===t?(c=l,l=0):c=Js(c)),l>c){var w=l;l=c,c=w}if(y||l%1||c%1){var C=Zd();return Rn(l+C*(c-l+ko("1e-"+((C+"").length-1))),c)}return vh(l,c)}var hv=zr(function(l,c,y){return c=c.toLowerCase(),l+(y?rd(c):c)});function rd(l){return f(tn(l).toLowerCase())}function Da(l){return l=tn(l),l&&l.replace(kr,Qf).replace(hs,"")}function yo(l,c,y){l=tn(l),c=ci(c);var w=l.length;y=y===t?w:_s(pt(y),0,w);var C=y;return y-=c.length,y>=0&&l.slice(y,C)==c}function vo(l){return l=tn(l),l&&Lr.test(l)?l.replace(Fi,vg):l}function tf(l){return l=tn(l),l&&Oe.test(l)?l.replace(Se,"\\$&"):l}var nf=zr(function(l,c,y){return l+(y?"-":"")+c.toLowerCase()}),_o=zr(function(l,c,y){return l+(y?" ":"")+c.toLowerCase()}),iE=Ii("toLowerCase");function dv(l,c,y){l=tn(l),c=pt(c);var w=c?qs(l):0;if(!c||w>=c)return l;var C=(c-w)/2;return Nc(ga(C),y)+l+Nc(Fl(C),y)}function rf(l,c,y){l=tn(l),c=pt(c);var w=c?qs(l):0;return c&&w<c?l+Nc(c-w,y):l}function sE(l,c,y){l=tn(l),c=pt(c);var w=c?qs(l):0;return c&&w<c?Nc(c-w,y)+l:l}function mv(l,c,y){return y||c==null?c=0:c&&(c=+c),Wo(tn(l).replace(Ve,""),c||0)}function id(l,c,y){return(y?Hr(l,c,y):c===t)?c=1:c=pt(c),ym(tn(l),c)}function pv(){var l=arguments,c=tn(l[0]);return l.length<3?c:c.replace(l[1],l[2])}var aE=zr(function(l,c,y){return l+(y?"_":"")+c.toLowerCase()});function sd(l,c,y){return y&&typeof y!="number"&&Hr(l,c,y)&&(c=y=t),y=y===t?me:y>>>0,y?(l=tn(l),l&&(typeof c=="string"||c!=null&&!Qh(c))&&(c=ci(c),!c&&Ya(l))?ro(Ki(l),0,y):l.split(c,y)):[]}var ad=zr(function(l,c,y){return l+(y?" ":"")+f(c)});function gv(l,c,y){return l=tn(l),y=y==null?0:_s(pt(y),0,l.length),c=ci(c),l.slice(y,y+c.length)==c}function sf(l,c,y){var w=M.templateSettings;y&&Hr(l,c,y)&&(c=t),l=tn(l),c=Zh({},c,w,Rh);var C=Zh({},c.imports,w.imports,Rh),j=nr(C),$=zn(C,j),Z,ie,Ae=0,xe=c.interpolate||Gn,De="__p += '",ke=Jf((c.escape||Gn).source+"|"+xe.source+"|"+(xe===la?Rt:Gn).source+"|"+(c.evaluate||Gn).source+"|$","g"),Ye="//# sourceURL="+(en.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Wu+"]")+`
`;l.replace(ke,function(ct,jt,Yt,Ss,Pi,As){return Yt||(Yt=Ss),De+=l.slice(Ae,As).replace(Ls,_g),jt&&(Z=!0,De+=`' +
__e(`+jt+`) +
'`),Pi&&(ie=!0,De+=`';
`+Pi+`;
__p += '`),Yt&&(De+=`' +
((__t = (`+Yt+`)) == null ? '' : __t) +
'`),Ae=As+ct.length,ct}),De+=`';
`;var ut=en.call(c,"variable")&&c.variable;if(!ut)De=`with (obj) {
`+De+`
}
`;else if(Ge.test(ut))throw new lt(m);De=(ie?De.replace(za,""):De).replace(oa,"$1").replace(Oo,"$1;"),De="function("+(ut||"obj")+`) {
`+(ut?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Z?", __e = _.escape":"")+(ie?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+De+`return __p
}`;var At=_(function(){return Gt(j,Ye+"return "+De).apply(t,$)});if(At.source=De,tr(At))throw At;return At}function dp(l){return tn(l).toLowerCase()}function od(l){return tn(l).toUpperCase()}function yv(l,c,y){if(l=tn(l),l&&(y||c===t))return Ut(l);if(!l||!(c=ci(c)))return l;var w=Ki(l),C=Ki(c),j=ur(w,C),$=ms(w,C)+1;return ro(w,j,$).join("")}function oE(l,c,y){if(l=tn(l),l&&(y||c===t))return l.slice(0,Kd(l)+1);if(!l||!(c=ci(c)))return l;var w=Ki(l),C=ms(w,Ki(c))+1;return ro(w,0,C).join("")}function ld(l,c,y){if(l=tn(l),l&&(y||c===t))return l.replace(Ve,"");if(!l||!(c=ci(c)))return l;var w=Ki(l),C=ur(w,Ki(c));return ro(w,C).join("")}function r(l,c){var y=H,w=K;if(In(c)){var C="separator"in c?c.separator:C;y="length"in c?pt(c.length):y,w="omission"in c?ci(c.omission):w}l=tn(l);var j=l.length;if(Ya(l)){var $=Ki(l);j=$.length}if(y>=j)return l;var Z=y-qs(w);if(Z<1)return w;var ie=$?ro($,0,Z).join(""):l.slice(0,Z);if(C===t)return ie+w;if($&&(Z+=ie.length-Z),Qh(C)){if(l.slice(Z).search(C)){var Ae,xe=ie;for(C.global||(C=Jf(C.source,tn(Jt.exec(C))+"g")),C.lastIndex=0;Ae=C.exec(xe);)var De=Ae.index;ie=ie.slice(0,De===t?Z:De)}}else if(l.indexOf(ci(C),Z)!=Z){var ke=ie.lastIndexOf(C);ke>-1&&(ie=ie.slice(0,ke))}return ie+w}function s(l){return l=tn(l),l&&Ha.test(l)?l.replace(bi,bg):l}var o=zr(function(l,c,y){return l+(y?" ":"")+c.toUpperCase()}),f=Ii("toUpperCase");function p(l,c,y){return l=tn(l),c=y?t:c,c===t?Eg(l)?_0(l):kl(l):l.match(c)||[]}var _=vt(function(l,c){try{return _r(l,t,c)}catch(y){return tr(y)?y:new lt(y)}}),x=bn(function(l,c){return Vr(c,function(y){y=sn(y),vs(l,y,mo(l[y],l))}),l});function P(l){var c=l==null?0:l.length,y=Ze();return l=c?gn(l,function(w){if(typeof w[1]!="function")throw new Ri(h);return[y(w[0]),w[1]]}):[],vt(function(w){for(var C=-1;++C<c;){var j=l[C];if(_r(j[0],this,w))return _r(j[1],this,w)}})}function Y(l){return Ug(Ir(l,S))}function ue(l){return function(){return l}}function Te(l,c){return l==null||l!==l?c:l}var Re=Ks(),de=Ks(!0);function fe(l){return l}function at(l){return fm(typeof l=="function"?l:Ir(l,S))}function rt(l){return dm(Ir(l,S))}function hn(l,c){return ph(l,Ir(c,S))}var re=vt(function(l,c){return function(y){return nl(y,l,c)}}),ee=vt(function(l,c){return function(y){return nl(l,y,c)}});function oe(l,c,y){var w=nr(c),C=no(c,w);y==null&&!(In(c)&&(C.length||!w.length))&&(y=c,c=l,l=this,C=no(c,nr(c)));var j=!(In(y)&&"chain"in y)||!!y.chain,$=ws(l);return Vr(C,function(Z){var ie=c[Z];l[Z]=ie,$&&(l.prototype[Z]=function(){var Ae=this.__chain__;if(j||Ae){var xe=l(this.__wrapped__),De=xe.__actions__=Zn(this.__actions__);return De.push({func:ie,args:arguments,thisArg:l}),xe.__chain__=Ae,xe}return ie.apply(l,$i([this.value()],arguments))})}),l}function be(){return En._===this&&(En._=jl),this}function Be(){}function St(l){return l=pt(l),vt(function(c){return mm(c,l)})}var Qe=Ic(gn),ot=Ic(Pl),dr=Ic(Ll);function Kt(l){return Oh(l)?R(sn(l)):Hg(l)}function Eo(l){return function(c){return l==null?t:Ji(l,c)}}var lE=io(),LI=io(!0);function uE(){return[]}function cE(){return!1}function kI(){return{}}function UI(){return""}function VI(){return!0}function jI(l,c){if(l=pt(l),l<1||l>_e)return[];var y=me,w=Rn(l,me);c=Ze(c),l-=me;for(var C=Ot(w,c);++y<l;)c(y);return C}function BI(l){return ht(l)?gn(l,sn):qr(l)?[l]:Zn(Qs(tn(l)))}function FI(l){var c=++ps;return tn(l)+c}var zI=Ql(function(l,c){return l+c},0),HI=Ah("ceil"),qI=Ql(function(l,c){return l/c},1),GI=Ah("floor");function $I(l){return l&&l.length?Es(l,fe,pc):t}function KI(l,c){return l&&l.length?Es(l,Ze(c,2),pc):t}function YI(l){return T(l,fe)}function WI(l,c){return T(l,Ze(c,2))}function QI(l){return l&&l.length?Es(l,fe,mh):t}function XI(l,c){return l&&l.length?Es(l,Ze(c,2),mh):t}var ZI=Ql(function(l,c){return l*c},1),JI=Ah("round"),eN=Ql(function(l,c){return l-c},0);function tN(l){return l&&l.length?Pe(l,fe):0}function nN(l,c){return l&&l.length?Pe(l,Ze(c,2)):0}return M.after=P0,M.ary=Fy,M.assign=G0,M.assignIn=rv,M.assignInWith=Zh,M.assignWith=$0,M.at=K0,M.before=qc,M.bind=mo,M.bindAll=x,M.bindKey=Hh,M.castArray=V0,M.chain=lu,M.chunk=x0,M.compact=my,M.concat=py,M.cond=P,M.conforms=Y,M.constant=ue,M.countBy=uu,M.create=Y0,M.curry=Gc,M.curryRight=qh,M.debounce=po,M.defaults=W0,M.defaultsDeep=iv,M.defer=Zs,M.delay=$c,M.difference=Cn,M.differenceBy=hi,M.differenceWith=xa,M.drop=gy,M.dropRight=yy,M.dropRightWhile=C0,M.dropWhile=Mm,M.fill=Ni,M.filter=Iy,M.flatMap=Km,M.flatMapDeep=D0,M.flatMapDepth=O0,M.flatten=di,M.flattenDeep=vy,M.flattenDepth=oo,M.flip=L0,M.flow=Re,M.flowRight=de,M.fromPairs=cl,M.functions=av,M.functionsIn=Jh,M.groupBy=Oy,M.initial=km,M.intersection=Xs,M.intersectionBy=_y,M.intersectionWith=eu,M.invert=ov,M.invertBy=lv,M.invokeMap=Bh,M.iteratee=at,M.keyBy=My,M.keys=nr,M.keysIn=hr,M.map=Hc,M.mapKeys=Z0,M.mapValues=J0,M.matches=rt,M.matchesProperty=hn,M.memoize=Kc,M.merge=eE,M.mergeWith=ef,M.method=re,M.methodOf=ee,M.mixin=oe,M.negate=Yc,M.nthArg=St,M.omit=ed,M.omitBy=ap,M.once=zy,M.orderBy=Py,M.over=Qe,M.overArgs=Hy,M.overEvery=ot,M.overSome=dr,M.partial=Qm,M.partialRight=Gh,M.partition=Ly,M.pick=tE,M.pickBy=gu,M.property=Kt,M.propertyOf=Eo,M.pull=Ty,M.pullAll=nu,M.pullAllBy=wy,M.pullAllWith=Vh,M.pullAt=by,M.range=lE,M.rangeRight=LI,M.rearg=qy,M.reject=Fh,M.remove=I0,M.rest=Gy,M.reverse=Um,M.sampleSize=jy,M.set=uv,M.setWith=cv,M.shuffle=_n,M.slice=un,M.sortBy=By,M.sortedUniq=ru,M.sortedUniqBy=Vm,M.split=sd,M.spread=k0,M.tail=Ia,M.take=Un,M.takeRight=uo,M.takeRightWhile=fl,M.takeWhile=jm,M.tap=qm,M.throttle=Xm,M.thru=Or,M.toArray=Mi,M.toPairs=op,M.toPairsIn=lp,M.toPath=BI,M.toPlainObject=nv,M.transform=up,M.unary=Zm,M.union=ns,M.unionBy=iu,M.unionWith=Fc,M.uniq=mi,M.uniqBy=Bm,M.uniqWith=Fm,M.unset=fv,M.unzip=su,M.unzipWith=zc,M.update=td,M.updateWith=rE,M.values=yu,M.valuesIn=cp,M.without=co,M.words=p,M.wrap=U0,M.xor=Er,M.xorBy=fo,M.xorWith=au,M.zip=ou,M.zipObject=zm,M.zipObjectDeep=Hm,M.zipWith=Sy,M.entries=op,M.entriesIn=lp,M.extend=rv,M.extendWith=Zh,oe(M,M),M.add=zI,M.attempt=_,M.camelCase=hv,M.capitalize=rd,M.ceil=HI,M.clamp=fp,M.clone=Wc,M.cloneDeep=$y,M.cloneDeepWith=Ct,M.cloneWith=j0,M.conformsTo=Jm,M.deburr=Da,M.defaultTo=Te,M.divide=qI,M.endsWith=yo,M.eq=pi,M.escape=vo,M.escapeRegExp=tf,M.every=Cy,M.find=Ny,M.findIndex=ts,M.findKey=du,M.findLast=$m,M.findLastIndex=Pm,M.findLastKey=Xc,M.floor=GI,M.forEach=Dy,M.forEachRight=Ym,M.forIn=sv,M.forInRight=Q0,M.forOwn=mu,M.forOwnRight=Zc,M.get=Jc,M.gt=ep,M.gte=Ky,M.has=sp,M.hasIn=pu,M.head=Ca,M.identity=fe,M.includes=cu,M.indexOf=Lm,M.inRange=nd,M.invoke=X0,M.isArguments=Na,M.isArray=ht,M.isArrayBuffer=$h,M.isArrayLike=er,M.isArrayLikeObject=Vn,M.isBoolean=B0,M.isBuffer=go,M.isDate=Yy,M.isElement=Wy,M.isEmpty=Kh,M.isEqual=fn,M.isEqualWith=tp,M.isError=tr,M.isFinite=F0,M.isFunction=ws,M.isInteger=Yh,M.isLength=hl,M.isMap=Wh,M.isMatch=np,M.isMatchWith=z0,M.isNaN=Qy,M.isNative=H0,M.isNil=q0,M.isNull=Xy,M.isNumber=Zy,M.isObject=In,M.isObjectLike=Nn,M.isPlainObject=rs,M.isRegExp=Qh,M.isSafeInteger=rp,M.isSet=Jy,M.isString=Xh,M.isSymbol=qr,M.isTypedArray=fu,M.isUndefined=bs,M.isWeakMap=ip,M.isWeakSet=ev,M.join=Bc,M.kebabCase=nf,M.last=Dr,M.lastIndexOf=tu,M.lowerCase=_o,M.lowerFirst=iE,M.lt=tv,M.lte=Qc,M.max=$I,M.maxBy=KI,M.mean=YI,M.meanBy=WI,M.min=QI,M.minBy=XI,M.stubArray=uE,M.stubFalse=cE,M.stubObject=kI,M.stubString=UI,M.stubTrue=VI,M.multiply=ZI,M.nth=Ey,M.noConflict=be,M.noop=Be,M.now=zh,M.pad=dv,M.padEnd=rf,M.padStart=sE,M.parseInt=mv,M.random=hp,M.reduce=ky,M.reduceRight=Uy,M.repeat=id,M.replace=pv,M.result=nE,M.round=JI,M.runInContext=te,M.sample=Vy,M.size=Wm,M.snakeCase=aE,M.some=M0,M.sortedIndex=Tn,M.sortedIndexBy=xt,M.sortedIndexOf=zt,M.sortedLastIndex=cn,M.sortedLastIndexBy=Di,M.sortedLastIndexOf=lo,M.startCase=ad,M.startsWith=gv,M.subtract=eN,M.sum=tN,M.sumBy=nN,M.template=sf,M.times=jI,M.toFinite=Js,M.toInteger=pt,M.toLength=ea,M.toLower=dp,M.toNumber=is,M.toSafeInteger=hu,M.toString=tn,M.toUpper=od,M.trim=yv,M.trimEnd=oE,M.trimStart=ld,M.truncate=r,M.unescape=s,M.uniqueId=FI,M.upperCase=o,M.upperFirst=f,M.each=Dy,M.eachRight=Ym,M.first=Ca,oe(M,function(){var l={};return Nr(M,function(c,y){en.call(M.prototype,y)||(l[y]=c)}),l}(),{chain:!1}),M.VERSION=i,Vr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){M[l].placeholder=M}),Vr(["drop","take"],function(l,c){bt.prototype[l]=function(y){y=y===t?1:wn(pt(y),0);var w=this.__filtered__&&!c?new bt(this):this.clone();return w.__filtered__?w.__takeCount__=Rn(y,w.__takeCount__):w.__views__.push({size:Rn(y,me),type:l+(w.__dir__<0?"Right":"")}),w},bt.prototype[l+"Right"]=function(y){return this.reverse()[l](y).reverse()}}),Vr(["filter","map","takeWhile"],function(l,c){var y=c+1,w=y==Xe||y==ce;bt.prototype[l]=function(C){var j=this.clone();return j.__iteratees__.push({iteratee:Ze(C,3),type:y}),j.__filtered__=j.__filtered__||w,j}}),Vr(["head","last"],function(l,c){var y="take"+(c?"Right":"");bt.prototype[l]=function(){return this[y](1).value()[0]}}),Vr(["initial","tail"],function(l,c){var y="drop"+(c?"":"Right");bt.prototype[l]=function(){return this.__filtered__?new bt(this):this[y](1)}}),bt.prototype.compact=function(){return this.filter(fe)},bt.prototype.find=function(l){return this.filter(l).head()},bt.prototype.findLast=function(l){return this.reverse().find(l)},bt.prototype.invokeMap=vt(function(l,c){return typeof l=="function"?new bt(this):this.map(function(y){return nl(y,l,c)})}),bt.prototype.reject=function(l){return this.filter(Yc(Ze(l)))},bt.prototype.slice=function(l,c){l=pt(l);var y=this;return y.__filtered__&&(l>0||c<0)?new bt(y):(l<0?y=y.takeRight(-l):l&&(y=y.drop(l)),c!==t&&(c=pt(c),y=c<0?y.dropRight(-c):y.take(c-l)),y)},bt.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},bt.prototype.toArray=function(){return this.take(me)},Nr(bt.prototype,function(l,c){var y=/^(?:filter|find|map|reject)|While$/.test(c),w=/^(?:head|last)$/.test(c),C=M[w?"take"+(c=="last"?"Right":""):c],j=w||/^find/.test(c);C&&(M.prototype[c]=function(){var $=this.__wrapped__,Z=w?[1]:arguments,ie=$ instanceof bt,Ae=Z[0],xe=ie||ht($),De=function(jt){var Yt=C.apply(M,$i([jt],Z));return w&&ke?Yt[0]:Yt};xe&&y&&typeof Ae=="function"&&Ae.length!=1&&(ie=xe=!1);var ke=this.__chain__,Ye=!!this.__actions__.length,ut=j&&!ke,At=ie&&!Ye;if(!j&&xe){$=At?$:new bt(this);var ct=l.apply($,Z);return ct.__actions__.push({func:Or,args:[De],thisArg:t}),new oi(ct,ke)}return ut&&At?l.apply(this,Z):(ct=this.thru(De),ut?w?ct.value()[0]:ct.value():ct)})}),Vr(["pop","push","shift","sort","splice","unshift"],function(l){var c=eh[l],y=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",w=/^(?:pop|shift)$/.test(l);M.prototype[l]=function(){var C=arguments;if(w&&!this.__chain__){var j=this.value();return c.apply(ht(j)?j:[],C)}return this[y](function($){return c.apply(ht($)?$:[],C)})}}),Nr(bt.prototype,function(l,c){var y=M[c];if(y){var w=y.name+"";en.call(Xi,w)||(Xi[w]=[]),Xi[w].push({name:c,func:y})}}),Xi[kn(t,U).name]=[{name:"wrapper",func:t}],bt.prototype.clone=cc,bt.prototype.reverse=ih,bt.prototype.value=Xo,M.prototype.at=Ay,M.prototype.chain=Oi,M.prototype.commit=Ry,M.prototype.next=xy,M.prototype.plant=ho,M.prototype.reverse=jh,M.prototype.toJSON=M.prototype.valueOf=M.prototype.value=Gm,M.prototype.first=M.prototype.head,Ko&&(M.prototype[Ko]=N0),M},Qa=Ul();or?((or.exports=Qa)._=Qa,ma._=Qa):En._=Qa}).call(sj)}(Cp,Cp.exports)),Cp.exports}var Dn=aj();const Tf=Ld(Dn),yl=n=>[...Array(n).keys()],oj=(n,e=3)=>{let t;e===4?t=yl(3).map(i=>yl(4).map(u=>n.includes(4*i+u)?"x":"o").join("")):t=yl(4).map(i=>yl(3).map(u=>n.includes(3*i+u)?"x":"o").join("")),console.log(t.join(`
`))},Zp=(n,{debug:e=!1,returnWhenFound:t=!1}={})=>{let i=0,a=[];for(let u=0;u<n.length-2;u++)for(let h=u+1;h<n.length-1;h++)for(let m=h+1;m<n.length;m++)if(a=[n[u],n[h],n[m]],ki(a)&&(e&&oj([u,h,m]),i++,t))return i;return i},h0=()=>{const n=[];return yl(3).forEach(e=>{yl(3).forEach(t=>{yl(3).forEach(i=>{yl(3).forEach(a=>{const u=""+e+i+t+a;n.push(u)})})})}),n},ki=n=>{if(n.length!==3)return!1;const[e,t,i]=n;for(let a=0;a<4;a++)if((Number(e[a])+Number(t[a])+Number(i[a]))%3!==0)return!1;return!0},ff=(n,e)=>{let t="";for(let i=0;i<4;i++)if(n[i]===e[i])t=t+n[i];else{const u=(3-(Number(n[i])+Number(e[i]))).toString();t=t+u}return t.trim()},hb=(n,e)=>e.includes(n)?e.filter(t=>t!==n):[...e,n],Jp=({board:n=[],deck:e},t=12,i=1)=>{let a=Dn.shuffle([...n,...e]);for(;Zp(a.slice(0,t))<i&&Zp(a,{returnWhenFound:!0})>0;)a=Dn.shuffle(a);return{deck:a.slice(t),board:a.slice(0,t)}},lj=(n=null)=>{if(n===null){const u=[...Tf.shuffle(h0()).slice(0,2)],h=ff(u[0],u[1]);return[u[0],u[1],h]}const e=["","",""],t=[!1,!1,!1,!1];return Tf.sampleSize(Tf.range(4),n).forEach(a=>{t[a]=Math.floor(Math.random()*3).toString()}),t.forEach((a,u)=>{const h=Tf.shuffle(["0","1","2"]);for(let m=0;m<3;m++)a===!1?e[m]=e[m]+h[m].toString():e[m]=e[m]+a}),e},uj=({startingSetCards:n=2,boardSize:e=12,commonTraits:t}={})=>{let i=Tf.shuffle(h0());const a=Tf.shuffle(lj(t));let u=a.slice(0,2);const h=a[2];i=i.filter(g=>!a.includes(g));const m=Tf.shuffle([h,...i.slice(0,e-3)]);return u=[...u,...m],i=i.slice(e-3),{board:u,deck:i}},hI=n=>{const{board:e,deck:t,selected:i}=n,a=t.slice(0,3);let u=[...e],h=t.slice(3);for(i.forEach((m,g)=>{const v=u.indexOf(m);u[v]=a[g]});Zp(u)===0;)({deck:h,board:u}=Jp({board:u,deck:h}));return{deck:h,board:u,selected:[]}},yg=()=>(console.log("🚀 Using popup authentication"),cj()),cj=()=>{console.log("🚀 handleGooglePopup called");const n=new ml;return n.addScope("email"),n.addScope("profile"),S2(Md,n).then(function(e){return console.log("✅ Popup sign-in successful:",e.user.displayName),console.log("✅ User UID:",e.user.uid),console.log("✅ User email:",e.user.email),e}).catch(function(e){throw console.error("❌ Popup sign-in error:",e),console.error("❌ Error code:",e.code),console.error("❌ Error message:",e.message),e})},sA=(n,e)=>{let t;typeof n=="string"?t=yf(vf,"games",n):t=n,eC(t,{...e,lastUpdate:kp()})},fj="#4fc3f7",hj="#f48fb1",dj="#ffd740",mj="#8e24aa",pj="#9ccc65",gj="#f44336",yj="#fb8c00",vj="#f7f8fa",_j="#61d020",Ej="#1b2f92",Tj="#ff0000",Cs={lightBlue:fj,pink:hj,amber:dj,purple:mj,lightGreen:pj,errorRed:gj,orange:yj,softCardBackground:vj,cardGreen:_j,cardBlue:Ej,cardRed:Tj},qT=Cs.softCardBackground,wj=Cs.cardGreen,bj=Cs.cardBlue,Sj=Cs.cardRed,bo={width:120,height:200,strokeWidth:4,padding:25},Aj=({fill:n,color:e})=>{const{strokeWidth:t}=bo;return b.jsxs("svg",{width:"120",height:"200",xmlns:"http://www.w3.org/2000/svg",children:[b.jsxs("g",{children:[b.jsx("rect",{fill:qT,id:"canvas_background",height:"202",width:"122",y:"-1",x:"-1"}),b.jsx("g",{display:"none",overflow:"visible",y:"0",x:"0",height:"100%",width:"100%",id:"canvasGrid",children:b.jsx("rect",{fill:qT,strokeWidth:"0",y:"0",x:"0",height:"100%",width:"100%"})})]}),b.jsx("g",{children:b.jsx("path",{stroke:e,transform:`
          rotate(270,58.8,98)
          scale(0.8 1)
          translate(10 0)
          `,id:"svg_5",d:`
          m-17.49,66
          c50.83,-35.45 101.7,35.45
          152.5,0
          c30,-10 30,43.8
          0,63.8
          c-50.8,35.45 -101.6,-35.45
          -152.5,0
          c-30,15 -30,-45
          0,-63.59
          z
          `,fillOpacity:"null",strokeOpacity:"null",strokeWidth:t,fill:n})})]})},Rj=({shape:n,fill:e,color:t,num:i})=>{let{padding:a,height:u,width:h}=bo;return n==="0"?(a=a+1,b.jsx(Aj,{fill:e,color:t})):n==="1"?b.jsx("g",{children:b.jsx("ellipse",{stroke:t,ry:(u-2*a)/2,rx:(h-2*a)/2,cy:u/2,cx:h/2,fillOpacity:"null",strokeOpacity:"null",strokeWidth:bo.strokeWidth,fill:e})}):n==="2"?b.jsx("g",{children:b.jsx("polygon",{points:`${a},${u/2}
          ${h/2},${a}
          ${h-a},${u/2}
          ${h/2},${u-a}`,style:{fill:e,stroke:t,strokeWidth:bo.strokeWidth}})}):null},Li=({desc:n})=>{if(n==="0333")return b.jsx("div",{className:"game-card d-flex justify-content-center",children:b.jsx("svg",{className:"shape blank-card",viewBox:`0 0 ${bo.width} ${bo.height}`,xmlns:"http://www.w3.org/2000/svg",children:b.jsx("rect",{x:"2",y:"2",width:bo.width-4,height:bo.height-4,fill:"#f8f9fa",stroke:"#dee2e6",strokeWidth:"2",strokeDasharray:"5,5",rx:"8"})})});const e={0:wj,1:bj,2:Sj,white:qT},t=(m,g)=>g==="1"?`url(#card-${m}-${g})`:g==="2"?e[m]:e.white,i=()=>{const[m,g,v,E]=n.split("");return b.jsxs(B.Fragment,{children:[b.jsxs("g",{children:[b.jsx("title",{children:"background"}),b.jsx("rect",{fill:e.white,id:"canvas_background",y:"-1",x:"-1"}),b.jsx("g",{display:"none",overflow:"visible",y:"0",x:"0",height:"100%",width:"100%",id:"canvasGrid",children:b.jsx("rect",{strokeWidth:"0",y:"0",x:"0",height:"100%",width:"100%"})})]}),b.jsx(Rj,{shape:v,num:m,fill:t(g,E),color:e[g]})]})},[a,u,,h]=n.split("");return b.jsxs("div",{className:"game-card d-flex justify-content-center",children:[b.jsx("svg",{width:"0",height:"0",children:b.jsx("pattern",{id:`card-${u}-${h}`,width:120/12,height:"10",patternTransform:"rotate(45 0 0)",patternUnits:"userSpaceOnUse",children:b.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"10",style:{stroke:e[u],strokeWidth:"5"}})})}),yl(Number(a)+1).map(m=>b.jsx("svg",{className:`shape ${a==="1"?"double":""}`,viewBox:`0 0 ${bo.width} ${bo.height}`,xmlns:"http://www.w3.org/2000/svg",children:i()},m))]})};function xj(n){const{url:e,cardName:t,description:i}=n;return b.jsxs("div",{className:"col-9 col-md-4",children:[b.jsx(Tr,{to:e,children:b.jsx("div",{className:"card shadow-sm mb-3 mb-md-4",children:b.jsx(Li,{desc:t})})}),b.jsx("p",{className:"text-center",children:i})]})}function Cj(){const n=[{url:"/solo",cardName:"0012",description:"Solo/Local"},{url:"/lobby",cardName:"1121",description:"Join Game"},{url:"/host",cardName:"2200",description:"Host Game"}];return b.jsxs("div",{className:"container mt-3 mt-md-5 p-4",children:[b.jsx("h1",{className:"d-none d-md-block text-center mb-3 mb-md-5",children:"Main Menu"}),b.jsx("div",{className:"row justify-content-center",children:n.map((e,t)=>b.jsx(xj,{...e},`card-${t}`))}),b.jsxs("div",{className:"d-none d-md-block",children:[b.jsx("hr",{}),b.jsx("p",{children:b.jsx(Tr,{to:"/rules",children:"Rules"})}),b.jsx("p",{children:b.jsx(Tr,{to:"/stats",children:"View Statistics"})})]})]})}function Ij(n){const{gameOver:e,myName:t,solo:i,finalScore:a,reset:u}=n,h=eg(g=>g.user),{user:m}=h;return b.jsx("div",{className:"game-over container mt-5",children:b.jsx("div",{className:"row justify-content-center",children:b.jsx("div",{className:"col col-md-6",children:b.jsxs("div",{className:"card shadow",children:[b.jsx("h3",{className:"text-center mt-3",children:"GAME OVER!"}),isNaN(a)?b.jsxs("p",{className:"text-center mb-4",children:["Winner: ",e," "]}):b.jsxs("div",{className:"d-flex flex-column justify-content-center",children:[b.jsxs("p",{className:"text-center my-2",children:["Final Score: ",a," "]}),b.jsx("div",{className:"d-flex flex-row justify-content-center",children:b.jsx("button",{className:"btn btn-primary my-2",onClick:()=>u&&u(),children:"Reset"})})]}),b.jsxs("div",{className:"row justify-content-center",children:[b.jsx("div",{className:"col-4",children:b.jsx("p",{className:"text-center",children:b.jsx(Tr,{to:"/",children:"Main"})})}),i&&m&&m.uid&&b.jsx("div",{className:"col-4",children:b.jsx("p",{className:"text-center",children:b.jsx(Tr,{to:"/stats",children:"Stats"})})})]})]})})})})}var qE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var aA;function Nj(){return aA||(aA=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var u="",h=0;h<arguments.length;h++){var m=arguments[h];m&&(u=a(u,i(m)))}return u}function i(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return t.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var h="";for(var m in u)e.call(u,m)&&u[m]&&(h=a(h,m));return h}function a(u,h){return h?u?u+" "+h:u+h:u}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(qE)),qE.exports}var Dj=Nj();const Os=Ld(Dj);function Oj(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function GT(n,e){return GT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},GT(n,e)}function Mj(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,GT(n,e)}const Pj=["xxl","xl","lg","md","sm","xs"],Lj="xs",db=B.createContext({prefixes:{},breakpoints:Pj,minBreakpoint:Lj}),{Consumer:l5,Provider:u5}=db;function Gu(n,e){const{prefixes:t}=B.useContext(db);return n||t[e]||e}function kj(){const{dir:n}=B.useContext(db);return n==="rtl"}function d0(n){return n&&n.ownerDocument||document}function Uj(n){var e=d0(n);return e&&e.defaultView||window}function Vj(n,e){return Uj(n).getComputedStyle(n,e)}var jj=/([A-Z])/g;function Bj(n){return n.replace(jj,"-$1").toLowerCase()}var Fj=/^ms-/;function Nv(n){return Bj(n).replace(Fj,"-ms-")}var zj=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Hj(n){return!!(n&&zj.test(n))}function Sf(n,e){var t="",i="";if(typeof e=="string")return n.style.getPropertyValue(Nv(e))||Vj(n).getPropertyValue(Nv(e));Object.keys(e).forEach(function(a){var u=e[a];!u&&u!==0?n.style.removeProperty(Nv(a)):Hj(a)?i+=a+"("+u+") ":t+=Nv(a)+": "+u+";"}),i&&(t+="transform: "+i+";"),n.style.cssText+=";"+t}var GE={exports:{}},$E,oA;function qj(){if(oA)return $E;oA=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $E=n,$E}var KE,lA;function Gj(){if(lA)return KE;lA=1;var n=qj();function e(){}function t(){}return t.resetWarningCache=e,KE=function(){function i(h,m,g,v,E,S){if(S!==n){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}i.isRequired=i;function a(){return i}var u={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return u.PropTypes=u,u},KE}var uA;function $j(){return uA||(uA=1,GE.exports=Gj()()),GE.exports}var Kj=$j();const YE=Ld(Kj),cA={disabled:!1},dI=mf.createContext(null);var Yj=function(e){return e.scrollTop},Ip="unmounted",lf="exited",Eu="entering",hf="entered",$T="exiting",Al=function(n){Mj(e,n);function e(i,a){var u;u=n.call(this,i,a)||this;var h=a,m=h&&!h.isMounting?i.enter:i.appear,g;return u.appearStatus=null,i.in?m?(g=lf,u.appearStatus=Eu):g=hf:i.unmountOnExit||i.mountOnEnter?g=Ip:g=lf,u.state={status:g},u.nextCallback=null,u}e.getDerivedStateFromProps=function(a,u){var h=a.in;return h&&u.status===Ip?{status:lf}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(a){var u=null;if(a!==this.props){var h=this.state.status;this.props.in?h!==Eu&&h!==hf&&(u=Eu):(h===Eu||h===hf)&&(u=$T)}this.updateStatus(!1,u)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var a=this.props.timeout,u,h,m;return u=h=m=a,a!=null&&typeof a!="number"&&(u=a.exit,h=a.enter,m=a.appear!==void 0?a.appear:h),{exit:u,enter:h,appear:m}},t.updateStatus=function(a,u){if(a===void 0&&(a=!1),u!==null)if(this.cancelNextCallback(),u===Eu){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:vd.findDOMNode(this);h&&Yj(h)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===lf&&this.setState({status:Ip})},t.performEnter=function(a){var u=this,h=this.props.enter,m=this.context?this.context.isMounting:a,g=this.props.nodeRef?[m]:[vd.findDOMNode(this),m],v=g[0],E=g[1],S=this.getTimeouts(),A=m?S.appear:S.enter;if(!a&&!h||cA.disabled){this.safeSetState({status:hf},function(){u.props.onEntered(v)});return}this.props.onEnter(v,E),this.safeSetState({status:Eu},function(){u.props.onEntering(v,E),u.onTransitionEnd(A,function(){u.safeSetState({status:hf},function(){u.props.onEntered(v,E)})})})},t.performExit=function(){var a=this,u=this.props.exit,h=this.getTimeouts(),m=this.props.nodeRef?void 0:vd.findDOMNode(this);if(!u||cA.disabled){this.safeSetState({status:lf},function(){a.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:$T},function(){a.props.onExiting(m),a.onTransitionEnd(h.exit,function(){a.safeSetState({status:lf},function(){a.props.onExited(m)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(a,u){u=this.setNextCallback(u),this.setState(a,u)},t.setNextCallback=function(a){var u=this,h=!0;return this.nextCallback=function(m){h&&(h=!1,u.nextCallback=null,a(m))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},t.onTransitionEnd=function(a,u){this.setNextCallback(u);var h=this.props.nodeRef?this.props.nodeRef.current:vd.findDOMNode(this),m=a==null&&!this.props.addEndListener;if(!h||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var g=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],v=g[0],E=g[1];this.props.addEndListener(v,E)}a!=null&&setTimeout(this.nextCallback,a)},t.render=function(){var a=this.state.status;if(a===Ip)return null;var u=this.props,h=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var m=Oj(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return mf.createElement(dI.Provider,{value:null},typeof h=="function"?h(a,m):mf.cloneElement(mf.Children.only(h),m))},e}(mf.Component);Al.contextType=dI;Al.propTypes={};function ud(){}Al.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ud,onEntering:ud,onEntered:ud,onExit:ud,onExiting:ud,onExited:ud};Al.UNMOUNTED=Ip;Al.EXITED=lf;Al.ENTERING=Eu;Al.ENTERED=hf;Al.EXITING=$T;function Wj(n){return n.code==="Escape"||n.keyCode===27}function Qj(){const n=B.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function m0(n){if(!n||typeof n=="function")return null;const{major:e}=Qj();return e>=19?n.props.ref:n.ref}const Gd=!!(typeof window<"u"&&window.document&&window.document.createElement);var KT=!1,YT=!1;try{var WE={get passive(){return KT=!0},get once(){return YT=KT=!0}};Gd&&(window.addEventListener("test",WE,WE),window.removeEventListener("test",WE,!0))}catch{}function mI(n,e,t,i){if(i&&typeof i!="boolean"&&!YT){var a=i.once,u=i.capture,h=t;!YT&&a&&(h=t.__once||function m(g){this.removeEventListener(e,m,u),t.call(this,g)},t.__once=h),n.addEventListener(e,h,KT?i:u)}n.addEventListener(e,t,i)}function WT(n,e,t,i){var a=i&&typeof i!="boolean"?i.capture:i;n.removeEventListener(e,t,a),t.__once&&n.removeEventListener(e,t.__once,a)}function C_(n,e,t,i){return mI(n,e,t,i),function(){WT(n,e,t,i)}}function Xj(n,e,t,i){if(i===void 0&&(i=!0),n){var a=document.createEvent("HTMLEvents");a.initEvent(e,t,i),n.dispatchEvent(a)}}function Zj(n){var e=Sf(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function Jj(n,e,t){t===void 0&&(t=5);var i=!1,a=setTimeout(function(){i||Xj(n,"transitionend",!0)},e+t),u=C_(n,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(a),u()}}function pI(n,e,t,i){t==null&&(t=Zj(n)||0);var a=Jj(n,t,i),u=C_(n,"transitionend",e);return function(){a(),u()}}function fA(n,e){const t=Sf(n,e)||"",i=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*i}function e6(n,e){const t=fA(n,"transitionDuration"),i=fA(n,"transitionDelay"),a=pI(n,u=>{u.target===n&&(a(),e(u))},t+i)}function t6(n){n.offsetHeight}const hA=n=>!n||typeof n=="function"?n:e=>{n.current=e};function n6(n,e){const t=hA(n),i=hA(e);return a=>{t&&t(a),i&&i(a)}}function gI(n,e){return B.useMemo(()=>n6(n,e),[n,e])}function r6(n){return n&&"setState"in n?vd.findDOMNode(n):n??null}const yI=mf.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:a,onExited:u,addEndListener:h,children:m,childRef:g,...v},E)=>{const S=B.useRef(null),A=gI(S,g),D=z=>{A(r6(z))},O=z=>N=>{z&&S.current&&z(S.current,N)},F=B.useCallback(O(n),[n]),k=B.useCallback(O(e),[e]),U=B.useCallback(O(t),[t]),Q=B.useCallback(O(i),[i]),J=B.useCallback(O(a),[a]),he=B.useCallback(O(u),[u]),ne=B.useCallback(O(h),[h]);return b.jsx(Al,{ref:E,...v,onEnter:F,onEntered:U,onEntering:k,onExit:Q,onExited:he,onExiting:J,addEndListener:ne,nodeRef:S,children:typeof m=="function"?(z,N)=>m(z,{...N,ref:D}):mf.cloneElement(m,{ref:D})})});yI.displayName="TransitionWrapper";function i6(n){const e=B.useRef(n);return B.useEffect(()=>{e.current=n},[n]),e}function QT(n){const e=i6(n);return B.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const s6=n=>B.forwardRef((e,t)=>b.jsx("div",{...e,ref:t,className:Os(e.className,n)}));function a6(n){const e=B.useRef(n);return B.useEffect(()=>{e.current=n},[n]),e}function df(n){const e=a6(n);return B.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function o6(){const n=B.useRef(!0),e=B.useRef(()=>n.current);return B.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function l6(n){const e=B.useRef(null);return B.useEffect(()=>{e.current=n}),e.current}const u6=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",c6=typeof document<"u",dA=c6||u6?B.useLayoutEffect:B.useEffect,f6=["as","disabled"];function h6(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function d6(n){return!n||n.trim()==="#"}function vI({tagName:n,disabled:e,href:t,target:i,rel:a,role:u,onClick:h,tabIndex:m=0,type:g}){n||(t!=null||i!=null||a!=null?n="a":n="button");const v={tagName:n};if(n==="button")return[{type:g||"button",disabled:e},v];const E=A=>{if((e||n==="a"&&d6(t))&&A.preventDefault(),e){A.stopPropagation();return}h==null||h(A)},S=A=>{A.key===" "&&(A.preventDefault(),E(A))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:u??"button",disabled:void 0,tabIndex:e?void 0:m,href:t,target:n==="a"?i:void 0,"aria-disabled":e||void 0,rel:n==="a"?a:void 0,onClick:E,onKeyDown:S},v]}const m6=B.forwardRef((n,e)=>{let{as:t,disabled:i}=n,a=h6(n,f6);const[u,{tagName:h}]=vI(Object.assign({tagName:t,disabled:i},a));return b.jsx(h,Object.assign({},a,u,{ref:e}))});m6.displayName="Button";const p6={[Eu]:"show",[hf]:"show"},mb=B.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:i,...a},u)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},m=B.useCallback((g,v)=>{t6(g),i==null||i(g,v)},[i]);return b.jsx(yI,{ref:u,addEndListener:e6,...h,onEnter:m,childRef:m0(e),children:(g,v)=>B.cloneElement(e,{...v,className:Os("fade",n,e.props.className,p6[g],t[g])})})});mb.displayName="Fade";const g6={"aria-label":YE.string,onClick:YE.func,variant:YE.oneOf(["white"])},pb=B.forwardRef(({className:n,variant:e,"aria-label":t="Close",...i},a)=>b.jsx("button",{ref:a,type:"button",className:Os("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...i}));pb.displayName="CloseButton";pb.propTypes=g6;const gb=B.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:i,active:a=!1,disabled:u=!1,className:h,...m},g)=>{const v=Gu(e,"btn"),[E,{tagName:S}]=vI({tagName:n,disabled:u,...m}),A=S;return b.jsx(A,{...E,...m,ref:g,disabled:u,className:Os(h,v,a&&"active",t&&`${v}-${t}`,i&&`${v}-${i}`,m.href&&u&&"disabled")})});gb.displayName="Button";function y6(n){const e=B.useRef(n);return e.current=n,e}function v6(n){const e=y6(n);B.useEffect(()=>()=>e.current(),[])}var _6=Function.prototype.bind.call(Function.prototype.call,[].slice);function cd(n,e){return _6(n.querySelectorAll(e))}function mA(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const E6="data-rr-ui-";function T6(n){return`${E6}${n}`}const _I=B.createContext(Gd?window:void 0);_I.Provider;function yb(){return B.useContext(_I)}const pA=n=>!n||typeof n=="function"?n:e=>{n.current=e};function w6(n,e){const t=pA(n),i=pA(e);return a=>{t&&t(a),i&&i(a)}}function vb(n,e){return B.useMemo(()=>w6(n,e),[n,e])}var Dv;function gA(n){if((!Dv&&Dv!==0||n)&&Gd){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Dv=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Dv}function b6(){return B.useState(null)}function QE(n){n===void 0&&(n=d0());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function S6(n){const e=B.useRef(n);return e.current=n,e}function A6(n){const e=S6(n);B.useEffect(()=>()=>e.current(),[])}function R6(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const yA=T6("modal-open");class _b{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:i=!1}={}){this.handleContainerOverflow=t,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return R6(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();e.style={overflow:a.style.overflow,[i]:a.style[i]},e.scrollBarWidth&&(t[i]=`${parseInt(Sf(a,i)||"0",10)+e.scrollBarWidth}px`),a.setAttribute(yA,""),Sf(a,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(yA),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const XE=(n,e)=>Gd?n==null?(e||d0()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function x6(n,e){const t=yb(),[i,a]=B.useState(()=>XE(n,t==null?void 0:t.document));if(!i){const u=XE(n);u&&a(u)}return B.useEffect(()=>{},[e,i]),B.useEffect(()=>{const u=XE(n);u!==i&&a(u)},[n,i]),i}function C6({children:n,in:e,onExited:t,mountOnEnter:i,unmountOnExit:a}){const u=B.useRef(null),h=B.useRef(e),m=df(t);B.useEffect(()=>{e?h.current=!0:m(u.current)},[e,m]);const g=vb(u,m0(n)),v=B.cloneElement(n,{ref:g});return e?v:a||!h.current&&i?null:v}const I6=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function N6(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function D6(n){let{onEnter:e,onEntering:t,onEntered:i,onExit:a,onExiting:u,onExited:h,addEndListener:m,children:g}=n,v=N6(n,I6);const E=B.useRef(null),S=vb(E,m0(g)),A=he=>ne=>{he&&E.current&&he(E.current,ne)},D=B.useCallback(A(e),[e]),O=B.useCallback(A(t),[t]),F=B.useCallback(A(i),[i]),k=B.useCallback(A(a),[a]),U=B.useCallback(A(u),[u]),Q=B.useCallback(A(h),[h]),J=B.useCallback(A(m),[m]);return Object.assign({},v,{nodeRef:E},e&&{onEnter:D},t&&{onEntering:O},i&&{onEntered:F},a&&{onExit:k},u&&{onExiting:U},h&&{onExited:Q},m&&{addEndListener:J},{children:typeof g=="function"?(he,ne)=>g(he,Object.assign({},ne,{ref:S})):B.cloneElement(g,{ref:S})})}const O6=["component"];function M6(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const P6=B.forwardRef((n,e)=>{let{component:t}=n,i=M6(n,O6);const a=D6(i);return b.jsx(t,Object.assign({ref:e},a))});function L6({in:n,onTransition:e}){const t=B.useRef(null),i=B.useRef(!0),a=df(e);return dA(()=>{if(!t.current)return;let u=!1;return a({in:n,element:t.current,initial:i.current,isStale:()=>u}),()=>{u=!0}},[n,a]),dA(()=>(i.current=!1,()=>{i.current=!0}),[]),t}function k6({children:n,in:e,onExited:t,onEntered:i,transition:a}){const[u,h]=B.useState(!e);e&&u&&h(!1);const m=L6({in:!!e,onTransition:v=>{const E=()=>{v.isStale()||(v.in?i==null||i(v.element,v.initial):(h(!0),t==null||t(v.element)))};Promise.resolve(a(v)).then(E,S=>{throw v.in||h(!0),S})}}),g=vb(m,m0(n));return u&&!e?null:B.cloneElement(n,{ref:g})}function vA(n,e,t){return n?b.jsx(P6,Object.assign({},t,{component:n})):e?b.jsx(k6,Object.assign({},t,{transition:e})):b.jsx(C6,Object.assign({},t))}const U6=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function V6(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}let ZE;function j6(n){return ZE||(ZE=new _b({ownerDocument:n==null?void 0:n.document})),ZE}function B6(n){const e=yb(),t=n||j6(e),i=B.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>t.add(i.current),remove:()=>t.remove(i.current),isTopModal:()=>t.isTopModal(i.current),setDialogRef:B.useCallback(a=>{i.current.dialog=a},[]),setBackdropRef:B.useCallback(a=>{i.current.backdrop=a},[])})}const EI=B.forwardRef((n,e)=>{let{show:t=!1,role:i="dialog",className:a,style:u,children:h,backdrop:m=!0,keyboard:g=!0,onBackdropClick:v,onEscapeKeyDown:E,transition:S,runTransition:A,backdropTransition:D,runBackdropTransition:O,autoFocus:F=!0,enforceFocus:k=!0,restoreFocus:U=!0,restoreFocusOptions:Q,renderDialog:J,renderBackdrop:he=Dt=>b.jsx("div",Object.assign({},Dt)),manager:ne,container:z,onShow:N,onHide:I=()=>{},onExit:L,onExited:H,onExiting:K,onEnter:X,onEntering:q,onEntered:Xe}=n,Je=V6(n,U6);const ce=yb(),pe=x6(z),_e=B6(ne),Me=o6(),G=l6(t),[me,Ne]=B.useState(!t),we=B.useRef(null);B.useImperativeHandle(e,()=>_e,[_e]),Gd&&!G&&t&&(we.current=QE(ce==null?void 0:ce.document)),t&&me&&Ne(!1);const Ue=df(()=>{if(_e.add(),Zt.current=C_(document,"keydown",Nt),Mn.current=C_(document,"focus",()=>setTimeout(ze),!0),N&&N(),F){var Dt,us;const an=QE((Dt=(us=_e.dialog)==null?void 0:us.ownerDocument)!=null?Dt:ce==null?void 0:ce.document);_e.dialog&&an&&!mA(_e.dialog,an)&&(we.current=an,_e.dialog.focus())}}),Ke=df(()=>{if(_e.remove(),Zt.current==null||Zt.current(),Mn.current==null||Mn.current(),U){var Dt;(Dt=we.current)==null||Dt.focus==null||Dt.focus(Q),we.current=null}});B.useEffect(()=>{!t||!pe||Ue()},[t,pe,Ue]),B.useEffect(()=>{me&&Ke()},[me,Ke]),A6(()=>{Ke()});const ze=df(()=>{if(!k||!Me()||!_e.isTopModal())return;const Dt=QE(ce==null?void 0:ce.document);_e.dialog&&Dt&&!mA(_e.dialog,Dt)&&_e.dialog.focus()}),mn=df(Dt=>{Dt.target===Dt.currentTarget&&(v==null||v(Dt),m===!0&&I())}),Nt=df(Dt=>{g&&Wj(Dt)&&_e.isTopModal()&&(E==null||E(Dt),Dt.defaultPrevented||I())}),Mn=B.useRef(),Zt=B.useRef(),Sn=(...Dt)=>{Ne(!0),H==null||H(...Dt)};if(!pe)return null;const qn=Object.assign({role:i,ref:_e.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},Je,{style:u,className:a,tabIndex:-1});let Ar=J?J(qn):b.jsx("div",Object.assign({},qn,{children:B.cloneElement(h,{role:"document"})}));Ar=vA(S,A,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:L,onExiting:K,onExited:Sn,onEnter:X,onEntering:q,onEntered:Xe,children:Ar});let Wt=null;return m&&(Wt=he({ref:_e.setBackdropRef,onClick:mn}),Wt=vA(D,O,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Wt})),b.jsx(b.Fragment,{children:vd.createPortal(b.jsxs(b.Fragment,{children:[Wt,Ar]}),pe)})});EI.displayName="Modal";const F6=Object.assign(EI,{Manager:_b});function z6(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function H6(n,e){n.classList?n.classList.add(e):z6(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function _A(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function q6(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=_A(n.className,e):n.setAttribute("class",_A(n.className&&n.className.baseVal||"",e))}const fd={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class G6 extends _b{adjustAndStore(e,t,i){const a=t.style[e];t.dataset[e]=a,Sf(t,{[e]:`${parseFloat(Sf(t,e))+i}px`})}restore(e,t){const i=t.dataset[e];i!==void 0&&(delete t.dataset[e],Sf(t,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(H6(t,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";cd(t,fd.FIXED_CONTENT).forEach(u=>this.adjustAndStore(i,u,e.scrollBarWidth)),cd(t,fd.STICKY_CONTENT).forEach(u=>this.adjustAndStore(a,u,-e.scrollBarWidth)),cd(t,fd.NAVBAR_TOGGLER).forEach(u=>this.adjustAndStore(a,u,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();q6(t,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";cd(t,fd.FIXED_CONTENT).forEach(u=>this.restore(i,u)),cd(t,fd.STICKY_CONTENT).forEach(u=>this.restore(a,u)),cd(t,fd.NAVBAR_TOGGLER).forEach(u=>this.restore(a,u))}}let JE;function $6(n){return JE||(JE=new G6(n)),JE}const TI=B.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Gu(e,"modal-body"),b.jsx(t,{ref:a,className:Os(n,e),...i})));TI.displayName="ModalBody";const wI=B.createContext({onHide(){}}),Eb=B.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:i,size:a,fullscreen:u,children:h,scrollable:m,...g},v)=>{n=Gu(n,"modal");const E=`${n}-dialog`,S=typeof u=="string"?`${n}-fullscreen-${u}`:`${n}-fullscreen`;return b.jsx("div",{...g,ref:v,className:Os(E,e,a&&`${n}-${a}`,i&&`${E}-centered`,m&&`${E}-scrollable`,u&&S),children:b.jsx("div",{className:Os(`${n}-content`,t),children:h})})});Eb.displayName="ModalDialog";const bI=B.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Gu(e,"modal-footer"),b.jsx(t,{ref:a,className:Os(n,e),...i})));bI.displayName="ModalFooter";const SI=B.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:i,children:a,...u},h)=>{const m=B.useContext(wI),g=QT(()=>{m==null||m.onHide(),i==null||i()});return b.jsxs("div",{ref:h,...u,children:[a,t&&b.jsx(pb,{"aria-label":n,variant:e,onClick:g})]})});SI.displayName="AbstractModalHeader";const AI=B.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:i=!1,...a},u)=>(n=Gu(n,"modal-header"),b.jsx(SI,{ref:u,...a,className:Os(e,n),closeLabel:t,closeButton:i})));AI.displayName="ModalHeader";const K6=s6("h4"),RI=B.forwardRef(({className:n,bsPrefix:e,as:t=K6,...i},a)=>(e=Gu(e,"modal-title"),b.jsx(t,{ref:a,className:Os(n,e),...i})));RI.displayName="ModalTitle";function Y6(n){return b.jsx(mb,{...n,timeout:null})}function W6(n){return b.jsx(mb,{...n,timeout:null})}const xI=B.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:i,contentClassName:a,children:u,dialogAs:h=Eb,"data-bs-theme":m,"aria-labelledby":g,"aria-describedby":v,"aria-label":E,show:S=!1,animation:A=!0,backdrop:D=!0,keyboard:O=!0,onEscapeKeyDown:F,onShow:k,onHide:U,container:Q,autoFocus:J=!0,enforceFocus:he=!0,restoreFocus:ne=!0,restoreFocusOptions:z,onEntered:N,onExit:I,onExiting:L,onEnter:H,onEntering:K,onExited:X,backdropClassName:q,manager:Xe,...Je},ce)=>{const[pe,_e]=B.useState({}),[Me,G]=B.useState(!1),me=B.useRef(!1),Ne=B.useRef(!1),we=B.useRef(null),[Ue,Ke]=b6(),ze=gI(ce,Ke),mn=QT(U),Nt=kj();n=Gu(n,"modal");const Mn=B.useMemo(()=>({onHide:mn}),[mn]);function Zt(){return Xe||$6({isRTL:Nt})}function Sn(He){if(!Gd)return;const it=Zt().getScrollbarWidth()>0,An=He.scrollHeight>d0(He).documentElement.clientHeight;_e({paddingRight:it&&!An?gA():void 0,paddingLeft:!it&&An?gA():void 0})}const qn=QT(()=>{Ue&&Sn(Ue.dialog)});v6(()=>{WT(window,"resize",qn),we.current==null||we.current()});const Ar=()=>{me.current=!0},Wt=He=>{me.current&&Ue&&He.target===Ue.dialog&&(Ne.current=!0),me.current=!1},Dt=()=>{G(!0),we.current=pI(Ue.dialog,()=>{G(!1)})},us=He=>{He.target===He.currentTarget&&Dt()},an=He=>{if(D==="static"){us(He);return}if(Ne.current||He.target!==He.currentTarget){Ne.current=!1;return}U==null||U()},Ba=He=>{O?F==null||F(He):(He.preventDefault(),D==="static"&&Dt())},aa=(He,it)=>{He&&Sn(He),H==null||H(He,it)},Wr=He=>{we.current==null||we.current(),I==null||I(He)},Bn=(He,it)=>{K==null||K(He,it),mI(window,"resize",qn)},yr=He=>{He&&(He.style.display=""),X==null||X(He),WT(window,"resize",qn)},vr=B.useCallback(He=>b.jsx("div",{...He,className:Os(`${n}-backdrop`,q,!A&&"show")}),[A,q,n]),cs={...t,...pe};cs.display="block";const Qr=He=>b.jsx("div",{role:"dialog",...He,style:cs,className:Os(e,n,Me&&`${n}-static`,!A&&"show"),onClick:D?an:void 0,onMouseUp:Wt,"data-bs-theme":m,"aria-label":E,"aria-labelledby":g,"aria-describedby":v,children:b.jsx(h,{...Je,onMouseDown:Ar,className:i,contentClassName:a,children:u})});return b.jsx(wI.Provider,{value:Mn,children:b.jsx(F6,{show:S,ref:ze,backdrop:D,container:Q,keyboard:!0,autoFocus:J,enforceFocus:he,restoreFocus:ne,restoreFocusOptions:z,onEscapeKeyDown:Ba,onShow:k,onHide:U,onEnter:aa,onEntering:Bn,onEntered:N,onExit:Wr,onExiting:L,onExited:yr,manager:Zt(),transition:A?Y6:void 0,backdropTransition:A?W6:void 0,renderBackdrop:vr,renderDialog:Qr})})});xI.displayName="Modal";const Ti=Object.assign(xI,{Body:TI,Header:AI,Title:RI,Footer:bI,Dialog:Eb,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),CI=B.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:i,as:a="div",className:u,...h},m)=>{n=Gu(n,"spinner");const g=`${n}-${t}`;return b.jsx(a,{ref:m,...h,className:Os(u,g,i&&`${g}-${i}`,e&&`text-${e}`)})});CI.displayName="Spinner";const EA=n=>{const e=a=>{const u="00";return(u+a).slice(-u.length)},t=Math.floor(n/60),i=n-60*t;return`${t}:${e(i)}`};function Q6({gameMode:n,deck:e,board:t,declarer:i,setsFound:a,players:u,elapsedTime:h,timeLeft:m}){const g=Zp(t);switch(n){case"shared-device":return null;case"versus":return b.jsx("div",{className:`topbar py-2 bg-${i?"light":"dark"}-orange`,children:b.jsx("nav",{className:"text-white",children:b.jsxs("div",{className:"d-flex justify-content-around text-center",children:[b.jsxs("div",{children:["Sets: ",b.jsx("span",{className:"mono-font",children:g})]}),b.jsx("div",{children:i&&b.jsxs(b.Fragment,{children:["SET! ",i]})})]})})});case"puzzle":return b.jsx("div",{className:"navbar-fixed",children:b.jsx("nav",{children:b.jsxs("div",{className:"nav-wrapper",style:{display:"flex",justifyContent:"space-between"},children:[b.jsxs("div",{children:["Total Sets: ",b.jsx("span",{className:"mono-font",children:g})]}),b.jsxs("div",{children:["Remaining:"," ",b.jsx("span",{className:"mono-font",children:a?g-a.length:g})]}),b.jsxs("div",{children:["Time:"," ",b.jsx("span",{className:"mono-font",children:h!==void 0?EA(h):"0:00"})]})]})})});case"training":return b.jsx("div",{className:"topbar py-2 bg-dark-orange navbar-fixed",children:b.jsx("nav",{children:b.jsxs("div",{className:"nav-wrapper d-flex justify-content-around",children:[b.jsxs("div",{children:["Time:"," ",b.jsx("span",{className:"mono-font",children:h!==void 0?EA(h):"0:00"})]}),b.jsxs("div",{children:["Score: ",b.jsx("span",{className:"mono-font",children:u.you.score})]}),b.jsxs("div",{children:["Remaining:"," ",b.jsx("span",{className:"mono-font",children:typeof m=="number"&&m>0?m.toFixed(1):"0.0"})]})]})})});default:return null}}function TA({players:n,declarer:e,handlePlayerClick:t}){return b.jsx("div",{className:"row my-4 text-center justify-content-between",children:n.map(i=>b.jsx("div",{className:`col-2 bg-${i.color} ${i.name===e?"active-player":""}`,onClick:()=>{t(i.name)},children:b.jsx("p",{className:"my-2 align-middle",children:i.name===e?"SET!":i.score})},i.name))})}function p0(n){const[e,t]=B.useState(null),[i,a]=B.useState(window.innerHeight),{board:u,selected:h,deck:m,declarer:g,players:v,gameOver:E,myName:S,setFound:A,solo:D,gameMode:O}=n,F=O==="shared-device";B.useEffect(()=>{const z=Dn.debounce(()=>{a(window.innerHeight)},150);return window.addEventListener("resize",z),function(){window.removeEventListener("resize",z)}},[]),B.useEffect(()=>{t(Zp(u,{debug:!1}))},[u]);const U=(({declarer:z,players:N})=>z?Dn.get(N,`${z}.color`,""):Dn.get(N,`${S}.color`,""))(n);if(!Dn.isEmpty(E))return b.jsx(Ij,{gameOver:E,myName:S,solo:D,reset:n.resetGame});const Q=Dn.map(v,(z,N)=>({name:N,...z})),J=Math.ceil(Q.length/2),he=Q.slice(0,J),ne=Q.slice(J);return b.jsxs(B.Fragment,{children:[(Dn.isEmpty(v)||!Object.keys(v).includes(S))&&b.jsxs(Ti,{show:!0,children:[b.jsx(Ti.Header,{children:b.jsx(Ti.Title,{children:"Waiting to join..."})}),b.jsxs(Ti.Body,{children:[b.jsx("h4",{children:"Players:"}),b.jsx("ul",{className:"collection",children:Dn.map(v,(z,N)=>b.jsx("li",{className:"collection-item",children:b.jsxs("span",{className:"player-name",children:[N," ",z.host&&"(host)"]})},N))})]})]}),b.jsx(Q6,{...n}),b.jsxs("div",{className:"container",children:[F&&b.jsx(TA,{players:he,declarer:g,handlePlayerClick:n.handleCardClick}),b.jsxs("div",{className:"board d-flex flex-column align-items-center",children:[b.jsx("div",{className:"board-main-container",children:u.map((z,N)=>{const L=h.includes(z)?{backgroundColor:U}:{};return b.jsx("div",{className:"card-wrapper",onClick:()=>{n.handleCardClick(z)},children:b.jsx("div",{className:"card-holder",style:L,children:b.jsx("div",{className:`card ${A&&h.length===3&&!h.includes(z)?"blurry":""}`,children:b.jsx(Li,{desc:z})})})},`${z}-${N}`)})}),!F&&!["puzzle","training"].includes(O)&&b.jsx("div",{className:"row my-1 text-center fixed-bottom",children:Dn.map(v,(z,N)=>b.jsx("div",{className:"col s4 m3",children:b.jsxs("span",{className:`player-name bg-${z.color}`,children:[N,": ",z.score]})},N))}),n.handleRedeal&&b.jsx("div",{className:"row mt-3",children:b.jsx("div",{className:"col mt-3 mt-md-4",children:b.jsx("button",{onClick:n.handleRedeal,className:"btn btn-primary",children:"Shuffle"})})})]}),F&&b.jsx(TA,{players:ne,declarer:g,handlePlayerClick:n.handleCardClick})]})]})}function II({isHost:n,players:e,setState:t,setAndSendState:i}){return Dn.findKey(e,a=>a.host),b.jsxs("div",{className:"container mt-4",children:[b.jsx("h4",{children:"Players:"}),b.jsx("ul",{className:"collection",children:Dn.map(e,(a,u)=>b.jsx("li",{className:"collection-item",children:b.jsxs("span",{className:"player-name",children:[u," ",a.host&&"(host)"]})},u))}),n?b.jsx("button",{className:"btn btn-primary",onClick:()=>{const a={gameStarted:!0};i?i(a):t(a)},children:"Start Game"}):b.jsx("p",{children:"Waiting for host to start game..."})]})}const NI=[Cs.lightBlue,Cs.pink,Cs.amber,Cs.lightGreen,Cs.purple,Cs.orange,Cs.errorRed],X6={colors:NI,playingTo:6},eT=X6,Z6=n=>{Pf();const t=B.useRef({}).current,i=h0(),a={...Jp({deck:i.slice(12),board:i.slice(0,12)}),selected:[]},[u,h]=B.useState(void 0),[m,g]=B.useState(""),[v,E]=B.useState(void 0),[S,A]=B.useState(void 0),[D,O]=B.useState(void 0),[F,k]=B.useState({gameTitle:"",players:{},created:!1,gameStarted:!1,myName:"",setFound:!1,declarer:null,gameOver:"",...a}),U=B.useRef(F);U.current=F;const Q=pe=>{k(_e=>{const Me={..._e,...pe};return U.current=Me,Me})};B.useEffect(()=>{if(n&&!Dn.isEmpty(n.uid)){const pe=w4(m_(vf,"games"),b4("creator_uid","==",n.uid));R4(pe).then(function(_e){_e.forEach(function(Me){console.log(Me.id);const G={...Me.data(),gameTitle:Me.id};console.log("Old game: ",G),h(G)})}).catch(function(_e){console.log("Error getting documents: ",_e)})}},[n]),B.useEffect(()=>()=>{D&&D(),S&&S(),v!==void 0&&window.clearInterval(v)},[S,D,v]);const J=pe=>{const _e=m_(pe,"actions");return g_(_e,G=>{G.docChanges().forEach(me=>{if(me.type==="added"){const Ne=me.doc.data();N(Ne),OE(yf(_e,me.doc.id))}me.type==="removed"&&console.log("Removed action: ",me.doc.data())})})},he=async pe=>{t.game=yf(vf,"games",pe);const _e=window.setInterval(()=>{sA(t.game,{})},3e4);E(_e);const Me=J(t.game);O(()=>Me)},ne=pe=>{if(!pe)return{};const{players:_e}=U.current,Me=_e[pe].score+1,G=fb(_e,{[pe]:{$merge:{score:Me}}}),me=Me>=eT.playingTo?pe:"";return me&&window.setTimeout(()=>{t.game&&OE(t.game),v!==void 0&&clearInterval(v)},3e3),{players:G,gameOver:me}},z=(pe,_e)=>{for(let Me=0;Me<_e.length;Me++)if(!pe.includes(_e[Me]))return!1;return!0},N=pe=>{const{type:_e,payload:Me}=pe,{players:G,declarer:me,board:Ne}=U.current;switch(_e){case"join":if(Object.keys(G).includes(Me.name))return;const we={...G,[Me.name]:{host:!1,uid:Me.uid,score:0,color:eT.colors[Object.keys(G).length]}};L({players:we});break;case"found":!me&&z(Ne,Me.selected)&&H(Me.selected,Me.name);break;default:return}},I=(pe,_e)=>{if(ki(pe)){const Me=ne(_e),G={...U.current,setFound:!1,declarer:null,...Me,...hI(U.current)};L(G)}},L=pe=>{console.log("updating",U.current.gameTitle),Q(pe),sA(t.game,pe)},H=(pe,_e)=>{const Me={setFound:ki(pe),selected:pe,declarer:_e};L(Me),Me.setFound&&setTimeout(()=>{I(pe,_e)},4e3)};return{state:F,gameInProgress:u,handlers:{handleCardClick:pe=>{const{myName:_e}=U.current;if(!U.current.declarer){const Me=hb(pe,U.current.selected);ki(Me)&&H(Me,_e),Q({selected:Me})}},handleRedeal:()=>{const pe=Jp(U.current);L(pe)},handleCreateGame:pe=>{pe.preventDefault();const{myName:_e,board:Me,deck:G,selected:me,players:Ne,gameOver:we,gameStarted:Ue}=U.current,Ke=Dn.isEmpty(m)?`${_e}'s game`:m;g(Ke),t.game=yf(vf,"games",Ke),x4(t.game,{creator_uid:n==null?void 0:n.uid,players:Ne,board:Me,deck:G,selected:me,gameOver:we,gameStarted:Ue,lastUpdate:kp()});const ze=window.setInterval(()=>{t.game&&eC(t.game,{lastUpdate:kp()})},3e4);E(ze);const mn=J(t.game);O(()=>mn),Q({created:!0,gameTitle:Ke})},handleSetName:pe=>{pe.preventDefault(),n!=null&&n.nickname&&Q({myName:n.nickname,players:{[n.nickname]:{name:n.nickname,host:!0,uid:n.uid,score:0,color:eT.colors[0]}}})},handleRejectResume:()=>{const{gameTitle:pe}=u,_e=yf(vf,"games",pe);OE(_e).then(()=>{console.log("Deleted old game"),h(void 0)})},reloadGame:()=>{const pe=Dn.findKey(u.players,Me=>Me.host),{gameTitle:_e}=u;Q({gameTitle:_e}),he(_e),Q({myName:pe,created:!0,...u,lastUpdate:kp()})},setGameTitle:g,setState:Q,setAndSendState:L}}},g0=({children:n,title:e})=>b.jsx("div",{className:"container mt-5",children:b.jsx("div",{className:"row justify-content-center",children:b.jsx("div",{className:"col-md-6",children:b.jsx("div",{className:"card shadow",children:b.jsxs("div",{className:"card-body text-center p-4",children:[e&&b.jsx("h4",{className:"card-title mb-4",children:e}),n]})})})})}),J6=()=>b.jsxs(g0,{title:"Sign In Required",children:[b.jsx("p",{className:"mb-4",children:"To host a game, sign in with your Google account."}),b.jsx("button",{onClick:yg,className:"btn btn-info btn-lg",children:"Sign in"})]}),e9=({onResumeGame:n,onDeleteGame:e})=>b.jsxs(g0,{title:"Existing Game Found",children:[b.jsx("p",{className:"mb-4",children:"You are already hosting a game. Would you like to return to it?"}),b.jsxs("div",{className:"d-flex gap-3 justify-content-center",children:[b.jsx("button",{className:"btn btn-primary",onClick:n,children:"Yes, Resume Game"}),b.jsx("button",{className:"btn btn-danger",onClick:e,children:"No, Delete Game"})]})]}),Tb=({user:n})=>{const e=Pf(),t=EC(),i=()=>{s2(Md).then(()=>{e(nj()),localStorage.removeItem("guestUser"),localStorage.removeItem("nickname"),console.log("Signed out."),t("/")})};return!n||!n.uid?null:b.jsx("div",{className:"user-info-section",children:b.jsxs("div",{className:"d-flex justify-content-between align-items-center flex-wrap gap-2",children:[b.jsxs("div",{className:"flex-grow-1 min-width-0",children:[b.jsxs("div",{className:"user-display-name text-truncate",children:["Signed in as ",n.displayName||"User"]}),n.email&&b.jsx("div",{className:"user-email text-truncate small text-muted",children:n.email})]}),b.jsx("button",{className:"btn btn-danger btn-sm flex-shrink-0",onClick:i,style:{minWidth:"auto",fontSize:"0.75rem",padding:"0.25rem 0.5rem"},children:"Sign Out"})]})})},t9=({user:n,onSetName:e})=>{const t=Pf();return b.jsxs(g0,{title:"Enter Your Nickname",children:[b.jsx(Tb,{user:n}),b.jsxs("form",{onSubmit:e,children:[b.jsx("div",{className:"mb-4",children:b.jsx("input",{autoFocus:!0,placeholder:"Enter your nickname",className:"form-control form-control-lg text-center",value:(n==null?void 0:n.nickname)||"",onChange:i=>{t(fI(i.target.value)),window.localStorage.setItem("nickname",i.target.value)}})}),b.jsx("div",{className:"mb-4",children:b.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",children:"Set Nickname"})})]}),b.jsx("div",{className:"mt-4",children:b.jsx(Tr,{to:"/",className:"btn btn-outline-secondary",children:"← Back to Main Menu"})})]})},n9=({myName:n,gameTitle:e,onGameTitleChange:t,onCreateGame:i})=>b.jsx(g0,{title:"Create Your Game",children:b.jsxs("form",{onSubmit:i,children:[b.jsx("div",{className:"mb-4",children:b.jsx("input",{autoFocus:!0,placeholder:`${n}'s game`,className:"form-control form-control-lg text-center",onChange:a=>t(a.target.value),value:e})}),b.jsx("div",{children:b.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",children:"Create Game"})})]})});function r9(){const n=eg(H=>H.user),{user:e,loading:t}=n,{state:i,gameInProgress:a,handlers:u}=Z6(e),{board:h,deck:m,selected:g,declarer:v,players:E,created:S,gameStarted:A,myName:D,gameTitle:O,setFound:F,gameOver:k}=i,{handleCardClick:U,handleRedeal:Q,handleCreateGame:J,handleSetName:he,handleRejectResume:ne,reloadGame:z,setGameTitle:N,setState:I,setAndSendState:L}=u;return t?"Loading...":Dn.isEmpty(e)?b.jsx(J6,{}):a&&!S?b.jsx(e9,{onResumeGame:z,onDeleteGame:ne}):D===""?b.jsx(t9,{user:e,onSetName:he}):S?A?b.jsx(p0,{board:h,deck:m,selected:g,declarer:v,handleCardClick:U,handleDeclare:()=>{},handleRedeal:Q,players:E,setFound:F,gameOver:k,myName:D,resetGame:()=>{},solo:!1,gameMode:"versus"}):b.jsx(II,{isHost:!0,players:E,setState:I,setAndSendState:L}):b.jsx(n9,{myName:D,gameTitle:O,onGameTitleChange:N,onCreateGame:J})}function i9(){const[n,e]=B.useState([]),[t,i]=B.useState(!1);B.useEffect(()=>{const u=m_(vf,"games"),h=g_(u,m=>{const g=[];m.forEach(v=>{g.push({name:v.id,lastUpdate:v.data().lastUpdate,...v.data()})}),i(!0),e(g)});return()=>{h()}},[]);const a=n.filter(u=>{const{lastUpdate:h}=u;if(!h)return!1;const m=h.toMillis(),g=new Date().getTime();return Math.round((g-m)/1e3)<40});return t?b.jsx("div",{className:"container",style:{height:"100vh"},children:a.length===0?b.jsx(B.Fragment,{children:b.jsx("div",{className:"row",children:b.jsxs("div",{className:"col-8 col-md-6",children:[b.jsx("div",{className:"card-panel teal",style:{marginTop:window.innerHeight*.2},children:b.jsx("span",{className:"white-text",children:"There are currently no active games."})}),b.jsxs("p",{children:["Click ",b.jsx(Tr,{to:"/host",children:"here"})," to host one"]}),b.jsx("p",{children:b.jsx(Tr,{className:"btn btn-primary",to:"/",children:"Back"})})]})})}):b.jsxs(B.Fragment,{children:[b.jsx("h4",{className:"text-center my-4",children:"Available games"}),b.jsx("div",{className:"row align-content-center",children:a.map((u,h)=>b.jsx("div",{className:"col-6 col-md-4",children:b.jsx("div",{className:"card available-game",children:b.jsx("div",{className:"my-auto text-center",children:b.jsx(Tr,{to:`/guest/${u.name}`,children:u.name})})})},u.name))}),b.jsx("div",{className:"row",children:b.jsx("div",{className:"col mt-4",children:b.jsx(Tr,{className:"btn btn-primary",to:"/",children:"Back"})})})]})}):null}function s9(n){const{gameName:e}=Uk(),[t,i]=B.useState({popupVisible:!1,setFound:!1,displayAnimation:!1,animatedSet:[],declarer:"",deck:[],board:[],selected:[],pending:null,gameStarted:!1,gameOver:""}),[a,u]=B.useState(""),m=B.useRef({}).current,g=B.useRef(t);g.current=t;const v=F=>{i(k=>{const U={...k,...F};return g.current=U,U})},E=()=>{const{declarer:F,selected:k}=g.current;Dn.isEmpty(F)&&k.length===3&&!ki(k)&&v({selected:[]})},S=async F=>{if(!m.actions){console.error("Firebase actions reference not set.");return}console.log("Creating action on",m.actions);try{const k=await C4(m.actions,{...F,created:kp()});if(F.type==="found"){const U=k.id;console.log("Document written with ID: ",U),v({pending:U})}}catch(k){console.error("Error sending action:",k),(k.code==="permission-denied"||k.code==="unauthenticated")&&(console.log("Firebase requires authentication for write operations. Guest functionality may be limited."),v({pending:null}))}},A=F=>{const k={...F.data()},{selected:U}=g.current;if(Dn.isEmpty(k))return;console.log("Updating guest state with:",k),k.gameStarted!==g.current.gameStarted&&console.log(`Game started status changed: ${g.current.gameStarted} -> ${k.gameStarted}`);const Q=U.length<3&&Dn.isEmpty(k.declarer)?U:k.selected;console.log("New selected",Q),v({...k,selected:Q,popupVisible:!1})},D=async F=>{const{declarer:k,selected:U}=g.current;if(k)return;const Q=hb(F,U);if(Q.length>3)return;const J={};if(Q.length===3)if(ki(Q)){const he={type:"found",payload:{selected:Q,name:a}};console.log("Found set, sending..."),await S(he),J.popupVisible=!0}else console.log("Bad set selected!"),window.setTimeout(E,1e3);v({...J,selected:Q})},O=async F=>{F.preventDefault();const k=n==null?void 0:n.nickname;if(Dn.isEmpty(k))return;u(k);const U={type:"join",payload:{name:k,uid:n==null?void 0:n.uid}};await S(U)};return B.useEffect(()=>{if(!e){console.error("Game name is undefined.");return}console.log("Setting up Firebase listeners for game:",e),console.log("Current Firebase auth state:",Md.currentUser),m.game=yf(vf,"games",e);const F=g_(m.game,U=>{console.log("Successfully received game update"),A(U)},U=>{console.error("Error listening to game updates:",U),U.code==="permission-denied"&&console.log("Read access denied. Firebase security rules may require authentication.")});m.actions=m_(m.game,"actions");const k=g_(m.actions,U=>{console.log("Successfully received actions update"),U.docChanges().forEach(Q=>{if(Q.type==="removed"){const{pending:J}=g.current;J===Q.doc.id&&(console.log("Pending action removed!"),v({pending:null}))}})},U=>{console.error("Error listening to actions:",U),U.code==="permission-denied"&&console.log("Actions access denied. Firebase security rules may require authentication.")});return function(){m.game&&F(),m.actions&&k()}},[e]),{state:t,myName:a,handlers:{handleCardClick:D,handleSetName:O,setState:v},firebaseRefs:m}}const a9=({onGuestJoin:n})=>{const e=Pf(),t=a=>{a.preventDefault();const h=a.target.nickname.value;if(!h.trim())return;const m={uid:`guest_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,nickname:h,displayName:h,isGuest:!0};localStorage.setItem("guestUser",JSON.stringify(m)),localStorage.setItem("nickname",h),e(Wv({user:m,loading:!1})),n(h)},i=()=>{localStorage.removeItem("guestUser"),yg()};return b.jsxs("div",{className:"container",children:[b.jsx("h4",{className:"mb-3",children:"Join as guest:"}),b.jsxs("form",{onSubmit:t,children:[b.jsx("div",{className:"col-12 col-md-4",children:b.jsx("input",{autoFocus:!0,type:"text",name:"nickname",placeholder:"Enter your nickname",required:!0})}),b.jsx("div",{className:"col-12 col-md-4",children:b.jsx("input",{className:"btn btn-primary mt-3 ml-md-3",type:"submit",value:"Join as Guest"})})]}),b.jsx("hr",{className:"my-4"}),b.jsx("p",{children:"Or sign in with your Google account for a persistent profile:"}),b.jsx("p",{children:b.jsx("button",{onClick:i,className:"btn btn-outline-info",children:"Sign in with Google"})}),b.jsx("p",{children:b.jsx(Tr,{to:"/lobby",children:"Back"})})]})},o9=({user:n,onSetName:e})=>{const t=Pf(),i=a=>{if(t(fI(a)),n!=null&&n.isGuest){const u={...n,nickname:a,displayName:a};localStorage.setItem("guestUser",JSON.stringify(u))}window.localStorage.setItem("nickname",a)};return b.jsxs("div",{className:"container",children:[b.jsx(Tb,{user:n}),b.jsx("h4",{className:"mb-3",children:"Choose your nickname:"}),(n==null?void 0:n.isGuest)&&b.jsx("div",{className:"alert alert-info mb-3",children:b.jsxs("small",{children:["👋 Welcome back, ",n.nickname,"! You're playing as a guest.",b.jsx("button",{className:"btn btn-link btn-sm p-0 ms-2",onClick:()=>{localStorage.removeItem("guestUser"),yg()},children:"Sign in with Google"}),"for a permanent profile."]})}),b.jsxs("form",{onSubmit:e,children:[b.jsx("div",{className:"col-12 col-md-4",children:b.jsx("input",{autoFocus:!0,type:"text",placeholder:"your name",value:(n==null?void 0:n.nickname)||"",onChange:a=>i(a.target.value)})}),b.jsx("div",{className:"col-12 col-md-4",children:b.jsx("input",{className:"btn btn-primary mt-3 ml-md-3",type:"submit",value:"Join"})})]})]})},l9=({state:n,myName:e,onCardClick:t})=>{const{board:i,deck:a,selected:u,declarer:h,players:m,setFound:g,gameOver:v,pending:E,popupVisible:S}=n;return b.jsxs(B.Fragment,{children:[b.jsxs(Ti,{show:E&&S,children:[b.jsx(Ti.Header,{children:b.jsx(Ti.Title,{children:"Submitting action..."})}),b.jsxs(Ti.Body,{children:[b.jsx("p",{className:"text-center",children:"SET!"}),b.jsx("div",{className:"text-center",children:b.jsx(CI,{animation:"border"})})]})]}),b.jsx(p0,{board:i,deck:a,selected:u,declarer:h,handleCardClick:t,handleDeclare:()=>{},players:m||{},setFound:g,gameOver:v,myName:e,gameMode:"versus",resetGame:()=>{},solo:!1})]})};function u9(){const n=eg(S=>S.user),{user:e,loading:t}=n,{state:i,myName:a,handlers:u}=s9(e),{handleCardClick:h,handleSetName:m,setState:g}=u,{players:v,gameStarted:E}=i;return t?"Loading profile...":Dn.isEmpty(e)?b.jsx(a9,{onGuestJoin:()=>{}}):a?E?b.jsx(l9,{state:i,myName:a,onCardClick:h}):b.jsx(II,{players:v||{},isHost:!1,setState:g}):b.jsx(o9,{user:e,onSetName:m})}const Af={turnTime:4e3,colors:NI,playingTo:6,cpuDelay:1200,setDisplayTime:2e3},Co={min:1,max:8,step:1,default:2},uf=[{setsOnBoard:1,averageAttempts:21.85,medianAttempts:16,percentiles:{p25:7,p75:30,p90:50},range:{min:1,max:136}},{setsOnBoard:2,averageAttempts:10.25,medianAttempts:7,percentiles:{p25:3,p75:14,p90:23},range:{min:1,max:72}},{setsOnBoard:3,averageAttempts:7.19,medianAttempts:5,percentiles:{p25:2,p75:10,p90:16},range:{min:1,max:54}},{setsOnBoard:4,averageAttempts:5.43,medianAttempts:4,percentiles:{p25:2,p75:8,p90:12},range:{min:1,max:35}},{setsOnBoard:5,averageAttempts:4.5,medianAttempts:3,percentiles:{p25:2,p75:6,p90:9},range:{min:1,max:25}},{setsOnBoard:6,averageAttempts:3.51,medianAttempts:3,percentiles:{p25:1,p75:5,p90:7},range:{min:1,max:21}}],c9=n=>{if(n<=1)return uf[0];if(n>=6)return uf[5];const e=uf.find(m=>m.setsOnBoard===n);if(e)return e;const t=Math.floor(n)-1,i=Math.ceil(n)-1,a=uf[t],u=uf[i];if(!a||!u)return uf[2];const h=n-a.setsOnBoard;return{setsOnBoard:n,averageAttempts:a.averageAttempts+h*(u.averageAttempts-a.averageAttempts),medianAttempts:Math.round(a.medianAttempts+h*(u.medianAttempts-a.medianAttempts)),percentiles:{p25:Math.round(a.percentiles.p25+h*(u.percentiles.p25-a.percentiles.p25)),p75:Math.round(a.percentiles.p75+h*(u.percentiles.p75-a.percentiles.p75)),p90:Math.round(a.percentiles.p90+h*(u.percentiles.p90-a.percentiles.p90))},range:{min:Math.round(a.range.min+h*(u.range.min-a.range.min)),max:Math.round(a.range.max+h*(u.range.max-a.range.max))}}},wb=(n,e=3)=>{const t={1:1.1,2:1.4,3:1.7,4:2.3,5:3.3,6:4,7:6,8:8},a=24e3/(5*(t[n]||t[2])),u=c9(e),h=u.averageAttempts*a,m=u.medianAttempts*a,g={fast:u.percentiles.p25*a,slow:u.percentiles.p75*a};return{cpuTurnInterval:a,averageAttempts:u.averageAttempts,medianAttempts:u.medianAttempts,averageTimeSeconds:Math.round(h/1e3),medianTimeSeconds:Math.round(m/1e3),typicalRangeSeconds:{fast:Math.round(g.fast/1e3),slow:Math.round(g.slow/1e3)},performanceData:u}},Ru=n=>{if(n<60)return`${n}s`;const e=Math.floor(n/60),t=n%60;return t===0?`${e}m`:`${e}m ${t}s`},f9=({currentDifficulty:n,isOpen:e,onClose:t})=>{const[i,a]=B.useState(n),[u,h]=B.useState(3);if(!e)return null;const m=wb(i,u),{cpuTurnInterval:g,averageAttempts:v,medianAttempts:E,averageTimeSeconds:S,medianTimeSeconds:A,typicalRangeSeconds:D,performanceData:O}=m;return b.jsx("div",{className:"modal fade show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:b.jsx("div",{className:"modal-dialog modal-lg",children:b.jsxs("div",{className:"modal-content",children:[b.jsxs("div",{className:"modal-header",children:[b.jsxs("h5",{className:"modal-title",children:[b.jsx("i",{className:"bi bi-cpu me-2"}),"CPU Performance Analysis"]}),b.jsx("button",{type:"button",className:"btn-close",onClick:t})]}),b.jsxs("div",{className:"modal-body",children:[b.jsxs("div",{className:"row mb-4",children:[b.jsxs("div",{className:"col-md-6",children:[b.jsx("label",{className:"form-label fw-bold",children:"Difficulty Level"}),b.jsx("input",{type:"range",min:Co.min,max:Co.max,step:Co.step,value:i,onChange:F=>a(Number(F.target.value)),className:"form-range"}),b.jsx("div",{className:"text-center",children:b.jsx("span",{className:"badge bg-primary",children:i})})]}),b.jsxs("div",{className:"col-md-6",children:[b.jsx("label",{className:"form-label fw-bold",children:"Sets on Board"}),b.jsx("input",{type:"range",min:1,max:6,step:1,value:u,onChange:F=>h(Number(F.target.value)),className:"form-range"}),b.jsx("div",{className:"text-center",children:b.jsxs("span",{className:"badge bg-success",children:[u," set",u!==1?"s":""]})})]})]}),b.jsxs("div",{className:"card mb-4",children:[b.jsx("div",{className:"card-header bg-primary text-white",children:b.jsxs("h6",{className:"mb-0",children:["Analysis: Difficulty ",i," with ",u," set",u!==1?"s":""," on board"]})}),b.jsxs("div",{className:"card-body",children:[b.jsxs("div",{className:"row text-center",children:[b.jsx("div",{className:"col-md-3",children:b.jsxs("div",{className:"border rounded p-2 mb-2",children:[b.jsxs("div",{className:"fw-bold text-primary fs-5",children:[(g/1e3).toFixed(1),"s"]}),b.jsx("small",{className:"text-muted",children:"Per Attempt"})]})}),b.jsx("div",{className:"col-md-3",children:b.jsxs("div",{className:"border rounded p-2 mb-2",children:[b.jsx("div",{className:"fw-bold text-info fs-5",children:v.toFixed(1)}),b.jsx("small",{className:"text-muted",children:"Avg Attempts"})]})}),b.jsx("div",{className:"col-md-3",children:b.jsxs("div",{className:"border rounded p-2 mb-2",children:[b.jsx("div",{className:"fw-bold text-success fs-5",children:Ru(S)}),b.jsx("small",{className:"text-muted",children:"Avg Time"})]})}),b.jsx("div",{className:"col-md-3",children:b.jsxs("div",{className:"border rounded p-2 mb-2",children:[b.jsxs("div",{className:"fw-bold text-warning fs-5",children:[Ru(D.fast),"-",Ru(D.slow)]}),b.jsx("small",{className:"text-muted",children:"Typical Range"})]})})]}),b.jsx("div",{className:"mt-3 p-2 bg-light rounded",children:b.jsxs("small",{className:"text-muted",children:[b.jsx("strong",{children:"Interpretation:"})," At difficulty ",i,", the CPU attempts to find a set every ",(g/1e3).toFixed(1)," seconds. With ",u," set",u!==1?"s":""," available, it takes an average of ",v.toFixed(1)," attempts (",Ru(S)," total) to successfully find one."]})})]})]}),b.jsx(h9,{selectedDifficulty:i}),b.jsx(d9,{performanceData:O})]}),b.jsxs("div",{className:"modal-footer",children:[b.jsx("small",{className:"text-muted me-auto",children:"Data based on 1000-trial simulations per scenario"}),b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,children:"Close"})]})]})})})},h9=({selectedDifficulty:n})=>b.jsxs("div",{className:"card mb-4",children:[b.jsx("div",{className:"card-header",children:b.jsxs("h6",{className:"mb-0",children:["Performance Matrix: Difficulty ",n," vs Sets on Board"]})}),b.jsx("div",{className:"card-body",children:b.jsx("div",{className:"table-responsive",children:b.jsxs("table",{className:"table table-sm table-hover",children:[b.jsx("thead",{className:"table-light",children:b.jsxs("tr",{children:[b.jsx("th",{children:"Sets on Board"}),b.jsx("th",{children:"Avg Attempts"}),b.jsx("th",{children:"Time per Attempt"}),b.jsx("th",{children:"Total Avg Time"}),b.jsx("th",{children:"Typical Range"})]})}),b.jsx("tbody",{children:uf.map(e=>{const t=wb(n,e.setsOnBoard);return b.jsxs("tr",{children:[b.jsx("td",{children:b.jsx("span",{className:"badge bg-secondary",children:e.setsOnBoard})}),b.jsx("td",{children:t.averageAttempts.toFixed(1)}),b.jsxs("td",{children:[(t.cpuTurnInterval/1e3).toFixed(1),"s"]}),b.jsx("td",{children:b.jsx("span",{className:"fw-bold text-primary",children:Ru(t.averageTimeSeconds)})}),b.jsx("td",{children:b.jsxs("small",{className:"text-muted",children:[Ru(t.typicalRangeSeconds.fast)," -"," ",Ru(t.typicalRangeSeconds.slow)]})})]},e.setsOnBoard)})})]})})})]}),d9=({performanceData:n})=>b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"card-header",children:b.jsx("h6",{className:"mb-0",children:"Detailed Statistics"})}),b.jsxs("div",{className:"card-body",children:[b.jsxs("div",{className:"row",children:[b.jsxs("div",{className:"col-md-6",children:[b.jsx("h6",{className:"text-muted",children:"Attempt Distribution"}),b.jsxs("ul",{className:"list-unstyled",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Average:"})," ",n.averageAttempts.toFixed(1)," attempts"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Median:"})," ",n.medianAttempts," attempts"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"25th percentile:"})," ",n.percentiles.p25," attempts"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"75th percentile:"})," ",n.percentiles.p75," attempts"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"90th percentile:"})," ",n.percentiles.p90," attempts"]})]})]}),b.jsxs("div",{className:"col-md-6",children:[b.jsx("h6",{className:"text-muted",children:"Performance Insights"}),b.jsxs("ul",{className:"list-unstyled",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Best case:"})," ",n.range.min," attempt",n.range.min!==1?"s":""]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Worst case:"})," ",n.range.max," attempts"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Success rate:"})," 100% (CPU always finds available sets)"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Strategy:"})," Random 2-card selection"]})]})]})]}),b.jsxs("div",{className:"mt-3 p-3 bg-info bg-opacity-10 rounded",children:[b.jsx("h6",{className:"text-info",children:"How CPU Strategy Works"}),b.jsx("small",{className:"text-muted",children:"The CPU randomly selects 2 cards from the board, calculates what the 3rd card would need to be to complete a set, then checks if that card exists on the board. If yes, it finds the set. If no, it tries again with 2 different cards. This process repeats until a set is found."})]})]})]}),m9=({cpuPerformance:n,onShowDetails:e})=>{const{averageTimeSeconds:t}=n,a=(u=>u<=10?{text:"Very Fast",color:"danger"}:u<=20?{text:"Fast",color:"warning"}:u<=40?{text:"Moderate",color:"info"}:u<=60?{text:"Slow",color:"secondary"}:{text:"Very Slow",color:"dark"})(t);return b.jsx("div",{className:"mt-3 p-3 border rounded bg-light",children:b.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center gap-3",children:[b.jsxs("div",{className:"text-center flex-grow-1",children:[b.jsx("div",{className:"mb-2",children:b.jsx("small",{className:"text-muted",children:"Opponent Set-Finding Time:"})}),b.jsx("div",{className:"text-center",children:b.jsxs("div",{className:"d-flex justify-content-center align-items-center gap-2 mb-1",children:[b.jsx("span",{className:"fw-bold text-primary fs-5",children:Ru(t)}),b.jsx("span",{className:`badge bg-${a.color} fs-6`,title:"CPU difficulty level based on average response time",children:a.text})]})}),b.jsx("div",{className:"mt-2",children:b.jsx("small",{className:"text-muted",children:"Average based on board showing 3 sets"})})]}),b.jsx("div",{className:"flex-shrink-0",children:b.jsxs("button",{type:"button",onClick:e,className:"btn btn-outline-info btn-sm",title:"View detailed CPU performance analysis",children:[b.jsx("i",{className:"bi bi-graph-up me-1"}),b.jsx("span",{className:"d-none d-sm-inline",children:"Detailed Analysis"}),b.jsx("span",{className:"d-inline d-sm-none",children:"Details"})]})})]})})},p9=({user:n,difficulty:e,onDifficultyChange:t,onStartGame:i})=>{const a=wb(e),[u,h]=B.useState(!1);return b.jsxs("div",{className:"container main-content",children:[b.jsx(Tb,{user:n}),b.jsxs("div",{className:"text-center mb-4",children:[b.jsx("h3",{className:"mb-3",children:"Solo Play vs. Computer"}),b.jsx("h4",{className:"mb-4",children:"Choose difficulty level:"})]}),b.jsx("div",{className:"row justify-content-center",children:b.jsxs("div",{className:"col-12 col-md-8",children:[b.jsxs("form",{onSubmit:i,className:"mb-4",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("input",{type:"range",min:Co.min,max:Co.max,step:Co.step,value:e,onChange:m=>t(Number(m.target.value)),className:"form-range"}),b.jsx("div",{className:"text-center mt-2",children:b.jsxs("span",{className:"badge bg-primary fs-6",children:["Difficulty: ",e]})}),b.jsx(m9,{cpuPerformance:a,onShowDetails:()=>h(!0)})]}),b.jsxs("div",{className:"text-center",children:[b.jsx("button",{type:"submit",className:"btn btn-primary btn-lg px-5",children:"Start Game"}),b.jsxs("p",{className:"mt-3 text-muted",children:["First to ",Af.playingTo," points is the winner"]})]})]}),b.jsx(g9,{})]})}),(!n||!n.uid)&&b.jsx(y9,{}),b.jsx(f9,{currentDifficulty:e,isOpen:u,onClose:()=>h(!1)})]})},g9=()=>b.jsxs("div",{className:"mt-5",children:[b.jsx("h5",{className:"mb-3 text-center",children:"Other Game Options"}),b.jsx("div",{className:"row",children:b.jsx("div",{className:"col-md-6",children:b.jsxs("div",{className:"d-grid gap-2",children:[b.jsx(Tr,{to:"/local",className:"btn btn-outline-primary",children:"Local Multiplayer"}),b.jsx(Tr,{to:"/training",className:"btn btn-outline-primary",children:"Training Mode"})]})})}),b.jsx("hr",{className:"my-4"}),b.jsx("div",{className:"text-center",children:b.jsx(Tr,{to:"/",className:"btn btn-outline-secondary",children:"← Back to Main Menu"})})]}),y9=()=>b.jsx("div",{className:"row justify-content-center mt-5",children:b.jsx("div",{className:"col-12 col-md-8",children:b.jsx("div",{className:"card border-info",children:b.jsxs("div",{className:"card-body text-center",children:[b.jsx("h5",{className:"card-title",children:"Save Your Progress"}),b.jsx("p",{className:"card-text",children:"Sign in with your Google account to track your game statistics and progress."}),b.jsx("button",{onClick:()=>{const n=yg();n&&typeof n.catch=="function"&&n.catch(console.error)},className:"btn btn-info btn-lg",children:"Sign in with Google"})]})})})}),v9="_errorFlash_1v44u_1",_9="_successFlash_1v44u_1",E9="_userFlash_1v44u_1",T9="_cpuFlash_1v44u_1",Ov={errorFlash:v9,successFlash:_9,userFlash:E9,cpuFlash:T9},DI=({showCpuFlash:n=!1,showUserFlash:e=!1,showSuccessFlash:t=!1,showErrorFlash:i=!1})=>b.jsxs(b.Fragment,{children:[n&&b.jsx("div",{className:Ov.cpuFlash}),e&&b.jsx("div",{className:Ov.userFlash}),t&&b.jsx("div",{className:Ov.successFlash}),i&&b.jsx("div",{className:Ov.errorFlash})]}),XT=n=>{const e=Number.isNaN(n)?Co.default:n,t={1:1.1,2:1.4,3:1.7,4:2.3,5:3.3,6:4,7:6,8:8};return 24e3/(5*(t[e]||t[Co.default]))},wA=()=>{const n=h0(),e=[];return{...Jp({deck:n.slice(12),board:n.slice(0,12)}),selected:e}},bA=()=>({players:{you:{score:0,color:Af.colors[0],name:"you"},cpu:{score:0,color:Af.colors[1],name:"cpu"}},gameStarted:!1,myName:"you",setFound:!1,declarer:null,gameOver:null,cpuTurnInterval:XT(Co.default),startTime:new Date,deck:[],board:[],selected:[],cpuFound:[]}),SA=()=>{const n=window.localStorage.getItem("soloDifficulty");return n?Number(n):Co.default},w9=n=>{window.localStorage.setItem("soloDifficulty",n.toString())},OI=(n,e,t)=>{var u;const i=(((u=n[e])==null?void 0:u.score)||0)+t;return[fb(n,{[e]:{$merge:{score:i}}}),i]},b9=()=>({startCpuTimer:(a,u,h)=>window.setInterval(()=>{u(m=>{const{board:g,declarer:v,gameOver:E}=m;if(v||E)return m;const[S,A]=Dn.shuffle(g).slice(0,2),D=ff(S,A);return g.includes(D)?(h(),{...m,declarer:"cpu",selected:[S],cpuFound:[A,D],setFound:!0}):m})},a.cpuTurnInterval),startCpuAnimation:(a,u)=>window.setInterval(()=>{u(h=>{const{selected:m,cpuFound:g}=h;if(!g||g.length===0)return h;const v=[...g],E=[...m,v.pop()];return E.length===3?{...h,cpuFound:v,selected:E,setFound:!0}:{...h,cpuFound:v,selected:E}})},Af.cpuDelay),startSetFoundTimer:(a,u)=>window.setTimeout(()=>{u(a.selected,a.declarer)},Af.setDisplayTime),startDeclarationTimer:(a,u)=>window.setTimeout(()=>{u(h=>{if(h.declarer&&!ki(h.selected)){const[m]=OI(h.players,h.declarer,-.5);return{...h,players:m,declarer:null,timeDeclared:void 0,selected:[]}}return h})},Af.turnTime)}),MI=()=>{const[n,e]=B.useState(!1),[t,i]=B.useState(!1),[a,u]=B.useState(!1),[h,m]=B.useState(!1);return{showCpuFlash:n,showUserFlash:t,showSuccessFlash:a,showErrorFlash:h,triggerCpuFlash:()=>{e(!0),setTimeout(()=>e(!1),800)},triggerUserFlash:()=>{i(!0),setTimeout(()=>i(!1),800)},triggerSuccessFlash:()=>{u(!0),setTimeout(()=>u(!1),500)},triggerErrorFlash:()=>{m(!0),setTimeout(()=>m(!1),800)}}},S9=n=>{const[e,t]=B.useState(()=>({...Dn.cloneDeep(bA()),...wA(),difficulty:SA()})),{showCpuFlash:i,showUserFlash:a,triggerCpuFlash:u,triggerUserFlash:h}=MI(),{startCpuTimer:m,startCpuAnimation:g,startSetFoundTimer:v,startDeclarationTimer:E}=b9();B.useEffect(()=>{const U=SA(),Q=XT(U);t(J=>({...J,difficulty:U,cpuTurnInterval:Q}))},[]),B.useEffect(()=>{let U=null;return e.gameStarted&&!e.gameOver&&!e.declarer&&!e.setFound&&(U=m(e,t,u)),()=>{U!==null&&clearInterval(U)}},[e.gameStarted,e.gameOver,e.declarer,e.setFound,e.cpuTurnInterval]),B.useEffect(()=>{let U=null;return e.declarer==="cpu"&&e.cpuFound&&e.cpuFound.length>0&&(U=g(e,t)),()=>{U!==null&&clearInterval(U)}},[e.declarer,e.cpuFound]),B.useEffect(()=>{let U=null;return e.setFound&&e.selected.length===3&&ki(e.selected)&&(U=v(e,S)),()=>{U!==null&&clearTimeout(U)}},[e.setFound,e.selected]),B.useEffect(()=>{let U=null;return e.declarer&&e.timeDeclared&&!e.setFound&&(U=E(e,t)),()=>{U!==null&&clearTimeout(U)}},[e.declarer,e.timeDeclared,e.setFound]);const S=(U,Q)=>{t(J=>{if(!J.setFound)return J;const[he,ne]=OI(J.players,Q,1),z=ne>=Af.playingTo?Q:"";if(z){const I=n&&n.uid||"anonymous",L=Q==="you"?1:0,H=Math.round((new Date().getTime()-J.startTime.getTime())/1e3);setTimeout(()=>{jn.post("/api/game",{uid:I,total_time:H,player_won:L,difficulty_level:J.difficulty,winning_score:ne}).catch(()=>{})},0)}const N=hI({board:J.board,deck:J.deck,selected:U});return{...J,...N,players:he,gameOver:z,setFound:!1,declarer:null,timeDeclared:void 0,selected:[]}})};return{state:e,flashState:{showCpuFlash:i,showUserFlash:a},handlers:{handleCardClick:U=>{t(Q=>{const{setFound:J,declarer:he,myName:ne,selected:z}=Q;if(J||he==="cpu")return Q;const N=hb(U,z);let I=he,L=Q.timeDeclared;he||(I=ne,L=new Date().getTime());const H=ki(N);return H&&I===ne&&h(),{...Q,selected:N,declarer:I,timeDeclared:L,setFound:H}})},handleRedeal:()=>{t(U=>({...U,...Jp(U)}))},resetGame:()=>{t(U=>({...Dn.cloneDeep(bA()),...wA(),difficulty:U.difficulty,cpuTurnInterval:U.cpuTurnInterval}))},handleStartGame:U=>{U.preventDefault(),t(Q=>({...Q,gameStarted:!0,startTime:new Date}))},handleDifficultyChange:U=>{const Q=XT(U);w9(U),t(J=>({...J,cpuTurnInterval:Q,difficulty:U}))}}}};function A9(){const n=eg(z=>z.user),{user:e}=n,{state:t,flashState:i,handlers:a}=S9(e);B.useEffect(()=>{console.log("Solo component - user state:",e?`${e.displayName} (${e.uid})`:"No user")},[e]);const{board:u,deck:h,selected:m,declarer:g,players:v,gameStarted:E,setFound:S,gameOver:A,myName:D,difficulty:O}=t,{showCpuFlash:F,showUserFlash:k}=i,{handleCardClick:U,handleRedeal:Q,resetGame:J,handleStartGame:he,handleDifficultyChange:ne}=a;return n.loading?"Loading...":E?b.jsxs(b.Fragment,{children:[b.jsx(DI,{showCpuFlash:F,showUserFlash:k}),b.jsx(p0,{board:u,deck:h,selected:m,declarer:g,handleCardClick:U,handleDeclare:()=>{},handleRedeal:Q,players:v,setFound:S,gameOver:A,myName:D,resetGame:J,solo:!0,gameMode:"versus"})]}):b.jsx(p9,{user:e,difficulty:O,onDifficultyChange:ne,onStartGame:he})}const PI=({name:n})=>b.jsxs("div",{children:[b.jsxs("h1",{children:[n," Component (Placeholder)"]}),b.jsx("p",{children:"This component will be migrated from the old app."})]}),R9=()=>b.jsx(PI,{name:"SharedDevice"});function x9({desc:n}){return b.jsx("div",{className:"col-4 my-2",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:n})})})}function C9(){const n=["0000","1210","0022","2101","0120","2011"];return b.jsxs("div",{className:"rules container",children:[b.jsx("h2",{children:"Rules of the Game"}),b.jsx("p",{children:"The object of the same is to find sets of three cards that are either the same or different along each of four dimensions."}),b.jsx("p",{children:"If that makes perfect sense to you, then go ahead and start playing. Otherwise, I will explain a bit more."}),b.jsx("p",{children:"The game starts by laying out a board with twelve cards. Here are some example cards: "}),b.jsx("div",{className:"row",children:n.map((e,t)=>b.jsx(x9,{desc:e},t))}),b.jsx("p",{children:"You'll notice that every card has four different characteristics:"}),b.jsxs("ul",{className:"browser-default",children:[b.jsx("li",{children:"color"}),b.jsx("li",{children:"number"}),b.jsx("li",{children:"shape"}),b.jsx("li",{children:"fill"})]}),b.jsx("p",{children:"and each of those characteristics has three different possibilities."}),b.jsxs("p",{children:["Three cards form a set if, for each of those four characteristics, the three cards are either ",b.jsx("em",{children:"all the same"})," or ",b.jsx("em",{children:"all different."})]}),b.jsx("p",{children:"It is easier to understand with examples, so here is an example set:"}),b.jsxs("div",{className:"row my-3",children:[b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"0112"})})})," ",b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"1111"})})}),b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"2110"})})})]}),b.jsx("p",{children:"Which you can describe as follows:"}),b.jsxs("ul",{className:"browser-default",children:[b.jsx("li",{children:"color - SAME"}),b.jsx("li",{children:"shape - SAME"}),b.jsx("li",{children:"number - DIFFERENT"}),b.jsx("li",{children:"fill - DIFFERENT"})]}),b.jsx("p",{children:"Therefore, the three cards form a set."}),b.jsx("p",{children:"Here is another set:"}),b.jsxs("div",{className:"row my-3",children:[b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"2022"})})}),b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"1112"})})}),b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"0202"})})})]}),b.jsxs("ul",{className:"browser-default",children:[b.jsx("li",{children:"color - DIFFERENT"}),b.jsx("li",{children:"shape - DIFFERENT"}),b.jsx("li",{children:"number - DIFFERENT"}),b.jsx("li",{children:"fill - SAME"})]}),b.jsx("p",{children:"This is not a set:"}),b.jsxs("div",{className:"row my-3",children:[b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"1220"})})}),b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"1110"})})}),b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"2000"})})})]}),b.jsxs("ul",{className:"browser-default",children:[b.jsx("li",{children:"fill - SAME"}),b.jsx("li",{children:"color - DIFFERENT"}),b.jsx("li",{children:"shape - DIFFERENT"}),b.jsx("li",{children:"number - NOT THE SAME OR DIFFERENT!"})]}),b.jsxs("p",{children:["Even though the cards have the same fill, different colors, and different shapes, the numbers are neither ",b.jsx("em",{children:"all the same"})," nor ",b.jsx("em",{children:"all different"}),", so it's not a set."]}),b.jsxs("p",{children:["It doesn't matter how many of the characteristics are the same, and how many are different, as long as for ",b.jsx("em",{children:"each"})," characteristic, the cards are all the same or all different. Here's one last example:"]}),b.jsxs("div",{className:"row my-3",children:[b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"1122"})})}),b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"0201"})})}),b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"2010"})})})]}),b.jsxs("ul",{className:"browser-default",children:[b.jsx("li",{children:"color - DIFFERENT"}),b.jsx("li",{children:"shape - DIFFERENT"}),b.jsx("li",{children:"number - DIFFERENT"}),b.jsx("li",{children:"fill - DIFFERENT"})]}),b.jsx("p",{children:"Each characteristic is different for all three cards, so this is a set."}),b.jsx("p",{children:b.jsx(Tr,{to:"/",children:"Back Home"})})]})}function I9(){const n=eg(a=>a.user),{user:e}=n,[t,i]=B.useState(null);return Pf(),B.useEffect(()=>{const a=async()=>{e!=null&&e.uid&&jn.get(`/api/user/stats/${e.uid}`).then(u=>{i(u.data)})};!n.loading&&e!==null&&a()},[n.loading,e]),n.loading?"Loading...":e===null?b.jsxs("div",{className:"container mt-4",children:[b.jsx("p",{children:"Sign in to view stats"}),b.jsx("p",{children:b.jsx("button",{onClick:yg,className:"btn btn-info",children:"Sign in"})})]}):b.jsxs("div",{className:"container mt-2 mt-md-4",children:[b.jsx("h3",{children:"Statistics"}),b.jsxs("table",{className:"table table-striped",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{children:"Difficulty"}),b.jsx("th",{children:"Games Played"}),b.jsx("th",{children:"Winning Percentage"})]})}),b.jsx("tbody",{children:t&&t.map((a,u)=>b.jsxs("tr",{children:[b.jsx("td",{children:a.difficulty_level}),b.jsx("td",{children:a.games_played}),b.jsxs("td",{children:[Math.round(100*(a.games_won/a.games_played)),"%"]})]},`stats-${u}`))})]}),b.jsx("p",{children:b.jsx(Tr,{to:"/",children:"Main Menu"})})]})}const N9=()=>b.jsx(PI,{name:"Puzzle"}),D9=({show:n,onClose:e})=>{const[t,i]=B.useState("two-card-hint"),a=()=>{e(t)};return b.jsxs(Ti,{show:n,onHide:()=>e("two-card-hint"),children:[b.jsx(Ti.Header,{className:"justify-content-center",children:b.jsx(Ti.Title,{children:"Training Mode"})}),b.jsx(Ti.Body,{children:b.jsxs("div",{className:"d-flex flex-column justify-content-center",children:[b.jsx("p",{className:"my-2",children:"Choose your training mode:"}),b.jsxs("div",{className:"my-3",children:[b.jsxs("div",{className:"form-check mb-3",children:[b.jsx("input",{className:"form-check-input",type:"radio",name:"trainingMode",id:"twoCardHint",checked:t==="two-card-hint",onChange:()=>i("two-card-hint")}),b.jsxs("label",{className:"form-check-label",htmlFor:"twoCardHint",children:[b.jsx("strong",{children:"Two Card Hint"}),b.jsx("br",{}),b.jsx("small",{children:"Find the one card that completes a set with the two highlighted cards."})]})]}),b.jsxs("div",{className:"form-check",children:[b.jsx("input",{className:"form-check-input",type:"radio",name:"trainingMode",id:"oneCardHint",checked:t==="one-card-hint",onChange:()=>i("one-card-hint")}),b.jsxs("label",{className:"form-check-label",htmlFor:"oneCardHint",children:[b.jsx("strong",{children:"One Card Hint"}),b.jsx("br",{}),b.jsx("small",{children:"Find the two cards that complete a set with the one highlighted card."})]})]})]}),b.jsx("p",{className:"my-2",children:"Try to keep finding SETs for as long as you can!"})]})}),b.jsx(Ti.Footer,{children:b.jsx("div",{className:"d-flex justify-content-center",children:b.jsx(gb,{onClick:a,variant:"primary",children:"Let's Go!"})})})]})},na={initialTurnTime:7e3,oneCardHintInitialTurnTime:12e3,minimumTurnTime:1600,oneCardHintMinimumTurnTime:3e3,boardSize:8,timerUpdateInterval:100,gameOverDelay:2500,setFoundDelay:650},Up={highScore:"highScoreTraining",twoCardHintHighScore:"highScoreTraining_twoCardHint",oneCardHintHighScore:"highScoreTraining_oneCardHint"},yd=n=>n==="two-card-hint"?Up.twoCardHintHighScore:Up.oneCardHintHighScore,O9=()=>{const n=localStorage.getItem(Up.highScore),e=localStorage.getItem(Up.twoCardHintHighScore);n&&!e&&localStorage.setItem(Up.twoCardHintHighScore,n)},M9=({show:n,finalScore:e,mode:t,onRestart:i})=>{const a=yd(t),u=localStorage.getItem(a)||"0",h=t==="two-card-hint"?"Two Card Hint":"One Card Hint";return b.jsxs(Ti,{show:n,onHide:i,children:[b.jsxs(Ti.Body,{children:[b.jsx("h3",{className:"text-center mt-3",children:"GAME OVER!"}),b.jsxs("div",{className:"d-flex flex-column justify-content-center",children:[b.jsxs("p",{className:"text-center my-1",children:["Mode: ",h]}),b.jsxs("p",{className:"text-center my-2",children:["Final Score: ",e]}),b.jsxs("p",{className:"text-center my-2",children:["Best Score: ",u]})]})]}),b.jsxs(Ti.Footer,{children:[b.jsx("button",{className:"btn btn-primary",onClick:i,children:b.jsx(Tr,{style:{color:"white",textDecoration:"none"},to:"/",children:"Main Menu"})}),b.jsx(gb,{onClick:i,variant:"secondary",children:"Restart"})]})]})},P9=()=>{const[n,e]=B.useState({board:[],selected:[],score:0,gameStartTime:Date.now(),turnStartTime:Date.now(),gameOver:!0,showModal:!1,setFound:!1,initialized:!1,mode:"two-card-hint"}),t=B.useCallback(({select:E=!0,mode:S="two-card-hint"}={})=>{const{board:A}=uj({boardSize:na.boardSize,commonTraits:null});if(S==="two-card-hint"){const D=[...A.slice(0,2),"0333",...A.slice(2,8)],O=E?A.slice(0,2):[];return{board:D,selected:O}}else{const D=A[0],O=A[1],F=ff(D,O),Q=A.slice(1).filter(N=>N!==O&&N!==F).slice(0,4),he=[...[O,F,...Q]].sort(()=>Math.random()-.5),ne=[D,"0333","0333",...he],z=E?[D]:[];return(!he.includes(O)||!he.includes(F))&&console.error("Generated board does not contain the complete set!"),{board:ne,selected:z}}},[]),i=B.useCallback(()=>{O9();const{board:E,selected:S}=t({select:!1}),A=Date.now();e({board:E,selected:S,score:0,gameStartTime:A,turnStartTime:A,gameOver:!0,showModal:!1,setFound:!1,initialized:!1,mode:"two-card-hint"})},[t]),a=B.useCallback(E=>{e(S=>({...S,turnStartTime:Date.now(),setFound:!1}))},[]),u=B.useCallback((E,S,A)=>{e(D=>{if(D.selected.length===3||D.gameOver||E==="0333"||D.selected.includes(E))return D;const O=[...D.selected,E];if(D.mode==="one-card-hint"&&D.selected.length===1){const F=ff(D.selected[0],E),k=D.board.filter(U=>U!=="0333");if(!k.includes(F)){A();const U=D.board[0];let Q=[U];for(let z=1;z<k.length;z++){for(let N=z+1;N<k.length;N++){const I=k[z],L=k[N],H=[U,I,L];if(ki(H)){Q=H;break}}if(Q.length===3)break}const J=yd(D.mode);Number(localStorage.getItem(J)||"0")<D.score&&localStorage.setItem(J,D.score.toString());const ne={...D,gameOver:!0,selected:Q};return setTimeout(()=>{e(z=>({...z,showModal:!0}))},na.gameOverDelay),ne}}if(ki(O)){S();const F=D.score+1,k={...D,selected:O,score:F,setFound:!0};return setTimeout(()=>{const{board:U,selected:Q}=t({mode:D.mode});e(J=>({...J,board:U,selected:Q,setFound:!1,turnStartTime:Date.now()}))},na.setFoundDelay),k}else if(D.mode==="two-card-hint"&&O.length===3){A();const F=ff(D.selected[0],D.selected[1]),k=yd(D.mode);Number(localStorage.getItem(k)||"0")<D.score&&localStorage.setItem(k,D.score.toString());const Q={...D,gameOver:!0,selected:[...D.selected,F]};return setTimeout(()=>{e(J=>({...J,showModal:!0}))},na.gameOverDelay),Q}else if(D.mode==="one-card-hint"&&O.length>=2){if(O.length===2){const F=ff(O[0],O[1]),k=D.board.filter(U=>U!=="0333");if(k.includes(F))return{...D,selected:O};{A();const U=D.board[0];let Q=[U];for(let z=1;z<k.length;z++){for(let N=z+1;N<k.length;N++){const I=k[z],L=k[N],H=[U,I,L];if(ki(H)){Q=H;break}}if(Q.length===3)break}const J=yd(D.mode);Number(localStorage.getItem(J)||"0")<D.score&&localStorage.setItem(J,D.score.toString());const ne={...D,gameOver:!0,selected:Q};return setTimeout(()=>{e(z=>({...z,showModal:!0}))},na.gameOverDelay),ne}}else if(O.length===3){if(ki(O))return{...D,selected:O};{A();const F=D.board[0],k=D.board.filter(ne=>ne!=="0333");let U=[F];for(let ne=1;ne<k.length;ne++){for(let z=ne+1;z<k.length;z++){const N=k[ne],I=k[z],L=[F,N,I];if(ki(L)){U=L;break}}if(U.length===3)break}const Q=yd(D.mode);Number(localStorage.getItem(Q)||"0")<D.score&&localStorage.setItem(Q,D.score.toString());const he={...D,gameOver:!0,selected:U};return setTimeout(()=>{e(ne=>({...ne,showModal:!0}))},na.gameOverDelay),he}}}else return{...D,selected:O}})},[t]),h=B.useCallback(()=>{e(E=>{let S=E.selected;if(E.mode==="two-card-hint")if(E.selected.length>=2){const F=ff(E.selected[0],E.selected[1]);S=[...E.selected,F]}else S=E.selected;else{const F=E.board[0],k=E.board.filter(Q=>Q!=="0333");let U=[F];for(let Q=1;Q<k.length;Q++){for(let J=Q+1;J<k.length;J++){const he=k[Q],ne=k[J],z=[F,he,ne];if(ki(z)){U=z;break}}if(U.length===3)break}S=U}const A=yd(E.mode);Number(localStorage.getItem(A)||"0")<E.score&&localStorage.setItem(A,E.score.toString());const O={...E,gameOver:!0,selected:S};return setTimeout(()=>{e(F=>({...F,showModal:!0}))},na.gameOverDelay),O})},[]),m=B.useCallback(()=>{e(E=>{const{board:S,selected:A}=t({mode:E.mode}),D=Date.now();return{board:S,selected:A,score:0,gameStartTime:D,turnStartTime:D,gameOver:!1,showModal:!1,setFound:!1,initialized:!0,mode:E.mode}})},[t]),g=B.useCallback(E=>{const{board:S,selected:A}=t({mode:E}),D=Date.now();e(O=>({...O,board:S,selected:A,gameOver:!1,initialized:!0,gameStartTime:D,turnStartTime:D,mode:E}))},[t]),v=B.useMemo(()=>({initializeGame:i,handleCardClick:u,handleGameOver:h,resetGame:m,startInitialGame:g,startTurn:a}),[i,u,h,m,g,a]);return{gameState:n,actions:v}},L9=({gameStartTime:n,turnStartTime:e,score:t,gameOver:i,setFound:a,initialized:u,mode:h,onTimeUp:m})=>{const[g,v]=B.useState(0),[E,S]=B.useState(0),A=(D,O)=>{const F=O==="one-card-hint"?{initial:na.oneCardHintInitialTurnTime,minimum:na.oneCardHintMinimumTurnTime}:{initial:na.initialTurnTime,minimum:na.minimumTurnTime},k=Math.round(F.initial-1100*Math.log2(D+1));return Math.max(k,F.minimum)};return B.useEffect(()=>{let D=null;return!i&&!a&&u&&(D=window.setInterval(()=>{const O=Date.now(),F=Math.round((O-n)/1e3),k=O-e,U=A(t,h)-k;v(F),S(Math.max(0,Math.round(U/1e3*10)/10)),U<=0&&!a&&m()},na.timerUpdateInterval)),()=>{D!==null&&clearInterval(D)}},[i,a,u,n,e,t,h,m]),{elapsedTime:g,timeRemaining:E,calculateTurnTime:A}},k9=()=>{const{gameState:n,actions:e}=P9(),{showSuccessFlash:t,showErrorFlash:i,triggerSuccessFlash:a,triggerErrorFlash:u}=MI(),h=()=>{e.handleGameOver(),u()},{elapsedTime:m,timeRemaining:g}=L9({gameStartTime:n.gameStartTime,turnStartTime:n.turnStartTime,score:n.score,gameOver:n.gameOver,setFound:n.setFound,initialized:n.initialized,mode:n.mode,onTimeUp:h});B.useEffect(()=>{e.initializeGame()},[]);const v=S=>{n.gameOver||n.mode==="two-card-hint"&&n.selected.length===3||n.mode==="one-card-hint"&&n.selected.length===3||e.handleCardClick(S,()=>a(),()=>u())},E={you:{name:"you",score:n.score,color:n.gameOver?Cs.errorRed:Cs.lightBlue}};return b.jsxs(B.Fragment,{children:[b.jsx(DI,{showSuccessFlash:t,showErrorFlash:i}),b.jsx("div",{className:"d-flex flex-column justify-content-between",children:b.jsx("div",{children:b.jsx(p0,{board:n.board,deck:[],selected:n.selected,declarer:null,handleCardClick:v,handleDeclare:()=>{},players:E,setFound:!1,gameOver:n.gameOver,myName:"you",resetGame:()=>{},solo:!0,gameMode:"training",elapsedTime:m,timeLeft:g})})}),b.jsx(D9,{show:!n.initialized,onClose:e.startInitialGame}),b.jsx(M9,{show:n.initialized&&n.gameOver&&n.showModal,finalScore:n.score,mode:n.mode,onRestart:e.resetGame})]})},U9=x3([{element:b.jsx(ij,{}),children:[{path:"/",element:b.jsx(Cj,{})},{path:"/host",element:b.jsx(r9,{})},{path:"/lobby",element:b.jsx(i9,{})},{path:"/guest/:gameName",element:b.jsx(u9,{})},{path:"/solo",element:b.jsx(A9,{})},{path:"/local",element:b.jsx(R9,{})},{path:"/rules",element:b.jsx(C9,{})},{path:"/stats",element:b.jsx(I9,{})},{path:"/puzzle",element:b.jsx(N9,{})},{path:"/training",element:b.jsx(k9,{})}]}]);function V9(){return b.jsx(j3,{router:U9})}const j9=BV({reducer:{user:rj}});async function B9(){console.log("🔄 Initializing app...");try{await new Promise(n=>setTimeout(n,100)),localStorage.removeItem("redirectInitiated"),localStorage.removeItem("preRedirectUrl"),localStorage.removeItem("authError"),console.log("🔄 Current auth user:",Md.currentUser),console.log("🔄 Firebase initialized and ready")}catch(n){console.error("❌ App initialization error:",n)}fN.createRoot(document.getElementById("root")).render(b.jsx(RN,{store:j9,children:b.jsx(V9,{})}))}B9();
