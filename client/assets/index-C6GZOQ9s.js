(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(a){if(a.ep)return;a.ep=!0;const u=t(a);fetch(a.href,u)}})();var Ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pE={exports:{}},yp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb;function fN(){if(Nb)return yp;Nb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,u){var h=null;if(u!==void 0&&(h=""+u),a.key!==void 0&&(h=""+a.key),"key"in a){u={};for(var m in a)m!=="key"&&(u[m]=a[m])}else u=a;return a=u.ref,{$$typeof:n,type:i,key:h,ref:a!==void 0?a:null,props:u}}return yp.Fragment=e,yp.jsx=t,yp.jsxs=t,yp}var Db;function hN(){return Db||(Db=1,pE.exports=fN()),pE.exports}var T=hN(),gE={exports:{}},vp={},yE={exports:{}},vE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function dN(){return Ob||(Ob=1,function(n){function e(le,me){var _e=le.length;le.push(me);e:for(;0<_e;){var Me=_e-1>>>1,$=le[Me];if(0<a($,me))le[Me]=me,le[_e]=$,_e=Me;else break e}}function t(le){return le.length===0?null:le[0]}function i(le){if(le.length===0)return null;var me=le[0],_e=le.pop();if(_e!==me){le[0]=_e;e:for(var Me=0,$=le.length,pe=$>>>1;Me<pe;){var Ne=2*(Me+1)-1,we=le[Ne],Ue=Ne+1,Ye=le[Ue];if(0>a(we,_e))Ue<$&&0>a(Ye,we)?(le[Me]=Ye,le[Ue]=_e,Me=Ue):(le[Me]=we,le[Ne]=_e,Me=Ne);else if(Ue<$&&0>a(Ye,_e))le[Me]=Ye,le[Ue]=_e,Me=Ue;else break e}}return me}function a(le,me){var _e=le.sortIndex-me.sortIndex;return _e!==0?_e:le.id-me.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();n.unstable_now=function(){return h.now()-m}}var g=[],v=[],E=1,S=null,A=3,D=!1,M=!1,H=!1,k=!1,B=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function he(le){for(var me=t(v);me!==null;){if(me.callback===null)i(v);else if(me.startTime<=le)i(v),me.sortIndex=me.expirationTime,e(g,me);else break;me=t(v)}}function Q(le){if(H=!1,he(le),!M)if(t(g)!==null)M=!0,F||(F=!0,W());else{var me=t(v);me!==null&&Ze(Q,me.startTime-le)}}var F=!1,N=-1,I=5,O=-1;function z(){return k?!0:!(n.unstable_now()-O<I)}function G(){if(k=!1,F){var le=n.unstable_now();O=le;var me=!0;try{e:{M=!1,H&&(H=!1,ee(N),N=-1),D=!0;var _e=A;try{t:{for(he(le),S=t(g);S!==null&&!(S.expirationTime>le&&z());){var Me=S.callback;if(typeof Me=="function"){S.callback=null,A=S.priorityLevel;var $=Me(S.expirationTime<=le);if(le=n.unstable_now(),typeof $=="function"){S.callback=$,he(le),me=!0;break t}S===t(g)&&i(g),he(le)}else i(g);S=t(g)}if(S!==null)me=!0;else{var pe=t(v);pe!==null&&Ze(Q,pe.startTime-le),me=!1}}break e}finally{S=null,A=_e,D=!1}me=void 0}}finally{me?W():F=!1}}}var W;if(typeof te=="function")W=function(){te(G)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,je=q.port2;q.port1.onmessage=G,W=function(){je.postMessage(null)}}else W=function(){B(G,0)};function Ze(le,me){N=B(function(){le(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(le){switch(A){case 1:case 2:case 3:var me=3;break;default:me=A}var _e=A;A=me;try{return le()}finally{A=_e}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(le,me){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var _e=A;A=le;try{return me()}finally{A=_e}},n.unstable_scheduleCallback=function(le,me,_e){var Me=n.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Me+_e:Me):_e=Me,le){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=_e+$,le={id:E++,callback:me,priorityLevel:le,startTime:_e,expirationTime:$,sortIndex:-1},_e>Me?(le.sortIndex=_e,e(v,le),t(g)===null&&le===t(v)&&(H?(ee(N),N=-1):H=!0,Ze(Q,_e-Me))):(le.sortIndex=$,e(g,le),M||D||(M=!0,F||(F=!0,W()))),le},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(le){var me=A;return function(){var _e=A;A=me;try{return le.apply(this,arguments)}finally{A=_e}}}}(vE)),vE}var Mb;function mN(){return Mb||(Mb=1,yE.exports=dN()),yE.exports}var _E={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function pN(){if(Pb)return Tt;Pb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function A($){return $===null||typeof $!="object"?null:($=S&&$[S]||$["@@iterator"],typeof $=="function"?$:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,H={};function k($,pe,Ne){this.props=$,this.context=pe,this.refs=H,this.updater=Ne||D}k.prototype.isReactComponent={},k.prototype.setState=function($,pe){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,pe,"setState")},k.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function B(){}B.prototype=k.prototype;function ee($,pe,Ne){this.props=$,this.context=pe,this.refs=H,this.updater=Ne||D}var te=ee.prototype=new B;te.constructor=ee,M(te,k.prototype),te.isPureReactComponent=!0;var he=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function N($,pe,Ne,we,Ue,Ye){return Ne=Ye.ref,{$$typeof:n,type:$,key:pe,ref:Ne!==void 0?Ne:null,props:Ye}}function I($,pe){return N($.type,pe,void 0,void 0,void 0,$.props)}function O($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function z($){var pe={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Ne){return pe[Ne]})}var G=/\/+/g;function W($,pe){return typeof $=="object"&&$!==null&&$.key!=null?z(""+$.key):pe.toString(36)}function q(){}function je($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(q,q):($.status="pending",$.then(function(pe){$.status==="pending"&&($.status="fulfilled",$.value=pe)},function(pe){$.status==="pending"&&($.status="rejected",$.reason=pe)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function Ze($,pe,Ne,we,Ue){var Ye=typeof $;(Ye==="undefined"||Ye==="boolean")&&($=null);var He=!1;if($===null)He=!0;else switch(Ye){case"bigint":case"string":case"number":He=!0;break;case"object":switch($.$$typeof){case n:case e:He=!0;break;case E:return He=$._init,Ze(He($._payload),pe,Ne,we,Ue)}}if(He)return Ue=Ue($),He=we===""?"."+W($,0):we,he(Ue)?(Ne="",He!=null&&(Ne=He.replace(G,"$&/")+"/"),Ze(Ue,pe,Ne,"",function(Mn){return Mn})):Ue!=null&&(O(Ue)&&(Ue=I(Ue,Ne+(Ue.key==null||$&&$.key===Ue.key?"":(""+Ue.key).replace(G,"$&/")+"/")+He)),pe.push(Ue)),1;He=0;var mn=we===""?".":we+":";if(he($))for(var Nt=0;Nt<$.length;Nt++)we=$[Nt],Ye=mn+W(we,Nt),He+=Ze(we,pe,Ne,Ye,Ue);else if(Nt=A($),typeof Nt=="function")for($=Nt.call($),Nt=0;!(we=$.next()).done;)we=we.value,Ye=mn+W(we,Nt++),He+=Ze(we,pe,Ne,Ye,Ue);else if(Ye==="object"){if(typeof $.then=="function")return Ze(je($),pe,Ne,we,Ue);throw pe=String($),Error("Objects are not valid as a React child (found: "+(pe==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":pe)+"). If you meant to render a collection of children, use an array instead.")}return He}function le($,pe,Ne){if($==null)return $;var we=[],Ue=0;return Ze($,we,"","",function(Ye){return pe.call(Ne,Ye,Ue++)}),we}function me($){if($._status===-1){var pe=$._result;pe=pe(),pe.then(function(Ne){($._status===0||$._status===-1)&&($._status=1,$._result=Ne)},function(Ne){($._status===0||$._status===-1)&&($._status=2,$._result=Ne)}),$._status===-1&&($._status=0,$._result=pe)}if($._status===1)return $._result.default;throw $._result}var _e=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var pe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(pe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function Me(){}return Tt.Children={map:le,forEach:function($,pe,Ne){le($,function(){pe.apply(this,arguments)},Ne)},count:function($){var pe=0;return le($,function(){pe++}),pe},toArray:function($){return le($,function(pe){return pe})||[]},only:function($){if(!O($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Tt.Component=k,Tt.Fragment=t,Tt.Profiler=a,Tt.PureComponent=ee,Tt.StrictMode=i,Tt.Suspense=g,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,Tt.__COMPILER_RUNTIME={__proto__:null,c:function($){return Q.H.useMemoCache($)}},Tt.cache=function($){return function(){return $.apply(null,arguments)}},Tt.cloneElement=function($,pe,Ne){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var we=M({},$.props),Ue=$.key,Ye=void 0;if(pe!=null)for(He in pe.ref!==void 0&&(Ye=void 0),pe.key!==void 0&&(Ue=""+pe.key),pe)!F.call(pe,He)||He==="key"||He==="__self"||He==="__source"||He==="ref"&&pe.ref===void 0||(we[He]=pe[He]);var He=arguments.length-2;if(He===1)we.children=Ne;else if(1<He){for(var mn=Array(He),Nt=0;Nt<He;Nt++)mn[Nt]=arguments[Nt+2];we.children=mn}return N($.type,Ue,void 0,void 0,Ye,we)},Tt.createContext=function($){return $={$$typeof:h,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:u,_context:$},$},Tt.createElement=function($,pe,Ne){var we,Ue={},Ye=null;if(pe!=null)for(we in pe.key!==void 0&&(Ye=""+pe.key),pe)F.call(pe,we)&&we!=="key"&&we!=="__self"&&we!=="__source"&&(Ue[we]=pe[we]);var He=arguments.length-2;if(He===1)Ue.children=Ne;else if(1<He){for(var mn=Array(He),Nt=0;Nt<He;Nt++)mn[Nt]=arguments[Nt+2];Ue.children=mn}if($&&$.defaultProps)for(we in He=$.defaultProps,He)Ue[we]===void 0&&(Ue[we]=He[we]);return N($,Ye,void 0,void 0,null,Ue)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function($){return{$$typeof:m,render:$}},Tt.isValidElement=O,Tt.lazy=function($){return{$$typeof:E,_payload:{_status:-1,_result:$},_init:me}},Tt.memo=function($,pe){return{$$typeof:v,type:$,compare:pe===void 0?null:pe}},Tt.startTransition=function($){var pe=Q.T,Ne={};Q.T=Ne;try{var we=$(),Ue=Q.S;Ue!==null&&Ue(Ne,we),typeof we=="object"&&we!==null&&typeof we.then=="function"&&we.then(Me,_e)}catch(Ye){_e(Ye)}finally{Q.T=pe}},Tt.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},Tt.use=function($){return Q.H.use($)},Tt.useActionState=function($,pe,Ne){return Q.H.useActionState($,pe,Ne)},Tt.useCallback=function($,pe){return Q.H.useCallback($,pe)},Tt.useContext=function($){return Q.H.useContext($)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function($,pe){return Q.H.useDeferredValue($,pe)},Tt.useEffect=function($,pe,Ne){var we=Q.H;if(typeof Ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return we.useEffect($,pe)},Tt.useId=function(){return Q.H.useId()},Tt.useImperativeHandle=function($,pe,Ne){return Q.H.useImperativeHandle($,pe,Ne)},Tt.useInsertionEffect=function($,pe){return Q.H.useInsertionEffect($,pe)},Tt.useLayoutEffect=function($,pe){return Q.H.useLayoutEffect($,pe)},Tt.useMemo=function($,pe){return Q.H.useMemo($,pe)},Tt.useOptimistic=function($,pe){return Q.H.useOptimistic($,pe)},Tt.useReducer=function($,pe,Ne){return Q.H.useReducer($,pe,Ne)},Tt.useRef=function($){return Q.H.useRef($)},Tt.useState=function($){return Q.H.useState($)},Tt.useSyncExternalStore=function($,pe,Ne){return Q.H.useSyncExternalStore($,pe,Ne)},Tt.useTransition=function(){return Q.H.useTransition()},Tt.version="19.1.0",Tt}var Lb;function O_(){return Lb||(Lb=1,_E.exports=pN()),_E.exports}var EE={exports:{}},vi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kb;function gN(){if(kb)return vi;kb=1;var n=O_();function e(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)v+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(g,v,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:S==null?null:""+S,children:g,containerInfo:v,implementation:E}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return vi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,vi.createPortal=function(g,v){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return u(g,v,null,E)},vi.flushSync=function(g){var v=h.T,E=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=v,i.p=E,i.d.f()}},vi.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,i.d.C(g,v))},vi.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},vi.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var E=v.as,S=m(E,v.crossOrigin),A=typeof v.integrity=="string"?v.integrity:void 0,D=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;E==="style"?i.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:A,fetchPriority:D}):E==="script"&&i.d.X(g,{crossOrigin:S,integrity:A,fetchPriority:D,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},vi.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var E=m(v.as,v.crossOrigin);i.d.M(g,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&i.d.M(g)},vi.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var E=v.as,S=m(E,v.crossOrigin);i.d.L(g,E,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},vi.preloadModule=function(g,v){if(typeof g=="string")if(v){var E=m(v.as,v.crossOrigin);i.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else i.d.m(g)},vi.requestFormReset=function(g){i.d.r(g)},vi.unstable_batchedUpdates=function(g,v){return g(v)},vi.useFormState=function(g,v,E){return h.H.useFormState(g,v,E)},vi.useFormStatus=function(){return h.H.useHostTransitionStatus()},vi.version="19.1.0",vi}var Ub;function MA(){if(Ub)return EE.exports;Ub=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),EE.exports=gN(),EE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function yN(){if(Vb)return vp;Vb=1;var n=mN(),e=O_(),t=MA();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function u(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function h(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function m(r){if(u(r)!==r)throw Error(i(188))}function g(r){var s=r.alternate;if(!s){if(s=u(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,f=s;;){var p=o.return;if(p===null)break;var _=p.alternate;if(_===null){if(f=p.return,f!==null){o=f;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===o)return m(p),r;if(_===f)return m(p),s;_=_.sibling}throw Error(i(188))}if(o.return!==f.return)o=p,f=_;else{for(var x=!1,L=p.child;L;){if(L===o){x=!0,o=p,f=_;break}if(L===f){x=!0,f=p,o=_;break}L=L.sibling}if(!x){for(L=_.child;L;){if(L===o){x=!0,o=_,f=p;break}if(L===f){x=!0,f=_,o=p;break}L=L.sibling}if(!x)throw Error(i(189))}}if(o.alternate!==f)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function v(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=v(r),s!==null)return s;r=r.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),te=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function W(r){return r===null||typeof r!="object"?null:(r=G&&r[G]||r["@@iterator"],typeof r=="function"?r:null)}var q=Symbol.for("react.client.reference");function je(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===q?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case k:return"Profiler";case H:return"StrictMode";case Q:return"Suspense";case F:return"SuspenseList";case O:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case te:return(r.displayName||"Context")+".Provider";case ee:return(r._context.displayName||"Context")+".Consumer";case he:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return s=r.displayName||null,s!==null?s:je(r.type)||"Memo";case I:s=r._payload,r=r._init;try{return je(r(s))}catch{}}return null}var Ze=Array.isArray,le=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Me=[],$=-1;function pe(r){return{current:r}}function Ne(r){0>$||(r.current=Me[$],Me[$]=null,$--)}function we(r,s){$++,Me[$]=r.current,r.current=s}var Ue=pe(null),Ye=pe(null),He=pe(null),mn=pe(null);function Nt(r,s){switch(we(He,s),we(Ye,r),we(Ue,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Nn(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Nn(s),r=Dn(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Ne(Ue),we(Ue,r)}function Mn(){Ne(Ue),Ne(Ye),Ne(He)}function Zt(r){r.memoizedState!==null&&we(mn,r);var s=Ue.current,o=Dn(s,r.type);s!==o&&(we(Ye,r),we(Ue,o))}function An(r){Ye.current===r&&(Ne(Ue),Ne(Ye)),mn.current===r&&(Ne(mn),yu._currentValue=_e)}var qn=Object.prototype.hasOwnProperty,Rr=n.unstable_scheduleCallback,Wt=n.unstable_cancelCallback,Dt=n.unstable_shouldYield,cs=n.unstable_requestPaint,an=n.unstable_now,Fa=n.unstable_getCurrentPriorityLevel,oa=n.unstable_ImmediatePriority,Xr=n.unstable_UserBlockingPriority,Bn=n.unstable_NormalPriority,_r=n.unstable_LowPriority,Er=n.unstable_IdlePriority,fs=n.log,Zr=n.unstable_setDisableYieldValue,qe=null,it=null;function Rn(r){if(typeof fs=="function"&&Zr(r),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(qe,r)}catch{}}var Pn=Math.clz32?Math.clz32:ji,za=Math.log,Jr=Math.LN2;function ji(r){return r>>>=0,r===0?32:31-(za(r)/Jr|0)|0}var Bi=256,Fi=4194304;function kr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function hs(r,s,o){var f=r.pendingLanes;if(f===0)return 0;var p=0,_=r.suspendedLanes,x=r.pingedLanes;r=r.warmLanes;var L=f&134217727;return L!==0?(f=L&~_,f!==0?p=kr(f):(x&=L,x!==0?p=kr(x):o||(o=L&~r,o!==0&&(p=kr(o))))):(L=f&~_,L!==0?p=kr(L):x!==0?p=kr(x):o||(o=f&~r,o!==0&&(p=kr(o)))),p===0?0:s!==0&&s!==p&&(s&_)===0&&(_=p&-p,o=s&-s,_>=o||_===32&&(o&4194048)!==0)?s:p}function ei(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Ha(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function la(){var r=Bi;return Bi<<=1,(Bi&4194048)===0&&(Bi=256),r}function Mo(){var r=Fi;return Fi<<=1,(Fi&62914560)===0&&(Fi=4194304),r}function Ri(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function zi(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function qa(r,s,o,f,p,_){var x=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var L=r.entanglements,Y=r.expirationTimes,ce=r.hiddenUpdates;for(o=x&~o;0<o;){var Te=31-Pn(o),Re=1<<Te;L[Te]=0,Y[Te]=-1;var de=ce[Te];if(de!==null)for(ce[Te]=null,Te=0;Te<de.length;Te++){var fe=de[Te];fe!==null&&(fe.lane&=-536870913)}o&=~Re}f!==0&&Ur(r,f,0),_!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=_&~(x&~s))}function Ur(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var f=31-Pn(s);r.entangledLanes|=s,r.entanglements[f]=r.entanglements[f]|1073741824|o&4194090}function Ps(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var f=31-Pn(o),p=1<<f;p&s|r[f]&s&&(r[f]|=s),o&=~p}}function Ls(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ua(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function X(){var r=me.p;return r!==0?r:(r=window.event,r===void 0?32:mv(r.type))}function se(r,s){var o=me.p;try{return me.p=r,s()}finally{me.p=o}}var ue=Math.random().toString(36).slice(2),Se="__reactFiber$"+ue,Oe="__reactProps$"+ue,Ve="__reactContainer$"+ue,et="__reactEvents$"+ue,Be="__reactListeners$"+ue,Ge="__reactHandles$"+ue,Qe="__reactResources$"+ue,nt="__reactMarker$"+ue;function $e(r){delete r[Se],delete r[Oe],delete r[et],delete r[Be],delete r[Ge]}function st(r){var s=r[Se];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Ve]||o[Se]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=nv(r);r!==null;){if(o=r[Se])return o;r=nv(r)}return s}r=o,o=r.parentNode}return null}function Rt(r){if(r=r[Se]||r[Ve]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Jt(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Qt(r){var s=r[Qe];return s||(s=r[Qe]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Lt(r){r[nt]=!0}var wt=new Set,Hi={};function Qn(r,s){Vr(r,s),Vr(r+"Capture",s)}function Vr(r,s){for(Hi[r]=s,r=0;r<s.length;r++)wt.add(s[r])}var Gn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ks={},xr={};function Ga(r){return qn.call(xr,r)?!0:qn.call(ks,r)?!1:Gn.test(r)?xr[r]=!0:(ks[r]=!0,!1)}function Cr(r,s,o){if(Ga(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function jr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function ft(r,s,o,f){if(f===null)r.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+f)}}var Fn,ti;function ni(r){if(Fn===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Fn=s&&s[1]||"",ti=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fn+r+ti}var Us=!1;function pn(r,s){if(!r||Us)return"";Us=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(fe){var de=fe}Reflect.construct(r,[],Re)}else{try{Re.call()}catch(fe){de=fe}r.call(Re.prototype)}}else{try{throw Error()}catch(fe){de=fe}(Re=r())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(fe){if(fe&&de&&typeof fe.stack=="string")return[fe.stack,de.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),x=_[0],L=_[1];if(x&&L){var Y=x.split(`
`),ce=L.split(`
`);for(p=f=0;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;for(;p<ce.length&&!ce[p].includes("DetermineComponentFrameRoot");)p++;if(f===Y.length||p===ce.length)for(f=Y.length-1,p=ce.length-1;1<=f&&0<=p&&Y[f]!==ce[p];)p--;for(;1<=f&&0<=p;f--,p--)if(Y[f]!==ce[p]){if(f!==1||p!==1)do if(f--,p--,0>p||Y[f]!==ce[p]){var Te=`
`+Y[f].replace(" at new "," at ");return r.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",r.displayName)),Te}while(1<=f&&0<=p);break}}}finally{Us=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ni(o):""}function qi(r){switch(r.tag){case 26:case 27:case 5:return ni(r.type);case 16:return ni("Lazy");case 13:return ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return pn(r.type,!1);case 11:return pn(r.type.render,!1);case 1:return pn(r.type,!0);case 31:return ni("Activity");default:return""}}function Vs(r){try{var s="";do s+=qi(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ar(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function xl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ku(r){var s=xl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),f=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,_=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(x){f=""+x,_.call(this,x)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return f},setValue:function(x){f=""+x},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Cl(r){r._valueTracker||(r._valueTracker=Ku(r))}function Il(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),f="";return r&&(f=xl(r)?r.checked?"true":"false":r.value),r=f,r!==o?(s.setValue(r),!0):!1}function js(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var zf=/[\n"\\]/g;function $n(r){return r.replace(zf,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ri(r,s,o,f,p,_,x,L){r.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.type=x:r.removeAttribute("type"),s!=null?x==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+ar(s)):r.value!==""+ar(s)&&(r.value=""+ar(s)):x!=="submit"&&x!=="reset"||r.removeAttribute("value"),s!=null?Bs(r,x,ar(s)):o!=null?Bs(r,x,ar(o)):f!=null&&r.removeAttribute("value"),p==null&&_!=null&&(r.defaultChecked=!!_),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?r.name=""+ar(L):r.removeAttribute("name")}function $a(r,s,o,f,p,_,x,L){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.type=_),s!=null||o!=null){if(!(_!=="submit"&&_!=="reset"||s!=null))return;o=o!=null?""+ar(o):"",s=s!=null?""+ar(s):o,L||s===r.value||(r.value=s),r.defaultValue=s}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=L?r.checked:!!f,r.defaultChecked=!!f,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.name=x)}function Bs(r,s,o){s==="number"&&js(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ca(r,s,o,f){if(r=r.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<r.length;o++)p=s.hasOwnProperty("$"+r[o].value),r[o].selected!==p&&(r[o].selected=p),p&&f&&(r[o].defaultSelected=!0)}else{for(o=""+ar(o),s=null,p=0;p<r.length;p++){if(r[p].value===o){r[p].selected=!0,f&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function on(r,s,o){if(s!=null&&(s=""+ar(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+ar(o):""}function fa(r,s,o,f){if(s==null){if(f!=null){if(o!=null)throw Error(i(92));if(Ze(f)){if(1<f.length)throw Error(i(93));f=f[0]}o=f}o==null&&(o=""),s=o}o=ar(s),r.defaultValue=o,f=r.textContent,f===o&&f!==""&&f!==null&&(r.value=f)}function ii(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Gi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yu(r,s,o){var f=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?f?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":f?r.setProperty(s,o):typeof o!="number"||o===0||Gi.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Nl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var f in o)!o.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var p in s)f=s[p],s.hasOwnProperty(p)&&o[p]!==f&&Yu(r,p,f)}else for(var _ in s)s.hasOwnProperty(_)&&Yu(r,_,s[_])}function Wu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Po(r){return qf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Fs=null;function $i(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ha=null,da=null;function Dl(r){var s=Rt(r);if(s&&(r=s.stateNode)){var o=r[Oe]||null;e:switch(r=s.stateNode,s.type){case"input":if(ri(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+$n(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var f=o[s];if(f!==r&&f.form===r.form){var p=f[Oe]||null;if(!p)throw Error(i(90));ri(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)f=o[s],f.form===r.form&&Il(f)}break e;case"textarea":on(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ca(r,!!o.multiple,s,!1)}}}var zs=!1;function Gf(r,s,o){if(zs)return r(s,o);zs=!0;try{var f=r(s);return f}finally{if(zs=!1,(ha!==null||da!==null)&&(Fh(),ha&&(s=ha,r=da,da=ha=null,Dl(s),r)))for(s=0;s<r.length;s++)Dl(r[s])}}function Lo(r,s){var o=r.stateNode;if(o===null)return null;var f=o[Oe]||null;if(f===null)return null;o=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),si=!1;if(ds)try{var ko={};Object.defineProperty(ko,"passive",{get:function(){si=!0}}),window.addEventListener("test",ko,ko),window.removeEventListener("test",ko,ko)}catch{si=!1}var Hs=null,Ka=null,ma=null;function Qu(){if(ma)return ma;var r,s=Ka,o=s.length,f,p="value"in Hs?Hs.value:Hs.textContent,_=p.length;for(r=0;r<o&&s[r]===p[r];r++);var x=o-r;for(f=1;f<=x&&s[o-f]===p[_-f];f++);return ma=p.slice(r,1<f?1-f:void 0)}function Ft(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function kt(){return!0}function Xu(){return!1}function or(r){function s(o,f,p,_,x){this._reactName=o,this._targetInst=p,this.type=f,this.nativeEvent=_,this.target=x,this.currentTarget=null;for(var L in r)r.hasOwnProperty(L)&&(o=r[L],this[L]=o?o(_):_[L]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?kt:Xu,this.isPropagationStopped=Xu,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=kt)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=kt)},persist:function(){},isPersistent:kt}),s}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=or(nn),Uo=E({},nn,{view:0,detail:0}),$f=or(Uo),Vo,Ml,Tn,pa=E({},Uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ai,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Tn&&(Tn&&r.type==="mousemove"?(Vo=r.screenX-Tn.screenX,Ml=r.screenY-Tn.screenY):Ml=Vo=0,Tn=r),Vo)},movementY:function(r){return"movementY"in r?r.movementY:Ml}}),lr=or(pa),Zu=E({},pa,{dataTransfer:0}),Ju=or(Zu),ur=E({},Uo,{relatedTarget:0}),jo=or(ur),Pl=E({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),Bo=or(Pl),ec=E({},nn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Fo=or(ec),Kf=E({},nn,{data:0}),Tr=or(Kf),zo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Br={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ll(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Yf[r])?!!s[r]:!1}function ai(){return Ll}var Ho=E({},Uo,{key:function(r){if(r.key){var s=zo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ft(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Br[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ai,charCode:function(r){return r.type==="keypress"?Ft(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ft(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ya=or(Ho),gn=E({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=or(gn),ms=E({},Uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ai}),Wf=or(ms),kl=E({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qf=or(kl),Xf=E({},pa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ul=or(Xf),Ir=E({},nn,{newState:0,oldState:0}),qo=or(Ir),ga=[9,13,27,32],qs=ds&&"CompositionEvent"in window,d=null;ds&&"documentMode"in document&&(d=document.documentMode);var w=ds&&"TextEvent"in window&&!d,R=ds&&(!qs||d&&8<d&&11>=d),U=" ",ae=!1;function ye(r,s){switch(r){case"keyup":return ga.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pe(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ot=!1;function Xn(r,s){switch(r){case"compositionend":return Pe(s);case"keypress":return s.which!==32?null:(ae=!0,U);case"textInput":return r=s.data,r===U&&ae?null:r;default:return null}}function Ut(r,s){if(Ot)return r==="compositionend"||!qs&&ye(r,s)?(r=Qu(),ma=Ka=Hs=null,Ot=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return R&&s.locale!=="ko"?null:s.data;default:return null}}var rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!rn[r.type]:s==="textarea"}function xi(r,s,o,f){ha?da?da.push(f):da=[f]:ha=f,s=Yh(s,"onChange"),0<s.length&&(o=new Ol("onChange","change",null,o,f),r.push({event:o,listeners:s}))}var cr=null,ps=null;function tc(r){Yy(r,0)}function Zf(r){var s=Jt(r);if(Il(s))return r}function Eg(r,s){if(r==="change")return s}var Tg=!1;if(ds){var Wd;if(ds){var Wa="oninput"in document;if(!Wa){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),Wa=typeof wg.oninput=="function"}Wd=Wa}else Wd=!1;Tg=Wd&&(!document.documentMode||9<document.documentMode)}function bg(){cr&&(cr.detachEvent("onpropertychange",Jf),ps=cr=null)}function Jf(r){if(r.propertyName==="value"&&Zf(ps)){var s=[];xi(s,ps,r,$i(r)),Gf(tc,s)}}function Sg(r,s,o){r==="focusin"?(bg(),cr=s,ps=o,cr.attachEvent("onpropertychange",Jf)):r==="focusout"&&bg()}function Qa(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Zf(ps)}function eh(r,s){if(r==="click")return Zf(s)}function T0(r,s){if(r==="input"||r==="change")return Zf(s)}function w0(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Ci=typeof Object.is=="function"?Object.is:w0;function Gs(r,s){if(Ci(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),f=Object.keys(s);if(o.length!==f.length)return!1;for(f=0;f<o.length;f++){var p=o[f];if(!qn.call(s,p)||!Ci(r[p],s[p]))return!1}return!0}function Yi(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Qd(r,s){var o=Yi(r);r=0;for(var f;o;){if(o.nodeType===3){if(f=r+o.textContent.length,r<=s&&f>=s)return{node:o,offset:s-r};r=f}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Yi(o)}}function Ag(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Ag(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Rg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=js(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=js(r.document)}return s}function Xd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var b0=ds&&"documentMode"in document&&11>=document.documentMode,Vl=null,Xa=null,ne=null,Ee=!1;function ge(r,s,o){var f=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ee||Vl==null||Vl!==js(f)||(f=Vl,"selectionStart"in f&&Xd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ne&&Gs(ne,f)||(ne=f,f=Yh(Xa,"onSelect"),0<f.length&&(s=new Ol("onSelect","select",null,s,o),r.push({event:s,listeners:f}),s.target=Vl)))}function Le(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var lt={animationend:Le("Animation","AnimationEnd"),animationiteration:Le("Animation","AnimationIteration"),animationstart:Le("Animation","AnimationStart"),transitionrun:Le("Transition","TransitionRun"),transitionstart:Le("Transition","TransitionStart"),transitioncancel:Le("Transition","TransitionCancel"),transitionend:Le("Transition","TransitionEnd")},Gt={},Kn={};ds&&(Kn=document.createElement("div").style,"AnimationEvent"in window||(delete lt.animationend.animation,delete lt.animationiteration.animation,delete lt.animationstart.animation),"TransitionEvent"in window||delete lt.transitionend.transition);function $t(r){if(Gt[r])return Gt[r];if(!lt[r])return r;var s=lt[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Kn)return Gt[r]=s[o];return r}var th=$t("animationend"),xg=$t("animationiteration"),Ii=$t("animationstart"),nh=$t("transitionrun"),S0=$t("transitionstart"),jl=$t("transitioncancel"),nc=$t("transitionend"),rc=new Map,en="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");en.push("scrollEnd");function gs(r,s){rc.set(r,s),Qn(s,[r])}var Zd=new WeakMap;function Fr(r,s){if(typeof r=="object"&&r!==null){var o=Zd.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Vs(s)},Zd.set(r,s),s)}return{value:r,source:s,stack:Vs(s)}}var Wi=[],Bl=0,Jd=0;function Go(){for(var r=Bl,s=Jd=Bl=0;s<r;){var o=Wi[s];Wi[s++]=null;var f=Wi[s];Wi[s++]=null;var p=Wi[s];Wi[s++]=null;var _=Wi[s];if(Wi[s++]=null,f!==null&&p!==null){var x=f.pending;x===null?p.next=p:(p.next=x.next,x.next=p),f.pending=p}_!==0&&ic(o,p,_)}}function ys(r,s,o,f){Wi[Bl++]=r,Wi[Bl++]=s,Wi[Bl++]=o,Wi[Bl++]=f,Jd|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function Fl(r,s,o,f){return ys(r,s,o,f),sc(r)}function $o(r,s){return ys(r,null,null,s),sc(r)}function ic(r,s,o){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o);for(var p=!1,_=r.return;_!==null;)_.childLanes|=o,f=_.alternate,f!==null&&(f.childLanes|=o),_.tag===22&&(r=_.stateNode,r===null||r._visibility&1||(p=!0)),r=_,_=_.return;return r.tag===3?(_=r.stateNode,p&&s!==null&&(p=31-Pn(o),r=_.hiddenUpdates,f=r[p],f===null?r[p]=[s]:f.push(s),s.lane=o|536870912),_):null}function sc(r){if(50<uu)throw uu=0,Km=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Ko={};function rh(r,s,o,f){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(r,s,o,f){return new rh(r,s,o,f)}function Yo(r){return r=r.prototype,!(!r||!r.isReactComponent)}function zr(r,s){var o=r.alternate;return o===null?(o=oi(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function ac(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function ih(r,s,o,f,p,_){var x=0;if(f=r,typeof r=="function")Yo(r)&&(x=1);else if(typeof r=="string")x=tE(r,o,Ue.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case O:return r=oi(31,o,s,p),r.elementType=O,r.lanes=_,r;case M:return Wo(o.children,p,_,s);case H:x=8,p|=24;break;case k:return r=oi(12,o,s,p|2),r.elementType=k,r.lanes=_,r;case Q:return r=oi(13,o,s,p),r.elementType=Q,r.lanes=_,r;case F:return r=oi(19,o,s,p),r.elementType=F,r.lanes=_,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case B:case te:x=10;break e;case ee:x=9;break e;case he:x=11;break e;case N:x=14;break e;case I:x=16,f=null;break e}x=29,o=Error(i(130,r===null?"null":typeof r,"")),f=null}return s=oi(x,o,s,p),s.elementType=r,s.type=f,s.lanes=_,s}function Wo(r,s,o,f){return r=oi(7,r,f,s),r.lanes=o,r}function em(r,s,o){return r=oi(6,r,null,s),r.lanes=o,r}function zl(r,s,o){return s=oi(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var ya=[],Za=0,sh=null,oc=0,Qi=[],Xi=0,bn=null,xn=1,va="";function Qo(r,s){ya[Za++]=oc,ya[Za++]=sh,sh=r,oc=s}function tm(r,s,o){Qi[Xi++]=xn,Qi[Xi++]=va,Qi[Xi++]=bn,bn=r;var f=xn;r=va;var p=32-Pn(f)-1;f&=~(1<<p),o+=1;var _=32-Pn(s)+p;if(30<_){var x=p-p%5;_=(f&(1<<x)-1).toString(32),f>>=x,p-=x,xn=1<<32-Pn(s)+p|o<<p|f,va=_+r}else xn=1<<_|o<<p|f,va=r}function nm(r){r.return!==null&&(Qo(r,1),tm(r,1,0))}function lc(r){for(;r===sh;)sh=ya[--Za],ya[Za]=null,oc=ya[--Za],ya[Za]=null;for(;r===bn;)bn=Qi[--Xi],Qi[Xi]=null,va=Qi[--Xi],Qi[Xi]=null,xn=Qi[--Xi],Qi[Xi]=null}var Zn=null,Cn=null,Mt=!1,vs=null,li=!1,Hl=Error(i(519));function Zi(r){var s=Error(i(418,""));throw Ja(Fr(s,r)),Hl}function Cg(r){var s=r.stateNode,o=r.type,f=r.memoizedProps;switch(s[Se]=r,s[Oe]=f,o){case"dialog":Ct("cancel",s),Ct("close",s);break;case"iframe":case"object":case"embed":Ct("load",s);break;case"video":case"audio":for(o=0;o<Qc.length;o++)Ct(Qc[o],s);break;case"source":Ct("error",s);break;case"img":case"image":case"link":Ct("error",s),Ct("load",s);break;case"details":Ct("toggle",s);break;case"input":Ct("invalid",s),$a(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Cl(s);break;case"select":Ct("invalid",s);break;case"textarea":Ct("invalid",s),fa(s,f.value,f.defaultValue,f.children),Cl(s)}o=f.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||f.suppressHydrationWarning===!0||Xy(s.textContent,o)?(f.popover!=null&&(Ct("beforetoggle",s),Ct("toggle",s)),f.onScroll!=null&&Ct("scroll",s),f.onScrollEnd!=null&&Ct("scrollend",s),f.onClick!=null&&(s.onclick=Wh),s=!0):s=!1,s||Zi(r)}function Ig(r){for(Zn=r.return;Zn;)switch(Zn.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:Zn=Zn.return}}function uc(r){if(r!==Zn)return!1;if(!Mt)return Ig(r),Mt=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Xh(r.type,r.memoizedProps)),o=!o),o&&Cn&&Zi(r),Ig(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Cn=Ss(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Cn=null}}else s===27?(s=Cn,is(r.type)?(r=op,op=null,Cn=r):Cn=s):Cn=Zn?Ss(r.stateNode.nextSibling):null;return!0}function cc(){Cn=Zn=null,Mt=!1}function Ng(){var r=vs;return r!==null&&(gi===null?gi=r:gi.push.apply(gi,r),vs=null),r}function Ja(r){vs===null?vs=[r]:vs.push(r)}var Xo=pe(null),eo=null,P=null;function Ni(r,s,o){we(Xo,s._currentValue),s._currentValue=o}function Ji(r){r._currentValue=Xo.current,Ne(Xo)}function ui(r,s,o){for(;r!==null;){var f=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),r===o)break;r=r.return}}function bt(r,s,o,f){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var _=p.dependencies;if(_!==null){var x=p.child;_=_.firstContext;e:for(;_!==null;){var L=_;_=p;for(var Y=0;Y<s.length;Y++)if(L.context===s[Y]){_.lanes|=o,L=_.alternate,L!==null&&(L.lanes|=o),ui(_.return,o,r),f||(x=null);break e}_=L.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(i(341));x.lanes|=o,_=x.alternate,_!==null&&(_.lanes|=o),ui(x,o,r),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===r){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function fc(r,s,o,f){r=null;for(var p=s,_=!1;p!==null;){if(!_){if((p.flags&524288)!==0)_=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var L=p.type;Ci(p.pendingProps.value,x.value)||(r!==null?r.push(L):r=[L])}}else if(p===mn.current){if(x=p.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(yu):r=[yu])}p=p.return}r!==null&&bt(s,r,o,f),s.flags|=262144}function ah(r){for(r=r.firstContext;r!==null;){if(!Ci(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Zo(r){eo=r,P=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ln(r){return Dg(eo,r)}function oh(r,s){return eo===null&&Zo(r),Dg(r,s)}function Dg(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},P===null){if(r===null)throw Error(i(308));P=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else P=P.next=s;return o}var A0=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,f){r.push(f)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},R0=n.unstable_scheduleCallback,x0=n.unstable_NormalPriority,yn={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rm(){return{controller:new A0,data:new Map,refCount:0}}function hc(r){r.refCount--,r.refCount===0&&R0(x0,function(){r.controller.abort()})}var dc=null,im=0,ql=0,ci=null;function C0(r,s){if(dc===null){var o=dc=[];im=0,ql=Kh(),ci={status:"pending",value:void 0,then:function(f){o.push(f)}}}return im++,s.then(Og,Og),s}function Og(){if(--im===0&&dc!==null){ci!==null&&(ci.status="fulfilled");var r=dc;dc=null,ql=0,ci=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function I0(r,s){var o=[],f={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return r.then(function(){f.status="fulfilled",f.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(f.status="rejected",f.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),f}var Mg=le.S;le.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&C0(r,s),Mg!==null&&Mg(r,s)};var Jo=pe(null);function _a(){var r=Jo.current;return r!==null?r:wn.pooledCache}function lh(r,s){s===null?we(Jo,Jo.current):we(Jo,s.pool)}function Pg(){var r=_a();return r===null?null:{parent:yn._currentValue,pool:r}}var Hr=Error(i(460)),Lg=Error(i(474)),uh=Error(i(542)),sm={then:function(){}};function kg(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ch(){}function am(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(ch,ch),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Vg(r),r;default:if(typeof s.status=="string")s.then(ch,ch);else{if(r=wn,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(f){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=f}},function(f){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Vg(r),r}throw Gl=s,Hr}}var Gl=null;function Ug(){if(Gl===null)throw Error(i(459));var r=Gl;return Gl=null,r}function Vg(r){if(r===Hr||r===uh)throw Error(i(483))}var $s=!1;function el(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $l(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function to(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ea(r,s,o){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(un&2)!==0){var p=f.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),f.pending=s,s=sc(r),ic(r,null,o),s}return ys(r,f,s,o),sc(r)}function mc(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var f=s.lanes;f&=r.pendingLanes,o|=f,s.lanes=o,Ps(r,o)}}function _s(r,s){var o=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,o===f)){var p=null,_=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};_===null?p=_=x:_=_.next=x,o=o.next}while(o!==null);_===null?p=_=s:_=_.next=s}else p=_=s;o={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var pc=!1;function Es(){if(pc){var r=ci;if(r!==null)throw r}}function Nr(r,s,o,f){pc=!1;var p=r.updateQueue;$s=!1;var _=p.firstBaseUpdate,x=p.lastBaseUpdate,L=p.shared.pending;if(L!==null){p.shared.pending=null;var Y=L,ce=Y.next;Y.next=null,x===null?_=ce:x.next=ce,x=Y;var Te=r.alternate;Te!==null&&(Te=Te.updateQueue,L=Te.lastBaseUpdate,L!==x&&(L===null?Te.firstBaseUpdate=ce:L.next=ce,Te.lastBaseUpdate=Y))}if(_!==null){var Re=p.baseState;x=0,Te=ce=Y=null,L=_;do{var de=L.lane&-536870913,fe=de!==L.lane;if(fe?(zt&de)===de:(f&de)===de){de!==0&&de===ql&&(pc=!0),Te!==null&&(Te=Te.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var at=r,rt=L;de=s;var hn=o;switch(rt.tag){case 1:if(at=rt.payload,typeof at=="function"){Re=at.call(hn,Re,de);break e}Re=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=rt.payload,de=typeof at=="function"?at.call(hn,Re,de):at,de==null)break e;Re=E({},Re,de);break e;case 2:$s=!0}}de=L.callback,de!==null&&(r.flags|=64,fe&&(r.flags|=8192),fe=p.callbacks,fe===null?p.callbacks=[de]:fe.push(de))}else fe={lane:de,tag:L.tag,payload:L.payload,callback:L.callback,next:null},Te===null?(ce=Te=fe,Y=Re):Te=Te.next=fe,x|=de;if(L=L.next,L===null){if(L=p.shared.pending,L===null)break;fe=L,L=fe.next,fe.next=null,p.lastBaseUpdate=fe,p.shared.pending=null}}while(!0);Te===null&&(Y=Re),p.baseState=Y,p.firstBaseUpdate=ce,p.lastBaseUpdate=Te,_===null&&(p.shared.lanes=0),co|=x,r.lanes=x,r.memoizedState=Re}}function jg(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function om(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)jg(o[r],s)}var tl=pe(null),no=pe(0);function Ta(r,s){r=Na,we(no,r),we(tl,s),Na=r|s.baseLanes}function fh(){we(no,Na),we(tl,tl.current)}function lm(){Na=no.current,Ne(tl),Ne(no)}var Ts=0,Et=null,ln=null,Pt=null,Kl=!1,nl=!1,Dr=!1,Yl=0,ro=0,es=null,Bg=0;function Vt(){throw Error(i(321))}function gc(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Ci(r[o],s[o]))return!1;return!0}function um(r,s,o,f,p,_){return Ts=_,Et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,le.H=r===null||r.memoizedState===null?Jg:xm,Dr=!1,_=o(f,p),Dr=!1,nl&&(_=zg(s,o,f,p)),Fg(r),_}function Fg(r){le.H=xc;var s=ln!==null&&ln.next!==null;if(Ts=0,Pt=ln=Et=null,Kl=!1,ro=0,es=null,s)throw Error(i(300));r===null||fr||(r=r.dependencies,r!==null&&ah(r)&&(fr=!0))}function zg(r,s,o,f){Et=r;var p=0;do{if(nl&&(es=null),ro=0,nl=!1,25<=p)throw Error(i(301));if(p+=1,Pt=ln=null,r.updateQueue!=null){var _=r.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}le.H=ey,_=s(o,f)}while(nl);return _}function cm(){var r=le.H,s=r.useState()[0];return s=typeof s.then=="function"?yc(s):s,r=r.useState()[0],(ln!==null?ln.memoizedState:null)!==r&&(Et.flags|=1024),s}function fm(){var r=Yl!==0;return Yl=0,r}function rl(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function hh(r){if(Kl){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Kl=!1}Ts=0,Pt=ln=Et=null,nl=!1,ro=Yl=0,es=null}function fi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Et.memoizedState=Pt=r:Pt=Pt.next=r,Pt}function Yn(){if(ln===null){var r=Et.alternate;r=r!==null?r.memoizedState:null}else r=ln.next;var s=Pt===null?Et.memoizedState:Pt.next;if(s!==null)Pt=s,ln=r;else{if(r===null)throw Et.alternate===null?Error(i(467)):Error(i(310));ln=r,r={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},Pt===null?Et.memoizedState=Pt=r:Pt=Pt.next=r}return Pt}function il(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yc(r){var s=ro;return ro+=1,es===null&&(es=[]),r=am(es,r,s),s=Et,(Pt===null?s.memoizedState:Pt.next)===null&&(s=s.alternate,le.H=s===null||s.memoizedState===null?Jg:xm),r}function dh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return yc(r);if(r.$$typeof===te)return Ln(r)}throw Error(i(438,String(r)))}function vc(r){var s=null,o=Et.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var f=Et.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=il(),Et.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),f=0;f<r;f++)o[f]=z;return s.index++,o}function Ks(r,s){return typeof s=="function"?s(r):s}function mh(r){var s=Yn();return hm(s,ln,r)}function hm(r,s,o){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=o;var p=r.baseQueue,_=f.pending;if(_!==null){if(p!==null){var x=p.next;p.next=_.next,_.next=x}s.baseQueue=p=_,f.pending=null}if(_=r.baseState,p===null)r.memoizedState=_;else{s=p.next;var L=x=null,Y=null,ce=s,Te=!1;do{var Re=ce.lane&-536870913;if(Re!==ce.lane?(zt&Re)===Re:(Ts&Re)===Re){var de=ce.revertLane;if(de===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Re===ql&&(Te=!0);else if((Ts&de)===de){ce=ce.next,de===ql&&(Te=!0);continue}else Re={lane:0,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},Y===null?(L=Y=Re,x=_):Y=Y.next=Re,Et.lanes|=de,co|=de;Re=ce.action,Dr&&o(_,Re),_=ce.hasEagerState?ce.eagerState:o(_,Re)}else de={lane:Re,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},Y===null?(L=Y=de,x=_):Y=Y.next=de,Et.lanes|=Re,co|=Re;ce=ce.next}while(ce!==null&&ce!==s);if(Y===null?x=_:Y.next=L,!Ci(_,r.memoizedState)&&(fr=!0,Te&&(o=ci,o!==null)))throw o;r.memoizedState=_,r.baseState=x,r.baseQueue=Y,f.lastRenderedState=_}return p===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function dm(r){var s=Yn(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var f=o.dispatch,p=o.pending,_=s.memoizedState;if(p!==null){o.pending=null;var x=p=p.next;do _=r(_,x.action),x=x.next;while(x!==p);Ci(_,s.memoizedState)||(fr=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),o.lastRenderedState=_}return[_,f]}function mm(r,s,o){var f=Et,p=Yn(),_=Mt;if(_){if(o===void 0)throw Error(i(407));o=o()}else o=s();var x=!Ci((ln||p).memoizedState,o);x&&(p.memoizedState=o,fr=!0),p=p.queue;var L=gh.bind(null,f,p,r);if(Tc(2048,8,L,[r]),p.getSnapshot!==s||x||Pt!==null&&Pt.memoizedState.tag&1){if(f.flags|=2048,Wl(9,Th(),Hg.bind(null,f,p,o,s),null),wn===null)throw Error(i(349));_||(Ts&124)!==0||ph(f,s,o)}return o}function ph(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Et.updateQueue,s===null?(s=il(),Et.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function Hg(r,s,o,f){s.value=o,s.getSnapshot=f,pm(s)&&gm(r)}function gh(r,s,o){return o(function(){pm(s)&&gm(r)})}function pm(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Ci(r,o)}catch{return!0}}function gm(r){var s=$o(r,2);s!==null&&Li(s,r,2)}function yh(r){var s=fi();if(typeof r=="function"){var o=r;if(r=o(),Dr){Rn(!0);try{o()}finally{Rn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:r},s}function _c(r,s,o,f){return r.baseState=o,hm(r,ln,typeof f=="function"?f:Ks)}function N0(r,s,o,f,p){if(Ah(r))throw Error(i(485));if(r=s.action,r!==null){var _={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){_.listeners.push(x)}};le.T!==null?o(!0):_.isTransition=!1,f(_),o=s.pending,o===null?(_.next=s.pending=_,ym(s,_)):(_.next=o.next,s.pending=o.next=_)}}function ym(r,s){var o=s.action,f=s.payload,p=r.state;if(s.isTransition){var _=le.T,x={};le.T=x;try{var L=o(p,f),Y=le.S;Y!==null&&Y(x,L),vm(r,s,L)}catch(ce){vh(r,s,ce)}finally{le.T=_}}else try{_=o(p,f),vm(r,s,_)}catch(ce){vh(r,s,ce)}}function vm(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(f){qg(r,s,f)},function(f){return vh(r,s,f)}):qg(r,s,o)}function qg(r,s,o){s.status="fulfilled",s.value=o,Gg(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,ym(r,o)))}function vh(r,s,o){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=o,Gg(s),s=s.next;while(s!==f)}r.action=null}function Gg(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function _h(r,s){return s}function _m(r,s){if(Mt){var o=wn.formState;if(o!==null){e:{var f=Et;if(Mt){if(Cn){t:{for(var p=Cn,_=li;p.nodeType!==8;){if(!_){p=null;break t}if(p=Ss(p.nextSibling),p===null){p=null;break t}}_=p.data,p=_==="F!"||_==="F"?p:null}if(p){Cn=Ss(p.nextSibling),f=p.data==="F!";break e}}Zi(f)}f=!1}f&&(s=o[0])}}return o=fi(),o.memoizedState=o.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_h,lastRenderedState:s},o.queue=f,o=Sm.bind(null,Et,f),f.dispatch=o,f=yh(!1),_=Am.bind(null,Et,!1,f.queue),f=fi(),p={state:s,dispatch:null,action:r,pending:null},f.queue=p,o=N0.bind(null,Et,p,_,o),p.dispatch=o,f.memoizedState=r,[s,o,!1]}function Eh(r){var s=Yn();return $g(s,ln,r)}function $g(r,s,o){if(s=hm(r,s,_h)[0],r=mh(Ks)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=yc(s)}catch(x){throw x===Hr?uh:x}else f=s;s=Yn();var p=s.queue,_=p.dispatch;return o!==s.memoizedState&&(Et.flags|=2048,Wl(9,Th(),Em.bind(null,p,o),null)),[f,_,r]}function Em(r,s){r.action=s}function vt(r){var s=Yn(),o=ln;if(o!==null)return $g(s,o,r);Yn(),s=s.memoizedState,o=Yn();var f=o.queue.dispatch;return o.memoizedState=r,[s,f,!1]}function Wl(r,s,o,f){return r={tag:r,create:o,deps:f,inst:s,next:null},s=Et.updateQueue,s===null&&(s=il(),Et.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(f=o.next,o.next=r,r.next=f,s.lastEffect=r),r}function Th(){return{destroy:void 0,resource:void 0}}function Ql(){return Yn().memoizedState}function Ec(r,s,o,f){var p=fi();f=f===void 0?null:f,Et.flags|=r,p.memoizedState=Wl(1|s,Th(),o,f)}function Tc(r,s,o,f){var p=Yn();f=f===void 0?null:f;var _=p.memoizedState.inst;ln!==null&&f!==null&&gc(f,ln.memoizedState.deps)?p.memoizedState=Wl(s,_,o,f):(Et.flags|=r,p.memoizedState=Wl(1|s,_,o,f))}function Kg(r,s){Ec(8390656,8,r,s)}function Di(r,s){Tc(2048,8,r,s)}function Yg(r,s){return Tc(4,2,r,s)}function wc(r,s){return Tc(4,4,r,s)}function wh(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Tm(r,s,o){o=o!=null?o.concat([r]):null,Tc(4,4,wh.bind(null,s,r),o)}function bh(){}function hi(r,s){var o=Yn();s=s===void 0?null:s;var f=o.memoizedState;return s!==null&&gc(s,f[1])?f[0]:(o.memoizedState=[r,s],r)}function wa(r,s){var o=Yn();s=s===void 0?null:s;var f=o.memoizedState;if(s!==null&&gc(s,f[1]))return f[0];if(f=r(),Dr){Rn(!0);try{r()}finally{Rn(!1)}}return o.memoizedState=[f,s],f}function bc(r,s,o){return o===void 0||(Ts&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=xy(),Et.lanes|=r,co|=r,o)}function wm(r,s,o,f){return Ci(o,s)?o:tl.current!==null?(r=bc(r,o,f),Ci(r,s)||(fr=!0),r):(Ts&42)===0?(fr=!0,r.memoizedState=o):(r=xy(),Et.lanes|=r,co|=r,s)}function Sc(r,s,o,f,p){var _=me.p;me.p=_!==0&&8>_?_:8;var x=le.T,L={};le.T=L,Am(r,!1,s,o);try{var Y=p(),ce=le.S;if(ce!==null&&ce(L,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var Te=I0(Y,f);sl(r,s,Te,Mr(r))}else sl(r,s,f,Mr(r))}catch(Re){sl(r,s,{then:function(){},status:"rejected",reason:Re},Mr())}finally{me.p=_,le.T=x}}function Wg(){}function Ac(r,s,o,f){if(r.tag!==5)throw Error(i(476));var p=bm(r).queue;Sc(r,p,s,_e,o===null?Wg:function(){return Sh(r),o(f)})}function bm(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:_e},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ks,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Sh(r){var s=bm(r).next.queue;sl(r,s,{},Mr())}function Rc(){return Ln(yu)}function ba(){return Yn().memoizedState}function Qg(){return Yn().memoizedState}function io(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Mr();r=to(o);var f=Ea(s,r,o);f!==null&&(Li(f,s,o),mc(f,s,o)),s={cache:rm()},r.payload=s;return}s=s.return}}function Xg(r,s,o){var f=Mr();o={lane:f,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ah(r)?Zg(s,o):(o=Fl(r,s,o,f),o!==null&&(Li(o,r,f),Rm(o,s,f)))}function Sm(r,s,o){var f=Mr();sl(r,s,o,f)}function sl(r,s,o,f){var p={lane:f,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ah(r))Zg(s,p);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var x=s.lastRenderedState,L=_(x,o);if(p.hasEagerState=!0,p.eagerState=L,Ci(L,x))return ys(r,s,p,0),wn===null&&Go(),!1}catch{}finally{}if(o=Fl(r,s,p,f),o!==null)return Li(o,r,f),Rm(o,s,f),!0}return!1}function Am(r,s,o,f){if(f={lane:2,revertLane:Kh(),action:f,hasEagerState:!1,eagerState:null,next:null},Ah(r)){if(s)throw Error(i(479))}else s=Fl(r,o,f,2),s!==null&&Li(s,r,2)}function Ah(r){var s=r.alternate;return r===Et||s!==null&&s===Et}function Zg(r,s){nl=Kl=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function Rm(r,s,o){if((o&4194048)!==0){var f=s.lanes;f&=r.pendingLanes,o|=f,s.lanes=o,Ps(r,o)}}var xc={readContext:Ln,use:dh,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt},Jg={readContext:Ln,use:dh,useCallback:function(r,s){return fi().memoizedState=[r,s===void 0?null:s],r},useContext:Ln,useEffect:Kg,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Ec(4194308,4,wh.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Ec(4194308,4,r,s)},useInsertionEffect:function(r,s){Ec(4,2,r,s)},useMemo:function(r,s){var o=fi();s=s===void 0?null:s;var f=r();if(Dr){Rn(!0);try{r()}finally{Rn(!1)}}return o.memoizedState=[f,s],f},useReducer:function(r,s,o){var f=fi();if(o!==void 0){var p=o(s);if(Dr){Rn(!0);try{o(s)}finally{Rn(!1)}}}else p=s;return f.memoizedState=f.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},f.queue=r,r=r.dispatch=Xg.bind(null,Et,r),[f.memoizedState,r]},useRef:function(r){var s=fi();return r={current:r},s.memoizedState=r},useState:function(r){r=yh(r);var s=r.queue,o=Sm.bind(null,Et,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:bh,useDeferredValue:function(r,s){var o=fi();return bc(o,r,s)},useTransition:function(){var r=yh(!1);return r=Sc.bind(null,Et,r.queue,!0,!1),fi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var f=Et,p=fi();if(Mt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),wn===null)throw Error(i(349));(zt&124)!==0||ph(f,s,o)}p.memoizedState=o;var _={value:o,getSnapshot:s};return p.queue=_,Kg(gh.bind(null,f,_,r),[r]),f.flags|=2048,Wl(9,Th(),Hg.bind(null,f,_,o,s),null),o},useId:function(){var r=fi(),s=wn.identifierPrefix;if(Mt){var o=va,f=xn;o=(f&~(1<<32-Pn(f)-1)).toString(32)+o,s="«"+s+"R"+o,o=Yl++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=Bg++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:Rc,useFormState:_m,useActionState:_m,useOptimistic:function(r){var s=fi();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Am.bind(null,Et,!0,o),o.dispatch=s,[r,s]},useMemoCache:vc,useCacheRefresh:function(){return fi().memoizedState=io.bind(null,Et)}},xm={readContext:Ln,use:dh,useCallback:hi,useContext:Ln,useEffect:Di,useImperativeHandle:Tm,useInsertionEffect:Yg,useLayoutEffect:wc,useMemo:wa,useReducer:mh,useRef:Ql,useState:function(){return mh(Ks)},useDebugValue:bh,useDeferredValue:function(r,s){var o=Yn();return wm(o,ln.memoizedState,r,s)},useTransition:function(){var r=mh(Ks)[0],s=Yn().memoizedState;return[typeof r=="boolean"?r:yc(r),s]},useSyncExternalStore:mm,useId:ba,useHostTransitionStatus:Rc,useFormState:Eh,useActionState:Eh,useOptimistic:function(r,s){var o=Yn();return _c(o,ln,r,s)},useMemoCache:vc,useCacheRefresh:Qg},ey={readContext:Ln,use:dh,useCallback:hi,useContext:Ln,useEffect:Di,useImperativeHandle:Tm,useInsertionEffect:Yg,useLayoutEffect:wc,useMemo:wa,useReducer:dm,useRef:Ql,useState:function(){return dm(Ks)},useDebugValue:bh,useDeferredValue:function(r,s){var o=Yn();return ln===null?bc(o,r,s):wm(o,ln.memoizedState,r,s)},useTransition:function(){var r=dm(Ks)[0],s=Yn().memoizedState;return[typeof r=="boolean"?r:yc(r),s]},useSyncExternalStore:mm,useId:ba,useHostTransitionStatus:Rc,useFormState:vt,useActionState:vt,useOptimistic:function(r,s){var o=Yn();return ln!==null?_c(o,ln,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:vc,useCacheRefresh:Qg},Jn=null,di=0;function Rh(r){var s=di;return di+=1,Jn===null&&(Jn=[]),am(Jn,r,s)}function Cc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function al(r,s){throw s.$$typeof===S?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function ol(r){var s=r._init;return s(r._payload)}function Cm(r){function s(re,J){if(r){var oe=re.deletions;oe===null?(re.deletions=[J],re.flags|=16):oe.push(J)}}function o(re,J){if(!r)return null;for(;J!==null;)s(re,J),J=J.sibling;return null}function f(re){for(var J=new Map;re!==null;)re.key!==null?J.set(re.key,re):J.set(re.index,re),re=re.sibling;return J}function p(re,J){return re=zr(re,J),re.index=0,re.sibling=null,re}function _(re,J,oe){return re.index=oe,r?(oe=re.alternate,oe!==null?(oe=oe.index,oe<J?(re.flags|=67108866,J):oe):(re.flags|=67108866,J)):(re.flags|=1048576,J)}function x(re){return r&&re.alternate===null&&(re.flags|=67108866),re}function L(re,J,oe,be){return J===null||J.tag!==6?(J=em(oe,re.mode,be),J.return=re,J):(J=p(J,oe),J.return=re,J)}function Y(re,J,oe,be){var Fe=oe.type;return Fe===M?Te(re,J,oe.props.children,be,oe.key):J!==null&&(J.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===I&&ol(Fe)===J.type)?(J=p(J,oe.props),Cc(J,oe),J.return=re,J):(J=ih(oe.type,oe.key,oe.props,null,re.mode,be),Cc(J,oe),J.return=re,J)}function ce(re,J,oe,be){return J===null||J.tag!==4||J.stateNode.containerInfo!==oe.containerInfo||J.stateNode.implementation!==oe.implementation?(J=zl(oe,re.mode,be),J.return=re,J):(J=p(J,oe.children||[]),J.return=re,J)}function Te(re,J,oe,be,Fe){return J===null||J.tag!==7?(J=Wo(oe,re.mode,be,Fe),J.return=re,J):(J=p(J,oe),J.return=re,J)}function Re(re,J,oe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=em(""+J,re.mode,oe),J.return=re,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return oe=ih(J.type,J.key,J.props,null,re.mode,oe),Cc(oe,J),oe.return=re,oe;case D:return J=zl(J,re.mode,oe),J.return=re,J;case I:var be=J._init;return J=be(J._payload),Re(re,J,oe)}if(Ze(J)||W(J))return J=Wo(J,re.mode,oe,null),J.return=re,J;if(typeof J.then=="function")return Re(re,Rh(J),oe);if(J.$$typeof===te)return Re(re,oh(re,J),oe);al(re,J)}return null}function de(re,J,oe,be){var Fe=J!==null?J.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Fe!==null?null:L(re,J,""+oe,be);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case A:return oe.key===Fe?Y(re,J,oe,be):null;case D:return oe.key===Fe?ce(re,J,oe,be):null;case I:return Fe=oe._init,oe=Fe(oe._payload),de(re,J,oe,be)}if(Ze(oe)||W(oe))return Fe!==null?null:Te(re,J,oe,be,null);if(typeof oe.then=="function")return de(re,J,Rh(oe),be);if(oe.$$typeof===te)return de(re,J,oh(re,oe),be);al(re,oe)}return null}function fe(re,J,oe,be,Fe){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return re=re.get(oe)||null,L(J,re,""+be,Fe);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case A:return re=re.get(be.key===null?oe:be.key)||null,Y(J,re,be,Fe);case D:return re=re.get(be.key===null?oe:be.key)||null,ce(J,re,be,Fe);case I:var St=be._init;return be=St(be._payload),fe(re,J,oe,be,Fe)}if(Ze(be)||W(be))return re=re.get(oe)||null,Te(J,re,be,Fe,null);if(typeof be.then=="function")return fe(re,J,oe,Rh(be),Fe);if(be.$$typeof===te)return fe(re,J,oe,oh(J,be),Fe);al(J,be)}return null}function at(re,J,oe,be){for(var Fe=null,St=null,Xe=J,ot=J=0,mr=null;Xe!==null&&ot<oe.length;ot++){Xe.index>ot?(mr=Xe,Xe=null):mr=Xe.sibling;var Kt=de(re,Xe,oe[ot],be);if(Kt===null){Xe===null&&(Xe=mr);break}r&&Xe&&Kt.alternate===null&&s(re,Xe),J=_(Kt,J,ot),St===null?Fe=Kt:St.sibling=Kt,St=Kt,Xe=mr}if(ot===oe.length)return o(re,Xe),Mt&&Qo(re,ot),Fe;if(Xe===null){for(;ot<oe.length;ot++)Xe=Re(re,oe[ot],be),Xe!==null&&(J=_(Xe,J,ot),St===null?Fe=Xe:St.sibling=Xe,St=Xe);return Mt&&Qo(re,ot),Fe}for(Xe=f(Xe);ot<oe.length;ot++)mr=fe(Xe,re,ot,oe[ot],be),mr!==null&&(r&&mr.alternate!==null&&Xe.delete(mr.key===null?ot:mr.key),J=_(mr,J,ot),St===null?Fe=mr:St.sibling=mr,St=mr);return r&&Xe.forEach(function(To){return s(re,To)}),Mt&&Qo(re,ot),Fe}function rt(re,J,oe,be){if(oe==null)throw Error(i(151));for(var Fe=null,St=null,Xe=J,ot=J=0,mr=null,Kt=oe.next();Xe!==null&&!Kt.done;ot++,Kt=oe.next()){Xe.index>ot?(mr=Xe,Xe=null):mr=Xe.sibling;var To=de(re,Xe,Kt.value,be);if(To===null){Xe===null&&(Xe=mr);break}r&&Xe&&To.alternate===null&&s(re,Xe),J=_(To,J,ot),St===null?Fe=To:St.sibling=To,St=To,Xe=mr}if(Kt.done)return o(re,Xe),Mt&&Qo(re,ot),Fe;if(Xe===null){for(;!Kt.done;ot++,Kt=oe.next())Kt=Re(re,Kt.value,be),Kt!==null&&(J=_(Kt,J,ot),St===null?Fe=Kt:St.sibling=Kt,St=Kt);return Mt&&Qo(re,ot),Fe}for(Xe=f(Xe);!Kt.done;ot++,Kt=oe.next())Kt=fe(Xe,re,ot,Kt.value,be),Kt!==null&&(r&&Kt.alternate!==null&&Xe.delete(Kt.key===null?ot:Kt.key),J=_(Kt,J,ot),St===null?Fe=Kt:St.sibling=Kt,St=Kt);return r&&Xe.forEach(function(hE){return s(re,hE)}),Mt&&Qo(re,ot),Fe}function hn(re,J,oe,be){if(typeof oe=="object"&&oe!==null&&oe.type===M&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case A:e:{for(var Fe=oe.key;J!==null;){if(J.key===Fe){if(Fe=oe.type,Fe===M){if(J.tag===7){o(re,J.sibling),be=p(J,oe.props.children),be.return=re,re=be;break e}}else if(J.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===I&&ol(Fe)===J.type){o(re,J.sibling),be=p(J,oe.props),Cc(be,oe),be.return=re,re=be;break e}o(re,J);break}else s(re,J);J=J.sibling}oe.type===M?(be=Wo(oe.props.children,re.mode,be,oe.key),be.return=re,re=be):(be=ih(oe.type,oe.key,oe.props,null,re.mode,be),Cc(be,oe),be.return=re,re=be)}return x(re);case D:e:{for(Fe=oe.key;J!==null;){if(J.key===Fe)if(J.tag===4&&J.stateNode.containerInfo===oe.containerInfo&&J.stateNode.implementation===oe.implementation){o(re,J.sibling),be=p(J,oe.children||[]),be.return=re,re=be;break e}else{o(re,J);break}else s(re,J);J=J.sibling}be=zl(oe,re.mode,be),be.return=re,re=be}return x(re);case I:return Fe=oe._init,oe=Fe(oe._payload),hn(re,J,oe,be)}if(Ze(oe))return at(re,J,oe,be);if(W(oe)){if(Fe=W(oe),typeof Fe!="function")throw Error(i(150));return oe=Fe.call(oe),rt(re,J,oe,be)}if(typeof oe.then=="function")return hn(re,J,Rh(oe),be);if(oe.$$typeof===te)return hn(re,J,oh(re,oe),be);al(re,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,J!==null&&J.tag===6?(o(re,J.sibling),be=p(J,oe),be.return=re,re=be):(o(re,J),be=em(oe,re.mode,be),be.return=re,re=be),x(re)):o(re,J)}return function(re,J,oe,be){try{di=0;var Fe=hn(re,J,oe,be);return Jn=null,Fe}catch(Xe){if(Xe===Hr||Xe===uh)throw Xe;var St=oi(29,Xe,null,re.mode);return St.lanes=be,St.return=re,St}finally{}}}var ll=Cm(!0),ty=Cm(!1),Oi=pe(null),qr=null;function ts(r){var s=r.alternate;we(kn,kn.current&1),we(Oi,r),qr===null&&(s===null||tl.current!==null||s.memoizedState!==null)&&(qr=r)}function ny(r){if(r.tag===22){if(we(kn,kn.current),we(Oi,r),qr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(qr=r)}}else Sa()}function Sa(){we(kn,kn.current),we(Oi,Oi.current)}function Ys(r){Ne(Oi),qr===r&&(qr=null),Ne(kn)}var kn=pe(0);function Ic(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||$r(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Xl(r,s,o,f){s=r.memoizedState,o=o(f,s),o=o==null?s:E({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Nc={enqueueSetState:function(r,s,o){r=r._reactInternals;var f=Mr(),p=to(f);p.payload=s,o!=null&&(p.callback=o),s=Ea(r,p,f),s!==null&&(Li(s,r,f),mc(s,r,f))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var f=Mr(),p=to(f);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=Ea(r,p,f),s!==null&&(Li(s,r,f),mc(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Mr(),f=to(o);f.tag=2,s!=null&&(f.callback=s),s=Ea(r,f,o),s!==null&&(Li(s,r,o),mc(s,r,o))}};function Dc(r,s,o,f,p,_,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,_,x):s.prototype&&s.prototype.isPureReactComponent?!Gs(o,f)||!Gs(p,_):!0}function ry(r,s,o,f){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,f),s.state!==r&&Nc.enqueueReplaceState(s,s.state,null)}function so(r,s){var o=s;if("ref"in s){o={};for(var f in s)f!=="ref"&&(o[f]=s[f])}if(r=r.defaultProps){o===s&&(o=E({},o));for(var p in r)o[p]===void 0&&(o[p]=r[p])}return o}var ul=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Im(r){ul(r)}function xh(r){console.error(r)}function iy(r){ul(r)}function Oc(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function Ws(r,s,o){try{var f=r.onCaughtError;f(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ch(r,s,o){return o=to(o),o.tag=3,o.payload={element:null},o.callback=function(){Oc(r,s)},o}function Nm(r){return r=to(r),r.tag=3,r}function sy(r,s,o,f){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var _=f.value;r.payload=function(){return p(_)},r.callback=function(){Ws(s,o,f)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(r.callback=function(){Ws(s,o,f),typeof p!="function"&&(fo===null?fo=new Set([this]):fo.add(this));var L=f.stack;this.componentDidCatch(f.value,{componentStack:L!==null?L:""})})}function ay(r,s,o,f,p){if(o.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=o.alternate,s!==null&&fc(s,o,p,!0),o=Oi.current,o!==null){switch(o.tag){case 13:return qr===null?Wm():o.alternate===null&&Un===0&&(Un=3),o.flags&=-257,o.flags|=65536,o.lanes=p,f===sm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([f]):s.add(f),Zm(r,f,p)),!1;case 22:return o.flags|=65536,f===sm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([f]):o.add(f)),Zm(r,f,p)),!1}throw Error(i(435,o.tag))}return Zm(r,f,p),Wm(),!1}if(Mt)return s=Oi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,f!==Hl&&(r=Error(i(422),{cause:f}),Ja(Fr(r,o)))):(f!==Hl&&(s=Error(i(423),{cause:f}),Ja(Fr(s,o))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,f=Fr(f,o),p=Ch(r.stateNode,f,p),_s(r,p),Un!==4&&(Un=2)),!1;var _=Error(i(520),{cause:f});if(_=Fr(_,o),zc===null?zc=[_]:zc.push(_),Un!==4&&(Un=2),s===null)return!0;f=Fr(f,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=p&-p,o.lanes|=r,r=Ch(o.stateNode,f,r),_s(o,r),!1;case 1:if(s=o.type,_=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(fo===null||!fo.has(_))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Nm(p),sy(p,r,o,f),_s(o,p),!1}o=o.return}while(o!==null);return!1}var oy=Error(i(461)),fr=!1;function Sn(r,s,o,f){s.child=r===null?ty(s,null,o,f):ll(s,r.child,o,f)}function Ih(r,s,o,f,p){o=o.render;var _=s.ref;if("ref"in f){var x={};for(var L in f)L!=="ref"&&(x[L]=f[L])}else x=f;return Zo(s),f=um(r,s,o,x,_,p),L=fm(),r!==null&&!fr?(rl(r,s,p),Aa(r,s,p)):(Mt&&L&&nm(s),s.flags|=1,Sn(r,s,f,p),s.child)}function Nh(r,s,o,f,p){if(r===null){var _=o.type;return typeof _=="function"&&!Yo(_)&&_.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=_,Dh(r,s,_,f,p)):(r=ih(o.type,null,f,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(_=r.child,!ws(r,p)){var x=_.memoizedProps;if(o=o.compare,o=o!==null?o:Gs,o(x,f)&&r.ref===s.ref)return Aa(r,s,p)}return s.flags|=1,r=zr(_,f),r.ref=s.ref,r.return=s,s.child=r}function Dh(r,s,o,f,p){if(r!==null){var _=r.memoizedProps;if(Gs(_,f)&&r.ref===s.ref)if(fr=!1,s.pendingProps=f=_,ws(r,p))(r.flags&131072)!==0&&(fr=!0);else return s.lanes=r.lanes,Aa(r,s,p)}return Zl(r,s,o,f,p)}function Mc(r,s,o){var f=s.pendingProps,p=f.children,_=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=_!==null?_.baseLanes|o:o,r!==null){for(p=s.child=r.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;s.childLanes=_&~f}else s.childLanes=0,s.child=null;return cl(r,s,f,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&lh(s,_!==null?_.cachePool:null),_!==null?Ta(s,_):fh(),ny(s);else return s.lanes=s.childLanes=536870912,cl(r,s,_!==null?_.baseLanes|o:o,o)}else _!==null?(lh(s,_.cachePool),Ta(s,_),Sa(),s.memoizedState=null):(r!==null&&lh(s,null),fh(),Sa());return Sn(r,s,p,o),s.child}function cl(r,s,o,f){var p=_a();return p=p===null?null:{parent:yn._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},r!==null&&lh(s,null),fh(),ny(s),r!==null&&fc(r,s,f,!0),null}function Je(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Zl(r,s,o,f,p){return Zo(s),o=um(r,s,o,f,void 0,p),f=fm(),r!==null&&!fr?(rl(r,s,p),Aa(r,s,p)):(Mt&&f&&nm(s),s.flags|=1,Sn(r,s,o,p),s.child)}function Oh(r,s,o,f,p,_){return Zo(s),s.updateQueue=null,o=zg(s,f,o,p),Fg(r),f=fm(),r!==null&&!fr?(rl(r,s,_),Aa(r,s,_)):(Mt&&f&&nm(s),s.flags|=1,Sn(r,s,o,_),s.child)}function ao(r,s,o,f,p){if(Zo(s),s.stateNode===null){var _=Ko,x=o.contextType;typeof x=="object"&&x!==null&&(_=Ln(x)),_=new o(f,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Nc,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=f,_.state=s.memoizedState,_.refs={},el(s),x=o.contextType,_.context=typeof x=="object"&&x!==null?Ln(x):Ko,_.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(Xl(s,o,x,f),_.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(x=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),x!==_.state&&Nc.enqueueReplaceState(_,_.state,null),Nr(s,f,_,p),Es(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(r===null){_=s.stateNode;var L=s.memoizedProps,Y=so(o,L);_.props=Y;var ce=_.context,Te=o.contextType;x=Ko,typeof Te=="object"&&Te!==null&&(x=Ln(Te));var Re=o.getDerivedStateFromProps;Te=typeof Re=="function"||typeof _.getSnapshotBeforeUpdate=="function",L=s.pendingProps!==L,Te||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(L||ce!==x)&&ry(s,_,f,x),$s=!1;var de=s.memoizedState;_.state=de,Nr(s,f,_,p),Es(),ce=s.memoizedState,L||de!==ce||$s?(typeof Re=="function"&&(Xl(s,o,Re,f),ce=s.memoizedState),(Y=$s||Dc(s,o,Y,f,de,ce,x))?(Te||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=ce),_.props=f,_.state=ce,_.context=x,f=Y):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{_=s.stateNode,$l(r,s),x=s.memoizedProps,Te=so(o,x),_.props=Te,Re=s.pendingProps,de=_.context,ce=o.contextType,Y=Ko,typeof ce=="object"&&ce!==null&&(Y=Ln(ce)),L=o.getDerivedStateFromProps,(ce=typeof L=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(x!==Re||de!==Y)&&ry(s,_,f,Y),$s=!1,de=s.memoizedState,_.state=de,Nr(s,f,_,p),Es();var fe=s.memoizedState;x!==Re||de!==fe||$s||r!==null&&r.dependencies!==null&&ah(r.dependencies)?(typeof L=="function"&&(Xl(s,o,L,f),fe=s.memoizedState),(Te=$s||Dc(s,o,Te,f,de,fe,Y)||r!==null&&r.dependencies!==null&&ah(r.dependencies))?(ce||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,fe,Y),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,fe,Y)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||x===r.memoizedProps&&de===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&de===r.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=fe),_.props=f,_.state=fe,_.context=Y,f=Te):(typeof _.componentDidUpdate!="function"||x===r.memoizedProps&&de===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&de===r.memoizedState||(s.flags|=1024),f=!1)}return _=f,Je(r,s),f=(s.flags&128)!==0,_||f?(_=s.stateNode,o=f&&typeof o.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,r!==null&&f?(s.child=ll(s,r.child,null,p),s.child=ll(s,null,o,p)):Sn(r,s,o,p),s.memoizedState=_.state,r=s.child):r=Aa(r,s,p),r}function ly(r,s,o,f){return cc(),s.flags|=256,Sn(r,s,o,f),s.child}var Pc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mh(r){return{baseLanes:r,cachePool:Pg()}}function hr(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=rs),r}function uy(r,s,o){var f=s.pendingProps,p=!1,_=(s.flags&128)!==0,x;if((x=_)||(x=r!==null&&r.memoizedState===null?!1:(kn.current&2)!==0),x&&(p=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,r===null){if(Mt){if(p?ts(s):Sa(),Mt){var L=Cn,Y;if(Y=L){e:{for(Y=L,L=li;Y.nodeType!==8;){if(!L){L=null;break e}if(Y=Ss(Y.nextSibling),Y===null){L=null;break e}}L=Y}L!==null?(s.memoizedState={dehydrated:L,treeContext:bn!==null?{id:xn,overflow:va}:null,retryLane:536870912,hydrationErrors:null},Y=oi(18,null,null,0),Y.stateNode=L,Y.return=s,s.child=Y,Zn=s,Cn=null,Y=!0):Y=!1}Y||Zi(s)}if(L=s.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return $r(L)?s.lanes=32:s.lanes=536870912,null;Ys(s)}return L=f.children,f=f.fallback,p?(Sa(),p=s.mode,L=Lc({mode:"hidden",children:L},p),f=Wo(f,p,o,null),L.return=s,f.return=s,L.sibling=f,s.child=L,p=s.child,p.memoizedState=Mh(o),p.childLanes=hr(r,x,o),s.memoizedState=Pc,f):(ts(s),Dm(s,L))}if(Y=r.memoizedState,Y!==null&&(L=Y.dehydrated,L!==null)){if(_)s.flags&256?(ts(s),s.flags&=-257,s=Om(r,s,o)):s.memoizedState!==null?(Sa(),s.child=r.child,s.flags|=128,s=null):(Sa(),p=f.fallback,L=s.mode,f=Lc({mode:"visible",children:f.children},L),p=Wo(p,L,o,null),p.flags|=2,f.return=s,p.return=s,f.sibling=p,s.child=f,ll(s,r.child,null,o),f=s.child,f.memoizedState=Mh(o),f.childLanes=hr(r,x,o),s.memoizedState=Pc,s=p);else if(ts(s),$r(L)){if(x=L.nextSibling&&L.nextSibling.dataset,x)var ce=x.dgst;x=ce,f=Error(i(419)),f.stack="",f.digest=x,Ja({value:f,source:null,stack:null}),s=Om(r,s,o)}else if(fr||fc(r,s,o,!1),x=(o&r.childLanes)!==0,fr||x){if(x=wn,x!==null&&(f=o&-o,f=(f&42)!==0?1:Ls(f),f=(f&(x.suspendedLanes|o))!==0?0:f,f!==0&&f!==Y.retryLane))throw Y.retryLane=f,$o(r,f),Li(x,r,f),oy;L.data==="$?"||Wm(),s=Om(r,s,o)}else L.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=Y.treeContext,Cn=Ss(L.nextSibling),Zn=s,Mt=!0,vs=null,li=!1,r!==null&&(Qi[Xi++]=xn,Qi[Xi++]=va,Qi[Xi++]=bn,xn=r.id,va=r.overflow,bn=s),s=Dm(s,f.children),s.flags|=4096);return s}return p?(Sa(),p=f.fallback,L=s.mode,Y=r.child,ce=Y.sibling,f=zr(Y,{mode:"hidden",children:f.children}),f.subtreeFlags=Y.subtreeFlags&65011712,ce!==null?p=zr(ce,p):(p=Wo(p,L,o,null),p.flags|=2),p.return=s,f.return=s,f.sibling=p,s.child=f,f=p,p=s.child,L=r.child.memoizedState,L===null?L=Mh(o):(Y=L.cachePool,Y!==null?(ce=yn._currentValue,Y=Y.parent!==ce?{parent:ce,pool:ce}:Y):Y=Pg(),L={baseLanes:L.baseLanes|o,cachePool:Y}),p.memoizedState=L,p.childLanes=hr(r,x,o),s.memoizedState=Pc,f):(ts(s),o=r.child,r=o.sibling,o=zr(o,{mode:"visible",children:f.children}),o.return=s,o.sibling=null,r!==null&&(x=s.deletions,x===null?(s.deletions=[r],s.flags|=16):x.push(r)),s.child=o,s.memoizedState=null,o)}function Dm(r,s){return s=Lc({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Lc(r,s){return r=oi(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Om(r,s,o){return ll(s,r.child,null,o),r=Dm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Mm(r,s,o){r.lanes|=s;var f=r.alternate;f!==null&&(f.lanes|=s),ui(r.return,s,o)}function Pm(r,s,o,f,p){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:o,tailMode:p}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=o,_.tailMode=p)}function cy(r,s,o){var f=s.pendingProps,p=f.revealOrder,_=f.tail;if(Sn(r,s,f.children,o),f=kn.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Mm(r,o,s);else if(r.tag===19)Mm(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(we(kn,f),p){case"forwards":for(o=s.child,p=null;o!==null;)r=o.alternate,r!==null&&Ic(r)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),Pm(s,!1,p,o,_);break;case"backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Ic(r)===null){s.child=p;break}r=p.sibling,p.sibling=o,o=p,p=r}Pm(s,!0,o,null,_);break;case"together":Pm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Aa(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),co|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(fc(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=zr(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=zr(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function ws(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&ah(r)))}function Gr(r,s,o){switch(s.tag){case 3:Nt(s,s.stateNode.containerInfo),Ni(s,yn,r.memoizedState.cache),cc();break;case 27:case 5:Zt(s);break;case 4:Nt(s,s.stateNode.containerInfo);break;case 10:Ni(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(ts(s),s.flags|=128,null):(o&s.child.childLanes)!==0?uy(r,s,o):(ts(s),r=Aa(r,s,o),r!==null?r.sibling:null);ts(s);break;case 19:var p=(r.flags&128)!==0;if(f=(o&s.childLanes)!==0,f||(fc(r,s,o,!1),f=(o&s.childLanes)!==0),p){if(f)return cy(r,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),we(kn,kn.current),f)break;return null;case 22:case 23:return s.lanes=0,Mc(r,s,o);case 24:Ni(s,yn,r.memoizedState.cache)}return Aa(r,s,o)}function Ph(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)fr=!0;else{if(!ws(r,o)&&(s.flags&128)===0)return fr=!1,Gr(r,s,o);fr=(r.flags&131072)!==0}else fr=!1,Mt&&(s.flags&1048576)!==0&&tm(s,oc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var f=s.elementType,p=f._init;if(f=p(f._payload),s.type=f,typeof f=="function")Yo(f)?(r=so(f,r),s.tag=1,s=ao(null,s,f,r,o)):(s.tag=0,s=Zl(null,s,f,r,o));else{if(f!=null){if(p=f.$$typeof,p===he){s.tag=11,s=Ih(null,s,f,r,o);break e}else if(p===N){s.tag=14,s=Nh(null,s,f,r,o);break e}}throw s=je(f)||f,Error(i(306,s,""))}}return s;case 0:return Zl(r,s,s.type,s.pendingProps,o);case 1:return f=s.type,p=so(f,s.pendingProps),ao(r,s,f,p,o);case 3:e:{if(Nt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));f=s.pendingProps;var _=s.memoizedState;p=_.element,$l(r,s),Nr(s,f,null,o);var x=s.memoizedState;if(f=x.cache,Ni(s,yn,f),f!==_.cache&&bt(s,[yn],o,!0),Es(),f=x.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=ly(r,s,f,o);break e}else if(f!==p){p=Fr(Error(i(424)),s),Ja(p),s=ly(r,s,f,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Cn=Ss(r.firstChild),Zn=s,Mt=!0,vs=null,li=!0,o=ty(s,null,f,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(cc(),f===p){s=Aa(r,s,o);break e}Sn(r,s,f,o)}s=s.child}return s;case 26:return Je(r,s),r===null?(o=av(s.type,null,s.pendingProps,null))?s.memoizedState=o:Mt||(o=s.type,r=s.pendingProps,f=dl(He.current).createElement(o),f[Se]=s,f[Oe]=r,nr(f,o,r),Lt(f),s.stateNode=f):s.memoizedState=av(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Zt(s),r===null&&Mt&&(f=s.stateNode=rv(s.type,s.pendingProps,He.current),Zn=s,li=!0,p=Cn,is(s.type)?(op=p,Cn=Ss(f.firstChild)):Cn=p),Sn(r,s,s.pendingProps.children,o),Je(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Mt&&((p=f=Cn)&&(f=tv(f,s.type,s.pendingProps,li),f!==null?(s.stateNode=f,Zn=s,Cn=Ss(f.firstChild),li=!1,p=!0):p=!1),p||Zi(s)),Zt(s),p=s.type,_=s.pendingProps,x=r!==null?r.memoizedProps:null,f=_.children,Xh(p,_)?f=null:x!==null&&Xh(p,x)&&(s.flags|=32),s.memoizedState!==null&&(p=um(r,s,cm,null,null,o),yu._currentValue=p),Je(r,s),Sn(r,s,f,o),s.child;case 6:return r===null&&Mt&&((r=o=Cn)&&(o=Jh(o,s.pendingProps,li),o!==null?(s.stateNode=o,Zn=s,Cn=null,r=!0):r=!1),r||Zi(s)),null;case 13:return uy(r,s,o);case 4:return Nt(s,s.stateNode.containerInfo),f=s.pendingProps,r===null?s.child=ll(s,null,f,o):Sn(r,s,f,o),s.child;case 11:return Ih(r,s,s.type,s.pendingProps,o);case 7:return Sn(r,s,s.pendingProps,o),s.child;case 8:return Sn(r,s,s.pendingProps.children,o),s.child;case 12:return Sn(r,s,s.pendingProps.children,o),s.child;case 10:return f=s.pendingProps,Ni(s,s.type,f.value),Sn(r,s,f.children,o),s.child;case 9:return p=s.type._context,f=s.pendingProps.children,Zo(s),p=Ln(p),f=f(p),s.flags|=1,Sn(r,s,f,o),s.child;case 14:return Nh(r,s,s.type,s.pendingProps,o);case 15:return Dh(r,s,s.type,s.pendingProps,o);case 19:return cy(r,s,o);case 31:return f=s.pendingProps,o=s.mode,f={mode:f.mode,children:f.children},r===null?(o=Lc(f,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=zr(r.child,f),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return Mc(r,s,o);case 24:return Zo(s),f=Ln(yn),r===null?(p=_a(),p===null&&(p=wn,_=rm(),p.pooledCache=_,_.refCount++,_!==null&&(p.pooledCacheLanes|=o),p=_),s.memoizedState={parent:f,cache:p},el(s),Ni(s,yn,p)):((r.lanes&o)!==0&&($l(r,s),Nr(s,null,null,o),Es()),p=r.memoizedState,_=s.memoizedState,p.parent!==f?(p={parent:f,cache:f},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Ni(s,yn,f)):(f=_.cache,Ni(s,yn,f),f!==p.cache&&bt(s,[yn],o,!0))),Sn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ra(r){r.flags|=4}function Lh(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!rr(s)){if(s=Oi.current,s!==null&&((zt&4194048)===zt?qr!==null:(zt&62914560)!==zt&&(zt&536870912)===0||s!==qr))throw Gl=sm,Lg;r.flags|=8192}}function kh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Mo():536870912,r.lanes|=s,su|=s)}function kc(r,s){if(!Mt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function vn(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,f=0;if(s)for(var p=r.child;p!==null;)o|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)o|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=f,r.childLanes=o,s}function fy(r,s,o){var f=s.pendingProps;switch(lc(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(s),null;case 1:return vn(s),null;case 3:return o=s.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Ji(yn),Mn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(uc(s)?Ra(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ng())),vn(s),null;case 26:return o=s.memoizedState,r===null?(Ra(s),o!==null?(vn(s),Lh(s,o)):(vn(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Ra(s),vn(s),Lh(s,o)):(vn(s),s.flags&=-16777217):(r.memoizedProps!==f&&Ra(s),vn(s),s.flags&=-16777217),null;case 27:An(s),o=He.current;var p=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==f&&Ra(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return vn(s),null}r=Ue.current,uc(s)?Cg(s):(r=rv(p,f,o),s.stateNode=r,Ra(s))}return vn(s),null;case 5:if(An(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==f&&Ra(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return vn(s),null}if(r=Ue.current,uc(s))Cg(s);else{switch(p=dl(He.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?p.createElement("select",{is:f.is}):p.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?p.createElement(o,{is:f.is}):p.createElement(o)}}r[Se]=s,r[Oe]=f;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=r;e:switch(nr(r,o,f),o){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ra(s)}}return vn(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==f&&Ra(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(i(166));if(r=He.current,uc(s)){if(r=s.stateNode,o=s.memoizedProps,f=null,p=Zn,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}r[Se]=s,r=!!(r.nodeValue===o||f!==null&&f.suppressHydrationWarning===!0||Xy(r.nodeValue,o)),r||Zi(s)}else r=dl(r).createTextNode(f),r[Se]=s,s.stateNode=r}return vn(s),null;case 13:if(f=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=uc(s),f!==null&&f.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Se]=s}else cc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;vn(s),p=!1}else p=Ng(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Ys(s),s):(Ys(s),null)}if(Ys(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=f!==null,r=r!==null&&r.memoizedState!==null,o){f=s.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool);var _=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==p&&(f.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),kh(s,s.updateQueue),vn(s),null;case 4:return Mn(),r===null&&rp(s.stateNode.containerInfo),vn(s),null;case 10:return Ji(s.type),vn(s),null;case 19:if(Ne(kn),p=s.memoizedState,p===null)return vn(s),null;if(f=(s.flags&128)!==0,_=p.rendering,_===null)if(f)kc(p,!1);else{if(Un!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(_=Ic(r),_!==null){for(s.flags|=128,kc(p,!1),r=_.updateQueue,s.updateQueue=r,kh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)ac(o,r),o=o.sibling;return we(kn,kn.current&1|2),s.child}r=r.sibling}p.tail!==null&&an()>au&&(s.flags|=128,f=!0,kc(p,!1),s.lanes=4194304)}else{if(!f)if(r=Ic(_),r!==null){if(s.flags|=128,f=!0,r=r.updateQueue,s.updateQueue=r,kh(s,r),kc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Mt)return vn(s),null}else 2*an()-p.renderingStartTime>au&&o!==536870912&&(s.flags|=128,f=!0,kc(p,!1),s.lanes=4194304);p.isBackwards?(_.sibling=s.child,s.child=_):(r=p.last,r!==null?r.sibling=_:s.child=_,p.last=_)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=an(),s.sibling=null,r=kn.current,we(kn,f?r&1|2:r&1),s):(vn(s),null);case 22:case 23:return Ys(s),lm(),f=s.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(o&536870912)!==0&&(s.flags&128)===0&&(vn(s),s.subtreeFlags&6&&(s.flags|=8192)):vn(s),o=s.updateQueue,o!==null&&kh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==o&&(s.flags|=2048),r!==null&&Ne(Jo),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ji(yn),vn(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function hy(r,s){switch(lc(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ji(yn),Mn(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return An(s),null;case 13:if(Ys(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));cc()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ne(kn),null;case 4:return Mn(),null;case 10:return Ji(s.type),null;case 22:case 23:return Ys(s),lm(),r!==null&&Ne(Jo),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ji(yn),null;case 25:return null;default:return null}}function dy(r,s){switch(lc(s),s.tag){case 3:Ji(yn),Mn();break;case 26:case 27:case 5:An(s);break;case 4:Mn();break;case 13:Ys(s);break;case 19:Ne(kn);break;case 10:Ji(s.type);break;case 22:case 23:Ys(s),lm(),r!==null&&Ne(Jo);break;case 24:Ji(yn)}}function Uc(r,s){try{var o=s.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var p=f.next;o=p;do{if((o.tag&r)===r){f=void 0;var _=o.create,x=o.inst;f=_(),x.destroy=f}o=o.next}while(o!==p)}}catch(L){_n(s,s.return,L)}}function oo(r,s,o){try{var f=s.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var _=p.next;f=_;do{if((f.tag&r)===r){var x=f.inst,L=x.destroy;if(L!==void 0){x.destroy=void 0,p=s;var Y=o,ce=L;try{ce()}catch(Te){_n(p,Y,Te)}}}f=f.next}while(f!==_)}}catch(Te){_n(s,s.return,Te)}}function my(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{om(s,o)}catch(f){_n(r,r.return,f)}}}function Lm(r,s,o){o.props=so(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(f){_n(r,s,f)}}function Jl(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof o=="function"?r.refCleanup=o(f):o.current=f}}catch(p){_n(r,s,p)}}function Qs(r,s){var o=r.ref,f=r.refCleanup;if(o!==null)if(typeof f=="function")try{f()}catch(p){_n(r,s,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){_n(r,s,p)}else o.current=null}function Uh(r){var s=r.type,o=r.memoizedProps,f=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&f.focus();break e;case"img":o.src?f.src=o.src:o.srcSet&&(f.srcset=o.srcSet)}}catch(p){_n(r,r.return,p)}}function Vh(r,s,o){try{var f=r.stateNode;G0(f,r.type,o,s),f[Oe]=s}catch(p){_n(r,r.return,p)}}function eu(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&is(r.type)||r.tag===4}function Vc(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||eu(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&is(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function jh(r,s,o){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Wh));else if(f!==4&&(f===27&&is(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(jh(r,s,o),r=r.sibling;r!==null;)jh(r,s,o),r=r.sibling}function jc(r,s,o){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(f!==4&&(f===27&&is(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(jc(r,s,o),r=r.sibling;r!==null;)jc(r,s,o),r=r.sibling}function Bc(r){var s=r.stateNode,o=r.memoizedProps;try{for(var f=r.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);nr(s,f,o),s[Se]=r,s[Oe]=o}catch(_){_n(r,r.return,_)}}var Xs=!1,sn=!1,xa=!1,py=typeof WeakSet=="function"?WeakSet:Set,er=null;function D0(r,s){if(r=r.containerInfo,bs=rd,r=Rg(r),Xd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var f=o.getSelection&&o.getSelection();if(f&&f.rangeCount!==0){o=f.anchorNode;var p=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{o.nodeType,_.nodeType}catch{o=null;break e}var x=0,L=-1,Y=-1,ce=0,Te=0,Re=r,de=null;t:for(;;){for(var fe;Re!==o||p!==0&&Re.nodeType!==3||(L=x+p),Re!==_||f!==0&&Re.nodeType!==3||(Y=x+f),Re.nodeType===3&&(x+=Re.nodeValue.length),(fe=Re.firstChild)!==null;)de=Re,Re=fe;for(;;){if(Re===r)break t;if(de===o&&++ce===p&&(L=x),de===_&&++Te===f&&(Y=x),(fe=Re.nextSibling)!==null)break;Re=de,de=Re.parentNode}Re=fe}o=L===-1||Y===-1?null:{start:L,end:Y}}else o=null}o=o||{start:0,end:0}}else o=null;for(Qh={focusedElem:r,selectionRange:o},rd=!1,er=s;er!==null;)if(s=er,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,er=r;else for(;er!==null;){switch(s=er,_=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&_!==null){r=void 0,o=s,p=_.memoizedProps,_=_.memoizedState,f=o.stateNode;try{var at=so(o.type,p,o.elementType===o.type);r=f.getSnapshotBeforeUpdate(at,_),f.__reactInternalSnapshotBeforeUpdate=r}catch(rt){_n(o,o.return,rt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)ap(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ap(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,er=r;break}er=s.return}}function gy(r,s,o){var f=o.flags;switch(o.tag){case 0:case 11:case 15:lo(r,o),f&4&&Uc(5,o);break;case 1:if(lo(r,o),f&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(x){_n(o,o.return,x)}else{var p=so(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(p,s,r.__reactInternalSnapshotBeforeUpdate)}catch(x){_n(o,o.return,x)}}f&64&&my(o),f&512&&Jl(o,o.return);break;case 3:if(lo(r,o),f&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{om(r,s)}catch(x){_n(o,o.return,x)}}break;case 27:s===null&&f&4&&Bc(o);case 26:case 5:lo(r,o),s===null&&f&4&&Uh(o),f&512&&Jl(o,o.return);break;case 12:lo(r,o);break;case 13:lo(r,o),f&4&&_y(r,o),f&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=qh.bind(null,o),hu(r,o))));break;case 22:if(f=o.memoizedState!==null||Xs,!f){s=s!==null&&s.memoizedState!==null||sn,p=Xs;var _=sn;Xs=f,(sn=s)&&!_?Ia(r,o,(o.subtreeFlags&8772)!==0):lo(r,o),Xs=p,sn=_}break;case 30:break;default:lo(r,o)}}function yy(r){var s=r.alternate;s!==null&&(r.alternate=null,yy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&$e(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var In=null,mi=!1;function Ca(r,s,o){for(o=o.child;o!==null;)vy(r,s,o),o=o.sibling}function vy(r,s,o){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(qe,o)}catch{}switch(o.tag){case 26:sn||Qs(o,s),Ca(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:sn||Qs(o,s);var f=In,p=mi;is(o.type)&&(In=o.stateNode,mi=!1),Ca(r,s,o),Xc(o.stateNode),In=f,mi=p;break;case 5:sn||Qs(o,s);case 6:if(f=In,p=mi,In=null,Ca(r,s,o),In=f,mi=p,In!==null)if(mi)try{(In.nodeType===9?In.body:In.nodeName==="HTML"?In.ownerDocument.body:In).removeChild(o.stateNode)}catch(_){_n(o,s,_)}else try{In.removeChild(o.stateNode)}catch(_){_n(o,s,_)}break;case 18:In!==null&&(mi?(r=In,Zh(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),af(r)):Zh(In,o.stateNode));break;case 4:f=In,p=mi,In=o.stateNode.containerInfo,mi=!0,Ca(r,s,o),In=f,mi=p;break;case 0:case 11:case 14:case 15:sn||oo(2,o,s),sn||oo(4,o,s),Ca(r,s,o);break;case 1:sn||(Qs(o,s),f=o.stateNode,typeof f.componentWillUnmount=="function"&&Lm(o,s,f)),Ca(r,s,o);break;case 21:Ca(r,s,o);break;case 22:sn=(f=sn)||o.memoizedState!==null,Ca(r,s,o),sn=f;break;default:Ca(r,s,o)}}function _y(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{af(r)}catch(o){_n(s,s.return,o)}}function O0(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new py),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new py),s;default:throw Error(i(435,r.tag))}}function km(r,s){var o=O0(r);s.forEach(function(f){var p=V0.bind(null,r,f);o.has(f)||(o.add(f),f.then(p,p))})}function Mi(r,s){var o=s.deletions;if(o!==null)for(var f=0;f<o.length;f++){var p=o[f],_=r,x=s,L=x;e:for(;L!==null;){switch(L.tag){case 27:if(is(L.type)){In=L.stateNode,mi=!1;break e}break;case 5:In=L.stateNode,mi=!1;break e;case 3:case 4:In=L.stateNode.containerInfo,mi=!0;break e}L=L.return}if(In===null)throw Error(i(160));vy(_,x,p),In=null,mi=!1,_=p.alternate,_!==null&&(_.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Um(s,r),s=s.sibling}var ns=null;function Um(r,s){var o=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Mi(s,r),pi(r),f&4&&(oo(3,r,r.return),Uc(3,r),oo(5,r,r.return));break;case 1:Mi(s,r),pi(r),f&512&&(sn||o===null||Qs(o,o.return)),f&64&&Xs&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?f:o.concat(f))));break;case 26:var p=ns;if(Mi(s,r),pi(r),f&512&&(sn||o===null||Qs(o,o.return)),f&4){var _=o!==null?o.memoizedState:null;if(f=r.memoizedState,o===null)if(f===null)if(r.stateNode===null){e:{f=r.type,o=r.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":_=p.getElementsByTagName("title")[0],(!_||_[nt]||_[Se]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=p.createElement(f),p.head.insertBefore(_,p.querySelector("head > title"))),nr(_,f,o),_[Se]=r,Lt(_),f=_;break e;case"link":var x=uv("link","href",p).get(f+(o.href||""));if(x){for(var L=0;L<x.length;L++)if(_=x[L],_.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&_.getAttribute("rel")===(o.rel==null?null:o.rel)&&_.getAttribute("title")===(o.title==null?null:o.title)&&_.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(L,1);break t}}_=p.createElement(f),nr(_,f,o),p.head.appendChild(_);break;case"meta":if(x=uv("meta","content",p).get(f+(o.content||""))){for(L=0;L<x.length;L++)if(_=x[L],_.getAttribute("content")===(o.content==null?null:""+o.content)&&_.getAttribute("name")===(o.name==null?null:o.name)&&_.getAttribute("property")===(o.property==null?null:o.property)&&_.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&_.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(L,1);break t}}_=p.createElement(f),nr(_,f,o),p.head.appendChild(_);break;default:throw Error(i(468,f))}_[Se]=r,Lt(_),f=_}r.stateNode=f}else cv(p,r.type,r.stateNode);else r.stateNode=lv(p,f,r.memoizedProps);else _!==f?(_===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):_.count--,f===null?cv(p,r.type,r.stateNode):lv(p,f,r.memoizedProps)):f===null&&r.stateNode!==null&&Vh(r,r.memoizedProps,o.memoizedProps)}break;case 27:Mi(s,r),pi(r),f&512&&(sn||o===null||Qs(o,o.return)),o!==null&&f&4&&Vh(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Mi(s,r),pi(r),f&512&&(sn||o===null||Qs(o,o.return)),r.flags&32){p=r.stateNode;try{ii(p,"")}catch(fe){_n(r,r.return,fe)}}f&4&&r.stateNode!=null&&(p=r.memoizedProps,Vh(r,p,o!==null?o.memoizedProps:p)),f&1024&&(xa=!0);break;case 6:if(Mi(s,r),pi(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,o=r.stateNode;try{o.nodeValue=f}catch(fe){_n(r,r.return,fe)}}break;case 3:if(gu=null,p=ns,ns=pt(s.containerInfo),Mi(s,r),ns=p,pi(r),f&4&&o!==null&&o.memoizedState.isDehydrated)try{af(s.containerInfo)}catch(fe){_n(r,r.return,fe)}xa&&(xa=!1,Ey(r));break;case 4:f=ns,ns=pt(r.stateNode.containerInfo),Mi(s,r),pi(r),ns=f;break;case 12:Mi(s,r),pi(r);break;case 13:Mi(s,r),pi(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(qm=an()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,km(r,f)));break;case 22:p=r.memoizedState!==null;var Y=o!==null&&o.memoizedState!==null,ce=Xs,Te=sn;if(Xs=ce||p,sn=Te||Y,Mi(s,r),sn=Te,Xs=ce,pi(r),f&8192)e:for(s=r.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||Y||Xs||sn||fl(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){Y=o=s;try{if(_=Y.stateNode,p)x=_.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{L=Y.stateNode;var Re=Y.memoizedProps.style,de=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;L.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(fe){_n(Y,Y.return,fe)}}}else if(s.tag===6){if(o===null){Y=s;try{Y.stateNode.nodeValue=p?"":Y.memoizedProps}catch(fe){_n(Y,Y.return,fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=r.updateQueue,f!==null&&(o=f.retryQueue,o!==null&&(f.retryQueue=null,km(r,o))));break;case 19:Mi(s,r),pi(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,km(r,f)));break;case 30:break;case 21:break;default:Mi(s,r),pi(r)}}function pi(r){var s=r.flags;if(s&2){try{for(var o,f=r.return;f!==null;){if(eu(f)){o=f;break}f=f.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,_=Vc(r);jc(r,_,p);break;case 5:var x=o.stateNode;o.flags&32&&(ii(x,""),o.flags&=-33);var L=Vc(r);jc(r,L,x);break;case 3:case 4:var Y=o.stateNode.containerInfo,ce=Vc(r);jh(r,ce,Y);break;default:throw Error(i(161))}}catch(Te){_n(r,r.return,Te)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Ey(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Ey(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function lo(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)gy(r,s.alternate,s),s=s.sibling}function fl(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:oo(4,s,s.return),fl(s);break;case 1:Qs(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Lm(s,s.return,o),fl(s);break;case 27:Xc(s.stateNode);case 26:case 5:Qs(s,s.return),fl(s);break;case 22:s.memoizedState===null&&fl(s);break;case 30:fl(s);break;default:fl(s)}r=r.sibling}}function Ia(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,p=r,_=s,x=_.flags;switch(_.tag){case 0:case 11:case 15:Ia(p,_,o),Uc(4,_);break;case 1:if(Ia(p,_,o),f=_,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ce){_n(f,f.return,ce)}if(f=_,p=f.updateQueue,p!==null){var L=f.stateNode;try{var Y=p.shared.hiddenCallbacks;if(Y!==null)for(p.shared.hiddenCallbacks=null,p=0;p<Y.length;p++)jg(Y[p],L)}catch(ce){_n(f,f.return,ce)}}o&&x&64&&my(_),Jl(_,_.return);break;case 27:Bc(_);case 26:case 5:Ia(p,_,o),o&&f===null&&x&4&&Uh(_),Jl(_,_.return);break;case 12:Ia(p,_,o);break;case 13:Ia(p,_,o),o&&x&4&&_y(p,_);break;case 22:_.memoizedState===null&&Ia(p,_,o),Jl(_,_.return);break;case 30:break;default:Ia(p,_,o)}s=s.sibling}}function Vm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&hc(o))}function jm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&hc(r))}function Zs(r,s,o,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ty(r,s,o,f),s=s.sibling}function Ty(r,s,o,f){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Zs(r,s,o,f),p&2048&&Uc(9,s);break;case 1:Zs(r,s,o,f);break;case 3:Zs(r,s,o,f),p&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&hc(r)));break;case 12:if(p&2048){Zs(r,s,o,f),r=s.stateNode;try{var _=s.memoizedProps,x=_.id,L=_.onPostCommit;typeof L=="function"&&L(x,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Y){_n(s,s.return,Y)}}else Zs(r,s,o,f);break;case 13:Zs(r,s,o,f);break;case 23:break;case 22:_=s.stateNode,x=s.alternate,s.memoizedState!==null?_._visibility&2?Zs(r,s,o,f):Fc(r,s):_._visibility&2?Zs(r,s,o,f):(_._visibility|=2,tu(r,s,o,f,(s.subtreeFlags&10256)!==0)),p&2048&&Vm(x,s);break;case 24:Zs(r,s,o,f),p&2048&&jm(s.alternate,s);break;default:Zs(r,s,o,f)}}function tu(r,s,o,f,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var _=r,x=s,L=o,Y=f,ce=x.flags;switch(x.tag){case 0:case 11:case 15:tu(_,x,L,Y,p),Uc(8,x);break;case 23:break;case 22:var Te=x.stateNode;x.memoizedState!==null?Te._visibility&2?tu(_,x,L,Y,p):Fc(_,x):(Te._visibility|=2,tu(_,x,L,Y,p)),p&&ce&2048&&Vm(x.alternate,x);break;case 24:tu(_,x,L,Y,p),p&&ce&2048&&jm(x.alternate,x);break;default:tu(_,x,L,Y,p)}s=s.sibling}}function Fc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,f=s,p=f.flags;switch(f.tag){case 22:Fc(o,f),p&2048&&Vm(f.alternate,f);break;case 24:Fc(o,f),p&2048&&jm(f.alternate,f);break;default:Fc(o,f)}s=s.sibling}}var Or=8192;function nu(r){if(r.subtreeFlags&Or)for(r=r.child;r!==null;)wy(r),r=r.sibling}function wy(r){switch(r.tag){case 26:nu(r),r.flags&Or&&r.memoizedState!==null&&rE(ns,r.memoizedState,r.memoizedProps);break;case 5:nu(r);break;case 3:case 4:var s=ns;ns=pt(r.stateNode.containerInfo),nu(r),ns=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Or,Or=16777216,nu(r),Or=s):nu(r));break;default:nu(r)}}function by(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function ru(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var f=s[o];er=f,Ay(f,r)}by(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Sy(r),r=r.sibling}function Sy(r){switch(r.tag){case 0:case 11:case 15:ru(r),r.flags&2048&&oo(9,r,r.return);break;case 3:ru(r);break;case 12:ru(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Bh(r)):ru(r);break;default:ru(r)}}function Bh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var f=s[o];er=f,Ay(f,r)}by(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:oo(8,s,s.return),Bh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Bh(s));break;default:Bh(s)}r=r.sibling}}function Ay(r,s){for(;er!==null;){var o=er;switch(o.tag){case 0:case 11:case 15:oo(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var f=o.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:hc(o.memoizedState.cache)}if(f=o.child,f!==null)f.return=o,er=f;else e:for(o=r;er!==null;){f=er;var p=f.sibling,_=f.return;if(yy(f),f===o){er=null;break e}if(p!==null){p.return=_,er=p;break e}er=_}}}var M0={getCacheForType:function(r){var s=Ln(yn),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},Bm=typeof WeakMap=="function"?WeakMap:Map,un=0,wn=null,xt=null,zt=0,cn=0,Pi=null,uo=!1,iu=!1,Fm=!1,Na=0,Un=0,co=0,hl=0,zm=0,rs=0,su=0,zc=null,gi=null,Hm=!1,qm=0,au=1/0,Hc=null,fo=null,wr=0,ho=null,ou=null,lu=0,Gm=0,$m=null,Ry=null,uu=0,Km=null;function Mr(){if((un&2)!==0&&zt!==0)return zt&-zt;if(le.T!==null){var r=ql;return r!==0?r:Kh()}return X()}function xy(){rs===0&&(rs=(zt&536870912)===0||Mt?la():536870912);var r=Oi.current;return r!==null&&(r.flags|=32),rs}function Li(r,s,o){(r===wn&&(cn===2||cn===9)||r.cancelPendingCommit!==null)&&(cu(r,0),mo(r,zt,rs,!1)),zi(r,o),((un&2)===0||r!==wn)&&(r===wn&&((un&2)===0&&(hl|=o),Un===4&&mo(r,zt,rs,!1)),Js(r))}function Cy(r,s,o){if((un&6)!==0)throw Error(i(327));var f=!o&&(s&124)===0&&(s&r.expiredLanes)===0||ei(r,s),p=f?k0(r,s):Qm(r,s,!0),_=f;do{if(p===0){iu&&!f&&mo(r,s,0,!1);break}else{if(o=r.current.alternate,_&&!P0(o)){p=Qm(r,s,!1),_=!1;continue}if(p===2){if(_=s,r.errorRecoveryDisabledLanes&_)var x=0;else x=r.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var L=r;p=zc;var Y=L.current.memoizedState.isDehydrated;if(Y&&(cu(L,x).flags|=256),x=Qm(L,x,!1),x!==2){if(Fm&&!Y){L.errorRecoveryDisabledLanes|=_,hl|=_,p=4;break e}_=gi,gi=p,_!==null&&(gi===null?gi=_:gi.push.apply(gi,_))}p=x}if(_=!1,p!==2)continue}}if(p===1){cu(r,0),mo(r,s,0,!0);break}e:{switch(f=r,_=p,_){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:mo(f,s,rs,!uo);break e;case 2:gi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(p=qm+300-an(),10<p)){if(mo(f,s,rs,!uo),hs(f,0,!0)!==0)break e;f.timeoutHandle=Zy(Iy.bind(null,f,o,gi,Hc,Hm,s,rs,hl,su,uo,_,2,-0,0),p);break e}Iy(f,o,gi,Hc,Hm,s,rs,hl,su,uo,_,0,-0,0)}}break}while(!0);Js(r)}function Iy(r,s,o,f,p,_,x,L,Y,ce,Te,Re,de,fe){if(r.timeoutHandle=-1,Re=s.subtreeFlags,(Re&8192||(Re&16785408)===16785408)&&(dr={stylesheets:null,count:0,unsuspend:nE},wy(s),Re=iE(),Re!==null)){r.cancelPendingCommit=Re(qc.bind(null,r,s,_,o,f,p,x,L,Y,Te,1,de,fe)),mo(r,_,x,!ce);return}qc(r,s,_,o,f,p,x,L,Y)}function P0(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var f=0;f<o.length;f++){var p=o[f],_=p.getSnapshot;p=p.value;try{if(!Ci(_(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function mo(r,s,o,f){s&=~zm,s&=~hl,r.suspendedLanes|=s,r.pingedLanes&=~s,f&&(r.warmLanes|=s),f=r.expirationTimes;for(var p=s;0<p;){var _=31-Pn(p),x=1<<_;f[_]=-1,p&=~x}o!==0&&Ur(r,o,s)}function Fh(){return(un&6)===0?(Kc(0),!1):!0}function Ym(){if(xt!==null){if(cn===0)var r=xt.return;else r=xt,P=eo=null,hh(r),Jn=null,di=0,r=xt;for(;r!==null;)dy(r.alternate,r),r=r.return;xt=null}}function cu(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,K0(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Ym(),wn=r,xt=o=zr(r.current,null),zt=s,cn=0,Pi=null,uo=!1,iu=ei(r,s),Fm=!1,su=rs=zm=hl=co=Un=0,gi=zc=null,Hm=!1,(s&8)!==0&&(s|=s&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=s;0<f;){var p=31-Pn(f),_=1<<p;s|=r[p],f&=~_}return Na=s,Go(),o}function Ny(r,s){Et=null,le.H=xc,s===Hr||s===uh?(s=Ug(),cn=3):s===Lg?(s=Ug(),cn=4):cn=s===oy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Pi=s,xt===null&&(Un=1,Oc(r,Fr(s,r.current)))}function Dy(){var r=le.H;return le.H=xc,r===null?xc:r}function Oy(){var r=le.A;return le.A=M0,r}function Wm(){Un=4,uo||(zt&4194048)!==zt&&Oi.current!==null||(iu=!0),(co&134217727)===0&&(hl&134217727)===0||wn===null||mo(wn,zt,rs,!1)}function Qm(r,s,o){var f=un;un|=2;var p=Dy(),_=Oy();(wn!==r||zt!==s)&&(Hc=null,cu(r,s)),s=!1;var x=Un;e:do try{if(cn!==0&&xt!==null){var L=xt,Y=Pi;switch(cn){case 8:Ym(),x=6;break e;case 3:case 2:case 9:case 6:Oi.current===null&&(s=!0);var ce=cn;if(cn=0,Pi=null,fu(r,L,Y,ce),o&&iu){x=0;break e}break;default:ce=cn,cn=0,Pi=null,fu(r,L,Y,ce)}}L0(),x=Un;break}catch(Te){Ny(r,Te)}while(!0);return s&&r.shellSuspendCounter++,P=eo=null,un=f,le.H=p,le.A=_,xt===null&&(wn=null,zt=0,Go()),x}function L0(){for(;xt!==null;)Xm(xt)}function k0(r,s){var o=un;un|=2;var f=Dy(),p=Oy();wn!==r||zt!==s?(Hc=null,au=an()+500,cu(r,s)):iu=ei(r,s);e:do try{if(cn!==0&&xt!==null){s=xt;var _=Pi;t:switch(cn){case 1:cn=0,Pi=null,fu(r,s,_,1);break;case 2:case 9:if(kg(_)){cn=0,Pi=null,Py(s);break}s=function(){cn!==2&&cn!==9||wn!==r||(cn=7),Js(r)},_.then(s,s);break e;case 3:cn=7;break e;case 4:cn=5;break e;case 7:kg(_)?(cn=0,Pi=null,Py(s)):(cn=0,Pi=null,fu(r,s,_,7));break;case 5:var x=null;switch(xt.tag){case 26:x=xt.memoizedState;case 5:case 27:var L=xt;if(!x||rr(x)){cn=0,Pi=null;var Y=L.sibling;if(Y!==null)xt=Y;else{var ce=L.return;ce!==null?(xt=ce,zh(ce)):xt=null}break t}}cn=0,Pi=null,fu(r,s,_,5);break;case 6:cn=0,Pi=null,fu(r,s,_,6);break;case 8:Ym(),Un=6;break e;default:throw Error(i(462))}}My();break}catch(Te){Ny(r,Te)}while(!0);return P=eo=null,le.H=f,le.A=p,un=o,xt!==null?0:(wn=null,zt=0,Go(),Un)}function My(){for(;xt!==null&&!Dt();)Xm(xt)}function Xm(r){var s=Ph(r.alternate,r,Na);r.memoizedProps=r.pendingProps,s===null?zh(r):xt=s}function Py(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=Oh(o,s,s.pendingProps,s.type,void 0,zt);break;case 11:s=Oh(o,s,s.pendingProps,s.type.render,s.ref,zt);break;case 5:hh(s);default:dy(o,s),s=xt=ac(s,Na),s=Ph(o,s,Na)}r.memoizedProps=r.pendingProps,s===null?zh(r):xt=s}function fu(r,s,o,f){P=eo=null,hh(s),Jn=null,di=0;var p=s.return;try{if(ay(r,p,s,o,zt)){Un=1,Oc(r,Fr(o,r.current)),xt=null;return}}catch(_){if(p!==null)throw xt=p,_;Un=1,Oc(r,Fr(o,r.current)),xt=null;return}s.flags&32768?(Mt||f===1?r=!0:iu||(zt&536870912)!==0?r=!1:(uo=r=!0,(f===2||f===9||f===3||f===6)&&(f=Oi.current,f!==null&&f.tag===13&&(f.flags|=16384))),Ly(s,r)):zh(s)}function zh(r){var s=r;do{if((s.flags&32768)!==0){Ly(s,uo);return}r=s.return;var o=fy(s.alternate,s,Na);if(o!==null){xt=o;return}if(s=s.sibling,s!==null){xt=s;return}xt=s=r}while(s!==null);Un===0&&(Un=5)}function Ly(r,s){do{var o=hy(r.alternate,r);if(o!==null){o.flags&=32767,xt=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){xt=r;return}xt=r=o}while(r!==null);Un=6,xt=null}function qc(r,s,o,f,p,_,x,L,Y){r.cancelPendingCommit=null;do Hh();while(wr!==0);if((un&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(_=s.lanes|s.childLanes,_|=Jd,qa(r,o,_,x,L,Y),r===wn&&(xt=wn=null,zt=0),ou=s,ho=r,lu=o,Gm=_,$m=p,Ry=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Hy(Bn,function(){return By(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=le.T,le.T=null,p=me.p,me.p=2,x=un,un|=4;try{D0(r,s,o)}finally{un=x,me.p=p,le.T=f}}wr=1,ky(),Uy(),Vy()}}function ky(){if(wr===1){wr=0;var r=ho,s=ou,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=le.T,le.T=null;var f=me.p;me.p=2;var p=un;un|=4;try{Um(s,r);var _=Qh,x=Rg(r.containerInfo),L=_.focusedElem,Y=_.selectionRange;if(x!==L&&L&&L.ownerDocument&&Ag(L.ownerDocument.documentElement,L)){if(Y!==null&&Xd(L)){var ce=Y.start,Te=Y.end;if(Te===void 0&&(Te=ce),"selectionStart"in L)L.selectionStart=ce,L.selectionEnd=Math.min(Te,L.value.length);else{var Re=L.ownerDocument||document,de=Re&&Re.defaultView||window;if(de.getSelection){var fe=de.getSelection(),at=L.textContent.length,rt=Math.min(Y.start,at),hn=Y.end===void 0?rt:Math.min(Y.end,at);!fe.extend&&rt>hn&&(x=hn,hn=rt,rt=x);var re=Qd(L,rt),J=Qd(L,hn);if(re&&J&&(fe.rangeCount!==1||fe.anchorNode!==re.node||fe.anchorOffset!==re.offset||fe.focusNode!==J.node||fe.focusOffset!==J.offset)){var oe=Re.createRange();oe.setStart(re.node,re.offset),fe.removeAllRanges(),rt>hn?(fe.addRange(oe),fe.extend(J.node,J.offset)):(oe.setEnd(J.node,J.offset),fe.addRange(oe))}}}}for(Re=[],fe=L;fe=fe.parentNode;)fe.nodeType===1&&Re.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<Re.length;L++){var be=Re[L];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}rd=!!bs,Qh=bs=null}finally{un=p,me.p=f,le.T=o}}r.current=s,wr=2}}function Uy(){if(wr===2){wr=0;var r=ho,s=ou,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=le.T,le.T=null;var f=me.p;me.p=2;var p=un;un|=4;try{gy(r,s.alternate,s)}finally{un=p,me.p=f,le.T=o}}wr=3}}function Vy(){if(wr===4||wr===3){wr=0,cs();var r=ho,s=ou,o=lu,f=Ry;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?wr=5:(wr=0,ou=ho=null,jy(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(fo=null),ua(o),s=s.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(qe,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=le.T,p=me.p,me.p=2,le.T=null;try{for(var _=r.onRecoverableError,x=0;x<f.length;x++){var L=f[x];_(L.value,{componentStack:L.stack})}}finally{le.T=s,me.p=p}}(lu&3)!==0&&Hh(),Js(r),p=r.pendingLanes,(o&4194090)!==0&&(p&42)!==0?r===Km?uu++:(uu=0,Km=r):uu=0,Kc(0)}}function jy(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,hc(s)))}function Hh(r){return ky(),Uy(),Vy(),By()}function By(){if(wr!==5)return!1;var r=ho,s=Gm;Gm=0;var o=ua(lu),f=le.T,p=me.p;try{me.p=32>o?32:o,le.T=null,o=$m,$m=null;var _=ho,x=lu;if(wr=0,ou=ho=null,lu=0,(un&6)!==0)throw Error(i(331));var L=un;if(un|=4,Sy(_.current),Ty(_,_.current,x,o),un=L,Kc(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(qe,_)}catch{}return!0}finally{me.p=p,le.T=f,jy(r,s)}}function Fy(r,s,o){s=Fr(o,s),s=Ch(r.stateNode,s,2),r=Ea(r,s,2),r!==null&&(zi(r,2),Js(r))}function _n(r,s,o){if(r.tag===3)Fy(r,r,o);else for(;s!==null;){if(s.tag===3){Fy(s,r,o);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(fo===null||!fo.has(f))){r=Fr(o,r),o=Nm(2),f=Ea(s,o,2),f!==null&&(sy(o,f,s,r),zi(f,2),Js(f));break}}s=s.return}}function Zm(r,s,o){var f=r.pingCache;if(f===null){f=r.pingCache=new Bm;var p=new Set;f.set(s,p)}else p=f.get(s),p===void 0&&(p=new Set,f.set(s,p));p.has(o)||(Fm=!0,p.add(o),r=U0.bind(null,r,s,o),s.then(r,r))}function U0(r,s,o){var f=r.pingCache;f!==null&&f.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,wn===r&&(zt&o)===o&&(Un===4||Un===3&&(zt&62914560)===zt&&300>an()-qm?(un&2)===0&&cu(r,0):zm|=o,su===zt&&(su=0)),Js(r)}function zy(r,s){s===0&&(s=Mo()),r=$o(r,s),r!==null&&(zi(r,s),Js(r))}function qh(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),zy(r,o)}function V0(r,s){var o=0;switch(r.tag){case 13:var f=r.stateNode,p=r.memoizedState;p!==null&&(o=p.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(s),zy(r,o)}function Hy(r,s){return Rr(r,s)}var Gc=null,po=null,Gh=!1,$c=!1,$h=!1,go=0;function Js(r){r!==po&&r.next===null&&(po===null?Gc=po=r:po=po.next=r),$c=!0,Gh||(Gh=!0,Jm())}function Kc(r,s){if(!$h&&$c){$h=!0;do for(var o=!1,f=Gc;f!==null;){if(r!==0){var p=f.pendingLanes;if(p===0)var _=0;else{var x=f.suspendedLanes,L=f.pingedLanes;_=(1<<31-Pn(42|r)+1)-1,_&=p&~(x&~L),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(o=!0,Gy(f,_))}else _=zt,_=hs(f,f===wn?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(_&3)===0||ei(f,_)||(o=!0,Gy(f,_));f=f.next}while(o);$h=!1}}function j0(){Yc()}function Yc(){$c=Gh=!1;var r=0;go!==0&&($0()&&(r=go),go=0);for(var s=an(),o=null,f=Gc;f!==null;){var p=f.next,_=Wc(f,s);_===0?(f.next=null,o===null?Gc=p:o.next=p,p===null&&(po=o)):(o=f,(r!==0||(_&3)!==0)&&($c=!0)),f=p}Kc(r)}function Wc(r,s){for(var o=r.suspendedLanes,f=r.pingedLanes,p=r.expirationTimes,_=r.pendingLanes&-62914561;0<_;){var x=31-Pn(_),L=1<<x,Y=p[x];Y===-1?((L&o)===0||(L&f)!==0)&&(p[x]=Ha(L,s)):Y<=s&&(r.expiredLanes|=L),_&=~L}if(s=wn,o=zt,o=hs(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,o===0||r===s&&(cn===2||cn===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&Wt(f),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||ei(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(f!==null&&Wt(f),ua(o)){case 2:case 8:o=Xr;break;case 32:o=Bn;break;case 268435456:o=Er;break;default:o=Bn}return f=qy.bind(null,r),o=Rr(o,f),r.callbackPriority=s,r.callbackNode=o,s}return f!==null&&f!==null&&Wt(f),r.callbackPriority=2,r.callbackNode=null,2}function qy(r,s){if(wr!==0&&wr!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Hh()&&r.callbackNode!==o)return null;var f=zt;return f=hs(r,r===wn?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(Cy(r,f,s),Wc(r,an()),r.callbackNode!=null&&r.callbackNode===o?qy.bind(null,r):null)}function Gy(r,s){if(Hh())return null;Cy(r,s,!0)}function Jm(){Y0(function(){(un&6)!==0?Rr(oa,j0):Yc()})}function Kh(){return go===0&&(go=la()),go}function $y(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Po(""+r)}function Ky(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function B0(r,s,o,f,p){if(s==="submit"&&o&&o.stateNode===p){var _=$y((p[Oe]||null).action),x=f.submitter;x&&(s=(s=x[Oe]||null)?$y(s.formAction):x.getAttribute("formAction"),s!==null&&(_=s,x=null));var L=new Ol("action","action",null,f,p);r.push({event:L,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(go!==0){var Y=x?Ky(p,x):new FormData(p);Ac(o,{pending:!0,data:Y,method:p.method,action:_},null,Y)}}else typeof _=="function"&&(L.preventDefault(),Y=x?Ky(p,x):new FormData(p),Ac(o,{pending:!0,data:Y,method:p.method,action:_},_,Y))},currentTarget:p}]})}}for(var ep=0;ep<en.length;ep++){var tp=en[ep],F0=tp.toLowerCase(),z0=tp[0].toUpperCase()+tp.slice(1);gs(F0,"on"+z0)}gs(th,"onAnimationEnd"),gs(xg,"onAnimationIteration"),gs(Ii,"onAnimationStart"),gs("dblclick","onDoubleClick"),gs("focusin","onFocus"),gs("focusout","onBlur"),gs(nh,"onTransitionRun"),gs(S0,"onTransitionStart"),gs(jl,"onTransitionCancel"),gs(nc,"onTransitionEnd"),Vr("onMouseEnter",["mouseout","mouseover"]),Vr("onMouseLeave",["mouseout","mouseover"]),Vr("onPointerEnter",["pointerout","pointerover"]),Vr("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qc));function Yy(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var f=r[o],p=f.event;f=f.listeners;e:{var _=void 0;if(s)for(var x=f.length-1;0<=x;x--){var L=f[x],Y=L.instance,ce=L.currentTarget;if(L=L.listener,Y!==_&&p.isPropagationStopped())break e;_=L,p.currentTarget=ce;try{_(p)}catch(Te){ul(Te)}p.currentTarget=null,_=Y}else for(x=0;x<f.length;x++){if(L=f[x],Y=L.instance,ce=L.currentTarget,L=L.listener,Y!==_&&p.isPropagationStopped())break e;_=L,p.currentTarget=ce;try{_(p)}catch(Te){ul(Te)}p.currentTarget=null,_=Y}}}}function Ct(r,s){var o=s[et];o===void 0&&(o=s[et]=new Set);var f=r+"__bubble";o.has(f)||(Wy(s,r,2,!1),o.add(f))}function np(r,s,o){var f=0;s&&(f|=4),Wy(o,r,f,s)}var yi="_reactListening"+Math.random().toString(36).slice(2);function rp(r){if(!r[yi]){r[yi]=!0,wt.forEach(function(o){o!=="selectionchange"&&(H0.has(o)||np(o,!1,r),np(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[yi]||(s[yi]=!0,np("selectionchange",!1,s))}}function Wy(r,s,o,f){switch(mv(s)){case 2:var p=oE;break;case 8:p=vu;break;default:p=dp}o=p.bind(null,s,o,r),p=void 0,!si||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),f?p!==void 0?r.addEventListener(s,o,{capture:!0,passive:p}):r.addEventListener(s,o,!0):p!==void 0?r.addEventListener(s,o,{passive:p}):r.addEventListener(s,o,!1)}function Da(r,s,o,f,p){var _=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var x=f.tag;if(x===3||x===4){var L=f.stateNode.containerInfo;if(L===p)break;if(x===4)for(x=f.return;x!==null;){var Y=x.tag;if((Y===3||Y===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;L!==null;){if(x=st(L),x===null)return;if(Y=x.tag,Y===5||Y===6||Y===26||Y===27){f=_=x;continue e}L=L.parentNode}}f=f.return}Gf(function(){var ce=_,Te=$i(o),Re=[];e:{var de=rc.get(r);if(de!==void 0){var fe=Ol,at=r;switch(r){case"keypress":if(Ft(o)===0)break e;case"keydown":case"keyup":fe=Ya;break;case"focusin":at="focus",fe=jo;break;case"focusout":at="blur",fe=jo;break;case"beforeblur":case"afterblur":fe=jo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Wf;break;case th:case xg:case Ii:fe=Bo;break;case nc:fe=Qf;break;case"scroll":case"scrollend":fe=$f;break;case"wheel":fe=Ul;break;case"copy":case"cut":case"paste":fe=Fo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Ki;break;case"toggle":case"beforetoggle":fe=qo}var rt=(s&4)!==0,hn=!rt&&(r==="scroll"||r==="scrollend"),re=rt?de!==null?de+"Capture":null:de;rt=[];for(var J=ce,oe;J!==null;){var be=J;if(oe=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||oe===null||re===null||(be=Lo(J,re),be!=null&&rt.push(ht(J,be,oe))),hn)break;J=J.return}0<rt.length&&(de=new fe(de,at,null,o,Te),Re.push({event:de,listeners:rt}))}}if((s&7)===0){e:{if(de=r==="mouseover"||r==="pointerover",fe=r==="mouseout"||r==="pointerout",de&&o!==Fs&&(at=o.relatedTarget||o.fromElement)&&(st(at)||at[Ve]))break e;if((fe||de)&&(de=Te.window===Te?Te:(de=Te.ownerDocument)?de.defaultView||de.parentWindow:window,fe?(at=o.relatedTarget||o.toElement,fe=ce,at=at?st(at):null,at!==null&&(hn=u(at),rt=at.tag,at!==hn||rt!==5&&rt!==27&&rt!==6)&&(at=null)):(fe=null,at=ce),fe!==at)){if(rt=lr,be="onMouseLeave",re="onMouseEnter",J="mouse",(r==="pointerout"||r==="pointerover")&&(rt=Ki,be="onPointerLeave",re="onPointerEnter",J="pointer"),hn=fe==null?de:Jt(fe),oe=at==null?de:Jt(at),de=new rt(be,J+"leave",fe,o,Te),de.target=hn,de.relatedTarget=oe,be=null,st(Te)===ce&&(rt=new rt(re,J+"enter",at,o,Te),rt.target=oe,rt.relatedTarget=hn,be=rt),hn=be,fe&&at)t:{for(rt=fe,re=at,J=0,oe=rt;oe;oe=tr(oe))J++;for(oe=0,be=re;be;be=tr(be))oe++;for(;0<J-oe;)rt=tr(rt),J--;for(;0<oe-J;)re=tr(re),oe--;for(;J--;){if(rt===re||re!==null&&rt===re.alternate)break t;rt=tr(rt),re=tr(re)}rt=null}else rt=null;fe!==null&&Vn(Re,de,fe,rt,!1),at!==null&&hn!==null&&Vn(Re,hn,at,rt,!0)}}e:{if(de=ce?Jt(ce):window,fe=de.nodeName&&de.nodeName.toLowerCase(),fe==="select"||fe==="input"&&de.type==="file")var Fe=Eg;else if(zn(de))if(Tg)Fe=T0;else{Fe=Qa;var St=Sg}else fe=de.nodeName,!fe||fe.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ce&&Wu(ce.elementType)&&(Fe=Eg):Fe=eh;if(Fe&&(Fe=Fe(r,ce))){xi(Re,Fe,o,Te);break e}St&&St(r,de,ce),r==="focusout"&&ce&&de.type==="number"&&ce.memoizedProps.value!=null&&Bs(de,"number",de.value)}switch(St=ce?Jt(ce):window,r){case"focusin":(zn(St)||St.contentEditable==="true")&&(Vl=St,Xa=ce,ne=null);break;case"focusout":ne=Xa=Vl=null;break;case"mousedown":Ee=!0;break;case"contextmenu":case"mouseup":case"dragend":Ee=!1,ge(Re,o,Te);break;case"selectionchange":if(b0)break;case"keydown":case"keyup":ge(Re,o,Te)}var Xe;if(qs)e:{switch(r){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Ot?ye(r,o)&&(ot="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(ot="onCompositionStart");ot&&(R&&o.locale!=="ko"&&(Ot||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Ot&&(Xe=Qu()):(Hs=Te,Ka="value"in Hs?Hs.value:Hs.textContent,Ot=!0)),St=Yh(ce,ot),0<St.length&&(ot=new Tr(ot,r,null,o,Te),Re.push({event:ot,listeners:St}),Xe?ot.data=Xe:(Xe=Pe(o),Xe!==null&&(ot.data=Xe)))),(Xe=w?Xn(r,o):Ut(r,o))&&(ot=Yh(ce,"onBeforeInput"),0<ot.length&&(St=new Tr("onBeforeInput","beforeinput",null,o,Te),Re.push({event:St,listeners:ot}),St.data=Xe)),B0(Re,r,ce,o,Te)}Yy(Re,s)})}function ht(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Yh(r,s){for(var o=s+"Capture",f=[];r!==null;){var p=r,_=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||_===null||(p=Lo(r,o),p!=null&&f.unshift(ht(r,p,_)),p=Lo(r,s),p!=null&&f.push(ht(r,p,_))),r.tag===3)return f;r=r.return}return[]}function tr(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Vn(r,s,o,f,p){for(var _=s._reactName,x=[];o!==null&&o!==f;){var L=o,Y=L.alternate,ce=L.stateNode;if(L=L.tag,Y!==null&&Y===f)break;L!==5&&L!==26&&L!==27||ce===null||(Y=ce,p?(ce=Lo(o,_),ce!=null&&x.unshift(ht(o,ce,Y))):p||(ce=Lo(o,_),ce!=null&&x.push(ht(o,ce,Y)))),o=o.return}x.length!==0&&r.push({event:s,listeners:x})}var q0=/\r\n?/g,yo=/\u0000|\uFFFD/g;function Qy(r){return(typeof r=="string"?r:""+r).replace(q0,`
`).replace(yo,"")}function Xy(r,s){return s=Qy(s),Qy(r)===s}function Wh(){}function fn(r,s,o,f,p,_){switch(o){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||ii(r,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&ii(r,""+f);break;case"className":jr(r,"class",f);break;case"tabIndex":jr(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":jr(r,o,f);break;case"style":Nl(r,f,_);break;case"data":if(s!=="object"){jr(r,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(o);break}f=Po(""+f),r.setAttribute(o,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(o==="formAction"?(s!=="input"&&fn(r,s,"name",p.name,p,null),fn(r,s,"formEncType",p.formEncType,p,null),fn(r,s,"formMethod",p.formMethod,p,null),fn(r,s,"formTarget",p.formTarget,p,null)):(fn(r,s,"encType",p.encType,p,null),fn(r,s,"method",p.method,p,null),fn(r,s,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(o);break}f=Po(""+f),r.setAttribute(o,f);break;case"onClick":f!=null&&(r.onclick=Wh);break;case"onScroll":f!=null&&Ct("scroll",r);break;case"onScrollEnd":f!=null&&Ct("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(o=f.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}o=Po(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(o,""+f):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":f===!0?r.setAttribute(o,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(o,f):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(o,f):r.removeAttribute(o);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(o):r.setAttribute(o,f);break;case"popover":Ct("beforetoggle",r),Ct("toggle",r),Cr(r,"popover",f);break;case"xlinkActuate":ft(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":ft(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":ft(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":ft(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":ft(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":ft(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":ft(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":ft(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":ft(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Cr(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Hf.get(o)||o,Cr(r,o,f))}}function ip(r,s,o,f,p,_){switch(o){case"style":Nl(r,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(o=f.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof f=="string"?ii(r,f):(typeof f=="number"||typeof f=="bigint")&&ii(r,""+f);break;case"onScroll":f!=null&&Ct("scroll",r);break;case"onScrollEnd":f!=null&&Ct("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Wh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hi.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),_=r[Oe]||null,_=_!=null?_[o]:null,typeof _=="function"&&r.removeEventListener(s,_,p),typeof f=="function")){typeof _!="function"&&_!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,f,p);break e}o in r?r[o]=f:f===!0?r.setAttribute(o,""):Cr(r,o,f)}}}function nr(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",r),Ct("load",r);var f=!1,p=!1,_;for(_ in o)if(o.hasOwnProperty(_)){var x=o[_];if(x!=null)switch(_){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:fn(r,s,_,x,o,null)}}p&&fn(r,s,"srcSet",o.srcSet,o,null),f&&fn(r,s,"src",o.src,o,null);return;case"input":Ct("invalid",r);var L=_=x=p=null,Y=null,ce=null;for(f in o)if(o.hasOwnProperty(f)){var Te=o[f];if(Te!=null)switch(f){case"name":p=Te;break;case"type":x=Te;break;case"checked":Y=Te;break;case"defaultChecked":ce=Te;break;case"value":_=Te;break;case"defaultValue":L=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(i(137,s));break;default:fn(r,s,f,Te,o,null)}}$a(r,_,L,Y,ce,x,p,!1),Cl(r);return;case"select":Ct("invalid",r),f=x=_=null;for(p in o)if(o.hasOwnProperty(p)&&(L=o[p],L!=null))switch(p){case"value":_=L;break;case"defaultValue":x=L;break;case"multiple":f=L;default:fn(r,s,p,L,o,null)}s=_,o=x,r.multiple=!!f,s!=null?ca(r,!!f,s,!1):o!=null&&ca(r,!!f,o,!0);return;case"textarea":Ct("invalid",r),_=p=f=null;for(x in o)if(o.hasOwnProperty(x)&&(L=o[x],L!=null))switch(x){case"value":f=L;break;case"defaultValue":p=L;break;case"children":_=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(91));break;default:fn(r,s,x,L,o,null)}fa(r,f,p,_),Cl(r);return;case"option":for(Y in o)if(o.hasOwnProperty(Y)&&(f=o[Y],f!=null))switch(Y){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:fn(r,s,Y,f,o,null)}return;case"dialog":Ct("beforetoggle",r),Ct("toggle",r),Ct("cancel",r),Ct("close",r);break;case"iframe":case"object":Ct("load",r);break;case"video":case"audio":for(f=0;f<Qc.length;f++)Ct(Qc[f],r);break;case"image":Ct("error",r),Ct("load",r);break;case"details":Ct("toggle",r);break;case"embed":case"source":case"link":Ct("error",r),Ct("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in o)if(o.hasOwnProperty(ce)&&(f=o[ce],f!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:fn(r,s,ce,f,o,null)}return;default:if(Wu(s)){for(Te in o)o.hasOwnProperty(Te)&&(f=o[Te],f!==void 0&&ip(r,s,Te,f,o,void 0));return}}for(L in o)o.hasOwnProperty(L)&&(f=o[L],f!=null&&fn(r,s,L,f,o,null))}function G0(r,s,o,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,_=null,x=null,L=null,Y=null,ce=null,Te=null;for(fe in o){var Re=o[fe];if(o.hasOwnProperty(fe)&&Re!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":Y=Re;default:f.hasOwnProperty(fe)||fn(r,s,fe,null,f,Re)}}for(var de in f){var fe=f[de];if(Re=o[de],f.hasOwnProperty(de)&&(fe!=null||Re!=null))switch(de){case"type":_=fe;break;case"name":p=fe;break;case"checked":ce=fe;break;case"defaultChecked":Te=fe;break;case"value":x=fe;break;case"defaultValue":L=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,s));break;default:fe!==Re&&fn(r,s,de,fe,f,Re)}}ri(r,x,L,Y,ce,Te,_,p);return;case"select":fe=x=L=de=null;for(_ in o)if(Y=o[_],o.hasOwnProperty(_)&&Y!=null)switch(_){case"value":break;case"multiple":fe=Y;default:f.hasOwnProperty(_)||fn(r,s,_,null,f,Y)}for(p in f)if(_=f[p],Y=o[p],f.hasOwnProperty(p)&&(_!=null||Y!=null))switch(p){case"value":de=_;break;case"defaultValue":L=_;break;case"multiple":x=_;default:_!==Y&&fn(r,s,p,_,f,Y)}s=L,o=x,f=fe,de!=null?ca(r,!!o,de,!1):!!f!=!!o&&(s!=null?ca(r,!!o,s,!0):ca(r,!!o,o?[]:"",!1));return;case"textarea":fe=de=null;for(L in o)if(p=o[L],o.hasOwnProperty(L)&&p!=null&&!f.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:fn(r,s,L,null,f,p)}for(x in f)if(p=f[x],_=o[x],f.hasOwnProperty(x)&&(p!=null||_!=null))switch(x){case"value":de=p;break;case"defaultValue":fe=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==_&&fn(r,s,x,p,f,_)}on(r,de,fe);return;case"option":for(var at in o)if(de=o[at],o.hasOwnProperty(at)&&de!=null&&!f.hasOwnProperty(at))switch(at){case"selected":r.selected=!1;break;default:fn(r,s,at,null,f,de)}for(Y in f)if(de=f[Y],fe=o[Y],f.hasOwnProperty(Y)&&de!==fe&&(de!=null||fe!=null))switch(Y){case"selected":r.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:fn(r,s,Y,de,f,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in o)de=o[rt],o.hasOwnProperty(rt)&&de!=null&&!f.hasOwnProperty(rt)&&fn(r,s,rt,null,f,de);for(ce in f)if(de=f[ce],fe=o[ce],f.hasOwnProperty(ce)&&de!==fe&&(de!=null||fe!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,s));break;default:fn(r,s,ce,de,f,fe)}return;default:if(Wu(s)){for(var hn in o)de=o[hn],o.hasOwnProperty(hn)&&de!==void 0&&!f.hasOwnProperty(hn)&&ip(r,s,hn,void 0,f,de);for(Te in f)de=f[Te],fe=o[Te],!f.hasOwnProperty(Te)||de===fe||de===void 0&&fe===void 0||ip(r,s,Te,de,f,fe);return}}for(var re in o)de=o[re],o.hasOwnProperty(re)&&de!=null&&!f.hasOwnProperty(re)&&fn(r,s,re,null,f,de);for(Re in f)de=f[Re],fe=o[Re],!f.hasOwnProperty(Re)||de===fe||de==null&&fe==null||fn(r,s,Re,de,f,fe)}var bs=null,Qh=null;function dl(r){return r.nodeType===9?r:r.ownerDocument}function Nn(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dn(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Xh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var sp=null;function $0(){var r=window.event;return r&&r.type==="popstate"?r===sp?!1:(sp=r,!0):(sp=null,!1)}var Zy=typeof setTimeout=="function"?setTimeout:void 0,K0=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,Y0=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(r){return Jy.resolve(null).then(r).catch(ev)}:Zy;function ev(r){setTimeout(function(){throw r})}function is(r){return r==="head"}function Zh(r,s){var o=s,f=0,p=0;do{var _=o.nextSibling;if(r.removeChild(o),_&&_.nodeType===8)if(o=_.data,o==="/$"){if(0<f&&8>f){o=f;var x=r.ownerDocument;if(o&1&&Xc(x.documentElement),o&2&&Xc(x.body),o&4)for(o=x.head,Xc(o),x=o.firstChild;x;){var L=x.nextSibling,Y=x.nodeName;x[nt]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&x.rel.toLowerCase()==="stylesheet"||o.removeChild(x),x=L}}if(p===0){r.removeChild(_),af(s);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:f=o.charCodeAt(0)-48;else f=0;o=_}while(o);af(s)}function ap(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ap(o),$e(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function tv(r,s,o,f){for(;r.nodeType===1;){var p=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[nt])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(_=r.getAttribute("rel"),_==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(_!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(_=r.getAttribute("src"),(_!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&_&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var _=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===_)return r}else return r;if(r=Ss(r.nextSibling),r===null)break}return null}function Jh(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Ss(r.nextSibling),r===null))return null;return r}function $r(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function hu(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var f=function(){s(),o.removeEventListener("DOMContentLoaded",f)};o.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function Ss(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var op=null;function nv(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function rv(r,s,o){switch(s=dl(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Xc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);$e(r)}var ki=new Map,ea=new Set;function pt(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ta=me.d;me.d={f:ss,r:iv,D:W0,C:sv,L:ed,m:Q0,X:Z0,S:X0,M:J0};function ss(){var r=ta.f(),s=Fh();return r||s}function iv(r){var s=Rt(r);s!==null&&s.tag===5&&s.type==="form"?Sh(s):ta.r(r)}var du=typeof document>"u"?null:document;function tn(r,s,o){var f=du;if(f&&typeof s=="string"&&s){var p=$n(s);p='link[rel="'+r+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),ea.has(p)||(ea.add(p),r={rel:r,crossOrigin:o,href:s},f.querySelector(p)===null&&(s=f.createElement("link"),nr(s,"link",r),Lt(s),f.head.appendChild(s)))}}function W0(r){ta.D(r),tn("dns-prefetch",r,null)}function sv(r,s){ta.C(r,s),tn("preconnect",r,s)}function ed(r,s,o){ta.L(r,s,o);var f=du;if(f&&r&&s){var p='link[rel="preload"][as="'+$n(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+$n(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+$n(o.imageSizes)+'"]')):p+='[href="'+$n(r)+'"]';var _=p;switch(s){case"style":_=mu(r);break;case"script":_=pu(r)}ki.has(_)||(r=E({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),ki.set(_,r),f.querySelector(p)!==null||s==="style"&&f.querySelector(Zc(_))||s==="script"&&f.querySelector(Jc(_))||(s=f.createElement("link"),nr(s,"link",r),Lt(s),f.head.appendChild(s)))}}function Q0(r,s){ta.m(r,s);var o=du;if(o&&r){var f=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+$n(f)+'"][href="'+$n(r)+'"]',_=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=pu(r)}if(!ki.has(_)&&(r=E({rel:"modulepreload",href:r},s),ki.set(_,r),o.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Jc(_)))return}f=o.createElement("link"),nr(f,"link",r),Lt(f),o.head.appendChild(f)}}}function X0(r,s,o){ta.S(r,s,o);var f=du;if(f&&r){var p=Qt(f).hoistableStyles,_=mu(r);s=s||"default";var x=p.get(_);if(!x){var L={loading:0,preload:null};if(x=f.querySelector(Zc(_)))L.loading=5;else{r=E({rel:"stylesheet",href:r,"data-precedence":s},o),(o=ki.get(_))&&ef(r,o);var Y=x=f.createElement("link");Lt(Y),nr(Y,"link",r),Y._p=new Promise(function(ce,Te){Y.onload=ce,Y.onerror=Te}),Y.addEventListener("load",function(){L.loading|=1}),Y.addEventListener("error",function(){L.loading|=2}),L.loading|=4,td(x,s,f)}x={type:"stylesheet",instance:x,count:1,state:L},p.set(_,x)}}}function Z0(r,s){ta.X(r,s);var o=du;if(o&&r){var f=Qt(o).hoistableScripts,p=pu(r),_=f.get(p);_||(_=o.querySelector(Jc(p)),_||(r=E({src:r,async:!0},s),(s=ki.get(p))&&lp(r,s),_=o.createElement("script"),Lt(_),nr(_,"link",r),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(p,_))}}function J0(r,s){ta.M(r,s);var o=du;if(o&&r){var f=Qt(o).hoistableScripts,p=pu(r),_=f.get(p);_||(_=o.querySelector(Jc(p)),_||(r=E({src:r,async:!0,type:"module"},s),(s=ki.get(p))&&lp(r,s),_=o.createElement("script"),Lt(_),nr(_,"link",r),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(p,_))}}function av(r,s,o,f){var p=(p=He.current)?pt(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=mu(o.href),o=Qt(p).hoistableStyles,f=o.get(s),f||(f={type:"style",instance:null,count:0,state:null},o.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=mu(o.href);var _=Qt(p).hoistableStyles,x=_.get(r);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(r,x),(_=p.querySelector(Zc(r)))&&!_._p&&(x.instance=_,x.state.loading=5),ki.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ki.set(r,o),_||eE(p,r,o,x.state))),s&&f===null)throw Error(i(528,""));return x}if(s&&f!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=pu(o),o=Qt(p).hoistableScripts,f=o.get(s),f||(f={type:"script",instance:null,count:0,state:null},o.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function mu(r){return'href="'+$n(r)+'"'}function Zc(r){return'link[rel="stylesheet"]['+r+"]"}function ov(r){return E({},r,{"data-precedence":r.precedence,precedence:null})}function eE(r,s,o,f){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=r.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),nr(s,"link",o),Lt(s),r.head.appendChild(s))}function pu(r){return'[src="'+$n(r)+'"]'}function Jc(r){return"script[async]"+r}function lv(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var f=r.querySelector('style[data-href~="'+$n(o.href)+'"]');if(f)return s.instance=f,Lt(f),f;var p=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Lt(f),nr(f,"style",p),td(f,o.precedence,r),s.instance=f;case"stylesheet":p=mu(o.href);var _=r.querySelector(Zc(p));if(_)return s.state.loading|=4,s.instance=_,Lt(_),_;f=ov(o),(p=ki.get(p))&&ef(f,p),_=(r.ownerDocument||r).createElement("link"),Lt(_);var x=_;return x._p=new Promise(function(L,Y){x.onload=L,x.onerror=Y}),nr(_,"link",f),s.state.loading|=4,td(_,o.precedence,r),s.instance=_;case"script":return _=pu(o.src),(p=r.querySelector(Jc(_)))?(s.instance=p,Lt(p),p):(f=o,(p=ki.get(_))&&(f=E({},o),lp(f,p)),r=r.ownerDocument||r,p=r.createElement("script"),Lt(p),nr(p,"link",f),r.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,td(f,o.precedence,r));return s.instance}function td(r,s,o){for(var f=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,_=p,x=0;x<f.length;x++){var L=f[x];if(L.dataset.precedence===s)_=L;else if(_!==p)break}_?_.parentNode.insertBefore(r,_.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function ef(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function lp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var gu=null;function uv(r,s,o){if(gu===null){var f=new Map,p=gu=new Map;p.set(o,f)}else p=gu,f=p.get(o),f||(f=new Map,p.set(o,f));if(f.has(r))return f;for(f.set(r,null),o=o.getElementsByTagName(r),p=0;p<o.length;p++){var _=o[p];if(!(_[nt]||_[Se]||r==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var x=_.getAttribute(s)||"";x=r+x;var L=f.get(x);L?L.push(_):f.set(x,[_])}}return f}function cv(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function tE(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function rr(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var dr=null;function nE(){}function rE(r,s,o){if(dr===null)throw Error(i(475));var f=dr;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=mu(o.href),_=r.querySelector(Zc(p));if(_){r=_._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=tf.bind(f),r.then(f,f)),s.state.loading|=4,s.instance=_,Lt(_);return}_=r.ownerDocument||r,o=ov(o),(p=ki.get(p))&&ef(o,p),_=_.createElement("link"),Lt(_);var x=_;x._p=new Promise(function(L,Y){x.onload=L,x.onerror=Y}),nr(_,"link",o),s.instance=_}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=tf.bind(f),r.addEventListener("load",s),r.addEventListener("error",s))}}function iE(){if(dr===null)throw Error(i(475));var r=dr;return r.stylesheets&&r.count===0&&up(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&up(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function tf(){if(this.count--,this.count===0){if(this.stylesheets)up(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var nd=null;function up(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,nd=new Map,s.forEach(sE,r),nd=null,tf.call(r))}function sE(r,s){if(!(s.state.loading&4)){var o=nd.get(r);if(o)var f=o.get(null);else{o=new Map,nd.set(r,o);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<p.length;_++){var x=p[_];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),f=x)}f&&o.set(null,f)}p=s.instance,x=p.getAttribute("data-precedence"),_=o.get(x)||f,_===f&&o.set(null,p),o.set(x,p),this.count++,f=tf.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),_?_.parentNode.insertBefore(p,_.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),s.state.loading|=4}}var yu={$$typeof:te,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function aE(r,s,o,f,p,_,x,L){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=_,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function fv(r,s,o,f,p,_,x,L,Y,ce,Te,Re){return r=new aE(r,s,o,x,L,Y,ce,Re),s=1,_===!0&&(s|=24),_=oi(3,null,null,s),r.current=_,_.stateNode=r,s=rm(),s.refCount++,r.pooledCache=s,s.refCount++,_.memoizedState={element:f,isDehydrated:o,cache:s},el(_),r}function hv(r){return r?(r=Ko,r):Ko}function cp(r,s,o,f,p,_){p=hv(p),f.context===null?f.context=p:f.pendingContext=p,f=to(s),f.payload={element:o},_=_===void 0?null:_,_!==null&&(f.callback=_),o=Ea(r,f,s),o!==null&&(Li(o,r,s),mc(o,r,s))}function fp(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function hp(r,s){fp(r,s),(r=r.alternate)&&fp(r,s)}function dv(r){if(r.tag===13){var s=$o(r,67108864);s!==null&&Li(s,r,67108864),hp(r,67108864)}}var rd=!0;function oE(r,s,o,f){var p=le.T;le.T=null;var _=me.p;try{me.p=2,dp(r,s,o,f)}finally{me.p=_,le.T=p}}function vu(r,s,o,f){var p=le.T;le.T=null;var _=me.p;try{me.p=8,dp(r,s,o,f)}finally{me.p=_,le.T=p}}function dp(r,s,o,f){if(rd){var p=mp(f);if(p===null)Da(r,s,f,id,o),pv(r,f);else if(uE(p,r,s,o,f))f.stopPropagation();else if(pv(r,f),s&4&&-1<lE.indexOf(r)){for(;p!==null;){var _=Rt(p);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var x=kr(_.pendingLanes);if(x!==0){var L=_;for(L.pendingLanes|=2,L.entangledLanes|=2;x;){var Y=1<<31-Pn(x);L.entanglements[1]|=Y,x&=~Y}Js(_),(un&6)===0&&(au=an()+500,Kc(0))}}break;case 13:L=$o(_,2),L!==null&&Li(L,_,2),Fh(),hp(_,2)}if(_=mp(f),_===null&&Da(r,s,f,id,o),_===p)break;p=_}p!==null&&f.stopPropagation()}else Da(r,s,f,null,o)}}function mp(r){return r=$i(r),pp(r)}var id=null;function pp(r){if(id=null,r=st(r),r!==null){var s=u(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=h(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return id=r,null}function mv(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fa()){case oa:return 2;case Xr:return 8;case Bn:case _r:return 32;case Er:return 268435456;default:return 32}default:return 32}}var sd=!1,Oa=null,vo=null,_o=null,nf=new Map,rf=new Map,Eo=[],lE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pv(r,s){switch(r){case"focusin":case"focusout":Oa=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":_o=null;break;case"pointerover":case"pointerout":nf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":rf.delete(s.pointerId)}}function sf(r,s,o,f,p,_){return r===null||r.nativeEvent!==_?(r={blockedOn:s,domEventName:o,eventSystemFlags:f,nativeEvent:_,targetContainers:[p]},s!==null&&(s=Rt(s),s!==null&&dv(s)),r):(r.eventSystemFlags|=f,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function uE(r,s,o,f,p){switch(s){case"focusin":return Oa=sf(Oa,r,s,o,f,p),!0;case"dragenter":return vo=sf(vo,r,s,o,f,p),!0;case"mouseover":return _o=sf(_o,r,s,o,f,p),!0;case"pointerover":var _=p.pointerId;return nf.set(_,sf(nf.get(_)||null,r,s,o,f,p)),!0;case"gotpointercapture":return _=p.pointerId,rf.set(_,sf(rf.get(_)||null,r,s,o,f,p)),!0}return!1}function gv(r){var s=st(r.target);if(s!==null){var o=u(s);if(o!==null){if(s=o.tag,s===13){if(s=h(o),s!==null){r.blockedOn=s,se(r.priority,function(){if(o.tag===13){var f=Mr();f=Ls(f);var p=$o(o,f);p!==null&&Li(p,o,f),hp(o,f)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ad(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=mp(r.nativeEvent);if(o===null){o=r.nativeEvent;var f=new o.constructor(o.type,o);Fs=f,o.target.dispatchEvent(f),Fs=null}else return s=Rt(o),s!==null&&dv(s),r.blockedOn=o,!1;s.shift()}return!0}function yv(r,s,o){ad(r)&&o.delete(s)}function cE(){sd=!1,Oa!==null&&ad(Oa)&&(Oa=null),vo!==null&&ad(vo)&&(vo=null),_o!==null&&ad(_o)&&(_o=null),nf.forEach(yv),rf.forEach(yv)}function od(r,s){r.blockedOn===s&&(r.blockedOn=null,sd||(sd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,cE)))}var ld=null;function vv(r){ld!==r&&(ld=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ld===r&&(ld=null);for(var s=0;s<r.length;s+=3){var o=r[s],f=r[s+1],p=r[s+2];if(typeof f!="function"){if(pp(f||o)===null)continue;break}var _=Rt(o);_!==null&&(r.splice(s,3),s-=3,Ac(_,{pending:!0,data:p,method:o.method,action:f},f,p))}}))}function af(r){function s(Y){return od(Y,r)}Oa!==null&&od(Oa,r),vo!==null&&od(vo,r),_o!==null&&od(_o,r),nf.forEach(s),rf.forEach(s);for(var o=0;o<Eo.length;o++){var f=Eo[o];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Eo.length&&(o=Eo[0],o.blockedOn===null);)gv(o),o.blockedOn===null&&Eo.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(f=0;f<o.length;f+=3){var p=o[f],_=o[f+1],x=p[Oe]||null;if(typeof _=="function")x||vv(o);else if(x){var L=null;if(_&&_.hasAttribute("formAction")){if(p=_,x=_[Oe]||null)L=x.formAction;else if(pp(p)!==null)continue}else L=x.action;typeof L=="function"?o[f+1]=L:(o.splice(f,3),f-=3),vv(o)}}}function gp(r){this._internalRoot=r}ud.prototype.render=gp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,f=Mr();cp(o,f,r,s,null,null)},ud.prototype.unmount=gp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;cp(r.current,2,null,r,null,null),Fh(),s[Ve]=null}};function ud(r){this._internalRoot=r}ud.prototype.unstable_scheduleHydration=function(r){if(r){var s=X();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Eo.length&&s!==0&&s<Eo[o].priority;o++);Eo.splice(o,0,r),o===0&&gv(r)}};var _v=e.version;if(_v!=="19.1.0")throw Error(i(527,_v,"19.1.0"));me.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=g(s),r=r!==null?v(r):null,r=r===null?null:r.stateNode,r};var fE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:le,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{qe=cd.inject(fE),it=cd}catch{}}return vp.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,f="",p=Im,_=xh,x=iy,L=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(L=s.unstable_transitionCallbacks)),s=fv(r,1,!1,null,null,o,f,p,_,x,L,null),r[Ve]=s.current,rp(r),new gp(s)},vp.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var f=!1,p="",_=Im,x=xh,L=iy,Y=null,ce=null;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(L=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(Y=o.unstable_transitionCallbacks),o.formState!==void 0&&(ce=o.formState)),s=fv(r,1,!0,s,o??null,f,p,_,x,L,Y,ce),s.context=hv(null),o=s.current,f=Mr(),f=Ls(f),p=to(f),p.callback=null,Ea(o,p,f),o=f,s.current.lanes=o,zi(s,o),Js(s),r[Ve]=s.current,rp(r),new ud(s)},vp.version="19.1.0",vp}var jb;function vN(){if(jb)return gE.exports;jb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gE.exports=yN(),gE.exports}var _N=vN(),j=O_();const pf=Vd(j);var TE={exports:{}},wE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb;function EN(){if(Bb)return wE;Bb=1;var n=O_();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,a=n.useRef,u=n.useEffect,h=n.useMemo,m=n.useDebugValue;return wE.useSyncExternalStoreWithSelector=function(g,v,E,S,A){var D=a(null);if(D.current===null){var M={hasValue:!1,value:null};D.current=M}else M=D.current;D=h(function(){function k(Q){if(!B){if(B=!0,ee=Q,Q=S(Q),A!==void 0&&M.hasValue){var F=M.value;if(A(F,Q))return te=F}return te=Q}if(F=te,t(ee,Q))return F;var N=S(Q);return A!==void 0&&A(F,N)?(ee=Q,F):(ee=Q,te=N)}var B=!1,ee,te,he=E===void 0?null:E;return[function(){return k(v())},he===null?void 0:function(){return k(he())}]},[v,E,S,A]);var H=i(g,D[0],D[1]);return u(function(){M.hasValue=!0,M.value=H},[H]),m(H),H},wE}var Fb;function TN(){return Fb||(Fb=1,TE.exports=EN()),TE.exports}var wN=TN();function bN(n){n()}function SN(){let n=null,e=null;return{clear(){n=null,e=null},notify(){bN(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const a=e={callback:t,next:null,prev:e};return a.prev?a.prev.next=a:n=a,function(){!i||n===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:n=a.next)}}}}var zb={notify(){},get:()=>[]};function AN(n,e){let t,i=zb,a=0,u=!1;function h(H){E();const k=i.subscribe(H);let B=!1;return()=>{B||(B=!0,k(),S())}}function m(){i.notify()}function g(){M.onStateChange&&M.onStateChange()}function v(){return u}function E(){a++,t||(t=n.subscribe(g),i=SN())}function S(){a--,t&&a===0&&(t(),t=void 0,i.clear(),i=zb)}function A(){u||(u=!0,E())}function D(){u&&(u=!1,S())}const M={addNestedSub:h,notifyNestedSubs:m,handleChangeWrapper:g,isSubscribed:v,trySubscribe:A,tryUnsubscribe:D,getListeners:()=>i};return M}var RN=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xN=RN(),CN=()=>typeof navigator<"u"&&navigator.product==="ReactNative",IN=CN(),NN=()=>xN||IN?j.useLayoutEffect:j.useEffect,DN=NN(),bE=Symbol.for("react-redux-context"),SE=typeof globalThis<"u"?globalThis:{};function ON(){if(!j.createContext)return{};const n=SE[bE]??(SE[bE]=new Map);let e=n.get(j.createContext);return e||(e=j.createContext(null),n.set(j.createContext,e)),e}var Mu=ON();function MN(n){const{children:e,context:t,serverState:i,store:a}=n,u=j.useMemo(()=>{const g=AN(a);return{store:a,subscription:g,getServerState:i?()=>i:void 0}},[a,i]),h=j.useMemo(()=>a.getState(),[a]);DN(()=>{const{subscription:g}=u;return g.onStateChange=g.notifyNestedSubs,g.trySubscribe(),h!==a.getState()&&g.notifyNestedSubs(),()=>{g.tryUnsubscribe(),g.onStateChange=void 0}},[u,h]);const m=t||Mu;return j.createElement(m.Provider,{value:u},e)}var PN=MN;function rw(n=Mu){return function(){return j.useContext(n)}}var PA=rw();function LA(n=Mu){const e=n===Mu?PA:rw(n),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var LN=LA();function kN(n=Mu){const e=n===Mu?LN:LA(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var kf=kN(),UN=(n,e)=>n===e;function VN(n=Mu){const e=n===Mu?PA:rw(n),t=(i,a={})=>{const{equalityFn:u=UN}=typeof a=="function"?{equalityFn:a}:a,h=e(),{store:m,subscription:g,getServerState:v}=h;j.useRef(!0);const E=j.useCallback({[i.name](A){return i(A)}}[i.name],[i]),S=wN.useSyncExternalStoreWithSelector(g.addNestedSub,m.getState,v||m.getState,E,u);return j.useDebugValue(S),S};return Object.assign(t,{withTypes:()=>t}),t}var tg=VN();const jN=()=>{};var Hb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},BN=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const u=n[t++];e[i++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=n[t++],h=n[t++],m=n[t++],g=((a&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const u=n[t++],h=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},UA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const u=n[a],h=a+1<n.length,m=h?n[a+1]:0,g=a+2<n.length,v=g?n[a+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let A=(m&15)<<2|v>>6,D=v&63;g||(D=64,h||(A=64)),i.push(t[E],t[S],t[A],t[D])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(kA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):BN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const u=t[n.charAt(a++)],m=a<n.length?t[n.charAt(a)]:0;++a;const v=a<n.length?t[n.charAt(a)]:64;++a;const S=a<n.length?t[n.charAt(a)]:64;if(++a,u==null||m==null||v==null||S==null)throw new FN;const A=u<<2|m>>4;if(i.push(A),v!==64){const D=m<<4&240|v>>2;if(i.push(D),S!==64){const M=v<<6&192|S;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class FN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zN=function(n){const e=kA(n);return UA.encodeByteArray(e,!0)},Jv=function(n){return zN(n).replace(/\./g,"")},VA=function(n){try{return UA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=()=>HN().__FIREBASE_DEFAULTS__,GN=()=>{if(typeof process>"u"||typeof Hb>"u")return;const n=Hb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},$N=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&VA(n[1]);return e&&JSON.parse(e)},M_=()=>{try{return jN()||qN()||GN()||$N()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},jA=n=>{var e,t;return(t=(e=M_())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},KN=n=>{const e=jA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},BA=()=>{var n;return(n=M_())===null||n===void 0?void 0:n.config},FA=n=>{var e;return(e=M_())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YN=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(n){return n.endsWith(".cloudworkstations.dev")}async function zA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Jv(JSON.stringify(t)),Jv(JSON.stringify(h)),""].join(".")}const Mp={};function QN(){const n={prod:[],emulator:[]};for(const e of Object.keys(Mp))Mp[e]?n.emulator.push(e):n.prod.push(e);return n}function XN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let qb=!1;function HA(n,e){if(typeof window>"u"||typeof document>"u"||!jd(window.location.host)||Mp[n]===e||Mp[n]||qb)return;Mp[n]=e;function t(A){return`__firebase__banner__${A}`}const i="__firebase__banner",u=QN().prod.length>0;function h(){const A=document.getElementById(i);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,D){A.setAttribute("width","24"),A.setAttribute("id",D),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function v(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{qb=!0,h()},A}function E(A,D){A.setAttribute("id",D),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function S(){const A=XN(i),D=t("text"),M=document.getElementById(D)||document.createElement("span"),H=t("learnmore"),k=document.getElementById(H)||document.createElement("a"),B=t("preprendIcon"),ee=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const te=A.element;m(te),E(k,H);const he=v();g(ee,B),te.append(ee,M,k,he),document.body.appendChild(te)}u?(M.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ai())}function JN(){var n;const e=(n=M_())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function nD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rD(){const n=Ai();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function iD(){return!JN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sD(){try{return typeof indexedDB=="object"}catch{return!1}}function aD(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="FirebaseError";class Al extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=oD,Object.setPrototypeOf(this,Al.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ng.prototype.create)}}class ng{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?lD(u,i):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new Al(a,m,i)}}function lD(n,e){return n.replace(uD,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const uD=/\{\$([^}]+)}/g;function cD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Cf(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const u=n[a],h=e[a];if(Gb(u)&&Gb(h)){if(!Cf(u,h))return!1}else if(u!==h)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function Gb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function fD(n,e){const t=new hD(n,e);return t.subscribe.bind(t)}class hD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");dD(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=AE),a.error===void 0&&(a.error=AE),a.complete===void 0&&(a.complete=AE);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dD(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function AE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(n){return n&&n._delegate?n._delegate:n}class If{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mD=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new YN;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gD(e))try{this.getOrInitializeService({instanceIdentifier:of})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:a});i.resolve(u)}catch{}}}}clearInstance(e=of){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=of){return this.instances.has(e)}getOptions(e=of){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);i===m&&h.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),u=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:pD(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=of){return this.component?this.component.multipleInstances?e:of:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function pD(n){return n===of?void 0:n}function gD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ht||(Ht={}));const vD={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},_D=Ht.INFO,ED={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},TD=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=ED[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iw{constructor(e){this.name=e,this._logLevel=_D,this._logHandler=TD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...e),this._logHandler(this,Ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...e),this._logHandler(this,Ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...e),this._logHandler(this,Ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...e),this._logHandler(this,Ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...e),this._logHandler(this,Ht.ERROR,...e)}}const wD=(n,e)=>e.some(t=>n instanceof t);let $b,Kb;function bD(){return $b||($b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SD(){return Kb||(Kb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qA=new WeakMap,aT=new WeakMap,GA=new WeakMap,RE=new WeakMap,sw=new WeakMap;function AD(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{t(xu(n.result)),a()},h=()=>{i(n.error),a()};n.addEventListener("success",u),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&qA.set(t,n)}).catch(()=>{}),sw.set(e,n),e}function RD(n){if(aT.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{t(),a()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});aT.set(n,e)}let oT={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return aT.get(n);if(e==="objectStoreNames")return n.objectStoreNames||GA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function xD(n){oT=n(oT)}function CD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(xE(this),e,...t);return GA.set(i,e.sort?e.sort():[e]),xu(i)}:SD().includes(n)?function(...e){return n.apply(xE(this),e),xu(qA.get(this))}:function(...e){return xu(n.apply(xE(this),e))}}function ID(n){return typeof n=="function"?CD(n):(n instanceof IDBTransaction&&RD(n),wD(n,bD())?new Proxy(n,oT):n)}function xu(n){if(n instanceof IDBRequest)return AD(n);if(RE.has(n))return RE.get(n);const e=ID(n);return e!==n&&(RE.set(n,e),sw.set(e,n)),e}const xE=n=>sw.get(n);function ND(n,e,{blocked:t,upgrade:i,blocking:a,terminated:u}={}){const h=indexedDB.open(n,e),m=xu(h);return i&&h.addEventListener("upgradeneeded",g=>{i(xu(h.result),g.oldVersion,g.newVersion,xu(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),a&&g.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const DD=["get","getKey","getAll","getAllKeys","count"],OD=["put","add","delete","clear"],CE=new Map;function Yb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(CE.get(e))return CE.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=OD.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||DD.includes(t)))return;const u=async function(h,...m){const g=this.transaction(h,a?"readwrite":"readonly");let v=g.store;return i&&(v=v.index(m.shift())),(await Promise.all([v[t](...m),a&&g.done]))[0]};return CE.set(e,u),u}xD(n=>({...n,get:(e,t,i)=>Yb(e,t)||n.get(e,t,i),has:(e,t)=>!!Yb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(PD(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function PD(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lT="@firebase/app",Wb="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=new iw("@firebase/app"),LD="@firebase/app-compat",kD="@firebase/analytics-compat",UD="@firebase/analytics",VD="@firebase/app-check-compat",jD="@firebase/app-check",BD="@firebase/auth",FD="@firebase/auth-compat",zD="@firebase/database",HD="@firebase/data-connect",qD="@firebase/database-compat",GD="@firebase/functions",$D="@firebase/functions-compat",KD="@firebase/installations",YD="@firebase/installations-compat",WD="@firebase/messaging",QD="@firebase/messaging-compat",XD="@firebase/performance",ZD="@firebase/performance-compat",JD="@firebase/remote-config",e2="@firebase/remote-config-compat",t2="@firebase/storage",n2="@firebase/storage-compat",r2="@firebase/firestore",i2="@firebase/ai",s2="@firebase/firestore-compat",a2="firebase",o2="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="[DEFAULT]",l2={[lT]:"fire-core",[LD]:"fire-core-compat",[UD]:"fire-analytics",[kD]:"fire-analytics-compat",[jD]:"fire-app-check",[VD]:"fire-app-check-compat",[BD]:"fire-auth",[FD]:"fire-auth-compat",[zD]:"fire-rtdb",[HD]:"fire-data-connect",[qD]:"fire-rtdb-compat",[GD]:"fire-fn",[$D]:"fire-fn-compat",[KD]:"fire-iid",[YD]:"fire-iid-compat",[WD]:"fire-fcm",[QD]:"fire-fcm-compat",[XD]:"fire-perf",[ZD]:"fire-perf-compat",[JD]:"fire-rc",[e2]:"fire-rc-compat",[t2]:"fire-gcs",[n2]:"fire-gcs-compat",[r2]:"fire-fst",[s2]:"fire-fst-compat",[i2]:"fire-vertex","fire-js":"fire-js",[a2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Map,u2=new Map,cT=new Map;function Qb(n,e){try{n.container.addComponent(e)}catch(t){El.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Rd(n){const e=n.name;if(cT.has(e))return El.debug(`There were multiple attempts to register component ${e}.`),!1;cT.set(e,n);for(const t of e_.values())Qb(t,n);for(const t of u2.values())Qb(t,n);return!0}function aw(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Pa(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cu=new ng("app","Firebase",c2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new If("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=o2;function $A(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:uT,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw Cu.create("bad-app-name",{appName:String(a)});if(t||(t=BA()),!t)throw Cu.create("no-options");const u=e_.get(a);if(u){if(Cf(t,u.options)&&Cf(i,u.config))return u;throw Cu.create("duplicate-app",{appName:a})}const h=new yD(a);for(const g of cT.values())h.addComponent(g);const m=new f2(t,i,h);return e_.set(a,m),m}function KA(n=uT){const e=e_.get(n);if(!e&&n===uT&&BA())return $A();if(!e)throw Cu.create("no-app",{appName:n});return e}function Iu(n,e,t){var i;let a=(i=l2[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${a}" with version "${e}":`];u&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),El.warn(m.join(" "));return}Rd(new If(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="firebase-heartbeat-database",d2=1,Fp="firebase-heartbeat-store";let IE=null;function YA(){return IE||(IE=ND(h2,d2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Fp)}catch(t){console.warn(t)}}}}).catch(n=>{throw Cu.create("idb-open",{originalErrorMessage:n.message})})),IE}async function m2(n){try{const t=(await YA()).transaction(Fp),i=await t.objectStore(Fp).get(WA(n));return await t.done,i}catch(e){if(e instanceof Al)El.warn(e.message);else{const t=Cu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});El.warn(t.message)}}}async function Xb(n,e){try{const i=(await YA()).transaction(Fp,"readwrite");await i.objectStore(Fp).put(e,WA(n)),await i.done}catch(t){if(t instanceof Al)El.warn(t.message);else{const i=Cu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});El.warn(i.message)}}}function WA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=1024,g2=30;class y2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _2(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Zb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats.length>g2){const h=E2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){El.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Zb(),{heartbeatsToSend:i,unsentEntries:a}=v2(this._heartbeatsCache.heartbeats),u=Jv(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return El.warn(t),""}}}function Zb(){return new Date().toISOString().substring(0,10)}function v2(n,e=p2){const t=[];let i=n.slice();for(const a of n){const u=t.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),Jb(t)>e){u.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Jb(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class _2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sD()?aD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await m2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Xb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Xb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Jb(n){return Jv(JSON.stringify({version:2,heartbeats:n})).length}function E2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(n){Rd(new If("platform-logger",e=>new MD(e),"PRIVATE")),Rd(new If("heartbeat",e=>new y2(e),"PRIVATE")),Iu(lT,Wb,n),Iu(lT,Wb,"esm2017"),Iu("fire-js","")}T2("");var w2="firebase",b2="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Iu(w2,b2,"app");function ow(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function QA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S2=QA,XA=new ng("auth","Firebase",QA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=new iw("@firebase/auth");function A2(n,...e){t_.logLevel<=Ht.WARN&&t_.warn(`Auth (${Bd}): ${n}`,...e)}function Lv(n,...e){t_.logLevel<=Ht.ERROR&&t_.error(`Auth (${Bd}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(n,...e){throw uw(n,...e)}function Ua(n,...e){return uw(n,...e)}function lw(n,e,t){const i=Object.assign(Object.assign({},S2()),{[e]:t});return new ng("auth","Firebase",i).create(e,{appName:n.name})}function Sf(n){return lw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function R2(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&No(n,"argument-error"),lw(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function uw(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return XA.create(n,...e)}function mt(n,e,...t){if(!n)throw uw(e,...t)}function gl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Lv(e),new Error(e)}function Tl(n,e){n||gl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function x2(){return eS()==="http:"||eS()==="https:"}function eS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x2()||tD()||"connection"in navigator)?navigator.onLine:!0}function I2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t){this.shortDelay=e,this.longDelay=t,Tl(t>e,"Short delay should be less than long delay!"),this.isMobile=ZN()||nD()}get(){return C2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n,e){Tl(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],O2=new ig(3e4,6e4);function fw(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Fd(n,e,t,i,a={}){return JA(n,a,async()=>{let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});const m=rg(Object.assign({key:n.config.apiKey},h)).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const v=Object.assign({method:e,headers:g},u);return eD()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&jd(n.emulatorConfig.host)&&(v.credentials="include"),ZA.fetch()(await eR(n,n.config.apiHost,t,m),v)})}async function JA(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},N2),e);try{const a=new P2(n),u=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Tv(n,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,v]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tv(n,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Tv(n,"email-already-in-use",h);if(g==="USER_DISABLED")throw Tv(n,"user-disabled",h);const E=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw lw(n,E,v);No(n,E)}}catch(a){if(a instanceof Al)throw a;No(n,"network-request-failed",{message:String(a)})}}async function M2(n,e,t,i,a={}){const u=await Fd(n,e,t,i,a);return"mfaPendingCredential"in u&&No(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function eR(n,e,t,i){const a=`${e}${t}?${i}`,u=n,h=u.config.emulator?cw(n.config,a):`${n.config.apiScheme}://${a}`;return D2.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class P2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ua(this.auth,"network-request-failed")),O2.get())})}}function Tv(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Ua(n,e,i);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L2(n,e){return Fd(n,"POST","/v1/accounts:delete",e)}async function n_(n,e){return Fd(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function k2(n,e=!1){const t=Ar(n),i=await t.getIdToken(e),a=hw(i);mt(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:a,token:i,authTime:Pp(NE(a.auth_time)),issuedAtTime:Pp(NE(a.iat)),expirationTime:Pp(NE(a.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function NE(n){return Number(n)*1e3}function hw(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Lv("JWT malformed, contained fewer than 3 sections"),null;try{const a=VA(t);return a?JSON.parse(a):(Lv("Failed to decode base64 JWT payload"),null)}catch(a){return Lv("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function tS(n){const e=hw(n);return mt(e,"internal-error"),mt(typeof e.exp<"u","internal-error"),mt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Al&&U2(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function U2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pp(this.lastLoginAt),this.creationTime=Pp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r_(n){var e;const t=n.auth,i=await n.getIdToken(),a=await zp(n,n_(t,{idToken:i}));mt(a==null?void 0:a.users.length,t,"internal-error");const u=a.users[0];n._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?tR(u.providerUserInfo):[],m=B2(n.providerData,h),g=n.isAnonymous,v=!(n.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?v:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new hT(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(n,S)}async function j2(n){const e=Ar(n);await r_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B2(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function tR(n){return n.map(e=>{var{providerId:t}=e,i=ow(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(n,e){const t=await JA(n,{},async()=>{const i=rg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:u}=n.config,h=await eR(n,a,"/v1/token",`key=${u}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:i};return n.emulatorConfig&&jd(n.emulatorConfig.host)&&(g.credentials="include"),ZA.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function z2(n,e){return Fd(n,"POST","/v2/accounts:revokeToken",fw(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){mt(e.idToken,"internal-error"),mt(typeof e.idToken<"u","internal-error"),mt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){mt(e.length!==0,"internal-error");const t=tS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:u}=await F2(e,t);this.updateTokensAndExpiration(i,a,Number(u))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:u}=t,h=new Td;return i&&(mt(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),a&&(mt(typeof a=="string","internal-error",{appName:e}),h.accessToken=a),u&&(mt(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Td,this.toJSON())}_performRefresh(){return gl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(n,e){mt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ka{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,u=ow(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new V2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new hT(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await zp(this,this.stsTokenManager.getToken(this.auth,e));return mt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return k2(this,e)}reload(){return j2(this)}_assign(e){this!==e&&(mt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ka(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await r_(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pa(this.auth.app))return Promise.reject(Sf(this.auth));const e=await this.getIdToken();return await zp(this,L2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,u,h,m,g,v,E;const S=(i=t.displayName)!==null&&i!==void 0?i:void 0,A=(a=t.email)!==null&&a!==void 0?a:void 0,D=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,M=(h=t.photoURL)!==null&&h!==void 0?h:void 0,H=(m=t.tenantId)!==null&&m!==void 0?m:void 0,k=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,B=(v=t.createdAt)!==null&&v!==void 0?v:void 0,ee=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:te,emailVerified:he,isAnonymous:Q,providerData:F,stsTokenManager:N}=t;mt(te&&N,e,"internal-error");const I=Td.fromJSON(this.name,N);mt(typeof te=="string",e,"internal-error"),_u(S,e.name),_u(A,e.name),mt(typeof he=="boolean",e,"internal-error"),mt(typeof Q=="boolean",e,"internal-error"),_u(D,e.name),_u(M,e.name),_u(H,e.name),_u(k,e.name),_u(B,e.name),_u(ee,e.name);const O=new ka({uid:te,auth:e,email:A,emailVerified:he,displayName:S,isAnonymous:Q,photoURL:M,phoneNumber:D,tenantId:H,stsTokenManager:I,createdAt:B,lastLoginAt:ee});return F&&Array.isArray(F)&&(O.providerData=F.map(z=>Object.assign({},z))),k&&(O._redirectEventId=k),O}static async _fromIdTokenResponse(e,t,i=!1){const a=new Td;a.updateFromServerResponse(t);const u=new ka({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await r_(u),u}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];mt(a.localId!==void 0,"internal-error");const u=a.providerUserInfo!==void 0?tR(a.providerUserInfo):[],h=!(a.email&&a.passwordHash)&&!(u!=null&&u.length),m=new Td;m.updateFromIdToken(i);const g=new ka({uid:a.localId,auth:e,stsTokenManager:m,isAnonymous:h}),v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new hT(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,v),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=new Map;function yl(n){Tl(n instanceof Function,"Expected a class definition");let e=nS.get(n);return e?(Tl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,nS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nR.type="NONE";const rS=nR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(n,e,t){return`firebase:${n}:${e}:${t}`}class wd{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:u}=this.auth;this.fullUserKey=kv(this.userKey,a.apiKey,u),this.fullPersistenceKey=kv("persistence",a.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await n_(this.auth,{idToken:e}).catch(()=>{});return t?ka._fromGetAccountInfoResponse(this.auth,t,e):null}return ka._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new wd(yl(rS),e,i);const a=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=a[0]||yl(rS);const h=kv(i,e.config.apiKey,e.name);let m=null;for(const v of t)try{const E=await v._get(h);if(E){let S;if(typeof E=="string"){const A=await n_(e,{idToken:E}).catch(()=>{});if(!A)break;S=await ka._fromGetAccountInfoResponse(e,A,E)}else S=ka._fromJSON(e,E);v!==u&&(m=S),u=v;break}}catch{}const g=a.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new wd(u,e,i):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async v=>{if(v!==u)try{await v._remove(h)}catch{}})),new wd(u,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lR(e))return"Blackberry";if(uR(e))return"Webos";if(iR(e))return"Safari";if((e.includes("chrome/")||sR(e))&&!e.includes("edge/"))return"Chrome";if(oR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function rR(n=Ai()){return/firefox\//i.test(n)}function iR(n=Ai()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sR(n=Ai()){return/crios\//i.test(n)}function aR(n=Ai()){return/iemobile/i.test(n)}function oR(n=Ai()){return/android/i.test(n)}function lR(n=Ai()){return/blackberry/i.test(n)}function uR(n=Ai()){return/webos/i.test(n)}function dw(n=Ai()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function H2(n=Ai()){var e;return dw(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function q2(){return rD()&&document.documentMode===10}function cR(n=Ai()){return dw(n)||oR(n)||uR(n)||lR(n)||/windows phone/i.test(n)||aR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(n,e=[]){let t;switch(n){case"Browser":t=iS(Ai());break;case"Worker":t=`${iS(Ai())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Bd}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(n,e={}){return Fd(n,"GET","/v2/passwordPolicy",fw(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=6;class Y2{constructor(e){var t,i,a,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:K2,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,u,h,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(i=g.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(a=g.containsLowercaseLetter)!==null&&a!==void 0?a:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sS(this),this.idTokenSubscription=new sS(this),this.beforeStateQueue=new G2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=yl(t)),this._initializationPromise=this.queue(async()=>{var i,a,u;if(!this._deleted&&(this.persistenceManager=await wd.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await n_(this,{idToken:e}),i=await ka._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Pa(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=a==null?void 0:a._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===m)&&(g!=null&&g.user)&&(a=g.user,u=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await r_(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=I2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pa(this.app))return Promise.reject(Sf(this));const t=e?Ar(e):null;return t&&mt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&mt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pa(this.app)?Promise.reject(Sf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pa(this.app)?Promise.reject(Sf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $2(this),t=new Y2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ng("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await z2(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&yl(e)||this._popupRedirectResolver;mt(t,this,"argument-error"),this.redirectPersistenceManager=await wd.create(this,[yl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,a);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Pa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&A2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function P_(n){return Ar(n)}class sS{constructor(e){this.auth=e,this.observer=null,this.addObserver=fD(t=>this.observer=t)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q2(n){mw=n}function X2(n){return mw.loadJS(n)}function Z2(){return mw.gapiScript}function J2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(n,e){const t=aw(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),u=t.getOptions();if(Cf(u,e??{}))return a;No(a,"already-initialized")}return t.initialize({options:e})}function tO(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(yl);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function nO(n,e,t){const i=P_(n);mt(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,u=hR(e),{host:h,port:m}=rO(e),g=m===null?"":`:${m}`,v={url:`${u}//${h}${g}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){mt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),mt(Cf(v,i.config.emulator)&&Cf(E,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=v,i.emulatorConfig=E,i.settings.appVerificationDisabledForTesting=!0,jd(h)?(zA(`${u}//${h}${g}`),HA("Auth",!0)):iO()}function hR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function rO(n){const e=hR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const u=a[1];return{host:u,port:aS(i.substr(u.length+1))}}else{const[u,h]=i.split(":");return{host:u,port:aS(h)}}}function aS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function iO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gl("not implemented")}_getIdTokenResponse(e){return gl("not implemented")}_linkToIdToken(e,t){return gl("not implemented")}_getReauthenticationResolver(e){return gl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(n,e){return M2(n,"POST","/v1/accounts:signInWithIdp",fw(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="http://localhost";class Nf extends dR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Nf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):No("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,u=ow(t,["providerId","signInMethod"]);if(!i||!a)return null;const h=new Nf(i,a);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return bd(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,bd(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bd(e,t)}buildRequest(){const e={requestUri:sO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=rg(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends pw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends sg{constructor(){super("facebook.com")}static credential(e){return Nf._fromParams({providerId:wu.PROVIDER_ID,signInMethod:wu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wu.credentialFromTaggedObject(e)}static credentialFromError(e){return wu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wu.credential(e.oauthAccessToken)}catch{return null}}}wu.FACEBOOK_SIGN_IN_METHOD="facebook.com";wu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends sg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Nf._fromParams({providerId:pl.PROVIDER_ID,signInMethod:pl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return pl.credentialFromTaggedObject(e)}static credentialFromError(e){return pl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return pl.credential(t,i)}catch{return null}}}pl.GOOGLE_SIGN_IN_METHOD="google.com";pl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends sg{constructor(){super("github.com")}static credential(e){return Nf._fromParams({providerId:bu.PROVIDER_ID,signInMethod:bu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bu.credentialFromTaggedObject(e)}static credentialFromError(e){return bu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bu.credential(e.oauthAccessToken)}catch{return null}}}bu.GITHUB_SIGN_IN_METHOD="github.com";bu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends sg{constructor(){super("twitter.com")}static credential(e,t){return Nf._fromParams({providerId:Su.PROVIDER_ID,signInMethod:Su.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Su.credentialFromTaggedObject(e)}static credentialFromError(e){return Su.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Su.credential(t,i)}catch{return null}}}Su.TWITTER_SIGN_IN_METHOD="twitter.com";Su.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const u=await ka._fromIdTokenResponse(e,i,a),h=oS(i);return new xd({user:u,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=oS(i);return new xd({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function oS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_ extends Al{constructor(e,t,i,a){var u;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,i_.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new i_(e,t,i,a)}}function mR(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?i_._fromErrorAndOperation(n,u,e,i):u})}async function aO(n,e,t=!1){const i=await zp(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return xd._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(n,e,t=!1){const{auth:i}=n;if(Pa(i.app))return Promise.reject(Sf(i));const a="reauthenticate";try{const u=await zp(n,mR(i,a,e,n),t);mt(u.idToken,i,"internal-error");const h=hw(u.idToken);mt(h,i,"internal-error");const{sub:m}=h;return mt(n.uid===m,i,"user-mismatch"),xd._forOperation(n,a,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&No(i,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO(n,e,t=!1){if(Pa(n.app))return Promise.reject(Sf(n));const i="signIn",a=await mR(n,i,e),u=await xd._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(n,e){return Ar(n).setPersistence(e)}function cO(n,e,t,i){return Ar(n).onIdTokenChanged(e,t,i)}function fO(n,e,t){return Ar(n).beforeAuthStateChanged(e,t)}function hO(n,e,t,i){return Ar(n).onAuthStateChanged(e,t,i)}function dO(n){return Ar(n).signOut()}const s_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(s_,"1"),this.storage.removeItem(s_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=1e3,pO=10;class gR extends pR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},u=this.storage.getItem(i);q2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,pO):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},mO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gR.type="LOCAL";const yR=gR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR extends pR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}vR.type="SESSION";const _R=vR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new L_(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:u}=t.data,h=this.handlersMap[a];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const m=Array.from(h).map(async v=>v(t.origin,u)),g=await gO(m);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}L_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const v=gw("",20);a.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:a,onMessage(S){const A=S;if(A.data.eventId===v)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),a.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[a.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(){return window}function vO(n){Ao().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(){return typeof Ao().WorkerGlobalScope<"u"&&typeof Ao().importScripts=="function"}async function _O(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function TO(){return ER()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="firebaseLocalStorageDb",wO=1,a_="firebaseLocalStorage",wR="fbase_key";class ag{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function k_(n,e){return n.transaction([a_],e?"readwrite":"readonly").objectStore(a_)}function bO(){const n=indexedDB.deleteDatabase(TR);return new ag(n).toPromise()}function dT(){const n=indexedDB.open(TR,wO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(a_,{keyPath:wR})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(a_)?e(i):(i.close(),await bO(),e(await dT()))})})}async function lS(n,e,t){const i=k_(n,!0).put({[wR]:e,value:t});return new ag(i).toPromise()}async function SO(n,e){const t=k_(n,!1).get(e),i=await new ag(t).toPromise();return i===void 0?null:i.value}function uS(n,e){const t=k_(n,!0).delete(e);return new ag(t).toPromise()}const AO=800,RO=3;class bR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dT(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>RO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ER()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=L_._getInstance(TO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await _O(),!this.activeServiceWorker)return;this.sender=new yO(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dT();return await lS(e,s_,"1"),await uS(e,s_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>lS(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>SO(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>uS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const u=k_(a,!1).getAll();return new ag(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:u}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bR.type="LOCAL";const xO=bR;new ig(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(n,e){return e?yl(e):(mt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw extends dR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function CO(n){return lO(n.auth,new yw(n),n.bypassAuthState)}function IO(n){const{auth:e,user:t}=n;return mt(t,e,"internal-error"),oO(t,new yw(n),n.bypassAuthState)}async function NO(n){const{auth:e,user:t}=n;return mt(t,e,"internal-error"),aO(t,new yw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,t,i,a,u=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:u||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CO;case"linkViaPopup":case"linkViaRedirect":return NO;case"reauthViaPopup":case"reauthViaRedirect":return IO;default:No(this.auth,"internal-error")}}resolve(e){Tl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=new ig(2e3,1e4);async function OO(n,e,t){if(Pa(n.app))return Promise.reject(Ua(n,"operation-not-supported-in-this-environment"));const i=P_(n);R2(n,e,pw);const a=SR(i,t);return new gf(i,"signInViaPopup",e,a).executeNotNull()}class gf extends AR{constructor(e,t,i,a,u){super(e,t,a,u),this.provider=i,this.authWindow=null,this.pollId=null,gf.currentPopupAction&&gf.currentPopupAction.cancel(),gf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return mt(e,this.auth,"internal-error"),e}async onExecution(){Tl(this.filter.length===1,"Popup operations only handle one event");const e=gw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ua(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ua(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ua(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DO.get())};e()}}gf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="pendingRedirect",Uv=new Map;class PO extends AR{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Uv.get(this.auth._key());if(!e){try{const i=await LO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Uv.set(this.auth._key(),e)}return this.bypassAuthState||Uv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LO(n,e){const t=VO(e),i=UO(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function kO(n,e){Uv.set(n._key(),e)}function UO(n){return yl(n._redirectPersistence)}function VO(n){return kv(MO,n.config.apiKey,n.name)}async function jO(n,e,t=!1){if(Pa(n.app))return Promise.reject(Sf(n));const i=P_(n),a=SR(i,e),h=await new PO(i,a,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=10*60*1e3;class FO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!RR(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ua(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BO&&this.cachedEventUids.clear(),this.cachedEventUids.has(cS(e))}saveEventToCache(e){this.cachedEventUids.add(cS(e)),this.lastProcessedEventTime=Date.now()}}function cS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function RR({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(n,e={}){return Fd(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GO=/^https?/;async function $O(n){if(n.config.emulator)return;const{authorizedDomains:e}=await HO(n);for(const t of e)try{if(KO(t))return}catch{}No(n,"unauthorized-domain")}function KO(n){const e=fT(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!GO.test(t))return!1;if(qO.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new ig(3e4,6e4);function fS(){const n=Ao().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function WO(n){return new Promise((e,t)=>{var i,a,u;function h(){fS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fS(),t(Ua(n,"network-request-failed"))},timeout:YO.get()})}if(!((a=(i=Ao().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((u=Ao().gapi)===null||u===void 0)&&u.load)h();else{const m=J2("iframefcb");return Ao()[m]=()=>{gapi.load?h():t(Ua(n,"network-request-failed"))},X2(`${Z2()}?onload=${m}`).catch(g=>t(g))}}).catch(e=>{throw Vv=null,e})}let Vv=null;function QO(n){return Vv=Vv||WO(n),Vv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=new ig(5e3,15e3),ZO="__/auth/iframe",JO="emulator/auth/iframe",eM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nM(n){const e=n.config;mt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?cw(e,JO):`https://${n.config.authDomain}/${ZO}`,i={apiKey:e.apiKey,appName:n.name,v:Bd},a=tM.get(n.config.apiHost);a&&(i.eid=a);const u=n._getFrameworks();return u.length&&(i.fw=u.join(",")),`${t}?${rg(i).slice(1)}`}async function rM(n){const e=await QO(n),t=Ao().gapi;return mt(t,n,"internal-error"),e.open({where:document.body,url:nM(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eM,dontclear:!0},i=>new Promise(async(a,u)=>{await i.restyle({setHideOnLeave:!1});const h=Ua(n,"network-request-failed"),m=Ao().setTimeout(()=>{u(h)},XO.get());function g(){Ao().clearTimeout(m),a(i)}i.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sM=500,aM=600,oM="_blank",lM="http://localhost";class hS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uM(n,e,t,i=sM,a=aM){const u=Math.max((window.screen.availHeight-a)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const g=Object.assign(Object.assign({},iM),{width:i.toString(),height:a.toString(),top:u,left:h}),v=Ai().toLowerCase();t&&(m=sR(v)?oM:t),rR(v)&&(e=e||lM,g.scrollbars="yes");const E=Object.entries(g).reduce((A,[D,M])=>`${A}${D}=${M},`,"");if(H2(v)&&m!=="_self")return cM(e||"",m),new hS(null);const S=window.open(e||"",m,E);mt(S,n,"popup-blocked");try{S.focus()}catch{}return new hS(S)}function cM(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM="__/auth/handler",hM="emulator/auth/handler",dM=encodeURIComponent("fac");async function dS(n,e,t,i,a,u){mt(n.config.authDomain,n,"auth-domain-config-required"),mt(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Bd,eventId:a};if(e instanceof pw){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",cD(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))h[E]=S}if(e instanceof sg){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(h.scopes=E.join(","))}n.tenantId&&(h.tid=n.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await n._getAppCheckToken(),v=g?`#${dM}=${encodeURIComponent(g)}`:"";return`${mM(n)}?${rg(m).slice(1)}${v}`}function mM({config:n}){return n.emulator?cw(n,hM):`https://${n.authDomain}/${fM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="webStorageSupport";class pM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_R,this._completeRedirectFn=jO,this._overrideRedirectResult=kO}async _openPopup(e,t,i,a){var u;Tl((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await dS(e,t,i,fT(),a);return uM(e,h,gw())}async _openRedirect(e,t,i,a){await this._originValidation(e);const u=await dS(e,t,i,fT(),a);return vO(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:u}=this.eventManagers[t];return a?Promise.resolve(a):(Tl(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await rM(e),i=new FO(e);return t.register("authEvent",a=>(mt(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(DE,{type:DE},a=>{var u;const h=(u=a==null?void 0:a[0])===null||u===void 0?void 0:u[DE];h!==void 0&&t(!!h),No(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=$O(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cR()||iR()||dw()}}const gM=pM;var mS="@firebase/auth",pS="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _M(n){Rd(new If("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=i.options;mt(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fR(n)},v=new W2(i,a,u,g);return tO(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Rd(new If("auth-internal",e=>{const t=P_(e.getProvider("auth").getImmediate());return(i=>new yM(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Iu(mS,pS,vM(n)),Iu(mS,pS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=5*60,TM=FA("authIdTokenMaxAge")||EM;let gS=null;const wM=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>TM)return;const a=t==null?void 0:t.token;gS!==a&&(gS=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function bM(n=KA()){const e=aw(n,"auth");if(e.isInitialized())return e.getImmediate();const t=eO(n,{popupRedirectResolver:gM,persistence:[xO,yR,_R]}),i=FA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const h=wM(u.toString());fO(t,h,()=>h(t.currentUser)),cO(t,m=>h(m))}}const a=jA("auth");return a&&nO(t,`http://${a}`),t}function SM(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Q2({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const u=Ua("internal-error");u.customData=a,t(u)},i.type="text/javascript",i.charset="UTF-8",SM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_M("Browser");var yS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nu,xR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function O(){}O.prototype=I.prototype,N.D=I.prototype,N.prototype=new O,N.prototype.constructor=N,N.C=function(z,G,W){for(var q=Array(arguments.length-2),je=2;je<arguments.length;je++)q[je-2]=arguments[je];return I.prototype[G].apply(z,q)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,I,O){O||(O=0);var z=Array(16);if(typeof I=="string")for(var G=0;16>G;++G)z[G]=I.charCodeAt(O++)|I.charCodeAt(O++)<<8|I.charCodeAt(O++)<<16|I.charCodeAt(O++)<<24;else for(G=0;16>G;++G)z[G]=I[O++]|I[O++]<<8|I[O++]<<16|I[O++]<<24;I=N.g[0],O=N.g[1],G=N.g[2];var W=N.g[3],q=I+(W^O&(G^W))+z[0]+3614090360&4294967295;I=O+(q<<7&4294967295|q>>>25),q=W+(G^I&(O^G))+z[1]+3905402710&4294967295,W=I+(q<<12&4294967295|q>>>20),q=G+(O^W&(I^O))+z[2]+606105819&4294967295,G=W+(q<<17&4294967295|q>>>15),q=O+(I^G&(W^I))+z[3]+3250441966&4294967295,O=G+(q<<22&4294967295|q>>>10),q=I+(W^O&(G^W))+z[4]+4118548399&4294967295,I=O+(q<<7&4294967295|q>>>25),q=W+(G^I&(O^G))+z[5]+1200080426&4294967295,W=I+(q<<12&4294967295|q>>>20),q=G+(O^W&(I^O))+z[6]+2821735955&4294967295,G=W+(q<<17&4294967295|q>>>15),q=O+(I^G&(W^I))+z[7]+4249261313&4294967295,O=G+(q<<22&4294967295|q>>>10),q=I+(W^O&(G^W))+z[8]+1770035416&4294967295,I=O+(q<<7&4294967295|q>>>25),q=W+(G^I&(O^G))+z[9]+2336552879&4294967295,W=I+(q<<12&4294967295|q>>>20),q=G+(O^W&(I^O))+z[10]+4294925233&4294967295,G=W+(q<<17&4294967295|q>>>15),q=O+(I^G&(W^I))+z[11]+2304563134&4294967295,O=G+(q<<22&4294967295|q>>>10),q=I+(W^O&(G^W))+z[12]+1804603682&4294967295,I=O+(q<<7&4294967295|q>>>25),q=W+(G^I&(O^G))+z[13]+4254626195&4294967295,W=I+(q<<12&4294967295|q>>>20),q=G+(O^W&(I^O))+z[14]+2792965006&4294967295,G=W+(q<<17&4294967295|q>>>15),q=O+(I^G&(W^I))+z[15]+1236535329&4294967295,O=G+(q<<22&4294967295|q>>>10),q=I+(G^W&(O^G))+z[1]+4129170786&4294967295,I=O+(q<<5&4294967295|q>>>27),q=W+(O^G&(I^O))+z[6]+3225465664&4294967295,W=I+(q<<9&4294967295|q>>>23),q=G+(I^O&(W^I))+z[11]+643717713&4294967295,G=W+(q<<14&4294967295|q>>>18),q=O+(W^I&(G^W))+z[0]+3921069994&4294967295,O=G+(q<<20&4294967295|q>>>12),q=I+(G^W&(O^G))+z[5]+3593408605&4294967295,I=O+(q<<5&4294967295|q>>>27),q=W+(O^G&(I^O))+z[10]+38016083&4294967295,W=I+(q<<9&4294967295|q>>>23),q=G+(I^O&(W^I))+z[15]+3634488961&4294967295,G=W+(q<<14&4294967295|q>>>18),q=O+(W^I&(G^W))+z[4]+3889429448&4294967295,O=G+(q<<20&4294967295|q>>>12),q=I+(G^W&(O^G))+z[9]+568446438&4294967295,I=O+(q<<5&4294967295|q>>>27),q=W+(O^G&(I^O))+z[14]+3275163606&4294967295,W=I+(q<<9&4294967295|q>>>23),q=G+(I^O&(W^I))+z[3]+4107603335&4294967295,G=W+(q<<14&4294967295|q>>>18),q=O+(W^I&(G^W))+z[8]+1163531501&4294967295,O=G+(q<<20&4294967295|q>>>12),q=I+(G^W&(O^G))+z[13]+2850285829&4294967295,I=O+(q<<5&4294967295|q>>>27),q=W+(O^G&(I^O))+z[2]+4243563512&4294967295,W=I+(q<<9&4294967295|q>>>23),q=G+(I^O&(W^I))+z[7]+1735328473&4294967295,G=W+(q<<14&4294967295|q>>>18),q=O+(W^I&(G^W))+z[12]+2368359562&4294967295,O=G+(q<<20&4294967295|q>>>12),q=I+(O^G^W)+z[5]+4294588738&4294967295,I=O+(q<<4&4294967295|q>>>28),q=W+(I^O^G)+z[8]+2272392833&4294967295,W=I+(q<<11&4294967295|q>>>21),q=G+(W^I^O)+z[11]+1839030562&4294967295,G=W+(q<<16&4294967295|q>>>16),q=O+(G^W^I)+z[14]+4259657740&4294967295,O=G+(q<<23&4294967295|q>>>9),q=I+(O^G^W)+z[1]+2763975236&4294967295,I=O+(q<<4&4294967295|q>>>28),q=W+(I^O^G)+z[4]+1272893353&4294967295,W=I+(q<<11&4294967295|q>>>21),q=G+(W^I^O)+z[7]+4139469664&4294967295,G=W+(q<<16&4294967295|q>>>16),q=O+(G^W^I)+z[10]+3200236656&4294967295,O=G+(q<<23&4294967295|q>>>9),q=I+(O^G^W)+z[13]+681279174&4294967295,I=O+(q<<4&4294967295|q>>>28),q=W+(I^O^G)+z[0]+3936430074&4294967295,W=I+(q<<11&4294967295|q>>>21),q=G+(W^I^O)+z[3]+3572445317&4294967295,G=W+(q<<16&4294967295|q>>>16),q=O+(G^W^I)+z[6]+76029189&4294967295,O=G+(q<<23&4294967295|q>>>9),q=I+(O^G^W)+z[9]+3654602809&4294967295,I=O+(q<<4&4294967295|q>>>28),q=W+(I^O^G)+z[12]+3873151461&4294967295,W=I+(q<<11&4294967295|q>>>21),q=G+(W^I^O)+z[15]+530742520&4294967295,G=W+(q<<16&4294967295|q>>>16),q=O+(G^W^I)+z[2]+3299628645&4294967295,O=G+(q<<23&4294967295|q>>>9),q=I+(G^(O|~W))+z[0]+4096336452&4294967295,I=O+(q<<6&4294967295|q>>>26),q=W+(O^(I|~G))+z[7]+1126891415&4294967295,W=I+(q<<10&4294967295|q>>>22),q=G+(I^(W|~O))+z[14]+2878612391&4294967295,G=W+(q<<15&4294967295|q>>>17),q=O+(W^(G|~I))+z[5]+4237533241&4294967295,O=G+(q<<21&4294967295|q>>>11),q=I+(G^(O|~W))+z[12]+1700485571&4294967295,I=O+(q<<6&4294967295|q>>>26),q=W+(O^(I|~G))+z[3]+2399980690&4294967295,W=I+(q<<10&4294967295|q>>>22),q=G+(I^(W|~O))+z[10]+4293915773&4294967295,G=W+(q<<15&4294967295|q>>>17),q=O+(W^(G|~I))+z[1]+2240044497&4294967295,O=G+(q<<21&4294967295|q>>>11),q=I+(G^(O|~W))+z[8]+1873313359&4294967295,I=O+(q<<6&4294967295|q>>>26),q=W+(O^(I|~G))+z[15]+4264355552&4294967295,W=I+(q<<10&4294967295|q>>>22),q=G+(I^(W|~O))+z[6]+2734768916&4294967295,G=W+(q<<15&4294967295|q>>>17),q=O+(W^(G|~I))+z[13]+1309151649&4294967295,O=G+(q<<21&4294967295|q>>>11),q=I+(G^(O|~W))+z[4]+4149444226&4294967295,I=O+(q<<6&4294967295|q>>>26),q=W+(O^(I|~G))+z[11]+3174756917&4294967295,W=I+(q<<10&4294967295|q>>>22),q=G+(I^(W|~O))+z[2]+718787259&4294967295,G=W+(q<<15&4294967295|q>>>17),q=O+(W^(G|~I))+z[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(G+(q<<21&4294967295|q>>>11))&4294967295,N.g[2]=N.g[2]+G&4294967295,N.g[3]=N.g[3]+W&4294967295}i.prototype.u=function(N,I){I===void 0&&(I=N.length);for(var O=I-this.blockSize,z=this.B,G=this.h,W=0;W<I;){if(G==0)for(;W<=O;)a(this,N,W),W+=this.blockSize;if(typeof N=="string"){for(;W<I;)if(z[G++]=N.charCodeAt(W++),G==this.blockSize){a(this,z),G=0;break}}else for(;W<I;)if(z[G++]=N[W++],G==this.blockSize){a(this,z),G=0;break}}this.h=G,this.o+=I},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;var O=8*this.o;for(I=N.length-8;I<N.length;++I)N[I]=O&255,O/=256;for(this.u(N),N=Array(16),I=O=0;4>I;++I)for(var z=0;32>z;z+=8)N[O++]=this.g[I]>>>z&255;return N};function u(N,I){var O=m;return Object.prototype.hasOwnProperty.call(O,N)?O[N]:O[N]=I(N)}function h(N,I){this.h=I;for(var O=[],z=!0,G=N.length-1;0<=G;G--){var W=N[G]|0;z&&W==I||(O[G]=W,z=!1)}this.g=O}var m={};function g(N){return-128<=N&&128>N?u(N,function(I){return new h([I|0],0>I?-1:0)}):new h([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return S;if(0>N)return k(v(-N));for(var I=[],O=1,z=0;N>=O;z++)I[z]=N/O|0,O*=4294967296;return new h(I,0)}function E(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return k(E(N.substring(1),I));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=v(Math.pow(I,8)),z=S,G=0;G<N.length;G+=8){var W=Math.min(8,N.length-G),q=parseInt(N.substring(G,G+W),I);8>W?(W=v(Math.pow(I,W)),z=z.j(W).add(v(q))):(z=z.j(O),z=z.add(v(q)))}return z}var S=g(0),A=g(1),D=g(16777216);n=h.prototype,n.m=function(){if(H(this))return-k(this).m();for(var N=0,I=1,O=0;O<this.g.length;O++){var z=this.i(O);N+=(0<=z?z:4294967296+z)*I,I*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(M(this))return"0";if(H(this))return"-"+k(this).toString(N);for(var I=v(Math.pow(N,6)),O=this,z="";;){var G=he(O,I).g;O=B(O,G.j(I));var W=((0<O.g.length?O.g[0]:O.h)>>>0).toString(N);if(O=G,M(O))return W+z;for(;6>W.length;)W="0"+W;z=W+z}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function M(N){if(N.h!=0)return!1;for(var I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function H(N){return N.h==-1}n.l=function(N){return N=B(this,N),H(N)?-1:M(N)?0:1};function k(N){for(var I=N.g.length,O=[],z=0;z<I;z++)O[z]=~N.g[z];return new h(O,~N.h).add(A)}n.abs=function(){return H(this)?k(this):this},n.add=function(N){for(var I=Math.max(this.g.length,N.g.length),O=[],z=0,G=0;G<=I;G++){var W=z+(this.i(G)&65535)+(N.i(G)&65535),q=(W>>>16)+(this.i(G)>>>16)+(N.i(G)>>>16);z=q>>>16,W&=65535,q&=65535,O[G]=q<<16|W}return new h(O,O[O.length-1]&-2147483648?-1:0)};function B(N,I){return N.add(k(I))}n.j=function(N){if(M(this)||M(N))return S;if(H(this))return H(N)?k(this).j(k(N)):k(k(this).j(N));if(H(N))return k(this.j(k(N)));if(0>this.l(D)&&0>N.l(D))return v(this.m()*N.m());for(var I=this.g.length+N.g.length,O=[],z=0;z<2*I;z++)O[z]=0;for(z=0;z<this.g.length;z++)for(var G=0;G<N.g.length;G++){var W=this.i(z)>>>16,q=this.i(z)&65535,je=N.i(G)>>>16,Ze=N.i(G)&65535;O[2*z+2*G]+=q*Ze,ee(O,2*z+2*G),O[2*z+2*G+1]+=W*Ze,ee(O,2*z+2*G+1),O[2*z+2*G+1]+=q*je,ee(O,2*z+2*G+1),O[2*z+2*G+2]+=W*je,ee(O,2*z+2*G+2)}for(z=0;z<I;z++)O[z]=O[2*z+1]<<16|O[2*z];for(z=I;z<2*I;z++)O[z]=0;return new h(O,0)};function ee(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function te(N,I){this.g=N,this.h=I}function he(N,I){if(M(I))throw Error("division by zero");if(M(N))return new te(S,S);if(H(N))return I=he(k(N),I),new te(k(I.g),k(I.h));if(H(I))return I=he(N,k(I)),new te(k(I.g),I.h);if(30<N.g.length){if(H(N)||H(I))throw Error("slowDivide_ only works with positive integers.");for(var O=A,z=I;0>=z.l(N);)O=Q(O),z=Q(z);var G=F(O,1),W=F(z,1);for(z=F(z,2),O=F(O,2);!M(z);){var q=W.add(z);0>=q.l(N)&&(G=G.add(O),W=q),z=F(z,1),O=F(O,1)}return I=B(N,G.j(I)),new te(G,I)}for(G=S;0<=N.l(I);){for(O=Math.max(1,Math.floor(N.m()/I.m())),z=Math.ceil(Math.log(O)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),W=v(O),q=W.j(I);H(q)||0<q.l(N);)O-=z,W=v(O),q=W.j(I);M(W)&&(W=A),G=G.add(W),N=B(N,q)}return new te(G,N)}n.A=function(N){return he(this,N).h},n.and=function(N){for(var I=Math.max(this.g.length,N.g.length),O=[],z=0;z<I;z++)O[z]=this.i(z)&N.i(z);return new h(O,this.h&N.h)},n.or=function(N){for(var I=Math.max(this.g.length,N.g.length),O=[],z=0;z<I;z++)O[z]=this.i(z)|N.i(z);return new h(O,this.h|N.h)},n.xor=function(N){for(var I=Math.max(this.g.length,N.g.length),O=[],z=0;z<I;z++)O[z]=this.i(z)^N.i(z);return new h(O,this.h^N.h)};function Q(N){for(var I=N.g.length+1,O=[],z=0;z<I;z++)O[z]=N.i(z)<<1|N.i(z-1)>>>31;return new h(O,N.h)}function F(N,I){var O=I>>5;I%=32;for(var z=N.g.length-O,G=[],W=0;W<z;W++)G[W]=0<I?N.i(W+O)>>>I|N.i(W+O+1)<<32-I:N.i(W+O);return new h(G,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,xR=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=E,Nu=h}).apply(typeof yS<"u"?yS:typeof self<"u"?self:typeof window<"u"?window:{});var wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CR,Sp,IR,jv,mT,NR,DR,OR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,w,R){return d==Array.prototype||d==Object.prototype||(d[w]=R.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof wv=="object"&&wv];for(var w=0;w<d.length;++w){var R=d[w];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var i=t(this);function a(d,w){if(w)e:{var R=i;d=d.split(".");for(var U=0;U<d.length-1;U++){var ae=d[U];if(!(ae in R))break e;R=R[ae]}d=d[d.length-1],U=R[d],w=w(U),w!=U&&w!=null&&e(R,d,{configurable:!0,writable:!0,value:w})}}function u(d,w){d instanceof String&&(d+="");var R=0,U=!1,ae={next:function(){if(!U&&R<d.length){var ye=R++;return{value:w(ye,d[ye]),done:!1}}return U=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}a("Array.prototype.values",function(d){return d||function(){return u(this,function(w,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(d){var w=typeof d;return w=w!="object"?w:d?Array.isArray(d)?"array":w:"null",w=="array"||w=="object"&&typeof d.length=="number"}function v(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function E(d,w,R){return d.call.apply(d.bind,arguments)}function S(d,w,R){if(!d)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,U),d.apply(w,ae)}}return function(){return d.apply(w,arguments)}}function A(d,w,R){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,A.apply(null,arguments)}function D(d,w){var R=Array.prototype.slice.call(arguments,1);return function(){var U=R.slice();return U.push.apply(U,arguments),d.apply(this,U)}}function M(d,w){function R(){}R.prototype=w.prototype,d.aa=w.prototype,d.prototype=new R,d.prototype.constructor=d,d.Qb=function(U,ae,ye){for(var Pe=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)Pe[Ot-2]=arguments[Ot];return w.prototype[ae].apply(U,Pe)}}function H(d){const w=d.length;if(0<w){const R=Array(w);for(let U=0;U<w;U++)R[U]=d[U];return R}return[]}function k(d,w){for(let R=1;R<arguments.length;R++){const U=arguments[R];if(g(U)){const ae=d.length||0,ye=U.length||0;d.length=ae+ye;for(let Pe=0;Pe<ye;Pe++)d[ae+Pe]=U[Pe]}else d.push(U)}}class B{constructor(w,R){this.i=w,this.j=R,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function ee(d){return/^[\s\xa0]*$/.test(d)}function te(){var d=m.navigator;return d&&(d=d.userAgent)?d:""}function he(d){return he[" "](d),d}he[" "]=function(){};var Q=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function F(d,w,R){for(const U in d)w.call(R,d[U],U,d)}function N(d,w){for(const R in d)w.call(void 0,d[R],R,d)}function I(d){const w={};for(const R in d)w[R]=d[R];return w}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(d,w){let R,U;for(let ae=1;ae<arguments.length;ae++){U=arguments[ae];for(R in U)d[R]=U[R];for(let ye=0;ye<O.length;ye++)R=O[ye],Object.prototype.hasOwnProperty.call(U,R)&&(d[R]=U[R])}}function G(d){var w=1;d=d.split(":");const R=[];for(;0<w&&d.length;)R.push(d.shift()),w--;return d.length&&R.push(d.join(":")),R}function W(d){m.setTimeout(()=>{throw d},0)}function q(){var d=Me;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class je{constructor(){this.h=this.g=null}add(w,R){const U=Ze.get();U.set(w,R),this.h?this.h.next=U:this.g=U,this.h=U}}var Ze=new B(()=>new le,d=>d.reset());class le{constructor(){this.next=this.g=this.h=null}set(w,R){this.h=w,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let me,_e=!1,Me=new je,$=()=>{const d=m.Promise.resolve(void 0);me=()=>{d.then(pe)}};var pe=()=>{for(var d;d=q();){try{d.h.call(d.g)}catch(R){W(R)}var w=Ze;w.j(d),100>w.h&&(w.h++,d.next=w.g,w.g=d)}_e=!1};function Ne(){this.s=this.s,this.C=this.C}Ne.prototype.s=!1,Ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var Ue=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const R=()=>{};m.addEventListener("test",R,w),m.removeEventListener("test",R,w)}catch{}return d}();function Ye(d,w){if(we.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var R=this.type=d.type,U=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget){if(Q){e:{try{he(w.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(w=null)}}else R=="mouseover"?w=d.fromElement:R=="mouseout"&&(w=d.toElement);this.relatedTarget=w,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:He[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ye.aa.h.call(this)}}M(Ye,we);var He={2:"touch",3:"pen",4:"mouse"};Ye.prototype.h=function(){Ye.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var mn="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function Mn(d,w,R,U,ae){this.listener=d,this.proxy=null,this.src=w,this.type=R,this.capture=!!U,this.ha=ae,this.key=++Nt,this.da=this.fa=!1}function Zt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function An(d){this.src=d,this.g={},this.h=0}An.prototype.add=function(d,w,R,U,ae){var ye=d.toString();d=this.g[ye],d||(d=this.g[ye]=[],this.h++);var Pe=Rr(d,w,U,ae);return-1<Pe?(w=d[Pe],R||(w.fa=!1)):(w=new Mn(w,this.src,ye,!!U,ae),w.fa=R,d.push(w)),w};function qn(d,w){var R=w.type;if(R in d.g){var U=d.g[R],ae=Array.prototype.indexOf.call(U,w,void 0),ye;(ye=0<=ae)&&Array.prototype.splice.call(U,ae,1),ye&&(Zt(w),d.g[R].length==0&&(delete d.g[R],d.h--))}}function Rr(d,w,R,U){for(var ae=0;ae<d.length;++ae){var ye=d[ae];if(!ye.da&&ye.listener==w&&ye.capture==!!R&&ye.ha==U)return ae}return-1}var Wt="closure_lm_"+(1e6*Math.random()|0),Dt={};function cs(d,w,R,U,ae){if(Array.isArray(w)){for(var ye=0;ye<w.length;ye++)cs(d,w[ye],R,U,ae);return null}return R=Zr(R),d&&d[mn]?d.K(w,R,v(U)?!!U.capture:!1,ae):an(d,w,R,!1,U,ae)}function an(d,w,R,U,ae,ye){if(!w)throw Error("Invalid event type");var Pe=v(ae)?!!ae.capture:!!ae,Ot=Er(d);if(Ot||(d[Wt]=Ot=new An(d)),R=Ot.add(w,R,U,Pe,ye),R.proxy)return R;if(U=Fa(),R.proxy=U,U.src=d,U.listener=R,d.addEventListener)Ue||(ae=Pe),ae===void 0&&(ae=!1),d.addEventListener(w.toString(),U,ae);else if(d.attachEvent)d.attachEvent(Bn(w.toString()),U);else if(d.addListener&&d.removeListener)d.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Fa(){function d(R){return w.call(d.src,d.listener,R)}const w=_r;return d}function oa(d,w,R,U,ae){if(Array.isArray(w))for(var ye=0;ye<w.length;ye++)oa(d,w[ye],R,U,ae);else U=v(U)?!!U.capture:!!U,R=Zr(R),d&&d[mn]?(d=d.i,w=String(w).toString(),w in d.g&&(ye=d.g[w],R=Rr(ye,R,U,ae),-1<R&&(Zt(ye[R]),Array.prototype.splice.call(ye,R,1),ye.length==0&&(delete d.g[w],d.h--)))):d&&(d=Er(d))&&(w=d.g[w.toString()],d=-1,w&&(d=Rr(w,R,U,ae)),(R=-1<d?w[d]:null)&&Xr(R))}function Xr(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[mn])qn(w.i,d);else{var R=d.type,U=d.proxy;w.removeEventListener?w.removeEventListener(R,U,d.capture):w.detachEvent?w.detachEvent(Bn(R),U):w.addListener&&w.removeListener&&w.removeListener(U),(R=Er(w))?(qn(R,d),R.h==0&&(R.src=null,w[Wt]=null)):Zt(d)}}}function Bn(d){return d in Dt?Dt[d]:Dt[d]="on"+d}function _r(d,w){if(d.da)d=!0;else{w=new Ye(w,this);var R=d.listener,U=d.ha||d.src;d.fa&&Xr(d),d=R.call(U,w)}return d}function Er(d){return d=d[Wt],d instanceof An?d:null}var fs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zr(d){return typeof d=="function"?d:(d[fs]||(d[fs]=function(w){return d.handleEvent(w)}),d[fs])}function qe(){Ne.call(this),this.i=new An(this),this.M=this,this.F=null}M(qe,Ne),qe.prototype[mn]=!0,qe.prototype.removeEventListener=function(d,w,R,U){oa(this,d,w,R,U)};function it(d,w){var R,U=d.F;if(U)for(R=[];U;U=U.F)R.push(U);if(d=d.M,U=w.type||w,typeof w=="string")w=new we(w,d);else if(w instanceof we)w.target=w.target||d;else{var ae=w;w=new we(U,d),z(w,ae)}if(ae=!0,R)for(var ye=R.length-1;0<=ye;ye--){var Pe=w.g=R[ye];ae=Rn(Pe,U,!0,w)&&ae}if(Pe=w.g=d,ae=Rn(Pe,U,!0,w)&&ae,ae=Rn(Pe,U,!1,w)&&ae,R)for(ye=0;ye<R.length;ye++)Pe=w.g=R[ye],ae=Rn(Pe,U,!1,w)&&ae}qe.prototype.N=function(){if(qe.aa.N.call(this),this.i){var d=this.i,w;for(w in d.g){for(var R=d.g[w],U=0;U<R.length;U++)Zt(R[U]);delete d.g[w],d.h--}}this.F=null},qe.prototype.K=function(d,w,R,U){return this.i.add(String(d),w,!1,R,U)},qe.prototype.L=function(d,w,R,U){return this.i.add(String(d),w,!0,R,U)};function Rn(d,w,R,U){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();for(var ae=!0,ye=0;ye<w.length;++ye){var Pe=w[ye];if(Pe&&!Pe.da&&Pe.capture==R){var Ot=Pe.listener,Xn=Pe.ha||Pe.src;Pe.fa&&qn(d.i,Pe),ae=Ot.call(Xn,U)!==!1&&ae}}return ae&&!U.defaultPrevented}function Pn(d,w,R){if(typeof d=="function")R&&(d=A(d,R));else if(d&&typeof d.handleEvent=="function")d=A(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:m.setTimeout(d,w||0)}function za(d){d.g=Pn(()=>{d.g=null,d.i&&(d.i=!1,za(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class Jr extends Ne{constructor(w,R){super(),this.m=w,this.l=R,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:za(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ji(d){Ne.call(this),this.h=d,this.g={}}M(ji,Ne);var Bi=[];function Fi(d){F(d.g,function(w,R){this.g.hasOwnProperty(R)&&Xr(w)},d),d.g={}}ji.prototype.N=function(){ji.aa.N.call(this),Fi(this)},ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kr=m.JSON.stringify,hs=m.JSON.parse,ei=class{stringify(d){return m.JSON.stringify(d,void 0)}parse(d){return m.JSON.parse(d,void 0)}};function Ha(){}Ha.prototype.h=null;function la(d){return d.h||(d.h=d.i())}function Mo(){}var Ri={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){we.call(this,"d")}M(zi,we);function qa(){we.call(this,"c")}M(qa,we);var Ur={},Ps=null;function Ls(){return Ps=Ps||new qe}Ur.La="serverreachability";function ua(d){we.call(this,Ur.La,d)}M(ua,we);function X(d){const w=Ls();it(w,new ua(w))}Ur.STAT_EVENT="statevent";function se(d,w){we.call(this,Ur.STAT_EVENT,d),this.stat=w}M(se,we);function ue(d){const w=Ls();it(w,new se(w,d))}Ur.Ma="timingevent";function Se(d,w){we.call(this,Ur.Ma,d),this.size=w}M(Se,we);function Oe(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){d()},w)}function Ve(){this.g=!0}Ve.prototype.xa=function(){this.g=!1};function et(d,w,R,U,ae,ye){d.info(function(){if(d.g)if(ye)for(var Pe="",Ot=ye.split("&"),Xn=0;Xn<Ot.length;Xn++){var Ut=Ot[Xn].split("=");if(1<Ut.length){var rn=Ut[0];Ut=Ut[1];var zn=rn.split("_");Pe=2<=zn.length&&zn[1]=="type"?Pe+(rn+"="+Ut+"&"):Pe+(rn+"=redacted&")}}else Pe=null;else Pe=ye;return"XMLHTTP REQ ("+U+") [attempt "+ae+"]: "+w+`
`+R+`
`+Pe})}function Be(d,w,R,U,ae,ye,Pe){d.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+ae+"]: "+w+`
`+R+`
`+ye+" "+Pe})}function Ge(d,w,R,U){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+nt(d,R)+(U?" "+U:"")})}function Qe(d,w){d.info(function(){return"TIMEOUT: "+w})}Ve.prototype.info=function(){};function nt(d,w){if(!d.g)return w;if(!w)return null;try{var R=JSON.parse(w);if(R){for(d=0;d<R.length;d++)if(Array.isArray(R[d])){var U=R[d];if(!(2>U.length)){var ae=U[1];if(Array.isArray(ae)&&!(1>ae.length)){var ye=ae[0];if(ye!="noop"&&ye!="stop"&&ye!="close")for(var Pe=1;Pe<ae.length;Pe++)ae[Pe]=""}}}}return kr(R)}catch{return w}}var $e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},st={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rt;function Jt(){}M(Jt,Ha),Jt.prototype.g=function(){return new XMLHttpRequest},Jt.prototype.i=function(){return{}},Rt=new Jt;function Qt(d,w,R,U){this.j=d,this.i=w,this.l=R,this.R=U||1,this.U=new ji(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lt}function Lt(){this.i=null,this.g="",this.h=!1}var wt={},Hi={};function Qn(d,w,R){d.L=1,d.v=fa(ri(w)),d.m=R,d.P=!0,Vr(d,null)}function Vr(d,w){d.F=Date.now(),xr(d),d.A=ri(d.v);var R=d.A,U=d.R;Array.isArray(U)||(U=[String(U)]),Dl(R.i,"t",U),d.C=0,R=d.j.J,d.h=new Lt,d.g=Qf(d.j,R?w:null,!d.m),0<d.O&&(d.M=new Jr(A(d.Y,d,d.g),d.O)),w=d.U,R=d.g,U=d.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(Bi[0]=ae.toString()),ae=Bi);for(var ye=0;ye<ae.length;ye++){var Pe=cs(R,ae[ye],U||w.handleEvent,!1,w.h||w);if(!Pe)break;w.g[Pe.key]=Pe}w=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,w)):(d.u="GET",d.g.ea(d.A,d.u,null,w)),X(),et(d.i,d.u,d.A,d.l,d.R,d.m)}Qt.prototype.ca=function(d){d=d.target;const w=this.M;w&&lr(d)==3?w.j():this.Y(d)},Qt.prototype.Y=function(d){try{if(d==this.g)e:{const zn=lr(this.g);var w=this.g.Ba();const xi=this.g.Z();if(!(3>zn)&&(zn!=3||this.g&&(this.h.h||this.g.oa()||Zu(this.g)))){this.J||zn!=4||w==7||(w==8||0>=xi?X(3):X(2)),Cr(this);var R=this.g.Z();this.X=R;t:if(Gn(this)){var U=Zu(this.g);d="";var ae=U.length,ye=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ft(this),jr(this);var Pe="";break t}this.h.i=new m.TextDecoder}for(w=0;w<ae;w++)this.h.h=!0,d+=this.h.i.decode(U[w],{stream:!(ye&&w==ae-1)});U.length=0,this.h.g+=d,this.C=0,Pe=this.h.g}else Pe=this.g.oa();if(this.o=R==200,Be(this.i,this.u,this.A,this.l,this.R,zn,R),this.o){if(this.T&&!this.K){t:{if(this.g){var Ot,Xn=this.g;if((Ot=Xn.g?Xn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(Ot)){var Ut=Ot;break t}}Ut=null}if(R=Ut)Ge(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fn(this,R);else{this.o=!1,this.s=3,ue(12),ft(this),jr(this);break e}}if(this.P){R=!0;let cr;for(;!this.J&&this.C<Pe.length;)if(cr=ks(this,Pe),cr==Hi){zn==4&&(this.s=4,ue(14),R=!1),Ge(this.i,this.l,null,"[Incomplete Response]");break}else if(cr==wt){this.s=4,ue(15),Ge(this.i,this.l,Pe,"[Invalid Chunk]"),R=!1;break}else Ge(this.i,this.l,cr,null),Fn(this,cr);if(Gn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zn!=4||Pe.length!=0||this.h.h||(this.s=1,ue(16),R=!1),this.o=this.o&&R,!R)Ge(this.i,this.l,Pe,"[Invalid Chunked Response]"),ft(this),jr(this);else if(0<Pe.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+Pe.length),ai(rn),rn.M=!0,ue(11))}}else Ge(this.i,this.l,Pe,null),Fn(this,Pe);zn==4&&ft(this),this.o&&!this.J&&(zn==4?gn(this.j,this):(this.o=!1,xr(this)))}else Ju(this.g),R==400&&0<Pe.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),ft(this),jr(this)}}}catch{}finally{}};function Gn(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function ks(d,w){var R=d.C,U=w.indexOf(`
`,R);return U==-1?Hi:(R=Number(w.substring(R,U)),isNaN(R)?wt:(U+=1,U+R>w.length?Hi:(w=w.slice(U,U+R),d.C=U+R,w)))}Qt.prototype.cancel=function(){this.J=!0,ft(this)};function xr(d){d.S=Date.now()+d.I,Ga(d,d.I)}function Ga(d,w){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Oe(A(d.ba,d),w)}function Cr(d){d.B&&(m.clearTimeout(d.B),d.B=null)}Qt.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Qe(this.i,this.A),this.L!=2&&(X(),ue(17)),ft(this),this.s=2,jr(this)):Ga(this,this.S-d)};function jr(d){d.j.G==0||d.J||gn(d.j,d)}function ft(d){Cr(d);var w=d.M;w&&typeof w.ma=="function"&&w.ma(),d.M=null,Fi(d.U),d.g&&(w=d.g,d.g=null,w.abort(),w.ma())}function Fn(d,w){try{var R=d.j;if(R.G!=0&&(R.g==d||qi(R.h,d))){if(!d.K&&qi(R.h,d)&&R.G==3){try{var U=R.Da.g.parse(w)}catch{U=null}if(Array.isArray(U)&&U.length==3){var ae=U;if(ae[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<d.F)Ya(R),Bo(R);else break e;Ll(R),ue(18)}}else R.za=ae[1],0<R.za-R.T&&37500>ae[2]&&R.F&&R.v==0&&!R.C&&(R.C=Oe(A(R.Za,R),6e3));if(1>=pn(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else ms(R,11)}else if((d.K||R.g==d)&&Ya(R),!ee(w))for(ae=R.Da.g.parse(w),w=0;w<ae.length;w++){let Ut=ae[w];if(R.T=Ut[0],Ut=Ut[1],R.G==2)if(Ut[0]=="c"){R.K=Ut[1],R.ia=Ut[2];const rn=Ut[3];rn!=null&&(R.la=rn,R.j.info("VER="+R.la));const zn=Ut[4];zn!=null&&(R.Aa=zn,R.j.info("SVER="+R.Aa));const xi=Ut[5];xi!=null&&typeof xi=="number"&&0<xi&&(U=1.5*xi,R.L=U,R.j.info("backChannelRequestTimeoutMs_="+U)),U=R;const cr=d.g;if(cr){const ps=cr.g?cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ps){var ye=U.h;ye.g||ps.indexOf("spdy")==-1&&ps.indexOf("quic")==-1&&ps.indexOf("h2")==-1||(ye.j=ye.l,ye.g=new Set,ye.h&&(Vs(ye,ye.h),ye.h=null))}if(U.D){const tc=cr.g?cr.g.getResponseHeader("X-HTTP-Session-Id"):null;tc&&(U.ya=tc,on(U.I,U.D,tc))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-d.F,R.j.info("Handshake RTT: "+R.R+"ms")),U=R;var Pe=d;if(U.qa=kl(U,U.J?U.ia:null,U.W),Pe.K){ar(U.h,Pe);var Ot=Pe,Xn=U.L;Xn&&(Ot.I=Xn),Ot.B&&(Cr(Ot),xr(Ot)),U.g=Pe}else Yf(U);0<R.i.length&&Fo(R)}else Ut[0]!="stop"&&Ut[0]!="close"||ms(R,7);else R.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?ms(R,7):Pl(R):Ut[0]!="noop"&&R.l&&R.l.ta(Ut),R.v=0)}}X(4)}catch{}}var ti=class{constructor(d,w){this.g=d,this.map=w}};function ni(d){this.l=d||10,m.PerformanceNavigationTiming?(d=m.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Us(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function pn(d){return d.h?1:d.g?d.g.size:0}function qi(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function Vs(d,w){d.g?d.g.add(w):d.h=w}function ar(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}ni.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function xl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const R of d.g.values())w=w.concat(R.D);return w}return H(d.i)}function Ku(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(g(d)){for(var w=[],R=d.length,U=0;U<R;U++)w.push(d[U]);return w}w=[],R=0;for(U in d)w[R++]=d[U];return w}function Cl(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(g(d)||typeof d=="string"){var w=[];d=d.length;for(var R=0;R<d;R++)w.push(R);return w}w=[],R=0;for(const U in d)w[R++]=U;return w}}}function Il(d,w){if(d.forEach&&typeof d.forEach=="function")d.forEach(w,void 0);else if(g(d)||typeof d=="string")Array.prototype.forEach.call(d,w,void 0);else for(var R=Cl(d),U=Ku(d),ae=U.length,ye=0;ye<ae;ye++)w.call(void 0,U[ye],R&&R[ye],d)}var js=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zf(d,w){if(d){d=d.split("&");for(var R=0;R<d.length;R++){var U=d[R].indexOf("="),ae=null;if(0<=U){var ye=d[R].substring(0,U);ae=d[R].substring(U+1)}else ye=d[R];w(ye,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function $n(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof $n){this.h=d.h,$a(this,d.j),this.o=d.o,this.g=d.g,Bs(this,d.s),this.l=d.l;var w=d.i,R=new Fs;R.i=w.i,w.g&&(R.g=new Map(w.g),R.h=w.h),ca(this,R),this.m=d.m}else d&&(w=String(d).match(js))?(this.h=!1,$a(this,w[1]||"",!0),this.o=ii(w[2]||""),this.g=ii(w[3]||"",!0),Bs(this,w[4]),this.l=ii(w[5]||"",!0),ca(this,w[6]||"",!0),this.m=ii(w[7]||"")):(this.h=!1,this.i=new Fs(null,this.h))}$n.prototype.toString=function(){var d=[],w=this.j;w&&d.push(Gi(w,Nl,!0),":");var R=this.g;return(R||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Gi(w,Nl,!0),"@"),d.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&d.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&d.push("/"),d.push(Gi(R,R.charAt(0)=="/"?Hf:Wu,!0))),(R=this.i.toString())&&d.push("?",R),(R=this.m)&&d.push("#",Gi(R,Po)),d.join("")};function ri(d){return new $n(d)}function $a(d,w,R){d.j=R?ii(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function Bs(d,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);d.s=w}else d.s=null}function ca(d,w,R){w instanceof Fs?(d.i=w,Gf(d.i,d.h)):(R||(w=Gi(w,qf)),d.i=new Fs(w,d.h))}function on(d,w,R){d.i.set(w,R)}function fa(d){return on(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function ii(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Gi(d,w,R){return typeof d=="string"?(d=encodeURI(d).replace(w,Yu),R&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Yu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Nl=/[#\/\?@]/g,Wu=/[#\?:]/g,Hf=/[#\?]/g,qf=/[#\?@]/g,Po=/#/g;function Fs(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function $i(d){d.g||(d.g=new Map,d.h=0,d.i&&zf(d.i,function(w,R){d.add(decodeURIComponent(w.replace(/\+/g," ")),R)}))}n=Fs.prototype,n.add=function(d,w){$i(this),this.i=null,d=zs(this,d);var R=this.g.get(d);return R||this.g.set(d,R=[]),R.push(w),this.h+=1,this};function ha(d,w){$i(d),w=zs(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function da(d,w){return $i(d),w=zs(d,w),d.g.has(w)}n.forEach=function(d,w){$i(this),this.g.forEach(function(R,U){R.forEach(function(ae){d.call(w,ae,U,this)},this)},this)},n.na=function(){$i(this);const d=Array.from(this.g.values()),w=Array.from(this.g.keys()),R=[];for(let U=0;U<w.length;U++){const ae=d[U];for(let ye=0;ye<ae.length;ye++)R.push(w[U])}return R},n.V=function(d){$i(this);let w=[];if(typeof d=="string")da(this,d)&&(w=w.concat(this.g.get(zs(this,d))));else{d=Array.from(this.g.values());for(let R=0;R<d.length;R++)w=w.concat(d[R])}return w},n.set=function(d,w){return $i(this),this.i=null,d=zs(this,d),da(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},n.get=function(d,w){return d?(d=this.V(d),0<d.length?String(d[0]):w):w};function Dl(d,w,R){ha(d,w),0<R.length&&(d.i=null,d.g.set(zs(d,w),H(R)),d.h+=R.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(var R=0;R<w.length;R++){var U=w[R];const ye=encodeURIComponent(String(U)),Pe=this.V(U);for(U=0;U<Pe.length;U++){var ae=ye;Pe[U]!==""&&(ae+="="+encodeURIComponent(String(Pe[U]))),d.push(ae)}}return this.i=d.join("&")};function zs(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function Gf(d,w){w&&!d.j&&($i(d),d.i=null,d.g.forEach(function(R,U){var ae=U.toLowerCase();U!=ae&&(ha(this,U),Dl(this,ae,R))},d)),d.j=w}function Lo(d,w){const R=new Ve;if(m.Image){const U=new Image;U.onload=D(si,R,"TestLoadImage: loaded",!0,w,U),U.onerror=D(si,R,"TestLoadImage: error",!1,w,U),U.onabort=D(si,R,"TestLoadImage: abort",!1,w,U),U.ontimeout=D(si,R,"TestLoadImage: timeout",!1,w,U),m.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=d}else w(!1)}function ds(d,w){const R=new Ve,U=new AbortController,ae=setTimeout(()=>{U.abort(),si(R,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:U.signal}).then(ye=>{clearTimeout(ae),ye.ok?si(R,"TestPingServer: ok",!0,w):si(R,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(ae),si(R,"TestPingServer: error",!1,w)})}function si(d,w,R,U,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),U(R)}catch{}}function ko(){this.g=new ei}function Hs(d,w,R){const U=R||"";try{Il(d,function(ae,ye){let Pe=ae;v(ae)&&(Pe=kr(ae)),w.push(U+ye+"="+encodeURIComponent(Pe))})}catch(ae){throw w.push(U+"type="+encodeURIComponent("_badmap")),ae}}function Ka(d){this.l=d.Ub||null,this.j=d.eb||!1}M(Ka,Ha),Ka.prototype.g=function(){return new ma(this.l,this.j)},Ka.prototype.i=function(d){return function(){return d}}({});function ma(d,w){qe.call(this),this.D=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(ma,qe),n=ma.prototype,n.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=w,this.readyState=1,kt(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(w.body=d),(this.D||m).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ft(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,kt(this)),this.g&&(this.readyState=3,kt(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qu(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qu(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?Ft(this):kt(this),this.readyState==3&&Qu(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Ft(this))},n.Qa=function(d){this.g&&(this.response=d,Ft(this))},n.ga=function(){this.g&&Ft(this)};function Ft(d){d.readyState=4,d.l=null,d.j=null,d.v=null,kt(d)}n.setRequestHeader=function(d,w){this.u.append(d,w)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var R=w.next();!R.done;)R=R.value,d.push(R[0]+": "+R[1]),R=w.next();return d.join(`\r
`)};function kt(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Xu(d){let w="";return F(d,function(R,U){w+=U,w+=":",w+=R,w+=`\r
`}),w}function or(d,w,R){e:{for(U in R){var U=!1;break e}U=!0}U||(R=Xu(R),typeof d=="string"?R!=null&&encodeURIComponent(String(R)):on(d,w,R))}function nn(d){qe.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(nn,qe);var Ol=/^https?$/i,Uo=["POST","PUT"];n=nn.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,w,R,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rt.g(),this.v=this.o?la(this.o):la(Rt),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(ye){$f(this,ye);return}if(d=R||"",R=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var ae in U)R.set(ae,U[ae]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ye of U.keys())R.set(ye,U.get(ye));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(R.keys()).find(ye=>ye.toLowerCase()=="content-type"),ae=m.FormData&&d instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Uo,w,void 0))||U||ae||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ye,Pe]of R)this.g.setRequestHeader(ye,Pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pa(this),this.u=!0,this.g.send(d),this.u=!1}catch(ye){$f(this,ye)}};function $f(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.m=5,Vo(d),Tn(d)}function Vo(d){d.A||(d.A=!0,it(d,"complete"),it(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,it(this,"complete"),it(this,"abort"),Tn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tn(this,!0)),nn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ml(this):this.bb())},n.bb=function(){Ml(this)};function Ml(d){if(d.h&&typeof h<"u"&&(!d.v[1]||lr(d)!=4||d.Z()!=2)){if(d.u&&lr(d)==4)Pn(d.Ea,0,d);else if(it(d,"readystatechange"),lr(d)==4){d.h=!1;try{const Pe=d.Z();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var R;if(!(R=w)){var U;if(U=Pe===0){var ae=String(d.D).match(js)[1]||null;!ae&&m.self&&m.self.location&&(ae=m.self.location.protocol.slice(0,-1)),U=!Ol.test(ae?ae.toLowerCase():"")}R=U}if(R)it(d,"complete"),it(d,"success");else{d.m=6;try{var ye=2<lr(d)?d.g.statusText:""}catch{ye=""}d.l=ye+" ["+d.Z()+"]",Vo(d)}}finally{Tn(d)}}}}function Tn(d,w){if(d.g){pa(d);const R=d.g,U=d.v[0]?()=>{}:null;d.g=null,d.v=null,w||it(d,"ready");try{R.onreadystatechange=U}catch{}}}function pa(d){d.I&&(m.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function lr(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),hs(w)}};function Zu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Ju(d){const w={};d=(d.g&&2<=lr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<d.length;U++){if(ee(d[U]))continue;var R=G(d[U]);const ae=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ye=w[ae]||[];w[ae]=ye,ye.push(R)}N(w,function(U){return U.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ur(d,w,R){return R&&R.internalChannelParams&&R.internalChannelParams[d]||w}function jo(d){this.Aa=0,this.i=[],this.j=new Ve,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ur("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ur("baseRetryDelayMs",5e3,d),this.cb=ur("retryDelaySeedMs",1e4,d),this.Wa=ur("forwardChannelMaxRetries",2,d),this.wa=ur("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ni(d&&d.concurrentRequestLimit),this.Da=new ko,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=jo.prototype,n.la=8,n.G=1,n.connect=function(d,w,R,U){ue(0),this.W=d,this.H=w||{},R&&U!==void 0&&(this.H.OSID=R,this.H.OAID=U),this.F=this.X,this.I=kl(this,null,this.W),Fo(this)};function Pl(d){if(ec(d),d.G==3){var w=d.U++,R=ri(d.I);if(on(R,"SID",d.K),on(R,"RID",w),on(R,"TYPE","terminate"),zo(d,R),w=new Qt(d,d.j,w),w.L=2,w.v=fa(ri(R)),R=!1,m.navigator&&m.navigator.sendBeacon)try{R=m.navigator.sendBeacon(w.v.toString(),"")}catch{}!R&&m.Image&&(new Image().src=w.v,R=!0),R||(w.g=Qf(w.j,null),w.g.ea(w.v)),w.F=Date.now(),xr(w)}Wf(d)}function Bo(d){d.g&&(ai(d),d.g.cancel(),d.g=null)}function ec(d){Bo(d),d.u&&(m.clearTimeout(d.u),d.u=null),Ya(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&m.clearTimeout(d.s),d.s=null)}function Fo(d){if(!Us(d.h)&&!d.s){d.s=!0;var w=d.Ga;me||$(),_e||(me(),_e=!0),Me.add(w,d),d.B=0}}function Kf(d,w){return pn(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=w.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Oe(A(d.Ga,d,w),Ki(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const ae=new Qt(this,this.j,d);let ye=this.o;if(this.S&&(ye?(ye=I(ye),z(ye,this.S)):ye=this.S),this.m!==null||this.O||(ae.H=ye,ye=null),this.P)e:{for(var w=0,R=0;R<this.i.length;R++){t:{var U=this.i[R];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(w+=U,4096<w){w=R;break e}if(w===4096||R===this.i.length-1){w=R+1;break e}}w=1e3}else w=1e3;w=Br(this,ae,w),R=ri(this.I),on(R,"RID",d),on(R,"CVER",22),this.D&&on(R,"X-HTTP-Session-Id",this.D),zo(this,R),ye&&(this.O?w="headers="+encodeURIComponent(String(Xu(ye)))+"&"+w:this.m&&or(R,this.m,ye)),Vs(this.h,ae),this.Ua&&on(R,"TYPE","init"),this.P?(on(R,"$req",w),on(R,"SID","null"),ae.T=!0,Qn(ae,R,null)):Qn(ae,R,w),this.G=2}}else this.G==3&&(d?Tr(this,d):this.i.length==0||Us(this.h)||Tr(this))};function Tr(d,w){var R;w?R=w.l:R=d.U++;const U=ri(d.I);on(U,"SID",d.K),on(U,"RID",R),on(U,"AID",d.T),zo(d,U),d.m&&d.o&&or(U,d.m,d.o),R=new Qt(d,d.j,R,d.B+1),d.m===null&&(R.H=d.o),w&&(d.i=w.D.concat(d.i)),w=Br(d,R,1e3),R.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Vs(d.h,R),Qn(R,U,w)}function zo(d,w){d.H&&F(d.H,function(R,U){on(w,U,R)}),d.l&&Il({},function(R,U){on(w,U,R)})}function Br(d,w,R){R=Math.min(d.i.length,R);var U=d.l?A(d.l.Na,d.l,d):null;e:{var ae=d.i;let ye=-1;for(;;){const Pe=["count="+R];ye==-1?0<R?(ye=ae[0].g,Pe.push("ofs="+ye)):ye=0:Pe.push("ofs="+ye);let Ot=!0;for(let Xn=0;Xn<R;Xn++){let Ut=ae[Xn].g;const rn=ae[Xn].map;if(Ut-=ye,0>Ut)ye=Math.max(0,ae[Xn].g-100),Ot=!1;else try{Hs(rn,Pe,"req"+Ut+"_")}catch{U&&U(rn)}}if(Ot){U=Pe.join("&");break e}}}return d=d.i.splice(0,R),w.D=d,U}function Yf(d){if(!d.g&&!d.u){d.Y=1;var w=d.Fa;me||$(),_e||(me(),_e=!0),Me.add(w,d),d.v=0}}function Ll(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Oe(A(d.Fa,d),Ki(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Ho(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Oe(A(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),Bo(this),Ho(this))};function ai(d){d.A!=null&&(m.clearTimeout(d.A),d.A=null)}function Ho(d){d.g=new Qt(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var w=ri(d.qa);on(w,"RID","rpc"),on(w,"SID",d.K),on(w,"AID",d.T),on(w,"CI",d.F?"0":"1"),!d.F&&d.ja&&on(w,"TO",d.ja),on(w,"TYPE","xmlhttp"),zo(d,w),d.m&&d.o&&or(w,d.m,d.o),d.L&&(d.g.I=d.L);var R=d.g;d=d.ia,R.L=1,R.v=fa(ri(w)),R.m=null,R.P=!0,Vr(R,d)}n.Za=function(){this.C!=null&&(this.C=null,Bo(this),Ll(this),ue(19))};function Ya(d){d.C!=null&&(m.clearTimeout(d.C),d.C=null)}function gn(d,w){var R=null;if(d.g==w){Ya(d),ai(d),d.g=null;var U=2}else if(qi(d.h,w))R=w.D,ar(d.h,w),U=1;else return;if(d.G!=0){if(w.o)if(U==1){R=w.m?w.m.length:0,w=Date.now()-w.F;var ae=d.B;U=Ls(),it(U,new Se(U,R)),Fo(d)}else Yf(d);else if(ae=w.s,ae==3||ae==0&&0<w.X||!(U==1&&Kf(d,w)||U==2&&Ll(d)))switch(R&&0<R.length&&(w=d.h,w.i=w.i.concat(R)),ae){case 1:ms(d,5);break;case 4:ms(d,10);break;case 3:ms(d,6);break;default:ms(d,2)}}}function Ki(d,w){let R=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(R*=2),R*w}function ms(d,w){if(d.j.info("Error code "+w),w==2){var R=A(d.fb,d),U=d.Xa;const ae=!U;U=new $n(U||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||$a(U,"https"),fa(U),ae?Lo(U.toString(),R):ds(U.toString(),R)}else ue(2);d.G=0,d.l&&d.l.sa(w),Wf(d),ec(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function Wf(d){if(d.G=0,d.ka=[],d.l){const w=xl(d.h);(w.length!=0||d.i.length!=0)&&(k(d.ka,w),k(d.ka,d.i),d.h.i.length=0,H(d.i),d.i.length=0),d.l.ra()}}function kl(d,w,R){var U=R instanceof $n?ri(R):new $n(R);if(U.g!="")w&&(U.g=w+"."+U.g),Bs(U,U.s);else{var ae=m.location;U=ae.protocol,w=w?w+"."+ae.hostname:ae.hostname,ae=+ae.port;var ye=new $n(null);U&&$a(ye,U),w&&(ye.g=w),ae&&Bs(ye,ae),R&&(ye.l=R),U=ye}return R=d.D,w=d.ya,R&&w&&on(U,R,w),on(U,"VER",d.la),zo(d,U),U}function Qf(d,w,R){if(w&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Ca&&!d.pa?new nn(new Ka({eb:R})):new nn(d.pa),w.Ha(d.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xf(){}n=Xf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ul(){}Ul.prototype.g=function(d,w){return new Ir(d,w)};function Ir(d,w){qe.call(this),this.g=new jo(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(d?d["X-WebChannel-Client-Profile"]=w.va:d={"X-WebChannel-Client-Profile":w.va}),this.g.S=d,(d=w&&w.Sb)&&!ee(d)&&(this.g.m=d),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!ee(w)&&(this.g.D=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new qs(this)}M(Ir,qe),Ir.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ir.prototype.close=function(){Pl(this.g)},Ir.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var R={};R.__data__=d,d=R}else this.u&&(R={},R.__data__=kr(d),d=R);w.i.push(new ti(w.Ya++,d)),w.G==3&&Fo(w)},Ir.prototype.N=function(){this.g.l=null,delete this.j,Pl(this.g),delete this.g,Ir.aa.N.call(this)};function qo(d){zi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const R in w){d=R;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}M(qo,zi);function ga(){qa.call(this),this.status=1}M(ga,qa);function qs(d){this.g=d}M(qs,Xf),qs.prototype.ua=function(){it(this.g,"a")},qs.prototype.ta=function(d){it(this.g,new qo(d))},qs.prototype.sa=function(d){it(this.g,new ga)},qs.prototype.ra=function(){it(this.g,"b")},Ul.prototype.createWebChannel=Ul.prototype.g,Ir.prototype.send=Ir.prototype.o,Ir.prototype.open=Ir.prototype.m,Ir.prototype.close=Ir.prototype.close,OR=function(){return new Ul},DR=function(){return Ls()},NR=Ur,mT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$e.NO_ERROR=0,$e.TIMEOUT=8,$e.HTTP_ERROR=6,jv=$e,st.COMPLETE="complete",IR=st,Mo.EventType=Ri,Ri.OPEN="a",Ri.CLOSE="b",Ri.ERROR="c",Ri.MESSAGE="d",qe.prototype.listen=qe.prototype.K,Sp=Mo,nn.prototype.listenOnce=nn.prototype.L,nn.prototype.getLastError=nn.prototype.Ka,nn.prototype.getLastErrorCode=nn.prototype.Ba,nn.prototype.getStatus=nn.prototype.Z,nn.prototype.getResponseJson=nn.prototype.Oa,nn.prototype.getResponseText=nn.prototype.oa,nn.prototype.send=nn.prototype.ea,nn.prototype.setWithCredentials=nn.prototype.Ha,CR=nn}).apply(typeof wv<"u"?wv:typeof self<"u"?self:typeof window<"u"?window:{});const vS="@firebase/firestore",_S="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ti.UNAUTHENTICATED=new Ti(null),Ti.GOOGLE_CREDENTIALS=new Ti("google-credentials-uid"),Ti.FIRST_PARTY=new Ti("first-party-uid"),Ti.MOCK_USER=new Ti("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new iw("@firebase/firestore");function md(){return Df.logLevel}function ze(n,...e){if(Df.logLevel<=Ht.DEBUG){const t=e.map(vw);Df.debug(`Firestore (${zd}): ${n}`,...t)}}function wl(n,...e){if(Df.logLevel<=Ht.ERROR){const t=e.map(vw);Df.error(`Firestore (${zd}): ${n}`,...t)}}function Cd(n,...e){if(Df.logLevel<=Ht.WARN){const t=e.map(vw);Df.warn(`Firestore (${zd}): ${n}`,...t)}}function vw(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,MR(n,i,t)}function MR(n,e,t){let i=`FIRESTORE (${zd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw wl(i),new Error(i)}function dn(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||MR(e,a,i)}function yt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends Al{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ti.UNAUTHENTICATED))}shutdown(){}}class RM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class xM{constructor(e){this.t=e,this.currentUser=Ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){dn(this.o===void 0,42304);let i=this.i;const a=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let u=new Du;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Du,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Du)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dn(typeof i.accessToken=="string",31837,{l:i}),new PR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dn(e===null||typeof e=="string",2055,{h:e}),new Ti(e)}}class CM{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Ti.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IM{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new CM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ES{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pa(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){dn(this.o===void 0,3512);const i=u=>{u.error!=null&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ze("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>i(u))};const a=u=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?a(u):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ES(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(dn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ES(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=DM(40);for(let u=0;u<a.length;++u)i.length<20&&a[u]<t&&(i+=e.charAt(a[u]%62))}return i}}function It(n,e){return n<e?-1:n>e?1:0}function pT(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return It(i,a);{const u=LR(),h=OM(u.encode(TS(n,t)),u.encode(TS(e,t)));return h!==0?h:It(i,a)}}t+=i>65535?2:1}return It(n.length,e.length)}function TS(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function OM(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return It(n[t],e[t]);return It(n.length,e.length)}function Id(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=-62135596800,bS=1e6;class br{static now(){return br.fromMillis(Date.now())}static fromDate(e){return br.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*bS);return new br(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ke(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ke(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<wS)throw new Ke(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bS}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-wS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static fromTimestamp(e){return new gt(e)}static min(){return new gt(new br(0,0))}static max(){return new gt(new br(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="__name__";class bo{constructor(e,t,i){t===void 0?t=0:t>e.length&&dt(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&dt(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return bo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bo?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const u=bo.compareSegments(e.get(a),t.get(a));if(u!==0)return u}return It(e.length,t.length)}static compareSegments(e,t){const i=bo.isNumericId(e),a=bo.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?bo.extractNumericId(e).compare(bo.extractNumericId(t)):pT(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nu.fromString(e.substring(4,e.length-2))}}class On extends bo{construct(e,t,i){return new On(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ke(Ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new On(t)}static emptyPath(){return new On([])}}const MM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wr extends bo{construct(e,t,i){return new Wr(e,t,i)}static isValidIdentifier(e){return MM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===SS}static keyField(){return new Wr([SS])}static fromServerFormat(e){const t=[];let i="",a=0;const u=()=>{if(i.length===0)throw new Ke(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new Ke(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ke(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(i+=m,a++):(u(),a++)}if(u(),h)throw new Ke(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wr(t)}static emptyPath(){return new Wr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.path=e}static fromPath(e){return new tt(On.fromString(e))}static fromName(e){return new tt(On.fromString(e).popFirst(5))}static empty(){return new tt(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&On.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return On.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new On(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=-1;function PM(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=gt.fromTimestamp(i===1e9?new br(t+1,0):new br(t,i));return new Pu(a,tt.empty(),e)}function LM(n){return new Pu(n.readTime,n.key,Hp)}class Pu{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Pu(gt.min(),tt.empty(),Hp)}static max(){return new Pu(gt.max(),tt.empty(),Hp)}}function kM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=tt.comparator(n.documentKey,e.documentKey),t!==0?t:It(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(n){if(n.code!==Ie.FAILED_PRECONDITION||n.message!==UM)throw n;ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ce((i,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ce?t:Ce.resolve(t)}catch(t){return Ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.reject(t)}static resolve(e){return new Ce((t,i)=>{t(e)})}static reject(e){return new Ce((t,i)=>{i(e)})}static waitFor(e){return new Ce((t,i)=>{let a=0,u=0,h=!1;e.forEach(m=>{++a,m.next(()=>{++u,h&&u===a&&t()},g=>i(g))}),h=!0,u===a&&t()})}static or(e){let t=Ce.resolve(!1);for(const i of e)t=t.next(a=>a?Ce.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,u)=>{i.push(t.call(this,a,u))}),this.waitFor(i)}static mapArray(e,t){return new Ce((i,a)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const v=g;t(e[v]).next(E=>{h[v]=E,++m,m===u&&i(h)},E=>a(E))}})}static doWhile(e,t){return new Ce((i,a)=>{const u=()=>{e()===!0?t().next(()=>{u()},a):i()};u()})}}function jM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function qd(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}U_.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=-1;function V_(n){return n==null}function o_(n){return n===0&&1/n==-1/0}function BM(n){return typeof n=="number"&&Number.isInteger(n)&&!o_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="";function FM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=AS(e)),e=zM(n.get(t),e);return AS(e)}function zM(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const u=n.charAt(a);switch(u){case"\0":t+="";break;case UR:t+="";break;default:t+=u}}return t}function AS(n){return n+UR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function VR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,t){this.comparator=e,this.root=t||Yr.EMPTY}insert(e,t){return new Hn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yr.BLACK,null,null))}remove(e){return new Hn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bv(this.root,e,this.comparator,!1)}getReverseIterator(){return new bv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bv(this.root,e,this.comparator,!0)}}class bv{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yr{constructor(e,t,i,a,u){this.key=e,this.value=t,this.color=i??Yr.RED,this.left=a??Yr.EMPTY,this.right=u??Yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,u){return new Yr(e??this.key,t??this.value,i??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const u=i(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,i),null):u===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Yr.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}Yr.EMPTY=null,Yr.RED=!0,Yr.BLACK=!1;Yr.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,t,i,a,u){return this}insert(e,t,i){return new Yr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.comparator=e,this.data=new Hn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xS(this.data.getIterator())}getIteratorFrom(e){return new xS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Sr)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=i.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Sr(this.comparator);return t.data=e,t}}class xS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.fields=e,e.sort(Wr.comparator)}static empty(){return new Ns([])}unionWith(e){let t=new Sr(Wr.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ns(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Id(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new jR("Invalid base64 string: "+u):u}}(e);return new Qr(t)}static fromUint8Array(e){const t=function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u}(e);return new Qr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qr.EMPTY_BYTE_STRING=new Qr("");const HM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lu(n){if(dn(!!n,39018),typeof n=="string"){let e=0;const t=HM.exec(n);if(dn(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:sr(n.seconds),nanos:sr(n.nanos)}}function sr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ku(n){return typeof n=="string"?Qr.fromBase64String(n):Qr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="server_timestamp",FR="__type__",zR="__previous_value__",HR="__local_write_time__";function Ew(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[FR])===null||t===void 0?void 0:t.stringValue)===BR}function j_(n){const e=n.mapValue.fields[zR];return Ew(e)?j_(e):e}function qp(n){const e=Lu(n.mapValue.fields[HR].timestampValue);return new br(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,t,i,a,u,h,m,g,v,E){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=E}}const l_="(default)";class Gp{constructor(e,t){this.projectId=e,this.database=t||l_}static empty(){return new Gp("","")}get isDefaultDatabase(){return this.database===l_}isEqual(e){return e instanceof Gp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="__type__",GM="__max__",Sv={mapValue:{}},GR="__vector__",u_="value";function Uu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ew(n)?4:KM(n)?9007199254740991:$M(n)?10:11:dt(28295,{value:n})}function Do(n,e){if(n===e)return!0;const t=Uu(n);if(t!==Uu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qp(n).isEqual(qp(e));case 3:return function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const h=Lu(a.timestampValue),m=Lu(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,u){return ku(a.bytesValue).isEqual(ku(u.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,u){return sr(a.geoPointValue.latitude)===sr(u.geoPointValue.latitude)&&sr(a.geoPointValue.longitude)===sr(u.geoPointValue.longitude)}(n,e);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return sr(a.integerValue)===sr(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const h=sr(a.doubleValue),m=sr(u.doubleValue);return h===m?o_(h)===o_(m):isNaN(h)&&isNaN(m)}return!1}(n,e);case 9:return Id(n.arrayValue.values||[],e.arrayValue.values||[],Do);case 10:case 11:return function(a,u){const h=a.mapValue.fields||{},m=u.mapValue.fields||{};if(RS(h)!==RS(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Do(h[g],m[g])))return!1;return!0}(n,e);default:return dt(52216,{left:n})}}function $p(n,e){return(n.values||[]).find(t=>Do(t,e))!==void 0}function Nd(n,e){if(n===e)return 0;const t=Uu(n),i=Uu(e);if(t!==i)return It(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return It(n.booleanValue,e.booleanValue);case 2:return function(u,h){const m=sr(u.integerValue||u.doubleValue),g=sr(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(n,e);case 3:return CS(n.timestampValue,e.timestampValue);case 4:return CS(qp(n),qp(e));case 5:return pT(n.stringValue,e.stringValue);case 6:return function(u,h){const m=ku(u),g=ku(h);return m.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),g=h.split("/");for(let v=0;v<m.length&&v<g.length;v++){const E=It(m[v],g[v]);if(E!==0)return E}return It(m.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(u,h){const m=It(sr(u.latitude),sr(h.latitude));return m!==0?m:It(sr(u.longitude),sr(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return IS(n.arrayValue,e.arrayValue);case 10:return function(u,h){var m,g,v,E;const S=u.fields||{},A=h.fields||{},D=(m=S[u_])===null||m===void 0?void 0:m.arrayValue,M=(g=A[u_])===null||g===void 0?void 0:g.arrayValue,H=It(((v=D==null?void 0:D.values)===null||v===void 0?void 0:v.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return H!==0?H:IS(D,M)}(n.mapValue,e.mapValue);case 11:return function(u,h){if(u===Sv.mapValue&&h===Sv.mapValue)return 0;if(u===Sv.mapValue)return 1;if(h===Sv.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),v=h.fields||{},E=Object.keys(v);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const A=pT(g[S],E[S]);if(A!==0)return A;const D=Nd(m[g[S]],v[E[S]]);if(D!==0)return D}return It(g.length,E.length)}(n.mapValue,e.mapValue);default:throw dt(23264,{Pe:t})}}function CS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return It(n,e);const t=Lu(n),i=Lu(e),a=It(t.seconds,i.seconds);return a!==0?a:It(t.nanos,i.nanos)}function IS(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const u=Nd(t[a],i[a]);if(u)return u}return It(t.length,i.length)}function Dd(n){return gT(n)}function gT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Lu(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ku(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return tt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const u of t.values||[])a?a=!1:i+=",",i+=gT(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",u=!0;for(const h of i)u?u=!1:a+=",",a+=`${h}:${gT(t.fields[h])}`;return a+"}"}(n.mapValue):dt(61005,{value:n})}function Bv(n){switch(Uu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=j_(n);return e?16+Bv(e):16;case 5:return 2*n.stringValue.length;case 6:return ku(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,u)=>a+Bv(u),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Hu(i.fields,(u,h)=>{a+=u.length+Bv(h)}),a}(n.mapValue);default:throw dt(13486,{value:n})}}function NS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function yT(n){return!!n&&"integerValue"in n}function Tw(n){return!!n&&"arrayValue"in n}function DS(n){return!!n&&"nullValue"in n}function OS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fv(n){return!!n&&"mapValue"in n}function $M(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[qR])===null||t===void 0?void 0:t.stringValue)===GR}function Lp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Hu(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Lp(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function KM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===GM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.value=e}static empty(){return new os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Fv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lp(t)}setAll(e){let t=Wr.emptyPath(),i={},a=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,i,a),i={},a=[],t=m.popLast()}h?i[m.lastSegment()]=Lp(h):a.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,i,a)}delete(e){const t=this.field(e.popLast());Fv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Do(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Fv(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Hu(t,(a,u)=>e[a]=u);for(const a of i)delete e[a]}clone(){return new os(Lp(this.value))}}function $R(n){const e=[];return Hu(n.fields,(t,i)=>{const a=new Wr([t]);if(Fv(i)){const u=$R(i.mapValue).fields;if(u.length===0)e.push(a);else for(const h of u)e.push(a.child(h))}else e.push(a)}),new Ns(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,t,i,a,u,h,m){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new wi(e,0,gt.min(),gt.min(),gt.min(),os.empty(),0)}static newFoundDocument(e,t,i,a){return new wi(e,1,t,gt.min(),i,a,0)}static newNoDocument(e,t){return new wi(e,2,t,gt.min(),gt.min(),os.empty(),0)}static newUnknownDocument(e,t){return new wi(e,3,t,gt.min(),gt.min(),os.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,t){this.position=e,this.inclusive=t}}function MS(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const u=e[a],h=n.position[a];if(u.field.isKeyField()?i=tt.comparator(tt.fromName(h.referenceValue),t.key):i=Nd(h,t.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function PS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Do(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,t="asc"){this.field=e,this.dir=t}}function YM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{}class gr extends KR{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new QM(e,t,i):t==="array-contains"?new JM(e,i):t==="in"?new eP(e,i):t==="not-in"?new tP(e,i):t==="array-contains-any"?new nP(e,i):new gr(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new XM(e,i):new ZM(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Nd(t,this.value)):t!==null&&Uu(this.value)===Uu(t)&&this.matchesComparison(Nd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Va extends KR{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Va(e,t)}matches(e){return YR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function YR(n){return n.op==="and"}function WR(n){return WM(n)&&YR(n)}function WM(n){for(const e of n.filters)if(e instanceof Va)return!1;return!0}function vT(n){if(n instanceof gr)return n.field.canonicalString()+n.op.toString()+Dd(n.value);if(WR(n))return n.filters.map(e=>vT(e)).join(",");{const e=n.filters.map(t=>vT(t)).join(",");return`${n.op}(${e})`}}function QR(n,e){return n instanceof gr?function(i,a){return a instanceof gr&&i.op===a.op&&i.field.isEqual(a.field)&&Do(i.value,a.value)}(n,e):n instanceof Va?function(i,a){return a instanceof Va&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((u,h,m)=>u&&QR(h,a.filters[m]),!0):!1}(n,e):void dt(19439)}function XR(n){return n instanceof gr?function(t){return`${t.field.canonicalString()} ${t.op} ${Dd(t.value)}`}(n):n instanceof Va?function(t){return t.op.toString()+" {"+t.getFilters().map(XR).join(" ,")+"}"}(n):"Filter"}class QM extends gr{constructor(e,t,i){super(e,t,i),this.key=tt.fromName(i.referenceValue)}matches(e){const t=tt.comparator(e.key,this.key);return this.matchesComparison(t)}}class XM extends gr{constructor(e,t){super(e,"in",t),this.keys=ZR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ZM extends gr{constructor(e,t){super(e,"not-in",t),this.keys=ZR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ZR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>tt.fromName(i.referenceValue))}class JM extends gr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tw(t)&&$p(t.arrayValue,this.value)}}class eP extends gr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&$p(this.value.arrayValue,t)}}class tP extends gr{constructor(e,t){super(e,"not-in",t)}matches(e){if($p(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!$p(this.value.arrayValue,t)}}class nP extends gr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>$p(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,t=null,i=[],a=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=u,this.startAt=h,this.endAt=m,this.Ie=null}}function LS(n,e=null,t=[],i=[],a=null,u=null,h=null){return new rP(n,e,t,i,a,u,h)}function ww(n){const e=yt(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>vT(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(u){return u.field.canonicalString()+u.dir}(i)).join(","),V_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Dd(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Dd(i)).join(",")),e.Ie=t}return e.Ie}function bw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!YM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!QR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!PS(n.startAt,e.startAt)&&PS(n.endAt,e.endAt)}function _T(n){return tt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,t=null,i=[],a=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function iP(n,e,t,i,a,u,h,m){return new og(n,e,t,i,a,u,h,m)}function Sw(n){return new og(n)}function kS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function JR(n){return n.collectionGroup!==null}function kp(n){const e=yt(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),t.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Sr(Wr.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new f_(u,i))}),t.has(Wr.keyField().canonicalString())||e.Ee.push(new f_(Wr.keyField(),i))}return e.Ee}function Ro(n){const e=yt(n);return e.de||(e.de=sP(e,kp(n))),e.de}function sP(n,e){if(n.limitType==="F")return LS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const u=a.dir==="desc"?"asc":"desc";return new f_(a.field,u)});const t=n.endAt?new c_(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new c_(n.startAt.position,n.startAt.inclusive):null;return LS(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function ET(n,e){const t=n.filters.concat([e]);return new og(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function TT(n,e,t){return new og(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function B_(n,e){return bw(Ro(n),Ro(e))&&n.limitType===e.limitType}function ex(n){return`${ww(Ro(n))}|lt:${n.limitType}`}function pd(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>XR(a)).join(", ")}]`),V_(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Dd(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Dd(a)).join(",")),`Target(${i})`}(Ro(n))}; limitType=${n.limitType})`}function F_(n,e){return e.isFoundDocument()&&function(i,a){const u=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):tt.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(n,e)&&function(i,a){for(const u of kp(i))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const u of i.filters)if(!u.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(h,m,g){const v=MS(h,m,g);return h.inclusive?v<=0:v<0}(i.startAt,kp(i),a)||i.endAt&&!function(h,m,g){const v=MS(h,m,g);return h.inclusive?v>=0:v>0}(i.endAt,kp(i),a))}(n,e)}function aP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tx(n){return(e,t)=>{let i=!1;for(const a of kp(n)){const u=oP(a,e,t);if(u!==0)return u;i=i||a.field.isKeyField()}return 0}}function oP(n,e,t){const i=n.field.isKeyField()?tt.comparator(e.key,t.key):function(u,h,m){const g=h.data.field(u),v=m.data.field(u);return g!==null&&v!==null?Nd(g,v):dt(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return dt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,u]of i)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Hu(this.inner,(t,i)=>{for(const[a,u]of i)e(a,u)})}isEmpty(){return VR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=new Hn(tt.comparator);function bl(){return lP}const nx=new Hn(tt.comparator);function Ap(...n){let e=nx;for(const t of n)e=e.insert(t.key,t);return e}function rx(n){let e=nx;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function yf(){return Up()}function ix(){return Up()}function Up(){return new Uf(n=>n.toString(),(n,e)=>n.isEqual(e))}const uP=new Hn(tt.comparator),cP=new Sr(tt.comparator);function qt(...n){let e=cP;for(const t of n)e=e.add(t);return e}const fP=new Sr(It);function hP(){return fP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:o_(e)?"-0":e}}function sx(n){return{integerValue:""+n}}function dP(n,e){return BM(e)?sx(e):Aw(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this._=void 0}}function mP(n,e,t){return n instanceof Kp?function(a,u){const h={fields:{[FR]:{stringValue:BR},[HR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&Ew(u)&&(u=j_(u)),u&&(h.fields[zR]=u),{mapValue:h}}(t,e):n instanceof Yp?ox(n,e):n instanceof Wp?lx(n,e):function(a,u){const h=ax(a,u),m=US(h)+US(a.Re);return yT(h)&&yT(a.Re)?sx(m):Aw(a.serializer,m)}(n,e)}function pP(n,e,t){return n instanceof Yp?ox(n,e):n instanceof Wp?lx(n,e):t}function ax(n,e){return n instanceof h_?function(i){return yT(i)||function(u){return!!u&&"doubleValue"in u}(i)}(e)?e:{integerValue:0}:null}class Kp extends z_{}class Yp extends z_{constructor(e){super(),this.elements=e}}function ox(n,e){const t=ux(e);for(const i of n.elements)t.some(a=>Do(a,i))||t.push(i);return{arrayValue:{values:t}}}class Wp extends z_{constructor(e){super(),this.elements=e}}function lx(n,e){let t=ux(e);for(const i of n.elements)t=t.filter(a=>!Do(a,i));return{arrayValue:{values:t}}}class h_ extends z_{constructor(e,t){super(),this.serializer=e,this.Re=t}}function US(n){return sr(n.integerValue||n.doubleValue)}function ux(n){return Tw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,t){this.field=e,this.transform=t}}function yP(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof Yp&&a instanceof Yp||i instanceof Wp&&a instanceof Wp?Id(i.elements,a.elements,Do):i instanceof h_&&a instanceof h_?Do(i.Re,a.Re):i instanceof Kp&&a instanceof Kp}(n.transform,e.transform)}class vP{constructor(e,t){this.version=e,this.transformResults=t}}class ia{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ia}static exists(e){return new ia(void 0,e)}static updateTime(e){return new ia(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zv(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class H_{}function cx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Rw(n.key,ia.none()):new lg(n.key,n.data,ia.none());{const t=n.data,i=os.empty();let a=new Sr(Wr.comparator);for(let u of e.fields)if(!a.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?i.delete(u):i.set(u,h),a=a.add(u)}return new qu(n.key,i,new Ns(a.toArray()),ia.none())}}function _P(n,e,t){n instanceof lg?function(a,u,h){const m=a.value.clone(),g=jS(a.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(n,e,t):n instanceof qu?function(a,u,h){if(!zv(a.precondition,u))return void u.convertToUnknownDocument(h.version);const m=jS(a.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(fx(a)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(n,e,t):function(a,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Vp(n,e,t,i){return n instanceof lg?function(u,h,m,g){if(!zv(u.precondition,h))return m;const v=u.value.clone(),E=BS(u.fieldTransforms,g,h);return v.setAll(E),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(n,e,t,i):n instanceof qu?function(u,h,m,g){if(!zv(u.precondition,h))return m;const v=BS(u.fieldTransforms,g,h),E=h.data;return E.setAll(fx(u)),E.setAll(v),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(n,e,t,i):function(u,h,m){return zv(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(n,e,t)}function EP(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),u=ax(i.transform,a||null);u!=null&&(t===null&&(t=os.empty()),t.set(i.field,u))}return t||null}function VS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Id(i,a,(u,h)=>yP(u,h))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class lg extends H_{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class qu extends H_{constructor(e,t,i,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function fx(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function jS(n,e,t){const i=new Map;dn(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const u=n[a],h=u.transform,m=e.data.field(u.field);i.set(u.field,pP(h,m,t[a]))}return i}function BS(n,e,t){const i=new Map;for(const a of n){const u=a.transform,h=t.data.field(a.field);i.set(a.field,mP(u,h,e))}return i}class Rw extends H_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TP extends H_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&_P(u,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Vp(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Vp(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=ix();return this.mutations.forEach(a=>{const u=e.get(a.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(a.key)?null:m;const g=cx(h,m);g!==null&&i.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(gt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qt())}isEqual(e){return this.batchId===e.batchId&&Id(this.mutations,e.mutations,(t,i)=>VS(t,i))&&Id(this.baseMutations,e.baseMutations,(t,i)=>VS(t,i))}}class xw{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){dn(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return uP}();const u=e.mutations;for(let h=0;h<u.length;h++)a=a.insert(u[h].key,i[h].version);return new xw(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pr,Xt;function AP(n){switch(n){case Ie.OK:return dt(64938);case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0;default:return dt(15467,{code:n})}}function hx(n){if(n===void 0)return wl("GRPC error has no .code"),Ie.UNKNOWN;switch(n){case pr.OK:return Ie.OK;case pr.CANCELLED:return Ie.CANCELLED;case pr.UNKNOWN:return Ie.UNKNOWN;case pr.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case pr.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case pr.INTERNAL:return Ie.INTERNAL;case pr.UNAVAILABLE:return Ie.UNAVAILABLE;case pr.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case pr.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case pr.NOT_FOUND:return Ie.NOT_FOUND;case pr.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case pr.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case pr.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case pr.ABORTED:return Ie.ABORTED;case pr.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case pr.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case pr.DATA_LOSS:return Ie.DATA_LOSS;default:return dt(39323,{code:n})}}(Xt=pr||(pr={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=new Nu([4294967295,4294967295],0);function FS(n){const e=LR().encode(n),t=new xR;return t.update(e),new Uint8Array(t.digest())}function zS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Nu([t,i],0),new Nu([a,u],0)]}class Cw{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Rp(`Invalid padding: ${t}`);if(i<0)throw new Rp(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Rp(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Rp(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Nu.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(Nu.fromNumber(i)));return a.compare(RP)===1&&(a=new Nu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=FS(e),[i,a]=zS(t);for(let u=0;u<this.hashCount;u++){const h=this.we(i,a,u);if(!this.be(h))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Cw(u,a,t);return i.forEach(m=>h.insert(m)),h}insert(e){if(this.pe===0)return;const t=FS(e),[i,a]=zS(t);for(let u=0;u<this.hashCount;u++){const h=this.we(i,a,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Rp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,t,i,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,ug.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new q_(gt.min(),a,new Hn(It),bl(),qt())}}class ug{constructor(e,t,i,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ug(i,t,qt(),qt(),qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class dx{constructor(e,t){this.targetId=e,this.Ce=t}}class mx{constructor(e,t,i=Qr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class HS{constructor(){this.Fe=0,this.Me=qS(),this.xe=Qr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=qt(),t=qt(),i=qt();return this.Me.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:dt(38017,{changeType:u})}}),new ug(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=qS()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,dn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class xP{constructor(e){this.ze=e,this.je=new Map,this.He=bl(),this.Je=Av(),this.Ye=Av(),this.Ze=new Hn(It)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:dt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const u=a.target;if(_T(u))if(i===0){const h=new tt(u.path);this.tt(t,h,wi.newNoDocument(h,gt.min()))}else dn(i===1,20013,{expectedCount:i});else{const h=this.ut(t);if(h!==i){const m=this.ct(e),g=m?this.lt(m,e,h):1;if(g!==0){this.st(t);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,v)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:u=0}=t;let h,m;try{h=ku(i).toUint8Array()}catch(g){if(g instanceof jR)return Cd("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Cw(h,a,u)}catch(g){return Cd(g instanceof Rp?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.pe===0?null:m}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(u=>{const h=this.ze.Pt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(t,u,null),a++)}),a}It(e){const t=new Map;this.je.forEach((u,h)=>{const m=this._t(h);if(m){if(u.current&&_T(m.target)){const g=new tt(m.target.path);this.Et(g).has(h)||this.dt(h,g)||this.tt(h,g,wi.newNoDocument(g,e))}u.Le&&(t.set(h,u.qe()),u.Qe())}});let i=qt();this.Ye.forEach((u,h)=>{let m=!0;h.forEachWhile(g=>{const v=this._t(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(u))}),this.He.forEach((u,h)=>h.setReadTime(e));const a=new q_(e,t,this.Ze,this.He,i);return this.He=bl(),this.Je=Av(),this.Ye=Av(),this.Ze=new Hn(It),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new HS,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Sr(It),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Sr(It),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ze("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new HS),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Av(){return new Hn(tt.comparator)}function qS(){return new Hn(tt.comparator)}const CP={asc:"ASCENDING",desc:"DESCENDING"},IP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NP={and:"AND",or:"OR"};class DP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wT(n,e){return n.useProto3Json||V_(e)?e:{value:e}}function d_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function px(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function OP(n,e){return d_(n,e.toTimestamp())}function xo(n){return dn(!!n,49232),gt.fromTimestamp(function(t){const i=Lu(t);return new br(i.seconds,i.nanos)}(n))}function Iw(n,e){return bT(n,e).canonicalString()}function bT(n,e){const t=function(a){return new On(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function gx(n){const e=On.fromString(n);return dn(Tx(e),10190,{key:e.toString()}),e}function ST(n,e){return Iw(n.databaseId,e.path)}function OE(n,e){const t=gx(e);if(t.get(1)!==n.databaseId.projectId)throw new Ke(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ke(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tt(vx(t))}function yx(n,e){return Iw(n.databaseId,e)}function MP(n){const e=gx(n);return e.length===4?On.emptyPath():vx(e)}function AT(n){return new On(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vx(n){return dn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function GS(n,e,t){return{name:ST(n,e),fields:t.value.mapValue.fields}}function PP(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:dt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=function(v,E){return v.useProto3Json?(dn(E===void 0||typeof E=="string",58123),Qr.fromBase64String(E||"")):(dn(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qr.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(v){const E=v.code===void 0?Ie.UNKNOWN:hx(v.code);return new Ke(E,v.message||"")}(h);t=new mx(i,a,u,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=OE(n,i.document.name),u=xo(i.document.updateTime),h=i.document.createTime?xo(i.document.createTime):gt.min(),m=new os({mapValue:{fields:i.document.fields}}),g=wi.newFoundDocument(a,u,h,m),v=i.targetIds||[],E=i.removedTargetIds||[];t=new Hv(v,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=OE(n,i.document),u=i.readTime?xo(i.readTime):gt.min(),h=wi.newNoDocument(a,u),m=i.removedTargetIds||[];t=new Hv([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=OE(n,i.document),u=i.removedTargetIds||[];t=new Hv([],u,a,null)}else{if(!("filter"in e))return dt(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:u}=i,h=new SP(a,u),m=i.targetId;t=new dx(m,h)}}return t}function LP(n,e){let t;if(e instanceof lg)t={update:GS(n,e.key,e.value)};else if(e instanceof Rw)t={delete:ST(n,e.key)};else if(e instanceof qu)t={update:GS(n,e.key,e.data),updateMask:qP(e.fieldMask)};else{if(!(e instanceof TP))return dt(16599,{ft:e.type});t={verify:ST(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(u,h){const m=h.transform;if(m instanceof Kp)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Yp)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Wp)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof h_)return{fieldPath:h.field.canonicalString(),increment:m.Re};throw dt(20930,{transform:h.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,u){return u.updateTime!==void 0?{updateTime:OP(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:dt(27497)}(n,e.precondition)),t}function kP(n,e){return n&&n.length>0?(dn(e!==void 0,14353),n.map(t=>function(a,u){let h=a.updateTime?xo(a.updateTime):xo(u);return h.isEqual(gt.min())&&(h=xo(u)),new vP(h,a.transformResults||[])}(t,e))):[]}function UP(n,e){return{documents:[yx(n,e.path)]}}function VP(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=yx(n,a);const u=function(v){if(v.length!==0)return Ex(Va.create(v,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(v){if(v.length!==0)return v.map(E=>function(A){return{field:gd(A.field),direction:FP(A.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=wT(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{gt:t,parent:a}}function jP(n){let e=MP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){dn(i===1,65062);const E=t.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(S){const A=_x(S);return A instanceof Va&&WR(A)?A.getFilters():[A]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(A=>function(M){return new f_(yd(M.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(A))}(t.orderBy));let m=null;t.limit&&(m=function(S){let A;return A=typeof S=="object"?S.value:S,V_(A)?null:A}(t.limit));let g=null;t.startAt&&(g=function(S){const A=!!S.before,D=S.values||[];return new c_(D,A)}(t.startAt));let v=null;return t.endAt&&(v=function(S){const A=!S.before,D=S.values||[];return new c_(D,A)}(t.endAt)),iP(e,a,h,u,m,"F",g,v)}function BP(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _x(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=yd(t.unaryFilter.field);return gr.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=yd(t.unaryFilter.field);return gr.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=yd(t.unaryFilter.field);return gr.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=yd(t.unaryFilter.field);return gr.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}}(n):n.fieldFilter!==void 0?function(t){return gr.create(yd(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Va.create(t.compositeFilter.filters.map(i=>_x(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return dt(1026)}}(t.compositeFilter.op))}(n):dt(30097,{filter:n})}function FP(n){return CP[n]}function zP(n){return IP[n]}function HP(n){return NP[n]}function gd(n){return{fieldPath:n.canonicalString()}}function yd(n){return Wr.fromServerFormat(n.fieldPath)}function Ex(n){return n instanceof gr?function(t){if(t.op==="=="){if(OS(t.value))return{unaryFilter:{field:gd(t.field),op:"IS_NAN"}};if(DS(t.value))return{unaryFilter:{field:gd(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(OS(t.value))return{unaryFilter:{field:gd(t.field),op:"IS_NOT_NAN"}};if(DS(t.value))return{unaryFilter:{field:gd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gd(t.field),op:zP(t.op),value:t.value}}}(n):n instanceof Va?function(t){const i=t.getFilters().map(a=>Ex(a));return i.length===1?i[0]:{compositeFilter:{op:HP(t.op),filters:i}}}(n):dt(54877,{filter:n})}function qP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Tx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t,i,a,u=gt.min(),h=gt.min(),m=Qr.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Ru(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ru(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e){this.wt=e}}function $P(n){const e=jP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?TT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this.Cn=new YP}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ce.resolve()}getCollectionParents(e,t){return Ce.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ce.resolve()}deleteFieldIndex(e,t){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,t){return Ce.resolve()}getDocumentsMatchingTarget(e,t){return Ce.resolve(null)}getIndexType(e,t){return Ce.resolve(0)}getFieldIndexes(e,t){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,t){return Ce.resolve(Pu.min())}getMinOffsetFromCollectionGroup(e,t){return Ce.resolve(Pu.min())}updateCollectionGroup(e,t,i){return Ce.resolve()}updateIndexEntries(e,t){return Ce.resolve()}}class YP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Sr(On.comparator),u=!a.has(i);return this.index[t]=a.add(i),u}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Sr(On.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wx=41943040;class as{static withCacheSize(e){return new as(e,as.DEFAULT_COLLECTION_PERCENTILE,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as.DEFAULT_COLLECTION_PERCENTILE=10,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,as.DEFAULT=new as(wx,as.DEFAULT_COLLECTION_PERCENTILE,as.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),as.DISABLED=new as(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Od(0)}static lr(){return new Od(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="LruGarbageCollector",WP=1048576;function YS([n,e],[t,i]){const a=It(n,t);return a===0?It(e,i):a}class QP{constructor(e){this.Er=e,this.buffer=new Sr(YS),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();YS(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class XP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ze(KS,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){qd(t)?ze(KS,"Ignoring IndexedDB error during garbage collection: ",t):await Hd(t)}await this.mr(3e5)})}}class ZP{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Ce.resolve(U_.le);const i=new QP(t);return this.gr.forEachTarget(e,a=>i.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>i.Rr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve($S)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$S):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,a,u,h,m,g,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),a=this.params.maximumSequenceNumbersToCollect):a=S,h=Date.now(),this.nthSequenceNumber(e,a))).next(S=>(i=S,m=Date.now(),this.removeTargets(e,i,t))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(v=Date.now(),md()<=Ht.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${a} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(v-g)+`ms
Total Duration: ${v-E}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:S})))}}function JP(n,e){return new ZP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.changes=new Uf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Ce.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&Vp(i.mutation,a,Ns.empty(),br.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,qt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=qt()){const a=yf();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(u=>{let h=Ap();return u.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=yf();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,qt()))}populateOverlays(e,t,i){const a=[];return i.forEach(u=>{t.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,i,a){let u=bl();const h=Up(),m=function(){return Up()}();return t.forEach((g,v)=>{const E=i.get(v.key);a.has(v.key)&&(E===void 0||E.mutation instanceof qu)?u=u.insert(v.key,v):E!==void 0?(h.set(v.key,E.mutation.getFieldMask()),Vp(E.mutation,v,E.mutation.getFieldMask(),br.now())):h.set(v.key,Ns.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((v,E)=>h.set(v,E)),t.forEach((v,E)=>{var S;return m.set(v,new t4(E,(S=h.get(v))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,t){const i=Up();let a=new Hn((h,m)=>h-m),u=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(g=>{const v=t.get(g);if(v===null)return;let E=i.get(g)||Ns.empty();E=m.applyToLocalView(v,E),i.set(g,E);const S=(a.get(m.batchId)||qt()).add(g);a=a.insert(m.batchId,S)})}).next(()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),v=g.key,E=g.value,S=ix();E.forEach(A=>{if(!u.has(A)){const D=cx(t.get(A),i.get(A));D!==null&&S.set(A,D),u=u.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,S))}return Ce.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(h){return tt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):JR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-u.size):Ce.resolve(yf());let m=Hp,g=u;return h.next(v=>Ce.forEach(v,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?Ce.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{g=g.insert(E,A)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,g,v,qt())).next(E=>({batchId:m,changes:rx(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tt(t)).next(i=>{let a=Ap();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const u=t.collectionGroup;let h=Ap();return this.indexManager.getCollectionParents(e,u).next(m=>Ce.forEach(m,g=>{const v=function(S,A){return new og(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,i,a).next(E=>{E.forEach((S,A)=>{h=h.insert(S,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,u,a))).next(h=>{u.forEach((g,v)=>{const E=v.getKey();h.get(E)===null&&(h=h.insert(E,wi.newInvalidDocument(E)))});let m=Ap();return h.forEach((g,v)=>{const E=u.get(g);E!==void 0&&Vp(E.mutation,v,Ns.empty(),br.now()),F_(t,v)&&(m=m.insert(g,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Ce.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:xo(a.createTime)}}(t)),Ce.resolve()}getNamedQuery(e,t){return Ce.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:$P(a.bundledQuery),readTime:xo(a.readTime)}}(t)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this.overlays=new Hn(tt.comparator),this.Qr=new Map}getOverlay(e,t){return Ce.resolve(this.overlays.get(t))}getOverlays(e,t){const i=yf();return Ce.forEach(t,a=>this.getOverlay(e,a).next(u=>{u!==null&&i.set(a,u)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,u)=>{this.St(e,t,u)}),Ce.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Qr.get(i);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(i)),Ce.resolve()}getOverlaysForCollection(e,t,i){const a=yf(),u=t.length+1,h=new tt(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>i&&a.set(g.getKey(),g)}return Ce.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let u=new Hn((v,E)=>v-E);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let E=u.get(v.largestBatchId);E===null&&(E=yf(),u=u.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const m=yf(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,E)=>m.set(v,E)),!(m.size()>=a)););return Ce.resolve(m)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const h=this.Qr.get(a.largestBatchId).delete(i.key);this.Qr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new bP(t,i));let u=this.Qr.get(t);u===void 0&&(u=qt(),this.Qr.set(t,u)),this.Qr.set(t,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.sessionToken=Qr.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.$r=new Sr(Pr.Ur),this.Kr=new Sr(Pr.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new Pr(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new Pr(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new tt(new On([])),i=new Pr(t,e),a=new Pr(t,e+1),u=[];return this.Kr.forEachInRange([i,a],h=>{this.zr(h),u.push(h.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new tt(new On([])),i=new Pr(t,e),a=new Pr(t,e+1);let u=qt();return this.Kr.forEachInRange([i,a],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Pr(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Pr{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return tt.comparator(e.key,t.key)||It(e.Zr,t.Zr)}static Wr(e,t){return It(e.Zr,t.Zr)||tt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Sr(Pr.Ur)}checkEmpty(e){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new wP(u,t,i,a);this.mutationQueue.push(h);for(const m of a)this.Xr=this.Xr.add(new Pr(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Ce.resolve(h)}lookupMutationBatch(e,t){return Ce.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ti(i),u=a<0?0:a;return Ce.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?_w:this.nr-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pr(t,0),a=new Pr(t,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([i,a],h=>{const m=this.ei(h.Zr);u.push(m)}),Ce.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Sr(It);return t.forEach(a=>{const u=new Pr(a,0),h=new Pr(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,h],m=>{i=i.add(m.Zr)})}),Ce.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let u=i;tt.isDocumentKey(u)||(u=u.child(""));const h=new Pr(new tt(u),0);let m=new Sr(It);return this.Xr.forEachWhile(g=>{const v=g.key.path;return!!i.isPrefixOf(v)&&(v.length===a&&(m=m.add(g.Zr)),!0)},h),Ce.resolve(this.ni(m))}ni(e){const t=[];return e.forEach(i=>{const a=this.ei(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){dn(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return Ce.forEach(t.mutations,a=>{const u=new Pr(a.key,t.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new Pr(t,0),a=this.Xr.firstAfterOrEqual(i);return Ce.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.ii=e,this.docs=function(){return new Hn(tt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),u=a?a.size:0,h=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ce.resolve(i?i.document.mutableCopy():wi.newInvalidDocument(t))}getEntries(e,t){let i=bl();return t.forEach(a=>{const u=this.docs.get(a);i=i.insert(a,u?u.document.mutableCopy():wi.newInvalidDocument(a))}),Ce.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let u=bl();const h=t.path,m=new tt(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:v,value:{document:E}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||kM(LM(E),i)<=0||(a.has(E.key)||F_(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Ce.resolve(u)}getAllFromCollectionGroup(e,t,i,a){dt(9500)}si(e,t){return Ce.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new l4(this)}getSize(e){return Ce.resolve(this.size)}}class l4 extends e4{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(i)}),Ce.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e){this.persistence=e,this.oi=new Uf(t=>ww(t),bw),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this._i=0,this.ai=new Nw,this.targetCount=0,this.ui=Od.cr()}forEachTarget(e,t){return this.oi.forEach((i,a)=>t(a)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),Ce.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Od(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Ce.resolve()}updateTargetData(e,t){return this.Tr(t),Ce.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,t,i){let a=0;const u=[];return this.oi.forEach((h,m)=>{m.sequenceNumber<=t&&i.get(m.targetId)===null&&(this.oi.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),Ce.waitFor(u).next(()=>a)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return Ce.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),Ce.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach(h=>{u.push(a.markPotentiallyOrphaned(e,h))}),Ce.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Ce.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return Ce.resolve(i)}containsKey(e,t){return Ce.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,t){this.ci={},this.overlays={},this.li=new U_(0),this.hi=!1,this.hi=!0,this.Pi=new s4,this.referenceDelegate=e(this),this.Ti=new u4(this),this.indexManager=new KP,this.remoteDocumentCache=function(a){return new o4(a)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new GP(t),this.Ei=new r4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new i4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new a4(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){ze("MemoryPersistence","Starting transaction:",e);const a=new c4(this.li.next());return this.referenceDelegate.di(),i(a).next(u=>this.referenceDelegate.Ai(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Ri(e,t){return Ce.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class c4 extends VM{constructor(e){super(),this.currentSequenceNumber=e}}class Dw{constructor(e){this.persistence=e,this.Vi=new Nw,this.mi=null}static fi(e){return new Dw(e)}get gi(){if(this.mi)return this.mi;throw dt(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),Ce.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),Ce.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Ce.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(u=>this.gi.add(u.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.gi,i=>{const a=tt.fromPath(i);return this.pi(e,a).next(u=>{u||t.removeEntry(a,gt.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return Ce.or([()=>Ce.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class m_{constructor(e,t){this.persistence=e,this.yi=new Uf(i=>FM(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=JP(this,t)}static fi(e,t){return new m_(e,t)}di(){}Ai(e){return Ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return Ce.forEach(this.yi,(i,a)=>this.Dr(e,i,a).next(u=>u?Ce.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.si(e,h=>this.Dr(e,h,t).next(m=>{m||(i++,u.removeEntry(h,gt.min()))})).next(()=>u.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Ce.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),Ce.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),Ce.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Ce.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Bv(e.data.value)),t}Dr(e,t,i){return Ce.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return Ce.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ds=i,this.As=a}static Rs(e,t){let i=qt(),a=qt();for(const u of t.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new Ow(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return iD()?8:jM(Ai())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,a){const u={result:null};return this.ws(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.bs(e,t,a,i).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new f4;return this.Ss(e,t,h).next(m=>{if(u.result=m,this.fs)return this.Ds(e,t,h,m.size)})}).next(()=>u.result)}Ds(e,t,i,a){return i.documentReadCount<this.gs?(md()<=Ht.DEBUG&&ze("QueryEngine","SDK will not create cache indexes for query:",pd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Ce.resolve()):(md()<=Ht.DEBUG&&ze("QueryEngine","Query:",pd(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ps*a?(md()<=Ht.DEBUG&&ze("QueryEngine","The SDK decides to create cache indexes for query:",pd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ro(t))):Ce.resolve())}ws(e,t){if(kS(t))return Ce.resolve(null);let i=Ro(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=TT(t,null,"F"),i=Ro(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(u=>{const h=qt(...u);return this.ys.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,i).next(g=>{const v=this.vs(t,m);return this.Cs(t,v,h,g.readTime)?this.ws(e,TT(t,null,"F")):this.Fs(e,v,t,g)}))})))}bs(e,t,i,a){return kS(t)||a.isEqual(gt.min())?Ce.resolve(null):this.ys.getDocuments(e,i).next(u=>{const h=this.vs(t,u);return this.Cs(t,h,i,a)?Ce.resolve(null):(md()<=Ht.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),pd(t)),this.Fs(e,h,t,PM(a,Hp)).next(m=>m))})}vs(e,t){let i=new Sr(tx(e));return t.forEach((a,u)=>{F_(e,u)&&(i=i.add(u))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Ss(e,t,i){return md()<=Ht.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",pd(t)),this.ys.getDocumentsMatchingQuery(e,t,Pu.min(),i)}Fs(e,t,i,a){return this.ys.getDocumentsMatchingQuery(e,i,a).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="LocalStore",d4=3e8;class m4{constructor(e,t,i,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new Hn(It),this.Os=new Uf(u=>ww(u),bw),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n4(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function p4(n,e,t,i){return new m4(n,e,t,i)}async function Sx(n,e){const t=yt(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(u=>(a=u,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(u=>{const h=[],m=[];let g=qt();for(const v of a){h.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}for(const v of u){m.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(i,g).next(v=>({ks:v,removedBatchIds:h,addedBatchIds:m}))})})}function g4(n,e){const t=yt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),u=t.Bs.newChangeBuffer({trackRemovals:!0});return function(m,g,v,E){const S=v.batch,A=S.keys();let D=Ce.resolve();return A.forEach(M=>{D=D.next(()=>E.getEntry(g,M)).next(H=>{const k=v.docVersions.get(M);dn(k!==null,48541),H.version.compareTo(k)<0&&(S.applyToRemoteDocument(H,v),H.isValidDocument()&&(H.setReadTime(v.commitVersion),E.addEntry(H)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(g,S))}(t,i,e,u).next(()=>u.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let g=qt();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(g=g.add(m.batch.mutations[v].key));return g}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function Ax(n){const e=yt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function y4(n,e){const t=yt(n),i=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const m=[];e.targetChanges.forEach((E,S)=>{const A=a.get(S);if(!A)return;m.push(t.Ti.removeMatchingKeys(u,E.removedDocuments,S).next(()=>t.Ti.addMatchingKeys(u,E.addedDocuments,S)));let D=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?D=D.withResumeToken(Qr.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,i)),a=a.insert(S,D),function(H,k,B){return H.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=d4?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(A,D,E)&&m.push(t.Ti.updateTargetData(u,D))});let g=bl(),v=qt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(v4(u,h,e.documentUpdates).next(E=>{g=E.qs,v=E.Qs})),!i.isEqual(gt.min())){const E=t.Ti.getLastRemoteSnapshotVersion(u).next(S=>t.Ti.setTargetsMetadata(u,u.currentSequenceNumber,i));m.push(E)}return Ce.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,v)).next(()=>g)}).then(u=>(t.xs=a,u))}function v4(n,e,t){let i=qt(),a=qt();return t.forEach(u=>i=i.add(u)),e.getEntries(n,i).next(u=>{let h=bl();return t.forEach((m,g)=>{const v=u.get(m);g.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(gt.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ze(Mw,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",g.version)}),{qs:h,Qs:a}})}function _4(n,e){const t=yt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=_w),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function E4(n,e){const t=yt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Ti.getTargetData(i,e).next(u=>u?(a=u,Ce.resolve(a)):t.Ti.allocateTargetId(i).next(h=>(a=new Ru(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.xs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function RT(n,e,t){const i=yt(n),a=i.xs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",u,h=>i.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!qd(h))throw h;ze(Mw,`Failed to update sequence numbers for target ${e}: ${h}`)}i.xs=i.xs.remove(e),i.Os.delete(a.target)}function WS(n,e,t){const i=yt(n);let a=gt.min(),u=qt();return i.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,E){const S=yt(g),A=S.Os.get(E);return A!==void 0?Ce.resolve(S.xs.get(A)):S.Ti.getTargetData(v,E)}(i,h,Ro(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(h,m.targetId).next(g=>{u=g})}).next(()=>i.Ms.getDocumentsMatchingQuery(h,e,t?a:gt.min(),t?u:qt())).next(m=>(T4(i,aP(e),m),{documents:m,$s:u})))}function T4(n,e,t){let i=n.Ns.get(e)||gt.min();t.forEach((a,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),n.Ns.set(e,i)}class QS{constructor(){this.activeTargetIds=hP()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w4{constructor(){this.xo=new QS,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new QS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="ConnectivityMonitor";class ZS{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ze(XS,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ze(XS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rv=null;function xT(){return Rv===null?Rv=function(){return 268435456+Math.round(2147483648*Math.random())}():Rv++,"0x"+Rv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="RestConnection",S4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A4{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${a}`,this.Go=this.databaseId.database===l_?`project_id=${i}`:`project_id=${i}&database_id=${a}`}zo(e,t,i,a,u){const h=xT(),m=this.jo(e,t.toUriEncodedString());ze(ME,`Sending RPC '${e}' ${h}:`,m,i);const g={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(g,a,u);const{host:v}=new URL(m),E=jd(v);return this.Jo(e,m,g,i,E).then(S=>(ze(ME,`Received RPC '${e}' ${h}: `,S),S),S=>{throw Cd(ME,`RPC '${e}' ${h} failed with error: `,S,"url: ",m,"request:",i),S})}Yo(e,t,i,a,u,h){return this.zo(e,t,i,a,u)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,u)=>e[u]=a),i&&i.headers.forEach((a,u)=>e[u]=a)}jo(e,t){const i=S4[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="WebChannelConnection";class x4 extends A4{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,u){const h=xT();return new Promise((m,g)=>{const v=new CR;v.setWithCredentials(!0),v.listenOnce(IR.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case jv.NO_ERROR:const S=v.getResponseJson();ze(_i,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),m(S);break;case jv.TIMEOUT:ze(_i,`RPC '${e}' ${h} timed out`),g(new Ke(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case jv.HTTP_ERROR:const A=v.getStatus();if(ze(_i,`RPC '${e}' ${h} failed with status:`,A,"response text:",v.getResponseText()),A>0){let D=v.getResponseJson();Array.isArray(D)&&(D=D[0]);const M=D==null?void 0:D.error;if(M&&M.status&&M.message){const H=function(B){const ee=B.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(ee)>=0?ee:Ie.UNKNOWN}(M.status);g(new Ke(H,M.message))}else g(new Ke(Ie.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new Ke(Ie.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{h_:e,streamId:h,P_:v.getLastErrorCode(),T_:v.getLastError()})}}finally{ze(_i,`RPC '${e}' ${h} completed.`)}});const E=JSON.stringify(a);ze(_i,`RPC '${e}' ${h} sending request:`,a),v.send(t,"POST",E,i,15)})}I_(e,t,i){const a=xT(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=OR(),m=DR(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Ho(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const E=u.join("");ze(_i,`Creating RPC '${e}' stream ${a}: ${E}`,g);const S=h.createWebChannel(E,g);this.E_(S);let A=!1,D=!1;const M=new R4({Zo:k=>{D?ze(_i,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(A||(ze(_i,`Opening RPC '${e}' stream ${a} transport.`),S.open(),A=!0),ze(_i,`RPC '${e}' stream ${a} sending:`,k),S.send(k))},Xo:()=>S.close()}),H=(k,B,ee)=>{k.listen(B,te=>{try{ee(te)}catch(he){setTimeout(()=>{throw he},0)}})};return H(S,Sp.EventType.OPEN,()=>{D||(ze(_i,`RPC '${e}' stream ${a} transport opened.`),M.__())}),H(S,Sp.EventType.CLOSE,()=>{D||(D=!0,ze(_i,`RPC '${e}' stream ${a} transport closed`),M.u_(),this.d_(S))}),H(S,Sp.EventType.ERROR,k=>{D||(D=!0,Cd(_i,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),M.u_(new Ke(Ie.UNAVAILABLE,"The operation could not be completed")))}),H(S,Sp.EventType.MESSAGE,k=>{var B;if(!D){const ee=k.data[0];dn(!!ee,16349);const te=ee,he=(te==null?void 0:te.error)||((B=te[0])===null||B===void 0?void 0:B.error);if(he){ze(_i,`RPC '${e}' stream ${a} received error:`,he);const Q=he.status;let F=function(O){const z=pr[O];if(z!==void 0)return hx(z)}(Q),N=he.message;F===void 0&&(F=Ie.INTERNAL,N="Unknown error status: "+Q+" with message "+he.message),D=!0,M.u_(new Ke(F,N)),S.close()}else ze(_i,`RPC '${e}' stream ${a} received:`,ee),M.c_(ee)}}),H(m,NR.STAT_EVENT,k=>{k.stat===mT.PROXY?ze(_i,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===mT.NOPROXY&&ze(_i,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{M.a_()},0),M}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function PE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(n){return new DP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,t,i=1e3,a=1.5,u=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=a,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-i);a>0&&ze("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="PersistentStream";class xx{constructor(e,t,i,a,u,h,m,g){this.xi=e,this.S_=i,this.D_=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Rx(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===Ie.RESOURCE_EXHAUSTED?(wl(t.toString()),wl("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===Ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.v_===t&&this.z_(i,a)},i=>{e(()=>{const a=new Ke(Ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(a)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{i(()=>this.j_(a))}),this.stream.onMessage(a=>{i(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ze(JS,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ze(JS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class C4 extends xx{constructor(e,t,i,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,h),this.serializer=u}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=PP(this.serializer,e),i=function(u){if(!("targetChange"in u))return gt.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?gt.min():h.readTime?xo(h.readTime):gt.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=AT(this.serializer),t.addTarget=function(u,h){let m;const g=h.target;if(m=_T(g)?{documents:UP(u,g)}:{query:VP(u,g).gt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=px(u,h.resumeToken);const v=wT(u,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(gt.min())>0){m.readTime=d_(u,h.snapshotVersion.toTimestamp());const v=wT(u,h.expectedCount);v!==null&&(m.expectedCount=v)}return m}(this.serializer,e);const i=BP(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=AT(this.serializer),t.removeTarget=e,this.Q_(t)}}class I4 extends xx{constructor(e,t,i,a,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,h),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return dn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dn(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){dn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=kP(e.writeResults,e.commitTime),i=xo(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=AT(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>LP(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{}class D4 extends N4{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new Ke(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.zo(e,bT(t,i),a,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ke(Ie.UNKNOWN,u.toString())})}Yo(e,t,i,a,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Yo(e,bT(t,i),a,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ke(Ie.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class O4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(wl(t),this.ua=!1):ze("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="RemoteStore";class M4{constructor(e,t,i,a,u){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(h=>{i.enqueueAndForget(async()=>{Vf(this)&&(ze(Of,"Restarting streams for network reachability change."),await async function(g){const v=yt(g);v.da.add(4),await cg(v),v.Va.set("Unknown"),v.da.delete(4),await $_(v)}(this))})}),this.Va=new O4(i,a)}}async function $_(n){if(Vf(n))for(const e of n.Aa)await e(!0)}async function cg(n){for(const e of n.Aa)await e(!1)}function Cx(n,e){const t=yt(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Uw(t)?kw(t):Gd(t).N_()&&Lw(t,e))}function Pw(n,e){const t=yt(n),i=Gd(t);t.Ea.delete(e),i.N_()&&Ix(t,e),t.Ea.size===0&&(i.N_()?i.k_():Vf(t)&&t.Va.set("Unknown"))}function Lw(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Gd(n).Z_(e)}function Ix(n,e){n.ma.Ke(e),Gd(n).X_(e)}function kw(n){n.ma=new xP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Gd(n).start(),n.Va.ca()}function Uw(n){return Vf(n)&&!Gd(n).O_()&&n.Ea.size>0}function Vf(n){return yt(n).da.size===0}function Nx(n){n.ma=void 0}async function P4(n){n.Va.set("Online")}async function L4(n){n.Ea.forEach((e,t)=>{Lw(n,e)})}async function k4(n,e){Nx(n),Uw(n)?(n.Va.Pa(e),kw(n)):n.Va.set("Unknown")}async function U4(n,e,t){if(n.Va.set("Online"),e instanceof mx&&e.state===2&&e.cause)try{await async function(a,u){const h=u.cause;for(const m of u.targetIds)a.Ea.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.Ea.delete(m),a.ma.removeTarget(m))}(n,e)}catch(i){ze(Of,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await p_(n,i)}else if(e instanceof Hv?n.ma.Xe(e):e instanceof dx?n.ma.ot(e):n.ma.nt(e),!t.isEqual(gt.min()))try{const i=await Ax(n.localStore);t.compareTo(i)>=0&&await function(u,h){const m=u.ma.It(h);return m.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ea.get(v);E&&u.Ea.set(v,E.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,v)=>{const E=u.Ea.get(g);if(!E)return;u.Ea.set(g,E.withResumeToken(Qr.EMPTY_BYTE_STRING,E.snapshotVersion)),Ix(u,g);const S=new Ru(E.target,g,v,E.sequenceNumber);Lw(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(n,t)}catch(i){ze(Of,"Failed to raise snapshot:",i),await p_(n,i)}}async function p_(n,e,t){if(!qd(e))throw e;n.da.add(1),await cg(n),n.Va.set("Offline"),t||(t=()=>Ax(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ze(Of,"Retrying IndexedDB access"),await t(),n.da.delete(1),await $_(n)})}function Dx(n,e){return e().catch(t=>p_(n,t,e))}async function K_(n){const e=yt(n),t=Vu(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:_w;for(;V4(e);)try{const a=await _4(e.localStore,i);if(a===null){e.Ia.length===0&&t.k_();break}i=a.batchId,j4(e,a)}catch(a){await p_(e,a)}Ox(e)&&Mx(e)}function V4(n){return Vf(n)&&n.Ia.length<10}function j4(n,e){n.Ia.push(e);const t=Vu(n);t.N_()&&t.ea&&t.ta(e.mutations)}function Ox(n){return Vf(n)&&!Vu(n).O_()&&n.Ia.length>0}function Mx(n){Vu(n).start()}async function B4(n){Vu(n).ia()}async function F4(n){const e=Vu(n);for(const t of n.Ia)e.ta(t.mutations)}async function z4(n,e,t){const i=n.Ia.shift(),a=xw.from(i,e,t);await Dx(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await K_(n)}async function H4(n,e){e&&Vu(n).ea&&await async function(i,a){if(function(h){return AP(h)&&h!==Ie.ABORTED}(a.code)){const u=i.Ia.shift();Vu(i).L_(),await Dx(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,a)),await K_(i)}}(n,e),Ox(n)&&Mx(n)}async function e1(n,e){const t=yt(n);t.asyncQueue.verifyOperationInProgress(),ze(Of,"RemoteStore received new credentials");const i=Vf(t);t.da.add(3),await cg(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await $_(t)}async function q4(n,e){const t=yt(n);e?(t.da.delete(2),await $_(t)):e||(t.da.add(2),await cg(t),t.Va.set("Unknown"))}function Gd(n){return n.fa||(n.fa=function(t,i,a){const u=yt(t);return u.oa(),new C4(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(n.datastore,n.asyncQueue,{e_:P4.bind(null,n),n_:L4.bind(null,n),i_:k4.bind(null,n),Y_:U4.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),Uw(n)?kw(n):n.Va.set("Unknown")):(await n.fa.stop(),Nx(n))})),n.fa}function Vu(n){return n.ga||(n.ga=function(t,i,a){const u=yt(t);return u.oa(),new I4(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:B4.bind(null,n),i_:H4.bind(null,n),na:F4.bind(null,n),ra:z4.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await K_(n)):(await n.ga.stop(),n.Ia.length>0&&(ze(Of,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,t,i,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=u,this.deferred=new Du,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,u){const h=Date.now()+i,m=new Vw(e,t,h,a,u);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jw(n,e){if(wl("AsyncQueue",`${e}: ${n}`),qd(n))return new Ke(Ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{static emptySet(e){return new Sd(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||tt.comparator(t.key,i.key):(t,i)=>tt.comparator(t.key,i.key),this.keyedMap=Ap(),this.sortedSet=new Hn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=i.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Sd;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.pa=new Hn(tt.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):dt(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Md{constructor(e,t,i,a,u,h,m,g,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,a,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Md(e,t,Sd.emptySet(t),h,i,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&B_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class $4{constructor(){this.queries=n1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=yt(t),u=a.queries;a.queries=n1(),u.forEach((h,m)=>{for(const g of m.Sa)g.onError(i)})})(this,new Ke(Ie.ABORTED,"Firestore shutting down"))}}function n1(){return new Uf(n=>ex(n),B_)}async function Px(n,e){const t=yt(n);let i=3;const a=e.query;let u=t.queries.get(a);u?!u.Da()&&e.va()&&(i=2):(u=new G4,i=e.va()?0:1);try{switch(i){case 0:u.ba=await t.onListen(a,!0);break;case 1:u.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(h){const m=jw(h,`Initialization of query '${pd(e.query)}' failed`);return void e.onError(m)}t.queries.set(a,u),u.Sa.push(e),e.Fa(t.onlineState),u.ba&&e.Ma(u.ba)&&Bw(t)}async function Lx(n,e){const t=yt(n),i=e.query;let a=3;const u=t.queries.get(i);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?a=e.va()?0:1:!u.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function K4(n,e){const t=yt(n);let i=!1;for(const a of e){const u=a.query,h=t.queries.get(u);if(h){for(const m of h.Sa)m.Ma(a)&&(i=!0);h.ba=a}}i&&Bw(t)}function Y4(n,e,t){const i=yt(n),a=i.queries.get(e);if(a)for(const u of a.Sa)u.onError(t);i.queries.delete(e)}function Bw(n){n.Ca.forEach(e=>{e.next()})}var CT,r1;(r1=CT||(CT={})).xa="default",r1.Cache="cache";class kx{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Md(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Md.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==CT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.key=e}}class Vx{constructor(e){this.key=e}}class W4{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qt(),this.mutatedKeys=qt(),this.Za=tx(e),this.Xa=new Sd(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new t1,a=t?t.Xa:this.Xa;let u=t?t.mutatedKeys:this.mutatedKeys,h=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((E,S)=>{const A=a.get(E),D=F_(this.query,S)?S:null,M=!!A&&this.mutatedKeys.has(A.key),H=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let k=!1;A&&D?A.data.isEqual(D.data)?M!==H&&(i.track({type:3,doc:D}),k=!0):this.ru(A,D)||(i.track({type:2,doc:D}),k=!0,(g&&this.Za(D,g)>0||v&&this.Za(D,v)<0)&&(m=!0)):!A&&D?(i.track({type:0,doc:D}),k=!0):A&&!D&&(i.track({type:1,doc:A}),k=!0,(g||v)&&(m=!0)),k&&(D?(h=h.add(D),u=H?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),i.track({type:1,doc:E})}return{Xa:h,nu:i,Cs:m,mutatedKeys:u}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const h=e.nu.wa();h.sort((E,S)=>function(D,M){const H=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:k})}};return H(D)-H(M)}(E.type,S.type)||this.Za(E.doc,S.doc)),this.iu(i),a=a!=null&&a;const m=t&&!a?this.su():[],g=this.Ya.size===0&&this.current&&!a?1:0,v=g!==this.Ja;return this.Ja=g,h.length!==0||v?{snapshot:new Md(this.query,e.Xa,u,h,e.mutatedKeys,g===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new t1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=qt(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new Vx(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new Ux(i))}),t}au(e){this.Ha=e.$s,this.Ya=qt();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Md.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Fw="SyncEngine";class Q4{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class X4{constructor(e){this.key=e,this.cu=!1}}class Z4{constructor(e,t,i,a,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new Uf(m=>ex(m),B_),this.Pu=new Map,this.Tu=new Set,this.Iu=new Hn(tt.comparator),this.Eu=new Map,this.du=new Nw,this.Au={},this.Ru=new Map,this.Vu=Od.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function J4(n,e,t=!0){const i=qx(n);let a;const u=i.hu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.uu()):a=await jx(i,e,t,!0),a}async function eL(n,e){const t=qx(n);await jx(t,e,!0,!1)}async function jx(n,e,t,i){const a=await E4(n.localStore,Ro(e)),u=a.targetId,h=n.sharedClientState.addLocalQueryTarget(u,t);let m;return i&&(m=await tL(n,e,u,h==="current",a.resumeToken)),n.isPrimaryClient&&t&&Cx(n.remoteStore,a),m}async function tL(n,e,t,i,a){n.fu=(S,A,D)=>async function(H,k,B,ee){let te=k.view.tu(B);te.Cs&&(te=await WS(H.localStore,k.query,!1).then(({documents:N})=>k.view.tu(N,te)));const he=ee&&ee.targetChanges.get(k.targetId),Q=ee&&ee.targetMismatches.get(k.targetId)!=null,F=k.view.applyChanges(te,H.isPrimaryClient,he,Q);return s1(H,k.targetId,F.ou),F.snapshot}(n,S,A,D);const u=await WS(n.localStore,e,!0),h=new W4(e,u.$s),m=h.tu(u.documents),g=ug.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),v=h.applyChanges(m,n.isPrimaryClient,g);s1(n,t,v.ou);const E=new Q4(e,t,h);return n.hu.set(e,E),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),v.snapshot}async function nL(n,e,t){const i=yt(n),a=i.hu.get(e),u=i.Pu.get(a.targetId);if(u.length>1)return i.Pu.set(a.targetId,u.filter(h=>!B_(h,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await RT(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Pw(i.remoteStore,a.targetId),IT(i,a.targetId)}).catch(Hd)):(IT(i,a.targetId),await RT(i.localStore,a.targetId,!0))}async function rL(n,e){const t=yt(n),i=t.hu.get(e),a=t.Pu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Pw(t.remoteStore,i.targetId))}async function iL(n,e,t){const i=fL(n);try{const a=await function(h,m){const g=yt(h),v=br.now(),E=m.reduce((D,M)=>D.add(M.key),qt());let S,A;return g.persistence.runTransaction("Locally write mutations","readwrite",D=>{let M=bl(),H=qt();return g.Bs.getEntries(D,E).next(k=>{M=k,M.forEach((B,ee)=>{ee.isValidDocument()||(H=H.add(B))})}).next(()=>g.localDocuments.getOverlayedDocuments(D,M)).next(k=>{S=k;const B=[];for(const ee of m){const te=EP(ee,S.get(ee.key).overlayedDocument);te!=null&&B.push(new qu(ee.key,te,$R(te.value.mapValue),ia.exists(!0)))}return g.mutationQueue.addMutationBatch(D,v,B,m)}).next(k=>{A=k;const B=k.applyToLocalDocumentSet(S,H);return g.documentOverlayCache.saveOverlays(D,k.batchId,B)})}).then(()=>({batchId:A.batchId,changes:rx(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(h,m,g){let v=h.Au[h.currentUser.toKey()];v||(v=new Hn(It)),v=v.insert(m,g),h.Au[h.currentUser.toKey()]=v}(i,a.batchId,t),await fg(i,a.changes),await K_(i.remoteStore)}catch(a){const u=jw(a,"Failed to persist write");t.reject(u)}}async function Bx(n,e){const t=yt(n);try{const i=await y4(t.localStore,e);e.targetChanges.forEach((a,u)=>{const h=t.Eu.get(u);h&&(dn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?h.cu=!0:a.modifiedDocuments.size>0?dn(h.cu,14607):a.removedDocuments.size>0&&(dn(h.cu,42227),h.cu=!1))}),await fg(t,i,e)}catch(i){await Hd(i)}}function i1(n,e,t){const i=yt(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.hu.forEach((u,h)=>{const m=h.view.Fa(e);m.snapshot&&a.push(m.snapshot)}),function(h,m){const g=yt(h);g.onlineState=m;let v=!1;g.queries.forEach((E,S)=>{for(const A of S.Sa)A.Fa(m)&&(v=!0)}),v&&Bw(g)}(i.eventManager,e),a.length&&i.lu.Y_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function sL(n,e,t){const i=yt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Eu.get(e),u=a&&a.key;if(u){let h=new Hn(tt.comparator);h=h.insert(u,wi.newNoDocument(u,gt.min()));const m=qt().add(u),g=new q_(gt.min(),new Map,new Hn(It),h,m);await Bx(i,g),i.Iu=i.Iu.remove(u),i.Eu.delete(e),zw(i)}else await RT(i.localStore,e,!1).then(()=>IT(i,e,t)).catch(Hd)}async function aL(n,e){const t=yt(n),i=e.batch.batchId;try{const a=await g4(t.localStore,e);zx(t,i,null),Fx(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await fg(t,a)}catch(a){await Hd(a)}}async function oL(n,e,t){const i=yt(n);try{const a=await function(h,m){const g=yt(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let E;return g.mutationQueue.lookupMutationBatch(v,m).next(S=>(dn(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(v,S))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E)).next(()=>g.localDocuments.getDocuments(v,E))})}(i.localStore,e);zx(i,e,t),Fx(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await fg(i,a)}catch(a){await Hd(a)}}function Fx(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function zx(n,e,t){const i=yt(n);let a=i.Au[i.currentUser.toKey()];if(a){const u=a.get(e);u&&(t?u.reject(t):u.resolve(),a=a.remove(e)),i.Au[i.currentUser.toKey()]=a}}function IT(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||Hx(n,i)})}function Hx(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(Pw(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),zw(n))}function s1(n,e,t){for(const i of t)i instanceof Ux?(n.du.addReference(i.key,e),lL(n,i)):i instanceof Vx?(ze(Fw,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||Hx(n,i.key)):dt(19791,{pu:i})}function lL(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(ze(Fw,"New document in limbo: "+t),n.Tu.add(i),zw(n))}function zw(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new tt(On.fromString(e)),i=n.Vu.next();n.Eu.set(i,new X4(t)),n.Iu=n.Iu.insert(t,i),Cx(n.remoteStore,new Ru(Ro(Sw(t.path)),i,"TargetPurposeLimboResolution",U_.le))}}async function fg(n,e,t){const i=yt(n),a=[],u=[],h=[];i.hu.isEmpty()||(i.hu.forEach((m,g)=>{h.push(i.fu(g,e,t).then(v=>{var E;if((v||t)&&i.isPrimaryClient){const S=v?!v.fromCache:(E=t==null?void 0:t.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;i.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(v){a.push(v);const S=Ow.Rs(g.targetId,v);u.push(S)}}))}),await Promise.all(h),i.lu.Y_(a),await async function(g,v){const E=yt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Ce.forEach(v,A=>Ce.forEach(A.ds,D=>E.persistence.referenceDelegate.addReference(S,A.targetId,D)).next(()=>Ce.forEach(A.As,D=>E.persistence.referenceDelegate.removeReference(S,A.targetId,D)))))}catch(S){if(!qd(S))throw S;ze(Mw,"Failed to update sequence numbers: "+S)}for(const S of v){const A=S.targetId;if(!S.fromCache){const D=E.xs.get(A),M=D.snapshotVersion,H=D.withLastLimboFreeSnapshotVersion(M);E.xs=E.xs.insert(A,H)}}}(i.localStore,u))}async function uL(n,e){const t=yt(n);if(!t.currentUser.isEqual(e)){ze(Fw,"User change. New user:",e.toKey());const i=await Sx(t.localStore,e);t.currentUser=e,function(u,h){u.Ru.forEach(m=>{m.forEach(g=>{g.reject(new Ke(Ie.CANCELLED,h))})}),u.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await fg(t,i.ks)}}function cL(n,e){const t=yt(n),i=t.Eu.get(e);if(i&&i.cu)return qt().add(i.key);{let a=qt();const u=t.Pu.get(e);if(!u)return a;for(const h of u){const m=t.hu.get(h);a=a.unionWith(m.view.eu)}return a}}function qx(n){const e=yt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sL.bind(null,e),e.lu.Y_=K4.bind(null,e.eventManager),e.lu.gu=Y4.bind(null,e.eventManager),e}function fL(n){const e=yt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oL.bind(null,e),e}class g_{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=G_(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return p4(this.persistence,new h4,e.initialUser,this.serializer)}Su(e){return new bx(Dw.fi,this.serializer)}bu(e){return new w4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}g_.provider={build:()=>new g_};class hL extends g_{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){dn(this.persistence.referenceDelegate instanceof m_,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new XP(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?as.withCacheSize(this.cacheSizeBytes):as.DEFAULT;return new bx(i=>m_.fi(i,t),this.serializer)}}class NT{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>i1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=uL.bind(null,this.syncEngine),await q4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $4}()}createDatastore(e){const t=G_(e.databaseInfo.databaseId),i=function(u){return new x4(u)}(e.databaseInfo);return function(u,h,m,g){return new D4(u,h,m,g)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,u,h,m){return new M4(i,a,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>i1(this.syncEngine,t,0),function(){return ZS.C()?new ZS:new b4}())}createSyncEngine(e,t){return function(a,u,h,m,g,v,E){const S=new Z4(a,u,h,m,g,v);return E&&(S.mu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const u=yt(a);ze(Of,"RemoteStore shutting down."),u.da.add(5),await cg(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}NT.provider={build:()=>new NT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):wl("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju="FirestoreClient";class dL{constructor(e,t,i,a,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=Ti.UNAUTHENTICATED,this.clientId=kR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async h=>{ze(ju,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(ze(ju,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Du;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=jw(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function LE(n,e){n.asyncQueue.verifyOperationInProgress(),ze(ju,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await Sx(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function a1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await mL(n);ze(ju,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>e1(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>e1(e.remoteStore,a)),n._onlineComponents=e}async function mL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ze(ju,"Using user provided OfflineComponentProvider");try{await LE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===Ie.FAILED_PRECONDITION||a.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Cd("Error using user provided cache. Falling back to memory cache: "+t),await LE(n,new g_)}}else ze(ju,"Using default OfflineComponentProvider"),await LE(n,new hL(void 0));return n._offlineComponents}async function $x(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ze(ju,"Using user provided OnlineComponentProvider"),await a1(n,n._uninitializedComponentsProvider._online)):(ze(ju,"Using default OnlineComponentProvider"),await a1(n,new NT))),n._onlineComponents}function pL(n){return $x(n).then(e=>e.syncEngine)}async function DT(n){const e=await $x(n),t=e.eventManager;return t.onListen=J4.bind(null,e.syncEngine),t.onUnlisten=nL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=eL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=rL.bind(null,e.syncEngine),t}function gL(n,e,t={}){const i=new Du;return n.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,v){const E=new Gx({next:A=>{E.xu(),h.enqueueAndForget(()=>Lx(u,S)),A.fromCache&&g.source==="server"?v.reject(new Ke(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(A)},error:A=>v.reject(A)}),S=new kx(m,E,{includeMetadataChanges:!0,Qa:!0});return Px(u,S)}(await DT(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(n,e,t){if(!t)throw new Ke(Ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function yL(n,e,t,i){if(e===!0&&i===!0)throw new Ke(Ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function l1(n){if(!tt.isDocumentKey(n))throw new Ke(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function u1(n){if(tt.isDocumentKey(n))throw new Ke(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Y_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":dt(12329,{type:typeof n})}function sa(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ke(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Y_(n);throw new Ke(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="firestore.googleapis.com",c1=!0;class f1{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Wx,this.ssl=c1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:c1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WP)throw new Ke(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kx((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Ke(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Ke(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Ke(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class W_{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ke(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new AM;switch(i.type){case"firstParty":return new IM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ke(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=o1.get(t);i&&(ze("ComponentProvider","Removing Datastore"),o1.delete(t),i.terminate())}(this),Promise.resolve()}}function vL(n,e,t,i={}){var a;n=sa(n,W_);const u=jd(e),h=n._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:n._getEmulatorOptions()}),g=`${e}:${t}`;u&&(zA(`https://${g}`),HA("Firestore",!0)),h.host!==Wx&&h.host!==g&&Cd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},h),{host:g,ssl:u,emulatorOptions:i});if(!Cf(v,m)&&(n._setSettings(v),i.mockUserToken)){let E,S;if(typeof i.mockUserToken=="string")E=i.mockUserToken,S=Ti.MOCK_USER;else{E=WN(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const A=i.mockUserToken.sub||i.mockUserToken.user_id;if(!A)throw new Ke(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ti(A)}n._authCredentials=new RM(new PR(E,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new jf(this.firestore,e,this._query)}}class Vi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vi(this.firestore,e,this._key)}}class Ou extends jf{constructor(e,t,i){super(e,t,Sw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vi(this.firestore,null,new tt(e))}withConverter(e){return new Ou(this.firestore,e,this._path)}}function y_(n,e,...t){if(n=Ar(n),Yx("collection","path",e),n instanceof W_){const i=On.fromString(e,...t);return u1(i),new Ou(n,null,i)}{if(!(n instanceof Vi||n instanceof Ou))throw new Ke(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(On.fromString(e,...t));return u1(i),new Ou(n.firestore,null,i)}}function vf(n,e,...t){if(n=Ar(n),arguments.length===1&&(e=kR.newId()),Yx("doc","path",e),n instanceof W_){const i=On.fromString(e,...t);return l1(i),new Vi(n,null,new tt(i))}{if(!(n instanceof Vi||n instanceof Ou))throw new Ke(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(On.fromString(e,...t));return l1(i),new Vi(n.firestore,n instanceof Ou?n.converter:null,new tt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="AsyncQueue";class d1{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Rx(this,"async_queue_retry"),this.rc=()=>{const i=PE();i&&ze(h1,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=PE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=PE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Du;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!qd(e))throw e;ze(h1,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,wl("INTERNAL UNHANDLED ERROR: ",m1(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=Vw.createAndSchedule(this,e,t,i,u=>this.uc(u));return this.Zu.push(a),a}oc(){this.Xu&&dt(47125,{cc:m1(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function m1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const u of i)if(u in a&&typeof a[u]=="function")return!0;return!1}(n,["next","error","complete"])}class Bu extends W_{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new d1,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new d1(e),this._firestoreClient=void 0,await e}}}function _L(n,e){const t=typeof n=="object"?n:KA(),i=typeof n=="string"?n:l_,a=aw(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const u=KN("firestore");u&&vL(a,...u)}return a}function Hw(n){if(n._terminated)throw new Ke(Ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||EL(n),n._firestoreClient}function EL(n){var e,t,i;const a=n._freezeSettings(),u=function(m,g,v,E){return new qM(m,g,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Kx(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new dL(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pd(Qr.fromBase64String(e))}catch(t){throw new Ke(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pd(Qr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ke(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ke(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ke(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==a[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=/^__.*__$/;class wL{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new qu(e,this.data,this.fieldMask,t,this.fieldTransforms):new lg(e,this.data,t,this.fieldTransforms)}}class Qx{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new qu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Xx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ic:n})}}class $w{constructor(e,t,i,a,u,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new $w(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Vc(e),a}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return v_(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Xx(this.Ic)&&TL.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class bL{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||G_(e)}bc(e,t,i,a=!1){return new $w({Ic:e,methodName:t,wc:i,path:Wr.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Z_(n){const e=n._freezeSettings(),t=G_(n._databaseId);return new bL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Zx(n,e,t,i,a,u={}){const h=n.bc(u.merge||u.mergeFields?2:0,e,t,a);Yw("Data must be an object, but it was:",h,i);const m=Jx(i,h);let g,v;if(u.merge)g=new Ns(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const A=OT(e,S,t);if(!h.contains(A))throw new Ke(Ie.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);tC(E,A)||E.push(A)}g=new Ns(E),v=h.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,v=h.fieldTransforms;return new wL(new os(m),g,v)}class J_ extends X_{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof J_}}class Kw extends X_{_toFieldTransform(e){return new gP(e.path,new Kp)}isEqual(e){return e instanceof Kw}}function SL(n,e,t,i){const a=n.bc(1,e,t);Yw("Data must be an object, but it was:",a,i);const u=[],h=os.empty();Hu(i,(g,v)=>{const E=Ww(e,g,t);v=Ar(v);const S=a.mc(E);if(v instanceof J_)u.push(E);else{const A=hg(v,S);A!=null&&(u.push(E),h.set(E,A))}});const m=new Ns(u);return new Qx(h,m,a.fieldTransforms)}function AL(n,e,t,i,a,u){const h=n.bc(1,e,t),m=[OT(e,i,t)],g=[a];if(u.length%2!=0)throw new Ke(Ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(OT(e,u[A])),g.push(u[A+1]);const v=[],E=os.empty();for(let A=m.length-1;A>=0;--A)if(!tC(v,m[A])){const D=m[A];let M=g[A];M=Ar(M);const H=h.mc(D);if(M instanceof J_)v.push(D);else{const k=hg(M,H);k!=null&&(v.push(D),E.set(D,k))}}const S=new Ns(v);return new Qx(E,S,h.fieldTransforms)}function RL(n,e,t,i=!1){return hg(t,n.bc(i?4:3,e))}function hg(n,e){if(eC(n=Ar(n)))return Yw("Unsupported field value:",e,n),Jx(n,e);if(n instanceof X_)return function(i,a){if(!Xx(a.Ic))throw a.gc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(a);u&&a.fieldTransforms.push(u)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,a){const u=[];let h=0;for(const m of i){let g=hg(m,a.fc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(n,e)}return function(i,a){if((i=Ar(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return dP(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=br.fromDate(i);return{timestampValue:d_(a.serializer,u)}}if(i instanceof br){const u=new br(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:d_(a.serializer,u)}}if(i instanceof qw)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Pd)return{bytesValue:px(a.serializer,i._byteString)};if(i instanceof Vi){const u=a.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw a.gc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Iw(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Gw)return function(h,m){return{mapValue:{fields:{[qR]:{stringValue:GR},[u_]:{arrayValue:{values:h.toArray().map(v=>{if(typeof v!="number")throw m.gc("VectorValues must only contain numeric values.");return Aw(m.serializer,v)})}}}}}}(i,a);throw a.gc(`Unsupported field value: ${Y_(i)}`)}(n,e)}function Jx(n,e){const t={};return VR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hu(n,(i,a)=>{const u=hg(a,e.Ac(i));u!=null&&(t[i]=u)}),{mapValue:{fields:t}}}function eC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof br||n instanceof qw||n instanceof Pd||n instanceof Vi||n instanceof X_||n instanceof Gw)}function Yw(n,e,t){if(!eC(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=Y_(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function OT(n,e,t){if((e=Ar(e))instanceof Q_)return e._internalPath;if(typeof e=="string")return Ww(n,e);throw v_("Field path arguments must be of type string or ",n,!1,void 0,t)}const xL=new RegExp("[~\\*/\\[\\]]");function Ww(n,e,t){if(e.search(xL)>=0)throw v_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Q_(...e.split("."))._internalPath}catch{throw v_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function v_(n,e,t,i,a){const u=i&&!i.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${i}`),h&&(g+=` in document ${a}`),g+=")"),new Ke(Ie.INVALID_ARGUMENT,m+n+g)}function tC(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,t,i,a,u){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Vi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class CL extends nC{data(){return super.data()}}function Qw(n,e){return typeof e=="string"?Ww(n,e):e instanceof Q_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ke(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xw{}class IL extends Xw{}function NL(n,e,...t){let i=[];e instanceof Xw&&i.push(e),i=i.concat(t),function(u){const h=u.filter(g=>g instanceof Zw).length,m=u.filter(g=>g instanceof e0).length;if(h>1||h>0&&m>0)throw new Ke(Ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class e0 extends IL{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new e0(e,t,i)}_apply(e){const t=this._parse(e);return iC(e._query,t),new jf(e.firestore,e.converter,ET(e._query,t))}_parse(e){const t=Z_(e.firestore);return function(u,h,m,g,v,E,S){let A;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new Ke(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){y1(S,E);const M=[];for(const H of S)M.push(g1(g,u,H));A={arrayValue:{values:M}}}else A=g1(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||y1(S,E),A=RL(m,h,S,E==="in"||E==="not-in");return gr.create(v,E,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function DL(n,e,t){const i=e,a=Qw("where",n);return e0._create(a,i,t)}class Zw extends Xw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Zw(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Va.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,u){let h=a;const m=u.getFlattenedFilters();for(const g of m)iC(h,g),h=ET(h,g)}(e._query,t),new jf(e.firestore,e.converter,ET(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function g1(n,e,t){if(typeof(t=Ar(t))=="string"){if(t==="")throw new Ke(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JR(e)&&t.indexOf("/")!==-1)throw new Ke(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(On.fromString(t));if(!tt.isDocumentKey(i))throw new Ke(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return NS(n,new tt(i))}if(t instanceof Vi)return NS(n,t._key);throw new Ke(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Y_(t)}.`)}function y1(n,e){if(!Array.isArray(n)||n.length===0)throw new Ke(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iC(n,e){const t=function(a,u){for(const h of a)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ke(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ke(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class OL{convertValue(e,t="none"){switch(Uu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ku(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Hu(e,(a,u)=>{i[a]=this.convertValue(u,t)}),i}convertVectorValue(e){var t,i,a;const u=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[u_].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(h=>sr(h.doubleValue));return new Gw(u)}convertGeoPoint(e){return new qw(sr(e.latitude),sr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=j_(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(qp(e));default:return null}}convertTimestamp(e){const t=Lu(e);return new br(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=On.fromString(e);dn(Tx(i),9688,{name:e});const a=new Gp(i.get(1),i.get(3)),u=new tt(i.popFirst(5));return a.isEqual(t)||wl(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aC extends nC{constructor(e,t,i,a,u,h){super(e,t,i,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Qw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class qv extends aC{data(e={}){return super.data(e)}}class oC{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new xp(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new qv(this._firestore,this._userDataWriter,i.key,i,new xp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ke(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(m=>{const g=new qv(a._firestore,a._userDataWriter,m.doc.key,m.doc,new xp(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new qv(a._firestore,a._userDataWriter,m.doc.key,m.doc,new xp(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,E=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:ML(m.type),doc:g,oldIndex:v,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ML(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:n})}}class Jw extends OL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vi(this.firestore,null,t)}}function PL(n){n=sa(n,jf);const e=sa(n.firestore,Bu),t=Hw(e),i=new Jw(e);return rC(n._query),gL(t,n._query).then(a=>new oC(e,i,n,a))}function LL(n,e,t){n=sa(n,Vi);const i=sa(n.firestore,Bu),a=sC(n.converter,e);return t0(i,[Zx(Z_(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,ia.none())])}function lC(n,e,t,...i){n=sa(n,Vi);const a=sa(n.firestore,Bu),u=Z_(a);let h;return h=typeof(e=Ar(e))=="string"||e instanceof Q_?AL(u,"updateDoc",n._key,e,t,i):SL(u,"updateDoc",n._key,e),t0(a,[h.toMutation(n._key,ia.exists(!0))])}function kE(n){return t0(sa(n.firestore,Bu),[new Rw(n._key,ia.none())])}function kL(n,e){const t=sa(n.firestore,Bu),i=vf(n),a=sC(n.converter,e);return t0(t,[Zx(Z_(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,ia.exists(!1))]).then(()=>i)}function __(n,...e){var t,i,a;n=Ar(n);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||p1(e[h])||(u=e[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(p1(e[h])){const S=e[h];e[h]=(t=S.next)===null||t===void 0?void 0:t.bind(S),e[h+1]=(i=S.error)===null||i===void 0?void 0:i.bind(S),e[h+2]=(a=S.complete)===null||a===void 0?void 0:a.bind(S)}let g,v,E;if(n instanceof Vi)v=sa(n.firestore,Bu),E=Sw(n._key.path),g={next:S=>{e[h]&&e[h](UL(v,n,S))},error:e[h+1],complete:e[h+2]};else{const S=sa(n,jf);v=sa(S.firestore,Bu),E=S._query;const A=new Jw(v);g={next:D=>{e[h]&&e[h](new oC(v,A,S,D))},error:e[h+1],complete:e[h+2]},rC(n._query)}return function(A,D,M,H){const k=new Gx(H),B=new kx(D,k,M);return A.asyncQueue.enqueueAndForget(async()=>Px(await DT(A),B)),()=>{k.xu(),A.asyncQueue.enqueueAndForget(async()=>Lx(await DT(A),B))}}(Hw(v),E,m,g)}function t0(n,e){return function(i,a){const u=new Du;return i.asyncQueue.enqueueAndForget(async()=>iL(await pL(i),a,u)),u.promise}(Hw(n),e)}function UL(n,e,t){const i=t.docs.get(e._key),a=new Jw(n);return new aC(n,a,e._key,i,new xp(t.hasPendingWrites,t.fromCache),e.converter)}function jp(){return new Kw("serverTimestamp")}(function(e,t=!0){(function(a){zd=a})(Bd),Rd(new If("firestore",(i,{instanceIdentifier:a,options:u})=>{const h=i.getProvider("app").getImmediate(),m=new Bu(new xM(i.getProvider("auth-internal")),new NM(h,i.getProvider("app-check-internal")),function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Ke(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gp(v.options.projectId,E)}(h,a),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Iu(vS,_S,e),Iu(vS,_S,"esm2017")})();const VL={apiKey:"AIzaSyCLA_RFXrPvBdN_vrApCUlj28a82ownuzg",authDomain:"fire-set.firebaseapp.com",databaseURL:"https://fire-set.firebaseio.com",projectId:"fire-set",storageBucket:"fire-set.firebasestorage.app",messagingSenderId:"958559518798",appId:"1:958559518798:web:ec451bbfb4ac03f30ec31f",measurementId:"G-FCHHM3FEZE"},uC=$A(VL),Ld=bM(uC),_f=_L(uC);var _p={},v1;function jL(){if(v1)return _p;v1=1,Object.defineProperty(_p,"__esModule",{value:!0}),_p.parse=h,_p.serialize=v;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,D){const M=new u,H=A.length;if(H<2)return M;const k=(D==null?void 0:D.decode)||E;let B=0;do{const ee=A.indexOf("=",B);if(ee===-1)break;const te=A.indexOf(";",B),he=te===-1?H:te;if(ee>he){B=A.lastIndexOf(";",ee-1)+1;continue}const Q=m(A,B,ee),F=g(A,ee,Q),N=A.slice(Q,F);if(M[N]===void 0){let I=m(A,ee+1,he),O=g(A,he,I);const z=k(A.slice(I,O));M[N]=z}B=he+1}while(B<H);return M}function m(A,D,M){do{const H=A.charCodeAt(D);if(H!==32&&H!==9)return D}while(++D<M);return M}function g(A,D,M){for(;D>M;){const H=A.charCodeAt(--D);if(H!==32&&H!==9)return D+1}return M}function v(A,D,M){const H=(M==null?void 0:M.encode)||encodeURIComponent;if(!n.test(A))throw new TypeError(`argument name is invalid: ${A}`);const k=H(D);if(!e.test(k))throw new TypeError(`argument val is invalid: ${D}`);let B=A+"="+k;if(!M)return B;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);B+="; Max-Age="+M.maxAge}if(M.domain){if(!t.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);B+="; Domain="+M.domain}if(M.path){if(!i.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);B+="; Path="+M.path}if(M.expires){if(!S(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);B+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(B+="; HttpOnly"),M.secure&&(B+="; Secure"),M.partitioned&&(B+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return B}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function S(A){return a.call(A)==="[object Date]"}return _p}jL();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cC=n=>{throw TypeError(n)},BL=(n,e,t)=>e.has(n)||cC("Cannot "+t),UE=(n,e,t)=>(BL(n,e,"read from private field"),t?t.call(n):e.get(n)),FL=(n,e,t)=>e.has(n)?cC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),_1="popstate";function zL(n={}){function e(i,a){let{pathname:u,search:h,hash:m}=i.location;return Qp("",{pathname:u,search:h,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Fu(a)}return qL(e,t,null,n)}function Bt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function vr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HL(){return Math.random().toString(36).substring(2,10)}function E1(n,e){return{usr:n.state,key:n.key,idx:e}}function Qp(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Gu(e):e,state:t,key:e&&e.key||i||HL()}}function Fu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Gu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function qL(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:u=!1}=i,h=a.history,m="POP",g=null,v=E();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function E(){return(h.state||{idx:null}).idx}function S(){m="POP";let k=E(),B=k==null?null:k-v;v=k,g&&g({action:m,location:H.location,delta:B})}function A(k,B){m="PUSH";let ee=Qp(H.location,k,B);v=E()+1;let te=E1(ee,v),he=H.createHref(ee);try{h.pushState(te,"",he)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;a.location.assign(he)}u&&g&&g({action:m,location:H.location,delta:1})}function D(k,B){m="REPLACE";let ee=Qp(H.location,k,B);v=E();let te=E1(ee,v),he=H.createHref(ee);h.replaceState(te,"",he),u&&g&&g({action:m,location:H.location,delta:0})}function M(k){return fC(k)}let H={get action(){return m},get location(){return n(a,h)},listen(k){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(_1,S),g=k,()=>{a.removeEventListener(_1,S),g=null}},createHref(k){return e(a,k)},createURL:M,encodeLocation(k){let B=M(k);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:A,replace:D,go(k){return h.go(k)}};return H}function fC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Fu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}var Cp,T1=class{constructor(n){if(FL(this,Cp,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(UE(this,Cp).has(n))return UE(this,Cp).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){UE(this,Cp).set(n,e)}};Cp=new WeakMap;var GL=new Set(["lazy","caseSensitive","path","id","index","children"]);function $L(n){return GL.has(n)}var KL=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function YL(n){return KL.has(n)}function WL(n){return n.index===!0}function E_(n,e,t=[],i={}){return n.map((a,u)=>{let h=[...t,String(u)],m=typeof a.id=="string"?a.id:h.join("-");if(Bt(a.index!==!0||!a.children,"Cannot specify children on an index route"),Bt(!i[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),WL(a)){let g={...a,...e(a),id:m};return i[m]=g,g}else{let g={...a,...e(a),id:m,children:void 0};return i[m]=g,a.children&&(g.children=E_(a.children,e,h,i)),g}})}function Au(n,e,t="/"){return Gv(n,e,t,!1)}function Gv(n,e,t,i){let a=typeof e=="string"?Gu(e):e,u=aa(a.pathname||"/",t);if(u==null)return null;let h=hC(n);XL(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let v=l3(u);m=a3(h[g],v,i)}return m}function QL(n,e){let{route:t,pathname:i,params:a}=n;return{id:t.id,pathname:i,params:a,data:e[t.id],handle:t.handle}}function hC(n,e=[],t=[],i=""){let a=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Bt(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let v=Co([i,g.relativePath]),E=t.concat(g);u.children&&u.children.length>0&&(Bt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),hC(u.children,e,E,v)),!(u.path==null&&!u.index)&&e.push({path:v,score:i3(v,u.index),routesMeta:E})};return n.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))a(u,h);else for(let g of dC(u.path))a(u,h,g)}),e}function dC(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),u=t.replace(/\?$/,"");if(i.length===0)return a?[u,""]:[u];let h=dC(i.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),a&&m.push(...h),m.map(g=>n.startsWith("/")&&g===""?"/":g)}function XL(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:s3(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var ZL=/^:[\w-]+$/,JL=3,e3=2,t3=1,n3=10,r3=-2,w1=n=>n==="*";function i3(n,e){let t=n.split("/"),i=t.length;return t.some(w1)&&(i+=r3),e&&(i+=e3),t.filter(a=>!w1(a)).reduce((a,u)=>a+(ZL.test(u)?JL:u===""?t3:n3),i)}function s3(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function a3(n,e,t=!1){let{routesMeta:i}=n,a={},u="/",h=[];for(let m=0;m<i.length;++m){let g=i[m],v=m===i.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=T_({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},E),A=g.route;if(!S&&v&&t&&!i[i.length-1].route.index&&(S=T_({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(a,S.params),h.push({params:a,pathname:Co([u,S.pathname]),pathnameBase:f3(Co([u,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(u=Co([u,S.pathnameBase]))}return h}function T_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=o3(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let u=a[0],h=u.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:i.reduce((v,{paramName:E,isOptional:S},A)=>{if(E==="*"){let M=m[A]||"";h=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const D=m[A];return S&&!D?v[E]=void 0:v[E]=(D||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:n}}function o3(n,e=!1,t=!0){vr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(i.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function l3(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function aa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function u3(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Gu(n):n;return{pathname:t?t.startsWith("/")?t:c3(t,e):e,search:h3(i),hash:d3(a)}}function c3(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function VE(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function eb(n){let e=mC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function tb(n,e,t,i=!1){let a;typeof n=="string"?a=Gu(n):(a={...n},Bt(!a.pathname||!a.pathname.includes("?"),VE("?","pathname","search",a)),Bt(!a.pathname||!a.pathname.includes("#"),VE("#","pathname","hash",a)),Bt(!a.search||!a.search.includes("#"),VE("#","search","hash",a)));let u=n===""||a.pathname==="",h=u?"/":a.pathname,m;if(h==null)m=t;else{let S=e.length-1;if(!i&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),S-=1;a.pathname=A.join("/")}m=S>=0?e[S]:"/"}let g=u3(a,m),v=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(v||E)&&(g.pathname+="/"),g}var Co=n=>n.join("/").replace(/\/\/+/g,"/"),f3=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),h3=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,d3=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,w_=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Xp(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var pC=["POST","PUT","PATCH","DELETE"],m3=new Set(pC),p3=["GET",...pC],g3=new Set(p3),y3=new Set([301,302,303,307,308]),v3=new Set([307,308]),jE={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_3={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ep={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},nb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E3=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),gC="remix-router-transitions",yC=Symbol("ResetLoaderData");function T3(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Bt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.hydrationRouteProperties||[],a=n.mapRouteProperties||E3,u={},h=E_(n.routes,a,void 0,u),m,g=n.basename||"/",v=n.dataStrategy||R3,E={unstable_middleware:!1,...n.future},S=null,A=new Set,D=null,M=null,H=null,k=n.hydrationData!=null,B=Au(h,n.history.location,g),ee=!1,te=null,he;if(B==null&&!n.patchRoutesOnNavigation){let X=na(404,{pathname:n.history.location.pathname}),{matches:se,route:ue}=P1(h);he=!0,B=se,te={[ue.id]:X}}else if(B&&!n.hydrationData&&Ur(B,h,n.history.location.pathname).active&&(B=null),B)if(B.some(X=>X.route.lazy))he=!1;else if(!B.some(X=>X.route.loader))he=!0;else{let X=n.hydrationData?n.hydrationData.loaderData:null,se=n.hydrationData?n.hydrationData.errors:null;if(se){let ue=B.findIndex(Se=>se[Se.route.id]!==void 0);he=B.slice(0,ue+1).every(Se=>!PT(Se.route,X,se))}else he=B.every(ue=>!PT(ue.route,X,se))}else{he=!1,B=[];let X=Ur(null,h,n.history.location.pathname);X.active&&X.matches&&(ee=!0,B=X.matches)}let Q,F={historyAction:n.history.action,location:n.history.location,matches:B,initialized:he,navigation:jE,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||te,fetchers:new Map,blockers:new Map},N="POP",I=!1,O,z=!1,G=new Map,W=null,q=!1,je=!1,Ze=new Set,le=new Map,me=0,_e=-1,Me=new Map,$=new Set,pe=new Map,Ne=new Map,we=new Set,Ue=new Map,Ye,He=null;function mn(){if(S=n.history.listen(({action:X,location:se,delta:ue})=>{if(Ye){Ye(),Ye=void 0;return}vr(Ue.size===0||ue!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Se=Ha({currentLocation:F.location,nextLocation:se,historyAction:X});if(Se&&ue!=null){let Oe=new Promise(Ve=>{Ye=Ve});n.history.go(ue*-1),ei(Se,{state:"blocked",location:se,proceed(){ei(Se,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),Oe.then(()=>n.history.go(ue))},reset(){let Ve=new Map(F.blockers);Ve.set(Se,Ep),Zt({blockers:Ve})}});return}return Wt(X,se)}),t){U3(e,G);let X=()=>V3(e,G);e.addEventListener("pagehide",X),W=()=>e.removeEventListener("pagehide",X)}return F.initialized||Wt("POP",F.location,{initialHydration:!0}),Q}function Nt(){S&&S(),W&&W(),A.clear(),O&&O.abort(),F.fetchers.forEach((X,se)=>Pn(se)),F.blockers.forEach((X,se)=>hs(se))}function Mn(X){return A.add(X),()=>A.delete(X)}function Zt(X,se={}){F={...F,...X};let ue=[],Se=[];F.fetchers.forEach((Oe,Ve)=>{Oe.state==="idle"&&(we.has(Ve)?ue.push(Ve):Se.push(Ve))}),we.forEach(Oe=>{!F.fetchers.has(Oe)&&!le.has(Oe)&&ue.push(Oe)}),[...A].forEach(Oe=>Oe(F,{deletedFetchers:ue,viewTransitionOpts:se.viewTransitionOpts,flushSync:se.flushSync===!0})),ue.forEach(Oe=>Pn(Oe)),Se.forEach(Oe=>F.fetchers.delete(Oe))}function An(X,se,{flushSync:ue}={}){var Qe,nt;let Se=F.actionData!=null&&F.navigation.formMethod!=null&&Cs(F.navigation.formMethod)&&F.navigation.state==="loading"&&((Qe=X.state)==null?void 0:Qe._isRedirect)!==!0,Oe;se.actionData?Object.keys(se.actionData).length>0?Oe=se.actionData:Oe=null:Se?Oe=F.actionData:Oe=null;let Ve=se.loaderData?O1(F.loaderData,se.loaderData,se.matches||[],se.errors):F.loaderData,et=F.blockers;et.size>0&&(et=new Map(et),et.forEach(($e,st)=>et.set(st,Ep)));let Be=I===!0||F.navigation.formMethod!=null&&Cs(F.navigation.formMethod)&&((nt=X.state)==null?void 0:nt._isRedirect)!==!0;m&&(h=m,m=void 0),q||N==="POP"||(N==="PUSH"?n.history.push(X,X.state):N==="REPLACE"&&n.history.replace(X,X.state));let Ge;if(N==="POP"){let $e=G.get(F.location.pathname);$e&&$e.has(X.pathname)?Ge={currentLocation:F.location,nextLocation:X}:G.has(X.pathname)&&(Ge={currentLocation:X,nextLocation:F.location})}else if(z){let $e=G.get(F.location.pathname);$e?$e.add(X.pathname):($e=new Set([X.pathname]),G.set(F.location.pathname,$e)),Ge={currentLocation:F.location,nextLocation:X}}Zt({...se,actionData:Oe,loaderData:Ve,historyAction:N,location:X,initialized:!0,navigation:jE,revalidation:"idle",restoreScrollPosition:qa(X,se.matches||F.matches),preventScrollReset:Be,blockers:et},{viewTransitionOpts:Ge,flushSync:ue===!0}),N="POP",I=!1,z=!1,q=!1,je=!1,He==null||He.resolve(),He=null}async function qn(X,se){if(typeof X=="number"){n.history.go(X);return}let ue=MT(F.location,F.matches,g,X,se==null?void 0:se.fromRouteId,se==null?void 0:se.relative),{path:Se,submission:Oe,error:Ve}=b1(!1,ue,se),et=F.location,Be=Qp(F.location,Se,se&&se.state);Be={...Be,...n.history.encodeLocation(Be)};let Ge=se&&se.replace!=null?se.replace:void 0,Qe="PUSH";Ge===!0?Qe="REPLACE":Ge===!1||Oe!=null&&Cs(Oe.formMethod)&&Oe.formAction===F.location.pathname+F.location.search&&(Qe="REPLACE");let nt=se&&"preventScrollReset"in se?se.preventScrollReset===!0:void 0,$e=(se&&se.flushSync)===!0,st=Ha({currentLocation:et,nextLocation:Be,historyAction:Qe});if(st){ei(st,{state:"blocked",location:Be,proceed(){ei(st,{state:"proceeding",proceed:void 0,reset:void 0,location:Be}),qn(X,se)},reset(){let Rt=new Map(F.blockers);Rt.set(st,Ep),Zt({blockers:Rt})}});return}await Wt(Qe,Be,{submission:Oe,pendingError:Ve,preventScrollReset:nt,replace:se&&se.replace,enableViewTransition:se&&se.viewTransition,flushSync:$e})}function Rr(){He||(He=j3()),Zr(),Zt({revalidation:"loading"});let X=He.promise;return F.navigation.state==="submitting"?X:F.navigation.state==="idle"?(Wt(F.historyAction,F.location,{startUninterruptedRevalidation:!0}),X):(Wt(N||F.historyAction,F.navigation.location,{overrideNavigation:F.navigation,enableViewTransition:z===!0}),X)}async function Wt(X,se,ue){O&&O.abort(),O=null,N=X,q=(ue&&ue.startUninterruptedRevalidation)===!0,zi(F.location,F.matches),I=(ue&&ue.preventScrollReset)===!0,z=(ue&&ue.enableViewTransition)===!0;let Se=m||h,Oe=ue&&ue.overrideNavigation,Ve=ue!=null&&ue.initialHydration&&F.matches&&F.matches.length>0&&!ee?F.matches:Au(Se,se,g),et=(ue&&ue.flushSync)===!0;if(Ve&&F.initialized&&!je&&O3(F.location,se)&&!(ue&&ue.submission&&Cs(ue.submission.formMethod))){An(se,{matches:Ve},{flushSync:et});return}let Be=Ur(Ve,Se,se.pathname);if(Be.active&&Be.matches&&(Ve=Be.matches),!Ve){let{error:Qt,notFoundMatches:Lt,route:wt}=la(se.pathname);An(se,{matches:Lt,loaderData:{},errors:{[wt.id]:Qt}},{flushSync:et});return}O=new AbortController;let Ge=vd(n.history,se,O.signal,ue&&ue.submission),Qe=new T1(n.unstable_getContext?await n.unstable_getContext():void 0),nt;if(ue&&ue.pendingError)nt=[ff(Ve).route.id,{type:"error",error:ue.pendingError}];else if(ue&&ue.submission&&Cs(ue.submission.formMethod)){let Qt=await Dt(Ge,se,ue.submission,Ve,Qe,Be.active,ue&&ue.initialHydration===!0,{replace:ue.replace,flushSync:et});if(Qt.shortCircuited)return;if(Qt.pendingActionResult){let[Lt,wt]=Qt.pendingActionResult;if(xs(wt)&&Xp(wt.error)&&wt.error.status===404){O=null,An(se,{matches:Qt.matches,loaderData:{},errors:{[Lt]:wt.error}});return}}Ve=Qt.matches||Ve,nt=Qt.pendingActionResult,Oe=BE(se,ue.submission),et=!1,Be.active=!1,Ge=vd(n.history,Ge.url,Ge.signal)}let{shortCircuited:$e,matches:st,loaderData:Rt,errors:Jt}=await cs(Ge,se,Ve,Qe,Be.active,Oe,ue&&ue.submission,ue&&ue.fetcherSubmission,ue&&ue.replace,ue&&ue.initialHydration===!0,et,nt);$e||(O=null,An(se,{matches:st||Ve,...M1(nt),loaderData:Rt,errors:Jt}))}async function Dt(X,se,ue,Se,Oe,Ve,et,Be={}){Zr();let Ge=L3(se,ue);if(Zt({navigation:Ge},{flushSync:Be.flushSync===!0}),Ve){let $e=await Ps(Se,se.pathname,X.signal);if($e.type==="aborted")return{shortCircuited:!0};if($e.type==="error"){let st=ff($e.partialMatches).route.id;return{matches:$e.partialMatches,pendingActionResult:[st,{type:"error",error:$e.error}]}}else if($e.matches)Se=$e.matches;else{let{notFoundMatches:st,error:Rt,route:Jt}=la(se.pathname);return{matches:st,pendingActionResult:[Jt.id,{type:"error",error:Rt}]}}}let Qe,nt=Ip(Se,se);if(!nt.route.action&&!nt.route.lazy)Qe={type:"error",error:na(405,{method:X.method,pathname:se.pathname,routeId:nt.route.id})};else{let $e=Ad(a,u,X,Se,nt,et?[]:i,Oe),st=await Er(X,$e,Oe,null);if(Qe=st[nt.route.id],!Qe){for(let Rt of Se)if(st[Rt.route.id]){Qe=st[Rt.route.id];break}}if(X.signal.aborted)return{shortCircuited:!0}}if(Ef(Qe)){let $e;return Be&&Be.replace!=null?$e=Be.replace:$e=I1(Qe.response.headers.get("Location"),new URL(X.url),g)===F.location.pathname+F.location.search,await _r(X,Qe,!0,{submission:ue,replace:$e}),{shortCircuited:!0}}if(xs(Qe)){let $e=ff(Se,nt.route.id);return(Be&&Be.replace)!==!0&&(N="PUSH"),{matches:Se,pendingActionResult:[$e.route.id,Qe,nt.route.id]}}return{matches:Se,pendingActionResult:[nt.route.id,Qe]}}async function cs(X,se,ue,Se,Oe,Ve,et,Be,Ge,Qe,nt,$e){let st=Ve||BE(se,et),Rt=et||Be||k1(st),Jt=!q&&!Qe;if(Oe){if(Jt){let Fn=an($e);Zt({navigation:st,...Fn!==void 0?{actionData:Fn}:{}},{flushSync:nt})}let ft=await Ps(ue,se.pathname,X.signal);if(ft.type==="aborted")return{shortCircuited:!0};if(ft.type==="error"){let Fn=ff(ft.partialMatches).route.id;return{matches:ft.partialMatches,loaderData:{},errors:{[Fn]:ft.error}}}else if(ft.matches)ue=ft.matches;else{let{error:Fn,notFoundMatches:ti,route:ni}=la(se.pathname);return{matches:ti,loaderData:{},errors:{[ni.id]:Fn}}}}let Qt=m||h,{dsMatches:Lt,revalidatingFetchers:wt}=S1(X,Se,a,u,n.history,F,ue,Rt,se,Qe?[]:i,Qe===!0,je,Ze,we,pe,$,Qt,g,n.patchRoutesOnNavigation!=null,$e);if(_e=++me,!n.dataStrategy&&!Lt.some(ft=>ft.shouldLoad)&&wt.length===0){let ft=Bi();return An(se,{matches:ue,loaderData:{},errors:$e&&xs($e[1])?{[$e[0]]:$e[1].error}:null,...M1($e),...ft?{fetchers:new Map(F.fetchers)}:{}},{flushSync:nt}),{shortCircuited:!0}}if(Jt){let ft={};if(!Oe){ft.navigation=st;let Fn=an($e);Fn!==void 0&&(ft.actionData=Fn)}wt.length>0&&(ft.fetchers=Fa(wt)),Zt(ft,{flushSync:nt})}wt.forEach(ft=>{Jr(ft.key),ft.controller&&le.set(ft.key,ft.controller)});let Hi=()=>wt.forEach(ft=>Jr(ft.key));O&&O.signal.addEventListener("abort",Hi);let{loaderResults:Qn,fetcherResults:Vr}=await fs(Lt,wt,X,Se);if(X.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",Hi),wt.forEach(ft=>le.delete(ft.key));let Gn=xv(Qn);if(Gn)return await _r(X,Gn.result,!0,{replace:Ge}),{shortCircuited:!0};if(Gn=xv(Vr),Gn)return $.add(Gn.key),await _r(X,Gn.result,!0,{replace:Ge}),{shortCircuited:!0};let{loaderData:ks,errors:xr}=D1(F,ue,Qn,$e,wt,Vr);Qe&&F.errors&&(xr={...F.errors,...xr});let Ga=Bi(),Cr=Fi(_e),jr=Ga||Cr||wt.length>0;return{matches:ue,loaderData:ks,errors:xr,...jr?{fetchers:new Map(F.fetchers)}:{}}}function an(X){if(X&&!xs(X[1]))return{[X[0]]:X[1].data};if(F.actionData)return Object.keys(F.actionData).length===0?null:F.actionData}function Fa(X){return X.forEach(se=>{let ue=F.fetchers.get(se.key),Se=Tp(void 0,ue?ue.data:void 0);F.fetchers.set(se.key,Se)}),new Map(F.fetchers)}async function oa(X,se,ue,Se){Jr(X);let Oe=(Se&&Se.flushSync)===!0,Ve=m||h,et=MT(F.location,F.matches,g,ue,se,Se==null?void 0:Se.relative),Be=Au(Ve,et,g),Ge=Ur(Be,Ve,et);if(Ge.active&&Ge.matches&&(Be=Ge.matches),!Be){it(X,se,na(404,{pathname:et}),{flushSync:Oe});return}let{path:Qe,submission:nt,error:$e}=b1(!0,et,Se);if($e){it(X,se,$e,{flushSync:Oe});return}let st=Ip(Be,Qe),Rt=new T1(n.unstable_getContext?await n.unstable_getContext():void 0),Jt=(Se&&Se.preventScrollReset)===!0;if(nt&&Cs(nt.formMethod)){await Xr(X,se,Qe,st,Be,Rt,Ge.active,Oe,Jt,nt);return}pe.set(X,{routeId:se,path:Qe}),await Bn(X,se,Qe,st,Be,Rt,Ge.active,Oe,Jt,nt)}async function Xr(X,se,ue,Se,Oe,Ve,et,Be,Ge,Qe){Zr(),pe.delete(X);function nt(pn){if(!pn.route.action&&!pn.route.lazy){let qi=na(405,{method:Qe.formMethod,pathname:ue,routeId:se});return it(X,se,qi,{flushSync:Be}),!0}return!1}if(!et&&nt(Se))return;let $e=F.fetchers.get(X);qe(X,k3(Qe,$e),{flushSync:Be});let st=new AbortController,Rt=vd(n.history,ue,st.signal,Qe);if(et){let pn=await Ps(Oe,ue,Rt.signal,X);if(pn.type==="aborted")return;if(pn.type==="error"){it(X,se,pn.error,{flushSync:Be});return}else if(pn.matches){if(Oe=pn.matches,Se=Ip(Oe,ue),nt(Se))return}else{it(X,se,na(404,{pathname:ue}),{flushSync:Be});return}}le.set(X,st);let Jt=me,Qt=Ad(a,u,Rt,Oe,Se,i,Ve),wt=(await Er(Rt,Qt,Ve,X))[Se.route.id];if(Rt.signal.aborted){le.get(X)===st&&le.delete(X);return}if(we.has(X)){if(Ef(wt)||xs(wt)){qe(X,Eu(void 0));return}}else{if(Ef(wt))if(le.delete(X),_e>Jt){qe(X,Eu(void 0));return}else return $.add(X),qe(X,Tp(Qe)),_r(Rt,wt,!1,{fetcherSubmission:Qe,preventScrollReset:Ge});if(xs(wt)){it(X,se,wt.error);return}}let Hi=F.navigation.location||F.location,Qn=vd(n.history,Hi,st.signal),Vr=m||h,Gn=F.navigation.state!=="idle"?Au(Vr,F.navigation.location,g):F.matches;Bt(Gn,"Didn't find any matches after fetcher action");let ks=++me;Me.set(X,ks);let xr=Tp(Qe,wt.data);F.fetchers.set(X,xr);let{dsMatches:Ga,revalidatingFetchers:Cr}=S1(Qn,Ve,a,u,n.history,F,Gn,Qe,Hi,i,!1,je,Ze,we,pe,$,Vr,g,n.patchRoutesOnNavigation!=null,[Se.route.id,wt]);Cr.filter(pn=>pn.key!==X).forEach(pn=>{let qi=pn.key,Vs=F.fetchers.get(qi),ar=Tp(void 0,Vs?Vs.data:void 0);F.fetchers.set(qi,ar),Jr(qi),pn.controller&&le.set(qi,pn.controller)}),Zt({fetchers:new Map(F.fetchers)});let jr=()=>Cr.forEach(pn=>Jr(pn.key));st.signal.addEventListener("abort",jr);let{loaderResults:ft,fetcherResults:Fn}=await fs(Ga,Cr,Qn,Ve);if(st.signal.aborted)return;if(st.signal.removeEventListener("abort",jr),Me.delete(X),le.delete(X),Cr.forEach(pn=>le.delete(pn.key)),F.fetchers.has(X)){let pn=Eu(wt.data);F.fetchers.set(X,pn)}let ti=xv(ft);if(ti)return _r(Qn,ti.result,!1,{preventScrollReset:Ge});if(ti=xv(Fn),ti)return $.add(ti.key),_r(Qn,ti.result,!1,{preventScrollReset:Ge});let{loaderData:ni,errors:Us}=D1(F,Gn,ft,void 0,Cr,Fn);Fi(ks),F.navigation.state==="loading"&&ks>_e?(Bt(N,"Expected pending action"),O&&O.abort(),An(F.navigation.location,{matches:Gn,loaderData:ni,errors:Us,fetchers:new Map(F.fetchers)})):(Zt({errors:Us,loaderData:O1(F.loaderData,ni,Gn,Us),fetchers:new Map(F.fetchers)}),je=!1)}async function Bn(X,se,ue,Se,Oe,Ve,et,Be,Ge,Qe){let nt=F.fetchers.get(X);qe(X,Tp(Qe,nt?nt.data:void 0),{flushSync:Be});let $e=new AbortController,st=vd(n.history,ue,$e.signal);if(et){let wt=await Ps(Oe,ue,st.signal,X);if(wt.type==="aborted")return;if(wt.type==="error"){it(X,se,wt.error,{flushSync:Be});return}else if(wt.matches)Oe=wt.matches,Se=Ip(Oe,ue);else{it(X,se,na(404,{pathname:ue}),{flushSync:Be});return}}le.set(X,$e);let Rt=me,Jt=Ad(a,u,st,Oe,Se,i,Ve),Lt=(await Er(st,Jt,Ve,X))[Se.route.id];if(le.get(X)===$e&&le.delete(X),!st.signal.aborted){if(we.has(X)){qe(X,Eu(void 0));return}if(Ef(Lt))if(_e>Rt){qe(X,Eu(void 0));return}else{$.add(X),await _r(st,Lt,!1,{preventScrollReset:Ge});return}if(xs(Lt)){it(X,se,Lt.error);return}qe(X,Eu(Lt.data))}}async function _r(X,se,ue,{submission:Se,fetcherSubmission:Oe,preventScrollReset:Ve,replace:et}={}){se.response.headers.has("X-Remix-Revalidate")&&(je=!0);let Be=se.response.headers.get("Location");Bt(Be,"Expected a Location header on the redirect Response"),Be=I1(Be,new URL(X.url),g);let Ge=Qp(F.location,Be,{_isRedirect:!0});if(t){let Jt=!1;if(se.response.headers.has("X-Remix-Reload-Document"))Jt=!0;else if(nb.test(Be)){const Qt=fC(Be,!0);Jt=Qt.origin!==e.location.origin||aa(Qt.pathname,g)==null}if(Jt){et?e.location.replace(Be):e.location.assign(Be);return}}O=null;let Qe=et===!0||se.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:nt,formAction:$e,formEncType:st}=F.navigation;!Se&&!Oe&&nt&&$e&&st&&(Se=k1(F.navigation));let Rt=Se||Oe;if(v3.has(se.response.status)&&Rt&&Cs(Rt.formMethod))await Wt(Qe,Ge,{submission:{...Rt,formAction:Be},preventScrollReset:Ve||I,enableViewTransition:ue?z:void 0});else{let Jt=BE(Ge,Se);await Wt(Qe,Ge,{overrideNavigation:Jt,fetcherSubmission:Oe,preventScrollReset:Ve||I,enableViewTransition:ue?z:void 0})}}async function Er(X,se,ue,Se){let Oe,Ve={};try{Oe=await x3(v,X,se,Se,ue,!1)}catch(et){return se.filter(Be=>Be.shouldLoad).forEach(Be=>{Ve[Be.route.id]={type:"error",error:et}}),Ve}if(X.signal.aborted)return Ve;for(let[et,Be]of Object.entries(Oe))if(M3(Be)){let Ge=Be.result;Ve[et]={type:"redirect",response:N3(Ge,X,et,se,g)}}else Ve[et]=await I3(Be);return Ve}async function fs(X,se,ue,Se){let Oe=Er(ue,X,Se,null),Ve=Promise.all(se.map(async Ge=>{if(Ge.matches&&Ge.match&&Ge.request&&Ge.controller){let nt=(await Er(Ge.request,Ge.matches,Se,Ge.key))[Ge.match.route.id];return{[Ge.key]:nt}}else return Promise.resolve({[Ge.key]:{type:"error",error:na(404,{pathname:Ge.path})}})})),et=await Oe,Be=(await Ve).reduce((Ge,Qe)=>Object.assign(Ge,Qe),{});return{loaderResults:et,fetcherResults:Be}}function Zr(){je=!0,pe.forEach((X,se)=>{le.has(se)&&Ze.add(se),Jr(se)})}function qe(X,se,ue={}){F.fetchers.set(X,se),Zt({fetchers:new Map(F.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function it(X,se,ue,Se={}){let Oe=ff(F.matches,se);Pn(X),Zt({errors:{[Oe.route.id]:ue},fetchers:new Map(F.fetchers)},{flushSync:(Se&&Se.flushSync)===!0})}function Rn(X){return Ne.set(X,(Ne.get(X)||0)+1),we.has(X)&&we.delete(X),F.fetchers.get(X)||_3}function Pn(X){let se=F.fetchers.get(X);le.has(X)&&!(se&&se.state==="loading"&&Me.has(X))&&Jr(X),pe.delete(X),Me.delete(X),$.delete(X),we.delete(X),Ze.delete(X),F.fetchers.delete(X)}function za(X){let se=(Ne.get(X)||0)-1;se<=0?(Ne.delete(X),we.add(X)):Ne.set(X,se),Zt({fetchers:new Map(F.fetchers)})}function Jr(X){let se=le.get(X);se&&(se.abort(),le.delete(X))}function ji(X){for(let se of X){let ue=Rn(se),Se=Eu(ue.data);F.fetchers.set(se,Se)}}function Bi(){let X=[],se=!1;for(let ue of $){let Se=F.fetchers.get(ue);Bt(Se,`Expected fetcher: ${ue}`),Se.state==="loading"&&($.delete(ue),X.push(ue),se=!0)}return ji(X),se}function Fi(X){let se=[];for(let[ue,Se]of Me)if(Se<X){let Oe=F.fetchers.get(ue);Bt(Oe,`Expected fetcher: ${ue}`),Oe.state==="loading"&&(Jr(ue),Me.delete(ue),se.push(ue))}return ji(se),se.length>0}function kr(X,se){let ue=F.blockers.get(X)||Ep;return Ue.get(X)!==se&&Ue.set(X,se),ue}function hs(X){F.blockers.delete(X),Ue.delete(X)}function ei(X,se){let ue=F.blockers.get(X)||Ep;Bt(ue.state==="unblocked"&&se.state==="blocked"||ue.state==="blocked"&&se.state==="blocked"||ue.state==="blocked"&&se.state==="proceeding"||ue.state==="blocked"&&se.state==="unblocked"||ue.state==="proceeding"&&se.state==="unblocked",`Invalid blocker state transition: ${ue.state} -> ${se.state}`);let Se=new Map(F.blockers);Se.set(X,se),Zt({blockers:Se})}function Ha({currentLocation:X,nextLocation:se,historyAction:ue}){if(Ue.size===0)return;Ue.size>1&&vr(!1,"A router only supports one blocker at a time");let Se=Array.from(Ue.entries()),[Oe,Ve]=Se[Se.length-1],et=F.blockers.get(Oe);if(!(et&&et.state==="proceeding")&&Ve({currentLocation:X,nextLocation:se,historyAction:ue}))return Oe}function la(X){let se=na(404,{pathname:X}),ue=m||h,{matches:Se,route:Oe}=P1(ue);return{notFoundMatches:Se,route:Oe,error:se}}function Mo(X,se,ue){if(D=X,H=se,M=ue||null,!k&&F.navigation===jE){k=!0;let Se=qa(F.location,F.matches);Se!=null&&Zt({restoreScrollPosition:Se})}return()=>{D=null,H=null,M=null}}function Ri(X,se){return M&&M(X,se.map(Se=>QL(Se,F.loaderData)))||X.key}function zi(X,se){if(D&&H){let ue=Ri(X,se);D[ue]=H()}}function qa(X,se){if(D){let ue=Ri(X,se),Se=D[ue];if(typeof Se=="number")return Se}return null}function Ur(X,se,ue){if(n.patchRoutesOnNavigation)if(X){if(Object.keys(X[0].params).length>0)return{active:!0,matches:Gv(se,ue,g,!0)}}else return{active:!0,matches:Gv(se,ue,g,!0)||[]};return{active:!1,matches:null}}async function Ps(X,se,ue,Se){if(!n.patchRoutesOnNavigation)return{type:"success",matches:X};let Oe=X;for(;;){let Ve=m==null,et=m||h,Be=u;try{await n.patchRoutesOnNavigation({signal:ue,path:se,matches:Oe,fetcherKey:Se,patch:(nt,$e)=>{ue.aborted||A1(nt,$e,et,Be,a)}})}catch(nt){return{type:"error",error:nt,partialMatches:Oe}}finally{Ve&&!ue.aborted&&(h=[...h])}if(ue.aborted)return{type:"aborted"};let Ge=Au(et,se,g);if(Ge)return{type:"success",matches:Ge};let Qe=Gv(et,se,g,!0);if(!Qe||Oe.length===Qe.length&&Oe.every((nt,$e)=>nt.route.id===Qe[$e].route.id))return{type:"success",matches:null};Oe=Qe}}function Ls(X){u={},m=E_(X,a,void 0,u)}function ua(X,se){let ue=m==null;A1(X,se,m||h,u,a),ue&&(h=[...h],Zt({}))}return Q={get basename(){return g},get future(){return E},get state(){return F},get routes(){return h},get window(){return e},initialize:mn,subscribe:Mn,enableScrollRestoration:Mo,navigate:qn,fetch:oa,revalidate:Rr,createHref:X=>n.history.createHref(X),encodeLocation:X=>n.history.encodeLocation(X),getFetcher:Rn,deleteFetcher:za,dispose:Nt,getBlocker:kr,deleteBlocker:hs,patchRoutes:ua,_internalFetchControllers:le,_internalSetRoutes:Ls},Q}function w3(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function MT(n,e,t,i,a,u){let h,m;if(a){h=[];for(let v of e)if(h.push(v),v.route.id===a){m=v;break}}else h=e,m=e[e.length-1];let g=tb(i||".",eb(h),aa(n.pathname,t)||n.pathname,u==="path");if(i==null&&(g.search=n.search,g.hash=n.hash),(i==null||i===""||i===".")&&m){let v=rb(g.search);if(m.route.index&&!v)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&v){let E=new URLSearchParams(g.search),S=E.getAll("index");E.delete("index"),S.filter(D=>D).forEach(D=>E.append("index",D));let A=E.toString();g.search=A?`?${A}`:""}}return t!=="/"&&(g.pathname=g.pathname==="/"?t:Co([t,g.pathname])),Fu(g)}function b1(n,e,t){if(!t||!w3(t))return{path:e};if(t.formMethod&&!P3(t.formMethod))return{path:e,error:na(405,{method:t.formMethod})};let i=()=>({path:e,error:na(400,{type:"invalid-body"})}),u=(t.formMethod||"get").toUpperCase(),h=bC(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Cs(u))return i();let S=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((A,[D,M])=>`${A}${D}=${M}
`,""):String(t.body);return{path:e,submission:{formMethod:u,formAction:h,formEncType:t.formEncType,formData:void 0,json:void 0,text:S}}}else if(t.formEncType==="application/json"){if(!Cs(u))return i();try{let S=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:u,formAction:h,formEncType:t.formEncType,formData:void 0,json:S,text:void 0}}}catch{return i()}}}Bt(typeof FormData=="function","FormData is not available in this environment");let m,g;if(t.formData)m=kT(t.formData),g=t.formData;else if(t.body instanceof FormData)m=kT(t.body),g=t.body;else if(t.body instanceof URLSearchParams)m=t.body,g=N1(m);else if(t.body==null)m=new URLSearchParams,g=new FormData;else try{m=new URLSearchParams(t.body),g=N1(m)}catch{return i()}let v={formMethod:u,formAction:h,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(Cs(v.formMethod))return{path:e,submission:v};let E=Gu(e);return n&&E.search&&rb(E.search)&&m.append("index",""),E.search=`?${m}`,{path:Fu(E),submission:v}}function S1(n,e,t,i,a,u,h,m,g,v,E,S,A,D,M,H,k,B,ee,te){var q;let he=te?xs(te[1])?te[1].error:te[1].data:void 0,Q=a.createURL(u.location),F=a.createURL(g),N;if(E&&u.errors){let je=Object.keys(u.errors)[0];N=h.findIndex(Ze=>Ze.route.id===je)}else if(te&&xs(te[1])){let je=te[0];N=h.findIndex(Ze=>Ze.route.id===je)-1}let I=te?te[1].statusCode:void 0,O=I&&I>=400,z={currentUrl:Q,currentParams:((q=u.matches[0])==null?void 0:q.params)||{},nextUrl:F,nextParams:h[0].params,...m,actionResult:he,actionStatus:I},G=h.map((je,Ze)=>{let{route:le}=je,me=null;if(N!=null&&Ze>N?me=!1:le.lazy?me=!0:le.loader==null?me=!1:E?me=PT(le,u.loaderData,u.errors):b3(u.loaderData,u.matches[Ze],je)&&(me=!0),me!==null)return LT(t,i,n,je,v,e,me);let _e=O?!1:S||Q.pathname+Q.search===F.pathname+F.search||Q.search!==F.search||S3(u.matches[Ze],je),Me={...z,defaultShouldRevalidate:_e},$=b_(je,Me);return LT(t,i,n,je,v,e,$,Me)}),W=[];return M.forEach((je,Ze)=>{if(E||!h.some(we=>we.route.id===je.routeId)||D.has(Ze))return;let le=u.fetchers.get(Ze),me=le&&le.state!=="idle"&&le.data===void 0,_e=Au(k,je.path,B);if(!_e){if(ee&&me)return;W.push({key:Ze,routeId:je.routeId,path:je.path,matches:null,match:null,request:null,controller:null});return}if(H.has(Ze))return;let Me=Ip(_e,je.path),$=new AbortController,pe=vd(a,je.path,$.signal),Ne=null;if(A.has(Ze))A.delete(Ze),Ne=Ad(t,i,pe,_e,Me,v,e);else if(me)S&&(Ne=Ad(t,i,pe,_e,Me,v,e));else{let we={...z,defaultShouldRevalidate:O?!1:S};b_(Me,we)&&(Ne=Ad(t,i,pe,_e,Me,v,e,we))}Ne&&W.push({key:Ze,routeId:je.routeId,path:je.path,matches:Ne,match:Me,request:pe,controller:$})}),{dsMatches:G,revalidatingFetchers:W}}function PT(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&n.id in e,a=t!=null&&t[n.id]!==void 0;return!i&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!a}function b3(n,e,t){let i=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return i||a}function S3(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function b_(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function A1(n,e,t,i,a){let u;if(n){let g=i[n];Bt(g,`No route found to patch children into: routeId = ${n}`),g.children||(g.children=[]),u=g.children}else u=t;let h=e.filter(g=>!u.some(v=>vC(g,v))),m=E_(h,a,[n||"_","patch",String((u==null?void 0:u.length)||"0")],i);u.push(...m)}function vC(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var a;return(a=e.children)==null?void 0:a.some(u=>vC(t,u))}):!1}var R1=new WeakMap,_C=({key:n,route:e,manifest:t,mapRouteProperties:i})=>{let a=t[e.id];if(Bt(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let u=a.lazy[n];if(!u)return;let h=R1.get(a);h||(h={},R1.set(a,h));let m=h[n];if(m)return m;let g=(async()=>{let v=$L(n),S=a[n]!==void 0&&n!=="hasErrorBoundary";if(v)vr(!v,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),h[n]=Promise.resolve();else if(S)vr(!1,`Route "${a.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let A=await u();A!=null&&(Object.assign(a,{[n]:A}),Object.assign(a,i(a)))}typeof a.lazy=="object"&&(a.lazy[n]=void 0,Object.values(a.lazy).every(A=>A===void 0)&&(a.lazy=void 0))})();return h[n]=g,g},x1=new WeakMap;function A3(n,e,t,i,a){let u=t[n.id];if(Bt(u,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let E=x1.get(u);if(E)return{lazyRoutePromise:E,lazyHandlerPromise:E};let S=(async()=>{Bt(typeof n.lazy=="function","No lazy route function found");let A=await n.lazy(),D={};for(let M in A){let H=A[M];if(H===void 0)continue;let k=YL(M),ee=u[M]!==void 0&&M!=="hasErrorBoundary";k?vr(!k,"Route property "+M+" is not a supported property to be returned from a lazy route function. This property will be ignored."):ee?vr(!ee,`Route "${u.id}" has a static property "${M}" defined but its lazy function is also returning a value for this property. The lazy route property "${M}" will be ignored.`):D[M]=H}Object.assign(u,D),Object.assign(u,{...i(u),lazy:void 0})})();return x1.set(u,S),S.catch(()=>{}),{lazyRoutePromise:S,lazyHandlerPromise:S}}let h=Object.keys(n.lazy),m=[],g;for(let E of h){if(a&&a.includes(E))continue;let S=_C({key:E,route:n,manifest:t,mapRouteProperties:i});S&&(m.push(S),E===e&&(g=S))}let v=m.length>0?Promise.all(m).then(()=>{}):void 0;return v==null||v.catch(()=>{}),g==null||g.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:g}}async function C1(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,u)=>{t[e[u].route.id]=a}),t}async function R3(n){return n.matches.some(e=>e.route.unstable_middleware)?EC(n,!1,()=>C1(n),(e,t)=>({[t]:{type:"error",result:e}})):C1(n)}async function EC(n,e,t,i){let{matches:a,request:u,params:h,context:m}=n,g={handlerResult:void 0};try{let v=a.flatMap(S=>S.route.unstable_middleware?S.route.unstable_middleware.map(A=>[S.route.id,A]):[]),E=await TC({request:u,params:h,context:m},v,e,g,t);return e?E:g.handlerResult}catch(v){if(!g.middlewareError)throw v;let E=await i(g.middlewareError.error,g.middlewareError.routeId);return g.handlerResult?Object.assign(g.handlerResult,E):E}}async function TC(n,e,t,i,a,u=0){let{request:h}=n;if(h.signal.aborted)throw h.signal.reason?h.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${h.method} ${h.url}`);let m=e[u];if(!m)return i.handlerResult=await a(),i.handlerResult;let[g,v]=m,E=!1,S,A=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");E=!0,await TC(n,e,t,i,a,u+1)};try{let D=await v({request:n.request,params:n.params,context:n.context},A);return E?D===void 0?S:D:A()}catch(D){throw i.middlewareError?i.middlewareError.error!==D&&(i.middlewareError={routeId:g,error:D}):i.middlewareError={routeId:g,error:D},D}}function wC(n,e,t,i,a){let u=_C({key:"unstable_middleware",route:i.route,manifest:e,mapRouteProperties:n}),h=A3(i.route,Cs(t.method)?"action":"loader",e,n,a);return{middleware:u,route:h.lazyRoutePromise,handler:h.lazyHandlerPromise}}function LT(n,e,t,i,a,u,h,m=null){let g=!1,v=wC(n,e,t,i,a);return{...i,_lazyPromises:v,shouldLoad:h,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(E){return g=!0,m?typeof E=="boolean"?b_(i,{...m,defaultShouldRevalidate:E}):b_(i,m):h},resolve(E){return g||h||E&&t.method==="GET"&&(i.route.lazy||i.route.loader)?C3({request:t,match:i,lazyHandlerPromise:v==null?void 0:v.handler,lazyRoutePromise:v==null?void 0:v.route,handlerOverride:E,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function Ad(n,e,t,i,a,u,h,m=null){return i.map(g=>g.route.id!==a.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:wC(n,e,t,g,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:LT(n,e,t,g,u,h,!0,m))}async function x3(n,e,t,i,a,u){t.some(v=>{var E;return(E=v._lazyPromises)==null?void 0:E.middleware})&&await Promise.all(t.map(v=>{var E;return(E=v._lazyPromises)==null?void 0:E.middleware}));let h={request:e,params:t[0].params,context:a,matches:t},g=await n({...h,fetcherKey:i,unstable_runClientMiddleware:v=>{let E=h;return EC(E,!1,()=>v({...E,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(S,A)=>({[A]:{type:"error",result:S}}))}});try{await Promise.all(t.flatMap(v=>{var E,S;return[(E=v._lazyPromises)==null?void 0:E.handler,(S=v._lazyPromises)==null?void 0:S.route]}))}catch{}return g}async function C3({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:i,handlerOverride:a,scopedContext:u}){let h,m,g=Cs(n.method),v=g?"action":"loader",E=S=>{let A,D=new Promise((k,B)=>A=B);m=()=>A(),n.signal.addEventListener("abort",m);let M=k=>typeof S!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${v}" [routeId: ${e.route.id}]`)):S({request:n,params:e.params,context:u},...k!==void 0?[k]:[]),H=(async()=>{try{return{type:"data",result:await(a?a(B=>M(B)):M())}}catch(k){return{type:"error",result:k}}})();return Promise.race([H,D])};try{let S=g?e.route.action:e.route.loader;if(t||i)if(S){let A,[D]=await Promise.all([E(S).catch(M=>{A=M}),t,i]);if(A!==void 0)throw A;h=D}else{await t;let A=g?e.route.action:e.route.loader;if(A)[h]=await Promise.all([E(A),i]);else if(v==="action"){let D=new URL(n.url),M=D.pathname+D.search;throw na(405,{method:n.method,pathname:M,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(S)h=await E(S);else{let A=new URL(n.url),D=A.pathname+A.search;throw na(404,{pathname:D})}}catch(S){return{type:"error",result:S}}finally{m&&n.signal.removeEventListener("abort",m)}return h}async function I3(n){var i,a,u,h,m,g;let{result:e,type:t}=n;if(SC(e)){let v;try{let E=e.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?e.body==null?v=null:v=await e.json():v=await e.text()}catch(E){return{type:"error",error:E}}return t==="error"?{type:"error",error:new w_(e.status,e.statusText,v),statusCode:e.status,headers:e.headers}:{type:"data",data:v,statusCode:e.status,headers:e.headers}}return t==="error"?L1(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new w_(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:Xp(e)?e.status:void 0,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Xp(e)?e.status:void 0}:L1(e)?{type:"data",data:e.data,statusCode:(m=e.init)==null?void 0:m.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function N3(n,e,t,i,a){let u=n.headers.get("Location");if(Bt(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!nb.test(u)){let h=i.slice(0,i.findIndex(m=>m.route.id===t)+1);u=MT(new URL(e.url),h,a,u),n.headers.set("Location",u)}return n}function I1(n,e,t){if(nb.test(n)){let i=n,a=i.startsWith("//")?new URL(e.protocol+i):new URL(i),u=aa(a.pathname,t)!=null;if(a.origin===e.origin&&u)return a.pathname+a.search+a.hash}return n}function vd(n,e,t,i){let a=n.createURL(bC(e)).toString(),u={signal:t};if(i&&Cs(i.formMethod)){let{formMethod:h,formEncType:m}=i;u.method=h.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(i.json)):m==="text/plain"?u.body=i.text:m==="application/x-www-form-urlencoded"&&i.formData?u.body=kT(i.formData):u.body=i.formData}return new Request(a,u)}function kT(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function N1(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function D3(n,e,t,i=!1,a=!1){let u={},h=null,m,g=!1,v={},E=t&&xs(t[1])?t[1].error:void 0;return n.forEach(S=>{if(!(S.route.id in e))return;let A=S.route.id,D=e[A];if(Bt(!Ef(D),"Cannot handle redirect results in processLoaderData"),xs(D)){let M=D.error;if(E!==void 0&&(M=E,E=void 0),h=h||{},a)h[A]=M;else{let H=ff(n,A);h[H.route.id]==null&&(h[H.route.id]=M)}i||(u[A]=yC),g||(g=!0,m=Xp(D.error)?D.error.status:500),D.headers&&(v[A]=D.headers)}else u[A]=D.data,D.statusCode&&D.statusCode!==200&&!g&&(m=D.statusCode),D.headers&&(v[A]=D.headers)}),E!==void 0&&t&&(h={[t[0]]:E},t[2]&&(u[t[2]]=void 0)),{loaderData:u,errors:h,statusCode:m||200,loaderHeaders:v}}function D1(n,e,t,i,a,u){let{loaderData:h,errors:m}=D3(e,t,i);return a.filter(g=>!g.matches||g.matches.some(v=>v.shouldLoad)).forEach(g=>{let{key:v,match:E,controller:S}=g,A=u[v];if(Bt(A,"Did not find corresponding fetcher result"),!(S&&S.signal.aborted))if(xs(A)){let D=ff(n.matches,E==null?void 0:E.route.id);m&&m[D.route.id]||(m={...m,[D.route.id]:A.error}),n.fetchers.delete(v)}else if(Ef(A))Bt(!1,"Unhandled fetcher revalidation redirect");else{let D=Eu(A.data);n.fetchers.set(v,D)}}),{loaderData:h,errors:m}}function O1(n,e,t,i){let a=Object.entries(e).filter(([,u])=>u!==yC).reduce((u,[h,m])=>(u[h]=m,u),{});for(let u of t){let h=u.route.id;if(!e.hasOwnProperty(h)&&n.hasOwnProperty(h)&&u.route.loader&&(a[h]=n[h]),i&&i.hasOwnProperty(h))break}return a}function M1(n){return n?xs(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ff(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function P1(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function na(n,{pathname:e,routeId:t,method:i,type:a,message:u}={}){let h="Unknown Server Error",m="Unknown @remix-run/router error";return n===400?(h="Bad Request",i&&e&&t?m=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(m="Unable to encode submission body")):n===403?(h="Forbidden",m=`Route "${t}" does not match URL "${e}"`):n===404?(h="Not Found",m=`No route matches URL "${e}"`):n===405&&(h="Method Not Allowed",i&&e&&t?m=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(m=`Invalid request method "${i.toUpperCase()}"`)),new w_(n||500,h,new Error(m),!0)}function xv(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,a]=e[t];if(Ef(a))return{key:i,result:a}}}function bC(n){let e=typeof n=="string"?Gu(n):n;return Fu({...e,hash:""})}function O3(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function M3(n){return SC(n.result)&&y3.has(n.result.status)}function xs(n){return n.type==="error"}function Ef(n){return(n&&n.type)==="redirect"}function L1(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function SC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function P3(n){return g3.has(n.toUpperCase())}function Cs(n){return m3.has(n.toUpperCase())}function rb(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Ip(n,e){let t=typeof e=="string"?Gu(e).search:e.search;if(n[n.length-1].route.index&&rb(t||""))return n[n.length-1];let i=mC(n);return i[i.length-1]}function k1(n){let{formMethod:e,formAction:t,formEncType:i,text:a,formData:u,json:h}=n;if(!(!e||!t||!i)){if(a!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:a};if(u!=null)return{formMethod:e,formAction:t,formEncType:i,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:h,text:void 0}}}function BE(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function L3(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Tp(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function k3(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Eu(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function U3(n,e){try{let t=n.sessionStorage.getItem(gC);if(t){let i=JSON.parse(t);for(let[a,u]of Object.entries(i||{}))u&&Array.isArray(u)&&e.set(a,new Set(u||[]))}}catch{}}function V3(n,e){if(e.size>0){let t={};for(let[i,a]of e)t[i]=[...a];try{n.sessionStorage.setItem(gC,JSON.stringify(t))}catch(i){vr(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function j3(){let n,e,t=new Promise((i,a)=>{n=async u=>{i(u);try{await t}catch{}},e=async u=>{a(u);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Bf=j.createContext(null);Bf.displayName="DataRouter";var dg=j.createContext(null);dg.displayName="DataRouterState";var ib=j.createContext({isTransitioning:!1});ib.displayName="ViewTransition";var AC=j.createContext(new Map);AC.displayName="Fetchers";var B3=j.createContext(null);B3.displayName="Await";var Oo=j.createContext(null);Oo.displayName="Navigation";var n0=j.createContext(null);n0.displayName="Location";var ja=j.createContext({outlet:null,matches:[],isDataRoute:!1});ja.displayName="Route";var sb=j.createContext(null);sb.displayName="RouteError";function F3(n,{relative:e}={}){Bt(mg(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=j.useContext(Oo),{hash:a,pathname:u,search:h}=pg(n,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:Co([t,u])),i.createHref({pathname:m,search:h,hash:a})}function mg(){return j.useContext(n0)!=null}function Ff(){return Bt(mg(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(n0).location}var RC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xC(n){j.useContext(Oo).static||j.useLayoutEffect(n)}function CC(){let{isDataRoute:n}=j.useContext(ja);return n?rk():z3()}function z3(){Bt(mg(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(Bf),{basename:e,navigator:t}=j.useContext(Oo),{matches:i}=j.useContext(ja),{pathname:a}=Ff(),u=JSON.stringify(eb(i)),h=j.useRef(!1);return xC(()=>{h.current=!0}),j.useCallback((g,v={})=>{if(vr(h.current,RC),!h.current)return;if(typeof g=="number"){t.go(g);return}let E=tb(g,JSON.parse(u),a,v.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Co([e,E.pathname])),(v.replace?t.replace:t.push)(E,v.state,v)},[e,t,u,a,n])}var H3=j.createContext(null);function q3(n){let e=j.useContext(ja).outlet;return e&&j.createElement(H3.Provider,{value:n},e)}function G3(){let{matches:n}=j.useContext(ja),e=n[n.length-1];return e?e.params:{}}function pg(n,{relative:e}={}){let{matches:t}=j.useContext(ja),{pathname:i}=Ff(),a=JSON.stringify(eb(t));return j.useMemo(()=>tb(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function $3(n,e,t,i){Bt(mg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=j.useContext(Oo),{matches:u}=j.useContext(ja),h=u[u.length-1],m=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",E=h&&h.route;{let B=E&&E.path||"";IC(g,!E||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let S=Ff(),A;A=S;let D=A.pathname||"/",M=D;if(v!=="/"){let B=v.replace(/^\//,"").split("/");M="/"+D.replace(/^\//,"").split("/").slice(B.length).join("/")}let H=Au(n,{pathname:M});return vr(E||H!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),vr(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),X3(H&&H.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:Co([v,a.encodeLocation?a.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?v:Co([v,a.encodeLocation?a.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),u,t,i)}function K3(){let n=nk(),e=Xp(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:a},t):null,h)}var Y3=j.createElement(K3,null),W3=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?j.createElement(ja.Provider,{value:this.props.routeContext},j.createElement(sb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q3({routeContext:n,match:e,children:t}){let i=j.useContext(Bf);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(ja.Provider,{value:n},t)}function X3(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,u=t==null?void 0:t.errors;if(u!=null){let g=a.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);Bt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,m=-1;if(t)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:E,errors:S}=t,A=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||A){h=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((g,v,E)=>{let S,A=!1,D=null,M=null;t&&(S=u&&v.route.id?u[v.route.id]:void 0,D=v.route.errorElement||Y3,h&&(m<0&&E===0?(IC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,M=null):m===E&&(A=!0,M=v.route.hydrateFallbackElement||null)));let H=e.concat(a.slice(0,E+1)),k=()=>{let B;return S?B=D:A?B=M:v.route.Component?B=j.createElement(v.route.Component,null):v.route.element?B=v.route.element:B=g,j.createElement(Q3,{match:v,routeContext:{outlet:g,matches:H,isDataRoute:t!=null},children:B})};return t&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?j.createElement(W3,{location:t.location,revalidation:t.revalidation,component:D,error:S,children:k(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):k()},null)}function ab(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z3(n){let e=j.useContext(Bf);return Bt(e,ab(n)),e}function J3(n){let e=j.useContext(dg);return Bt(e,ab(n)),e}function ek(n){let e=j.useContext(ja);return Bt(e,ab(n)),e}function ob(n){let e=ek(n),t=e.matches[e.matches.length-1];return Bt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function tk(){return ob("useRouteId")}function nk(){var i;let n=j.useContext(sb),e=J3("useRouteError"),t=ob("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function rk(){let{router:n}=Z3("useNavigate"),e=ob("useNavigate"),t=j.useRef(!1);return xC(()=>{t.current=!0}),j.useCallback(async(a,u={})=>{vr(t.current,RC),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...u}))},[n,e])}var U1={};function IC(n,e,t){!e&&!U1[n]&&(U1[n]=!0,vr(!1,t))}var V1={};function j1(n,e){!n&&!V1[e]&&(V1[e]=!0,console.warn(e))}function ik(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&vr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:j.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&vr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:j.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&vr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:j.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var sk=["HydrateFallback","hydrateFallbackElement"],ak=class{constructor(){this.status="pending",this.promise=new Promise((n,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",n(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function ok({router:n,flushSync:e}){let[t,i]=j.useState(n.state),[a,u]=j.useState(),[h,m]=j.useState({isTransitioning:!1}),[g,v]=j.useState(),[E,S]=j.useState(),[A,D]=j.useState(),M=j.useRef(new Map),H=j.useCallback((te,{deletedFetchers:he,flushSync:Q,viewTransitionOpts:F})=>{te.fetchers.forEach((I,O)=>{I.data!==void 0&&M.current.set(O,I.data)}),he.forEach(I=>M.current.delete(I)),j1(Q===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let N=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(j1(F==null||N,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!F||!N){e&&Q?e(()=>i(te)):j.startTransition(()=>i(te));return}if(e&&Q){e(()=>{E&&(g&&g.resolve(),E.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let I=n.window.document.startViewTransition(()=>{e(()=>i(te))});I.finished.finally(()=>{e(()=>{v(void 0),S(void 0),u(void 0),m({isTransitioning:!1})})}),e(()=>S(I));return}E?(g&&g.resolve(),E.skipTransition(),D({state:te,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(u(te),m({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[n.window,e,E,g]);j.useLayoutEffect(()=>n.subscribe(H),[n,H]),j.useEffect(()=>{h.isTransitioning&&!h.flushSync&&v(new ak)},[h]),j.useEffect(()=>{if(g&&a&&n.window){let te=a,he=g.promise,Q=n.window.document.startViewTransition(async()=>{j.startTransition(()=>i(te)),await he});Q.finished.finally(()=>{v(void 0),S(void 0),u(void 0),m({isTransitioning:!1})}),S(Q)}},[a,g,n.window]),j.useEffect(()=>{g&&a&&t.location.key===a.location.key&&g.resolve()},[g,E,t.location,a]),j.useEffect(()=>{!h.isTransitioning&&A&&(u(A.state),m({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}),D(void 0))},[h.isTransitioning,A]);let k=j.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:te=>n.navigate(te),push:(te,he,Q)=>n.navigate(te,{state:he,preventScrollReset:Q==null?void 0:Q.preventScrollReset}),replace:(te,he,Q)=>n.navigate(te,{replace:!0,state:he,preventScrollReset:Q==null?void 0:Q.preventScrollReset})}),[n]),B=n.basename||"/",ee=j.useMemo(()=>({router:n,navigator:k,static:!1,basename:B}),[n,k,B]);return j.createElement(j.Fragment,null,j.createElement(Bf.Provider,{value:ee},j.createElement(dg.Provider,{value:t},j.createElement(AC.Provider,{value:M.current},j.createElement(ib.Provider,{value:h},j.createElement(fk,{basename:B,location:t.location,navigationType:t.historyAction,navigator:k},j.createElement(lk,{routes:n.routes,future:n.future,state:t})))))),null)}var lk=j.memo(uk);function uk({routes:n,future:e,state:t}){return $3(n,void 0,t,e)}function ck(n){return q3(n.context)}function fk({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:u=!1}){Bt(!mg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:h,navigator:a,static:u,future:{}}),[h,a,u]);typeof t=="string"&&(t=Gu(t));let{pathname:g="/",search:v="",hash:E="",state:S=null,key:A="default"}=t,D=j.useMemo(()=>{let M=aa(g,h);return M==null?null:{location:{pathname:M,search:v,hash:E,state:S,key:A},navigationType:i}},[h,g,v,E,S,A,i]);return vr(D!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:j.createElement(Oo.Provider,{value:m},j.createElement(n0.Provider,{children:e,value:D}))}var $v="get",Kv="application/x-www-form-urlencoded";function r0(n){return n!=null&&typeof n.tagName=="string"}function hk(n){return r0(n)&&n.tagName.toLowerCase()==="button"}function dk(n){return r0(n)&&n.tagName.toLowerCase()==="form"}function mk(n){return r0(n)&&n.tagName.toLowerCase()==="input"}function pk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function gk(n,e){return n.button===0&&(!e||e==="_self")&&!pk(n)}var Cv=null;function yk(){if(Cv===null)try{new FormData(document.createElement("form"),0),Cv=!1}catch{Cv=!0}return Cv}var vk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function FE(n){return n!=null&&!vk.has(n)?(vr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kv}"`),null):n}function _k(n,e){let t,i,a,u,h;if(dk(n)){let m=n.getAttribute("action");i=m?aa(m,e):null,t=n.getAttribute("method")||$v,a=FE(n.getAttribute("enctype"))||Kv,u=new FormData(n)}else if(hk(n)||mk(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||m.getAttribute("action");if(i=g?aa(g,e):null,t=n.getAttribute("formmethod")||m.getAttribute("method")||$v,a=FE(n.getAttribute("formenctype"))||FE(m.getAttribute("enctype"))||Kv,u=new FormData(m,n),!yk()){let{name:v,type:E,value:S}=n;if(E==="image"){let A=v?`${v}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else v&&u.append(v,S)}}else{if(r0(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=$v,i=null,a=Kv,h=n}return u&&a==="text/plain"&&(h=u,u=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:u,body:h}}function lb(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Ek(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Tk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function wk(n,e,t){let i=await Promise.all(n.map(async a=>{let u=e.routes[a.route.id];if(u){let h=await Ek(u,t);return h.links?h.links():[]}return[]}));return Rk(i.flat(1).filter(Tk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function B1(n,e,t,i,a,u){let h=(g,v)=>t[v]?g.route.id!==t[v].route.id:!0,m=(g,v)=>{var E;return t[v].pathname!==g.pathname||((E=t[v].route.path)==null?void 0:E.endsWith("*"))&&t[v].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,v)=>h(g,v)||m(g,v)):u==="data"?e.filter((g,v)=>{var S;let E=i.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,v)||m(g,v))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function bk(n,e,{includeHydrateFallback:t}={}){return Sk(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let u=[a.module];return a.clientActionModule&&(u=u.concat(a.clientActionModule)),a.clientLoaderModule&&(u=u.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(u=u.concat(a.hydrateFallbackModule)),a.imports&&(u=u.concat(a.imports)),u}).flat(1))}function Sk(n){return[...new Set(n)]}function Ak(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function Rk(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let u=JSON.stringify(Ak(a));return t.has(u)||(t.add(u),i.push({key:u,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xk=new Set([100,101,204,205]);function Ck(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&aa(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function NC(){let n=j.useContext(Bf);return lb(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Ik(){let n=j.useContext(dg);return lb(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ub=j.createContext(void 0);ub.displayName="FrameworkContext";function DC(){let n=j.useContext(ub);return lb(n,"You must render this element inside a <HydratedRouter> element"),n}function Nk(n,e){let t=j.useContext(ub),[i,a]=j.useState(!1),[u,h]=j.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:v,onMouseLeave:E,onTouchStart:S}=e,A=j.useRef(null);j.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let H=B=>{B.forEach(ee=>{h(ee.isIntersecting)})},k=new IntersectionObserver(H,{threshold:.5});return A.current&&k.observe(A.current),()=>{k.disconnect()}}},[n]),j.useEffect(()=>{if(i){let H=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(H)}}},[i]);let D=()=>{a(!0)},M=()=>{a(!1),h(!1)};return t?n!=="intent"?[u,A,{}]:[u,A,{onFocus:wp(m,D),onBlur:wp(g,M),onMouseEnter:wp(v,D),onMouseLeave:wp(E,M),onTouchStart:wp(S,D)}]:[!1,A,{}]}function wp(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Dk({page:n,...e}){let{router:t}=NC(),i=j.useMemo(()=>Au(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?j.createElement(Mk,{page:n,matches:i,...e}):null}function Ok(n){let{manifest:e,routeModules:t}=DC(),[i,a]=j.useState([]);return j.useEffect(()=>{let u=!1;return wk(n,e,t).then(h=>{u||a(h)}),()=>{u=!0}},[n,e,t]),i}function Mk({page:n,matches:e,...t}){let i=Ff(),{manifest:a,routeModules:u}=DC(),{basename:h}=NC(),{loaderData:m,matches:g}=Ik(),v=j.useMemo(()=>B1(n,e,g,a,i,"data"),[n,e,g,a,i]),E=j.useMemo(()=>B1(n,e,g,a,i,"assets"),[n,e,g,a,i]),S=j.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let M=new Set,H=!1;if(e.forEach(B=>{var te;let ee=a.routes[B.route.id];!ee||!ee.hasLoader||(!v.some(he=>he.route.id===B.route.id)&&B.route.id in m&&((te=u[B.route.id])!=null&&te.shouldRevalidate)||ee.hasClientLoader?H=!0:M.add(B.route.id))}),M.size===0)return[];let k=Ck(n,h);return H&&M.size>0&&k.searchParams.set("_routes",e.filter(B=>M.has(B.route.id)).map(B=>B.route.id).join(",")),[k.pathname+k.search]},[h,m,i,a,v,e,n,u]),A=j.useMemo(()=>bk(E,a),[E,a]),D=Ok(E);return j.createElement(j.Fragment,null,S.map(M=>j.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),A.map(M=>j.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),D.map(({key:M,link:H})=>j.createElement("link",{key:M,...H})))}function Pk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var OC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OC&&(window.__reactRouterVersion="7.6.2")}catch{}function Lk(n,e){return T3({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:zL({window:e==null?void 0:e.window}),hydrationData:kk(),routes:n,mapRouteProperties:ik,hydrationRouteProperties:sk,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function kk(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:Uk(n.errors)}),n}function Uk(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,a]of e)if(a&&a.__type==="RouteErrorResponse")t[i]=new w_(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let u=window[a.__subType];if(typeof u=="function")try{let h=new u(a.message);h.stack="",t[i]=h}catch{}}if(t[i]==null){let u=new Error(a.message);u.stack="",t[i]=u}}else t[i]=a;return t}var MC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yr=j.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:u,replace:h,state:m,target:g,to:v,preventScrollReset:E,viewTransition:S,...A},D){let{basename:M}=j.useContext(Oo),H=typeof v=="string"&&MC.test(v),k,B=!1;if(typeof v=="string"&&H&&(k=v,OC))try{let O=new URL(window.location.href),z=v.startsWith("//")?new URL(O.protocol+v):new URL(v),G=aa(z.pathname,M);z.origin===O.origin&&G!=null?v=G+z.search+z.hash:B=!0}catch{vr(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=F3(v,{relative:a}),[te,he,Q]=Nk(i,A),F=Fk(v,{replace:h,state:m,target:g,preventScrollReset:E,relative:a,viewTransition:S});function N(O){e&&e(O),O.defaultPrevented||F(O)}let I=j.createElement("a",{...A,...Q,href:k||ee,onClick:B||u?e:N,ref:Pk(D,he),target:g,"data-discover":!H&&t==="render"?"true":void 0});return te&&!H?j.createElement(j.Fragment,null,I,j.createElement(Dk,{page:ee})):I});yr.displayName="Link";var Vk=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:u,to:h,viewTransition:m,children:g,...v},E){let S=pg(h,{relative:v.relative}),A=Ff(),D=j.useContext(dg),{navigator:M,basename:H}=j.useContext(Oo),k=D!=null&&$k(S)&&m===!0,B=M.encodeLocation?M.encodeLocation(S).pathname:S.pathname,ee=A.pathname,te=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(ee=ee.toLowerCase(),te=te?te.toLowerCase():null,B=B.toLowerCase()),te&&H&&(te=aa(te,H)||te);const he=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let Q=ee===B||!a&&ee.startsWith(B)&&ee.charAt(he)==="/",F=te!=null&&(te===B||!a&&te.startsWith(B)&&te.charAt(B.length)==="/"),N={isActive:Q,isPending:F,isTransitioning:k},I=Q?e:void 0,O;typeof i=="function"?O=i(N):O=[i,Q?"active":null,F?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let z=typeof u=="function"?u(N):u;return j.createElement(yr,{...v,"aria-current":I,className:O,ref:E,style:z,to:h,viewTransition:m},typeof g=="function"?g(N):g)});Vk.displayName="NavLink";var jk=j.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:u,method:h=$v,action:m,onSubmit:g,relative:v,preventScrollReset:E,viewTransition:S,...A},D)=>{let M=qk(),H=Gk(m,{relative:v}),k=h.toLowerCase()==="get"?"get":"post",B=typeof m=="string"&&MC.test(m),ee=te=>{if(g&&g(te),te.defaultPrevented)return;te.preventDefault();let he=te.nativeEvent.submitter,Q=(he==null?void 0:he.getAttribute("formmethod"))||h;M(he||te.currentTarget,{fetcherKey:e,method:Q,navigate:t,replace:a,state:u,relative:v,preventScrollReset:E,viewTransition:S})};return j.createElement("form",{ref:D,method:k,action:H,onSubmit:i?g:ee,...A,"data-discover":!B&&n==="render"?"true":void 0})});jk.displayName="Form";function Bk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PC(n){let e=j.useContext(Bf);return Bt(e,Bk(n)),e}function Fk(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:u,viewTransition:h}={}){let m=CC(),g=Ff(),v=pg(n,{relative:u});return j.useCallback(E=>{if(gk(E,e)){E.preventDefault();let S=t!==void 0?t:Fu(g)===Fu(v);m(n,{replace:S,state:i,preventScrollReset:a,relative:u,viewTransition:h})}},[g,m,v,t,i,e,n,a,u,h])}var zk=0,Hk=()=>`__${String(++zk)}__`;function qk(){let{router:n}=PC("useSubmit"),{basename:e}=j.useContext(Oo),t=tk();return j.useCallback(async(i,a={})=>{let{action:u,method:h,encType:m,formData:g,body:v}=_k(i,e);if(a.navigate===!1){let E=a.fetcherKey||Hk();await n.fetch(E,t,a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||m,flushSync:a.flushSync})}else await n.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function Gk(n,{relative:e}={}){let{basename:t}=j.useContext(Oo),i=j.useContext(ja);Bt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),u={...pg(n||".",{relative:e})},h=Ff();if(n==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!n||n===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Co([t,u.pathname])),Fu(u)}function $k(n,e={}){let t=j.useContext(ib);Bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=PC("useViewTransitionState"),a=pg(n,{relative:e.relative});if(!t.isTransitioning)return!1;let u=aa(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=aa(t.nextLocation.pathname,i)||t.nextLocation.pathname;return T_(a.pathname,h)!=null||T_(a.pathname,u)!=null}[...xk];var LC=MA();const Ed=Vd(LC);/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kk(n){return j.createElement(ok,{flushSync:LC.flushSync,...n})}function kC(n,e){return function(){return n.apply(e,arguments)}}const{toString:Yk}=Object.prototype,{getPrototypeOf:cb}=Object,{iterator:i0,toStringTag:UC}=Symbol,s0=(n=>e=>{const t=Yk.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ba=n=>(n=n.toLowerCase(),e=>s0(e)===n),a0=n=>e=>typeof e===n,{isArray:$d}=Array,Zp=a0("undefined");function Wk(n){return n!==null&&!Zp(n)&&n.constructor!==null&&!Zp(n.constructor)&&ls(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const VC=Ba("ArrayBuffer");function Qk(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&VC(n.buffer),e}const Xk=a0("string"),ls=a0("function"),jC=a0("number"),o0=n=>n!==null&&typeof n=="object",Zk=n=>n===!0||n===!1,Yv=n=>{if(s0(n)!=="object")return!1;const e=cb(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(UC in n)&&!(i0 in n)},Jk=Ba("Date"),eU=Ba("File"),tU=Ba("Blob"),nU=Ba("FileList"),rU=n=>o0(n)&&ls(n.pipe),iU=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ls(n.append)&&((e=s0(n))==="formdata"||e==="object"&&ls(n.toString)&&n.toString()==="[object FormData]"))},sU=Ba("URLSearchParams"),[aU,oU,lU,uU]=["ReadableStream","Request","Response","Headers"].map(Ba),cU=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gg(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,a;if(typeof n!="object"&&(n=[n]),$d(n))for(i=0,a=n.length;i<a;i++)e.call(null,n[i],i,n);else{const u=t?Object.getOwnPropertyNames(n):Object.keys(n),h=u.length;let m;for(i=0;i<h;i++)m=u[i],e.call(null,n[m],m,n)}}function BC(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,a;for(;i-- >0;)if(a=t[i],e===a.toLowerCase())return a;return null}const Tf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,FC=n=>!Zp(n)&&n!==Tf;function UT(){const{caseless:n}=FC(this)&&this||{},e={},t=(i,a)=>{const u=n&&BC(e,a)||a;Yv(e[u])&&Yv(i)?e[u]=UT(e[u],i):Yv(i)?e[u]=UT({},i):$d(i)?e[u]=i.slice():e[u]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&gg(arguments[i],t);return e}const fU=(n,e,t,{allOwnKeys:i}={})=>(gg(e,(a,u)=>{t&&ls(a)?n[u]=kC(a,t):n[u]=a},{allOwnKeys:i}),n),hU=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),dU=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},mU=(n,e,t,i)=>{let a,u,h;const m={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),u=a.length;u-- >0;)h=a[u],(!i||i(h,n,e))&&!m[h]&&(e[h]=n[h],m[h]=!0);n=t!==!1&&cb(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},pU=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},gU=n=>{if(!n)return null;if($d(n))return n;let e=n.length;if(!jC(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},yU=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&cb(Uint8Array)),vU=(n,e)=>{const i=(n&&n[i0]).call(n);let a;for(;(a=i.next())&&!a.done;){const u=a.value;e.call(n,u[0],u[1])}},_U=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},EU=Ba("HTMLFormElement"),TU=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,a){return i.toUpperCase()+a}),F1=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),wU=Ba("RegExp"),zC=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};gg(t,(a,u)=>{let h;(h=e(a,u,n))!==!1&&(i[u]=h||a)}),Object.defineProperties(n,i)},bU=n=>{zC(n,(e,t)=>{if(ls(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(ls(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},SU=(n,e)=>{const t={},i=a=>{a.forEach(u=>{t[u]=!0})};return $d(n)?i(n):i(String(n).split(e)),t},AU=()=>{},RU=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function xU(n){return!!(n&&ls(n.append)&&n[UC]==="FormData"&&n[i0])}const CU=n=>{const e=new Array(10),t=(i,a)=>{if(o0(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[a]=i;const u=$d(i)?[]:{};return gg(i,(h,m)=>{const g=t(h,a+1);!Zp(g)&&(u[m]=g)}),e[a]=void 0,u}}return i};return t(n,0)},IU=Ba("AsyncFunction"),NU=n=>n&&(o0(n)||ls(n))&&ls(n.then)&&ls(n.catch),HC=((n,e)=>n?setImmediate:e?((t,i)=>(Tf.addEventListener("message",({source:a,data:u})=>{a===Tf&&u===t&&i.length&&i.shift()()},!1),a=>{i.push(a),Tf.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ls(Tf.postMessage)),DU=typeof queueMicrotask<"u"?queueMicrotask.bind(Tf):typeof process<"u"&&process.nextTick||HC,OU=n=>n!=null&&ls(n[i0]),ve={isArray:$d,isArrayBuffer:VC,isBuffer:Wk,isFormData:iU,isArrayBufferView:Qk,isString:Xk,isNumber:jC,isBoolean:Zk,isObject:o0,isPlainObject:Yv,isReadableStream:aU,isRequest:oU,isResponse:lU,isHeaders:uU,isUndefined:Zp,isDate:Jk,isFile:eU,isBlob:tU,isRegExp:wU,isFunction:ls,isStream:rU,isURLSearchParams:sU,isTypedArray:yU,isFileList:nU,forEach:gg,merge:UT,extend:fU,trim:cU,stripBOM:hU,inherits:dU,toFlatObject:mU,kindOf:s0,kindOfTest:Ba,endsWith:pU,toArray:gU,forEachEntry:vU,matchAll:_U,isHTMLForm:EU,hasOwnProperty:F1,hasOwnProp:F1,reduceDescriptors:zC,freezeMethods:bU,toObjectSet:SU,toCamelCase:TU,noop:AU,toFiniteNumber:RU,findKey:BC,global:Tf,isContextDefined:FC,isSpecCompliantForm:xU,toJSONObject:CU,isAsyncFn:IU,isThenable:NU,setImmediate:HC,asap:DU,isIterable:OU};function _t(n,e,t,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}ve.inherits(_t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.status}}});const qC=_t.prototype,GC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{GC[n]={value:n}});Object.defineProperties(_t,GC);Object.defineProperty(qC,"isAxiosError",{value:!0});_t.from=(n,e,t,i,a,u)=>{const h=Object.create(qC);return ve.toFlatObject(n,h,function(g){return g!==Error.prototype},m=>m!=="isAxiosError"),_t.call(h,n.message,e,t,i,a),h.cause=n,h.name=n.name,u&&Object.assign(h,u),h};const MU=null;function VT(n){return ve.isPlainObject(n)||ve.isArray(n)}function $C(n){return ve.endsWith(n,"[]")?n.slice(0,-2):n}function z1(n,e,t){return n?n.concat(e).map(function(a,u){return a=$C(a),!t&&u?"["+a+"]":a}).join(t?".":""):e}function PU(n){return ve.isArray(n)&&!n.some(VT)}const LU=ve.toFlatObject(ve,{},null,function(e){return/^is[A-Z]/.test(e)});function l0(n,e,t){if(!ve.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=ve.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(H,k){return!ve.isUndefined(k[H])});const i=t.metaTokens,a=t.visitor||E,u=t.dots,h=t.indexes,g=(t.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(e);if(!ve.isFunction(a))throw new TypeError("visitor must be a function");function v(M){if(M===null)return"";if(ve.isDate(M))return M.toISOString();if(ve.isBoolean(M))return M.toString();if(!g&&ve.isBlob(M))throw new _t("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(M)||ve.isTypedArray(M)?g&&typeof Blob=="function"?new Blob([M]):Buffer.from(M):M}function E(M,H,k){let B=M;if(M&&!k&&typeof M=="object"){if(ve.endsWith(H,"{}"))H=i?H:H.slice(0,-2),M=JSON.stringify(M);else if(ve.isArray(M)&&PU(M)||(ve.isFileList(M)||ve.endsWith(H,"[]"))&&(B=ve.toArray(M)))return H=$C(H),B.forEach(function(te,he){!(ve.isUndefined(te)||te===null)&&e.append(h===!0?z1([H],he,u):h===null?H:H+"[]",v(te))}),!1}return VT(M)?!0:(e.append(z1(k,H,u),v(M)),!1)}const S=[],A=Object.assign(LU,{defaultVisitor:E,convertValue:v,isVisitable:VT});function D(M,H){if(!ve.isUndefined(M)){if(S.indexOf(M)!==-1)throw Error("Circular reference detected in "+H.join("."));S.push(M),ve.forEach(M,function(B,ee){(!(ve.isUndefined(B)||B===null)&&a.call(e,B,ve.isString(ee)?ee.trim():ee,H,A))===!0&&D(B,H?H.concat(ee):[ee])}),S.pop()}}if(!ve.isObject(n))throw new TypeError("data must be an object");return D(n),e}function H1(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function fb(n,e){this._pairs=[],n&&l0(n,this,e)}const KC=fb.prototype;KC.append=function(e,t){this._pairs.push([e,t])};KC.toString=function(e){const t=e?function(i){return e.call(this,i,H1)}:H1;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function kU(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function YC(n,e,t){if(!e)return n;const i=t&&t.encode||kU;ve.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let u;if(a?u=a(e,t):u=ve.isURLSearchParams(e)?e.toString():new fb(e,t).toString(i),u){const h=n.indexOf("#");h!==-1&&(n=n.slice(0,h)),n+=(n.indexOf("?")===-1?"?":"&")+u}return n}class q1{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ve.forEach(this.handlers,function(i){i!==null&&e(i)})}}const WC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},UU=typeof URLSearchParams<"u"?URLSearchParams:fb,VU=typeof FormData<"u"?FormData:null,jU=typeof Blob<"u"?Blob:null,BU={isBrowser:!0,classes:{URLSearchParams:UU,FormData:VU,Blob:jU},protocols:["http","https","file","blob","url","data"]},hb=typeof window<"u"&&typeof document<"u",jT=typeof navigator=="object"&&navigator||void 0,FU=hb&&(!jT||["ReactNative","NativeScript","NS"].indexOf(jT.product)<0),zU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",HU=hb&&window.location.href||"http://localhost",qU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:hb,hasStandardBrowserEnv:FU,hasStandardBrowserWebWorkerEnv:zU,navigator:jT,origin:HU},Symbol.toStringTag,{value:"Module"})),bi={...qU,...BU};function GU(n,e){return l0(n,new bi.classes.URLSearchParams,Object.assign({visitor:function(t,i,a,u){return bi.isNode&&ve.isBuffer(t)?(this.append(i,t.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function $U(n){return ve.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function KU(n){const e={},t=Object.keys(n);let i;const a=t.length;let u;for(i=0;i<a;i++)u=t[i],e[u]=n[u];return e}function QC(n){function e(t,i,a,u){let h=t[u++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),g=u>=t.length;return h=!h&&ve.isArray(a)?a.length:h,g?(ve.hasOwnProp(a,h)?a[h]=[a[h],i]:a[h]=i,!m):((!a[h]||!ve.isObject(a[h]))&&(a[h]=[]),e(t,i,a[h],u)&&ve.isArray(a[h])&&(a[h]=KU(a[h])),!m)}if(ve.isFormData(n)&&ve.isFunction(n.entries)){const t={};return ve.forEachEntry(n,(i,a)=>{e($U(i),a,t,0)}),t}return null}function YU(n,e,t){if(ve.isString(n))try{return(e||JSON.parse)(n),ve.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const yg={transitional:WC,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",a=i.indexOf("application/json")>-1,u=ve.isObject(e);if(u&&ve.isHTMLForm(e)&&(e=new FormData(e)),ve.isFormData(e))return a?JSON.stringify(QC(e)):e;if(ve.isArrayBuffer(e)||ve.isBuffer(e)||ve.isStream(e)||ve.isFile(e)||ve.isBlob(e)||ve.isReadableStream(e))return e;if(ve.isArrayBufferView(e))return e.buffer;if(ve.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(u){if(i.indexOf("application/x-www-form-urlencoded")>-1)return GU(e,this.formSerializer).toString();if((m=ve.isFileList(e))||i.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return l0(m?{"files[]":e}:e,g&&new g,this.formSerializer)}}return u||a?(t.setContentType("application/json",!1),YU(e)):e}],transformResponse:[function(e){const t=this.transitional||yg.transitional,i=t&&t.forcedJSONParsing,a=this.responseType==="json";if(ve.isResponse(e)||ve.isReadableStream(e))return e;if(e&&ve.isString(e)&&(i&&!this.responseType||a)){const h=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(m){if(h)throw m.name==="SyntaxError"?_t.from(m,_t.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bi.classes.FormData,Blob:bi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],n=>{yg.headers[n]={}});const WU=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),QU=n=>{const e={};let t,i,a;return n&&n.split(`
`).forEach(function(h){a=h.indexOf(":"),t=h.substring(0,a).trim().toLowerCase(),i=h.substring(a+1).trim(),!(!t||e[t]&&WU[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},G1=Symbol("internals");function bp(n){return n&&String(n).trim().toLowerCase()}function Wv(n){return n===!1||n==null?n:ve.isArray(n)?n.map(Wv):String(n)}function XU(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const ZU=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function zE(n,e,t,i,a){if(ve.isFunction(i))return i.call(this,e,t);if(a&&(e=t),!!ve.isString(e)){if(ve.isString(i))return e.indexOf(i)!==-1;if(ve.isRegExp(i))return i.test(e)}}function JU(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function eV(n,e){const t=ve.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(a,u,h){return this[i].call(this,e,a,u,h)},configurable:!0})})}let us=class{constructor(e){e&&this.set(e)}set(e,t,i){const a=this;function u(m,g,v){const E=bp(g);if(!E)throw new Error("header name must be a non-empty string");const S=ve.findKey(a,E);(!S||a[S]===void 0||v===!0||v===void 0&&a[S]!==!1)&&(a[S||g]=Wv(m))}const h=(m,g)=>ve.forEach(m,(v,E)=>u(v,E,g));if(ve.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if(ve.isString(e)&&(e=e.trim())&&!ZU(e))h(QU(e),t);else if(ve.isObject(e)&&ve.isIterable(e)){let m={},g,v;for(const E of e){if(!ve.isArray(E))throw TypeError("Object iterator must return a key-value pair");m[v=E[0]]=(g=m[v])?ve.isArray(g)?[...g,E[1]]:[g,E[1]]:E[1]}h(m,t)}else e!=null&&u(t,e,i);return this}get(e,t){if(e=bp(e),e){const i=ve.findKey(this,e);if(i){const a=this[i];if(!t)return a;if(t===!0)return XU(a);if(ve.isFunction(t))return t.call(this,a,i);if(ve.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=bp(e),e){const i=ve.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||zE(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let a=!1;function u(h){if(h=bp(h),h){const m=ve.findKey(i,h);m&&(!t||zE(i,i[m],m,t))&&(delete i[m],a=!0)}}return ve.isArray(e)?e.forEach(u):u(e),a}clear(e){const t=Object.keys(this);let i=t.length,a=!1;for(;i--;){const u=t[i];(!e||zE(this,this[u],u,e,!0))&&(delete this[u],a=!0)}return a}normalize(e){const t=this,i={};return ve.forEach(this,(a,u)=>{const h=ve.findKey(i,u);if(h){t[h]=Wv(a),delete t[u];return}const m=e?JU(u):String(u).trim();m!==u&&delete t[u],t[m]=Wv(a),i[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ve.forEach(this,(i,a)=>{i!=null&&i!==!1&&(t[a]=e&&ve.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[G1]=this[G1]={accessors:{}}).accessors,a=this.prototype;function u(h){const m=bp(h);i[m]||(eV(a,h),i[m]=!0)}return ve.isArray(e)?e.forEach(u):u(e),this}};us.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(us.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});ve.freezeMethods(us);function HE(n,e){const t=this||yg,i=e||t,a=us.from(i.headers);let u=i.data;return ve.forEach(n,function(m){u=m.call(t,u,a.normalize(),e?e.status:void 0)}),a.normalize(),u}function XC(n){return!!(n&&n.__CANCEL__)}function Kd(n,e,t){_t.call(this,n??"canceled",_t.ERR_CANCELED,e,t),this.name="CanceledError"}ve.inherits(Kd,_t,{__CANCEL__:!0});function ZC(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new _t("Request failed with status code "+t.status,[_t.ERR_BAD_REQUEST,_t.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function tV(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function nV(n,e){n=n||10;const t=new Array(n),i=new Array(n);let a=0,u=0,h;return e=e!==void 0?e:1e3,function(g){const v=Date.now(),E=i[u];h||(h=v),t[a]=g,i[a]=v;let S=u,A=0;for(;S!==a;)A+=t[S++],S=S%n;if(a=(a+1)%n,a===u&&(u=(u+1)%n),v-h<e)return;const D=E&&v-E;return D?Math.round(A*1e3/D):void 0}}function rV(n,e){let t=0,i=1e3/e,a,u;const h=(v,E=Date.now())=>{t=E,a=null,u&&(clearTimeout(u),u=null),n.apply(null,v)};return[(...v)=>{const E=Date.now(),S=E-t;S>=i?h(v,E):(a=v,u||(u=setTimeout(()=>{u=null,h(a)},i-S)))},()=>a&&h(a)]}const S_=(n,e,t=3)=>{let i=0;const a=nV(50,250);return rV(u=>{const h=u.loaded,m=u.lengthComputable?u.total:void 0,g=h-i,v=a(g),E=h<=m;i=h;const S={loaded:h,total:m,progress:m?h/m:void 0,bytes:g,rate:v||void 0,estimated:v&&m&&E?(m-h)/v:void 0,event:u,lengthComputable:m!=null,[e?"download":"upload"]:!0};n(S)},t)},$1=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},K1=n=>(...e)=>ve.asap(()=>n(...e)),iV=bi.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,bi.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(bi.origin),bi.navigator&&/(msie|trident)/i.test(bi.navigator.userAgent)):()=>!0,sV=bi.hasStandardBrowserEnv?{write(n,e,t,i,a,u){const h=[n+"="+encodeURIComponent(e)];ve.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),ve.isString(i)&&h.push("path="+i),ve.isString(a)&&h.push("domain="+a),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function aV(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function oV(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function JC(n,e,t){let i=!aV(e);return n&&(i||t==!1)?oV(n,e):e}const Y1=n=>n instanceof us?{...n}:n;function Mf(n,e){e=e||{};const t={};function i(v,E,S,A){return ve.isPlainObject(v)&&ve.isPlainObject(E)?ve.merge.call({caseless:A},v,E):ve.isPlainObject(E)?ve.merge({},E):ve.isArray(E)?E.slice():E}function a(v,E,S,A){if(ve.isUndefined(E)){if(!ve.isUndefined(v))return i(void 0,v,S,A)}else return i(v,E,S,A)}function u(v,E){if(!ve.isUndefined(E))return i(void 0,E)}function h(v,E){if(ve.isUndefined(E)){if(!ve.isUndefined(v))return i(void 0,v)}else return i(void 0,E)}function m(v,E,S){if(S in e)return i(v,E);if(S in n)return i(void 0,v)}const g={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(v,E,S)=>a(Y1(v),Y1(E),S,!0)};return ve.forEach(Object.keys(Object.assign({},n,e)),function(E){const S=g[E]||a,A=S(n[E],e[E],E);ve.isUndefined(A)&&S!==m||(t[E]=A)}),t}const eI=n=>{const e=Mf({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:u,headers:h,auth:m}=e;e.headers=h=us.from(h),e.url=YC(JC(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let g;if(ve.isFormData(t)){if(bi.hasStandardBrowserEnv||bi.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((g=h.getContentType())!==!1){const[v,...E]=g?g.split(";").map(S=>S.trim()).filter(Boolean):[];h.setContentType([v||"multipart/form-data",...E].join("; "))}}if(bi.hasStandardBrowserEnv&&(i&&ve.isFunction(i)&&(i=i(e)),i||i!==!1&&iV(e.url))){const v=a&&u&&sV.read(u);v&&h.set(a,v)}return e},lV=typeof XMLHttpRequest<"u",uV=lV&&function(n){return new Promise(function(t,i){const a=eI(n);let u=a.data;const h=us.from(a.headers).normalize();let{responseType:m,onUploadProgress:g,onDownloadProgress:v}=a,E,S,A,D,M;function H(){D&&D(),M&&M(),a.cancelToken&&a.cancelToken.unsubscribe(E),a.signal&&a.signal.removeEventListener("abort",E)}let k=new XMLHttpRequest;k.open(a.method.toUpperCase(),a.url,!0),k.timeout=a.timeout;function B(){if(!k)return;const te=us.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),Q={data:!m||m==="text"||m==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:te,config:n,request:k};ZC(function(N){t(N),H()},function(N){i(N),H()},Q),k=null}"onloadend"in k?k.onloadend=B:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(B)},k.onabort=function(){k&&(i(new _t("Request aborted",_t.ECONNABORTED,n,k)),k=null)},k.onerror=function(){i(new _t("Network Error",_t.ERR_NETWORK,n,k)),k=null},k.ontimeout=function(){let he=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const Q=a.transitional||WC;a.timeoutErrorMessage&&(he=a.timeoutErrorMessage),i(new _t(he,Q.clarifyTimeoutError?_t.ETIMEDOUT:_t.ECONNABORTED,n,k)),k=null},u===void 0&&h.setContentType(null),"setRequestHeader"in k&&ve.forEach(h.toJSON(),function(he,Q){k.setRequestHeader(Q,he)}),ve.isUndefined(a.withCredentials)||(k.withCredentials=!!a.withCredentials),m&&m!=="json"&&(k.responseType=a.responseType),v&&([A,M]=S_(v,!0),k.addEventListener("progress",A)),g&&k.upload&&([S,D]=S_(g),k.upload.addEventListener("progress",S),k.upload.addEventListener("loadend",D)),(a.cancelToken||a.signal)&&(E=te=>{k&&(i(!te||te.type?new Kd(null,n,k):te),k.abort(),k=null)},a.cancelToken&&a.cancelToken.subscribe(E),a.signal&&(a.signal.aborted?E():a.signal.addEventListener("abort",E)));const ee=tV(a.url);if(ee&&bi.protocols.indexOf(ee)===-1){i(new _t("Unsupported protocol "+ee+":",_t.ERR_BAD_REQUEST,n));return}k.send(u||null)})},cV=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,a;const u=function(v){if(!a){a=!0,m();const E=v instanceof Error?v:this.reason;i.abort(E instanceof _t?E:new Kd(E instanceof Error?E.message:E))}};let h=e&&setTimeout(()=>{h=null,u(new _t(`timeout ${e} of ms exceeded`,_t.ETIMEDOUT))},e);const m=()=>{n&&(h&&clearTimeout(h),h=null,n.forEach(v=>{v.unsubscribe?v.unsubscribe(u):v.removeEventListener("abort",u)}),n=null)};n.forEach(v=>v.addEventListener("abort",u));const{signal:g}=i;return g.unsubscribe=()=>ve.asap(m),g}},fV=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,a;for(;i<t;)a=i+e,yield n.slice(i,a),i=a},hV=async function*(n,e){for await(const t of dV(n))yield*fV(t,e)},dV=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},W1=(n,e,t,i)=>{const a=hV(n,e);let u=0,h,m=g=>{h||(h=!0,i&&i(g))};return new ReadableStream({async pull(g){try{const{done:v,value:E}=await a.next();if(v){m(),g.close();return}let S=E.byteLength;if(t){let A=u+=S;t(A)}g.enqueue(new Uint8Array(E))}catch(v){throw m(v),v}},cancel(g){return m(g),a.return()}},{highWaterMark:2})},u0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",tI=u0&&typeof ReadableStream=="function",mV=u0&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),nI=(n,...e)=>{try{return!!n(...e)}catch{return!1}},pV=tI&&nI(()=>{let n=!1;const e=new Request(bi.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Q1=64*1024,BT=tI&&nI(()=>ve.isReadableStream(new Response("").body)),A_={stream:BT&&(n=>n.body)};u0&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!A_[e]&&(A_[e]=ve.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new _t(`Response type '${e}' is not supported`,_t.ERR_NOT_SUPPORT,i)})})})(new Response);const gV=async n=>{if(n==null)return 0;if(ve.isBlob(n))return n.size;if(ve.isSpecCompliantForm(n))return(await new Request(bi.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(ve.isArrayBufferView(n)||ve.isArrayBuffer(n))return n.byteLength;if(ve.isURLSearchParams(n)&&(n=n+""),ve.isString(n))return(await mV(n)).byteLength},yV=async(n,e)=>{const t=ve.toFiniteNumber(n.getContentLength());return t??gV(e)},vV=u0&&(async n=>{let{url:e,method:t,data:i,signal:a,cancelToken:u,timeout:h,onDownloadProgress:m,onUploadProgress:g,responseType:v,headers:E,withCredentials:S="same-origin",fetchOptions:A}=eI(n);v=v?(v+"").toLowerCase():"text";let D=cV([a,u&&u.toAbortSignal()],h),M;const H=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let k;try{if(g&&pV&&t!=="get"&&t!=="head"&&(k=await yV(E,i))!==0){let Q=new Request(e,{method:"POST",body:i,duplex:"half"}),F;if(ve.isFormData(i)&&(F=Q.headers.get("content-type"))&&E.setContentType(F),Q.body){const[N,I]=$1(k,S_(K1(g)));i=W1(Q.body,Q1,N,I)}}ve.isString(S)||(S=S?"include":"omit");const B="credentials"in Request.prototype;M=new Request(e,{...A,signal:D,method:t.toUpperCase(),headers:E.normalize().toJSON(),body:i,duplex:"half",credentials:B?S:void 0});let ee=await fetch(M,A);const te=BT&&(v==="stream"||v==="response");if(BT&&(m||te&&H)){const Q={};["status","statusText","headers"].forEach(O=>{Q[O]=ee[O]});const F=ve.toFiniteNumber(ee.headers.get("content-length")),[N,I]=m&&$1(F,S_(K1(m),!0))||[];ee=new Response(W1(ee.body,Q1,N,()=>{I&&I(),H&&H()}),Q)}v=v||"text";let he=await A_[ve.findKey(A_,v)||"text"](ee,n);return!te&&H&&H(),await new Promise((Q,F)=>{ZC(Q,F,{data:he,headers:us.from(ee.headers),status:ee.status,statusText:ee.statusText,config:n,request:M})})}catch(B){throw H&&H(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new _t("Network Error",_t.ERR_NETWORK,n,M),{cause:B.cause||B}):_t.from(B,B&&B.code,n,M)}}),FT={http:MU,xhr:uV,fetch:vV};ve.forEach(FT,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const X1=n=>`- ${n}`,_V=n=>ve.isFunction(n)||n===null||n===!1,rI={getAdapter:n=>{n=ve.isArray(n)?n:[n];const{length:e}=n;let t,i;const a={};for(let u=0;u<e;u++){t=n[u];let h;if(i=t,!_V(t)&&(i=FT[(h=String(t)).toLowerCase()],i===void 0))throw new _t(`Unknown adapter '${h}'`);if(i)break;a[h||"#"+u]=i}if(!i){const u=Object.entries(a).map(([m,g])=>`adapter ${m} `+(g===!1?"is not supported by the environment":"is not available in the build"));let h=e?u.length>1?`since :
`+u.map(X1).join(`
`):" "+X1(u[0]):"as no adapter specified";throw new _t("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return i},adapters:FT};function qE(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Kd(null,n)}function Z1(n){return qE(n),n.headers=us.from(n.headers),n.data=HE.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),rI.getAdapter(n.adapter||yg.adapter)(n).then(function(i){return qE(n),i.data=HE.call(n,n.transformResponse,i),i.headers=us.from(i.headers),i},function(i){return XC(i)||(qE(n),i&&i.response&&(i.response.data=HE.call(n,n.transformResponse,i.response),i.response.headers=us.from(i.response.headers))),Promise.reject(i)})}const iI="1.10.0",c0={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{c0[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const J1={};c0.transitional=function(e,t,i){function a(u,h){return"[Axios v"+iI+"] Transitional option '"+u+"'"+h+(i?". "+i:"")}return(u,h,m)=>{if(e===!1)throw new _t(a(h," has been removed"+(t?" in "+t:"")),_t.ERR_DEPRECATED);return t&&!J1[h]&&(J1[h]=!0,console.warn(a(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(u,h,m):!0}};c0.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function EV(n,e,t){if(typeof n!="object")throw new _t("options must be an object",_t.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let a=i.length;for(;a-- >0;){const u=i[a],h=e[u];if(h){const m=n[u],g=m===void 0||h(m,u,n);if(g!==!0)throw new _t("option "+u+" must be "+g,_t.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new _t("Unknown option "+u,_t.ERR_BAD_OPTION)}}const Qv={assertOptions:EV,validators:c0},wo=Qv.validators;let Af=class{constructor(e){this.defaults=e||{},this.interceptors={request:new q1,response:new q1}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const u=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?u&&!String(i.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+u):i.stack=u}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Mf(this.defaults,t);const{transitional:i,paramsSerializer:a,headers:u}=t;i!==void 0&&Qv.assertOptions(i,{silentJSONParsing:wo.transitional(wo.boolean),forcedJSONParsing:wo.transitional(wo.boolean),clarifyTimeoutError:wo.transitional(wo.boolean)},!1),a!=null&&(ve.isFunction(a)?t.paramsSerializer={serialize:a}:Qv.assertOptions(a,{encode:wo.function,serialize:wo.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Qv.assertOptions(t,{baseUrl:wo.spelling("baseURL"),withXsrfToken:wo.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=u&&ve.merge(u.common,u[t.method]);u&&ve.forEach(["delete","get","head","post","put","patch","common"],M=>{delete u[M]}),t.headers=us.concat(h,u);const m=[];let g=!0;this.interceptors.request.forEach(function(H){typeof H.runWhen=="function"&&H.runWhen(t)===!1||(g=g&&H.synchronous,m.unshift(H.fulfilled,H.rejected))});const v=[];this.interceptors.response.forEach(function(H){v.push(H.fulfilled,H.rejected)});let E,S=0,A;if(!g){const M=[Z1.bind(this),void 0];for(M.unshift.apply(M,m),M.push.apply(M,v),A=M.length,E=Promise.resolve(t);S<A;)E=E.then(M[S++],M[S++]);return E}A=m.length;let D=t;for(S=0;S<A;){const M=m[S++],H=m[S++];try{D=M(D)}catch(k){H.call(this,k);break}}try{E=Z1.call(this,D)}catch(M){return Promise.reject(M)}for(S=0,A=v.length;S<A;)E=E.then(v[S++],v[S++]);return E}getUri(e){e=Mf(this.defaults,e);const t=JC(e.baseURL,e.url,e.allowAbsoluteUrls);return YC(t,e.params,e.paramsSerializer)}};ve.forEach(["delete","get","head","options"],function(e){Af.prototype[e]=function(t,i){return this.request(Mf(i||{},{method:e,url:t,data:(i||{}).data}))}});ve.forEach(["post","put","patch"],function(e){function t(i){return function(u,h,m){return this.request(Mf(m||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}Af.prototype[e]=t(),Af.prototype[e+"Form"]=t(!0)});let TV=class sI{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(u){t=u});const i=this;this.promise.then(a=>{if(!i._listeners)return;let u=i._listeners.length;for(;u-- >0;)i._listeners[u](a);i._listeners=null}),this.promise.then=a=>{let u;const h=new Promise(m=>{i.subscribe(m),u=m}).then(a);return h.cancel=function(){i.unsubscribe(u)},h},e(function(u,h,m){i.reason||(i.reason=new Kd(u,h,m),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new sI(function(a){e=a}),cancel:e}}};function wV(n){return function(t){return n.apply(null,t)}}function bV(n){return ve.isObject(n)&&n.isAxiosError===!0}const zT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zT).forEach(([n,e])=>{zT[e]=n});function aI(n){const e=new Af(n),t=kC(Af.prototype.request,e);return ve.extend(t,Af.prototype,e,{allOwnKeys:!0}),ve.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return aI(Mf(n,a))},t}const jn=aI(yg);jn.Axios=Af;jn.CanceledError=Kd;jn.CancelToken=TV;jn.isCancel=XC;jn.VERSION=iI;jn.toFormData=l0;jn.AxiosError=_t;jn.Cancel=jn.CanceledError;jn.all=function(e){return Promise.all(e)};jn.spread=wV;jn.isAxiosError=bV;jn.mergeConfig=Mf;jn.AxiosHeaders=us;jn.formToJSON=n=>QC(ve.isHTMLForm(n)?new FormData(n):n);jn.getAdapter=rI.getAdapter;jn.HttpStatusCode=zT;jn.default=jn;const{Axios:r5,AxiosError:i5,CanceledError:s5,isCancel:a5,CancelToken:o5,VERSION:l5,all:u5,Cancel:c5,isAxiosError:f5,spread:h5,toFormData:d5,AxiosHeaders:m5,HttpStatusCode:p5,formToJSON:g5,getAdapter:y5,mergeConfig:v5}=jn;function Kr(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var SV=typeof Symbol=="function"&&Symbol.observable||"@@observable",eA=SV,GE=()=>Math.random().toString(36).substring(7).split("").join("."),AV={INIT:`@@redux/INIT${GE()}`,REPLACE:`@@redux/REPLACE${GE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${GE()}`},R_=AV;function db(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function oI(n,e,t){if(typeof n!="function")throw new Error(Kr(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Kr(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Kr(1));return t(oI)(n,e)}let i=n,a=e,u=new Map,h=u,m=0,g=!1;function v(){h===u&&(h=new Map,u.forEach((k,B)=>{h.set(B,k)}))}function E(){if(g)throw new Error(Kr(3));return a}function S(k){if(typeof k!="function")throw new Error(Kr(4));if(g)throw new Error(Kr(5));let B=!0;v();const ee=m++;return h.set(ee,k),function(){if(B){if(g)throw new Error(Kr(6));B=!1,v(),h.delete(ee),u=null}}}function A(k){if(!db(k))throw new Error(Kr(7));if(typeof k.type>"u")throw new Error(Kr(8));if(typeof k.type!="string")throw new Error(Kr(17));if(g)throw new Error(Kr(9));try{g=!0,a=i(a,k)}finally{g=!1}return(u=h).forEach(ee=>{ee()}),k}function D(k){if(typeof k!="function")throw new Error(Kr(10));i=k,A({type:R_.REPLACE})}function M(){const k=S;return{subscribe(B){if(typeof B!="object"||B===null)throw new Error(Kr(11));function ee(){const he=B;he.next&&he.next(E())}return ee(),{unsubscribe:k(ee)}},[eA](){return this}}}return A({type:R_.INIT}),{dispatch:A,subscribe:S,getState:E,replaceReducer:D,[eA]:M}}function RV(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:R_.INIT})>"u")throw new Error(Kr(12));if(typeof t(void 0,{type:R_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Kr(13))})}function xV(n){const e=Object.keys(n),t={};for(let u=0;u<e.length;u++){const h=e[u];typeof n[h]=="function"&&(t[h]=n[h])}const i=Object.keys(t);let a;try{RV(t)}catch(u){a=u}return function(h={},m){if(a)throw a;let g=!1;const v={};for(let E=0;E<i.length;E++){const S=i[E],A=t[S],D=h[S],M=A(D,m);if(typeof M>"u")throw m&&m.type,new Error(Kr(14));v[S]=M,g=g||M!==D}return g=g||i.length!==Object.keys(h).length,g?v:h}}function x_(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function CV(...n){return e=>(t,i)=>{const a=e(t,i);let u=()=>{throw new Error(Kr(15))};const h={getState:a.getState,dispatch:(g,...v)=>u(g,...v)},m=n.map(g=>g(h));return u=x_(...m)(a.dispatch),{...a,dispatch:u}}}function IV(n){return db(n)&&"type"in n&&typeof n.type=="string"}var lI=Symbol.for("immer-nothing"),tA=Symbol.for("immer-draftable"),Ds=Symbol.for("immer-state");function La(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var kd=Object.getPrototypeOf;function Pf(n){return!!n&&!!n[Ds]}function Sl(n){var e;return n?uI(n)||Array.isArray(n)||!!n[tA]||!!((e=n.constructor)!=null&&e[tA])||h0(n)||d0(n):!1}var NV=Object.prototype.constructor.toString();function uI(n){if(!n||typeof n!="object")return!1;const e=kd(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===NV}function C_(n,e){f0(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,i)=>e(i,t,n))}function f0(n){const e=n[Ds];return e?e.type_:Array.isArray(n)?1:h0(n)?2:d0(n)?3:0}function HT(n,e){return f0(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function cI(n,e,t){const i=f0(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function DV(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function h0(n){return n instanceof Map}function d0(n){return n instanceof Set}function lf(n){return n.copy_||n.base_}function qT(n,e){if(h0(n))return new Map(n);if(d0(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=uI(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[Ds];let a=Reflect.ownKeys(i);for(let u=0;u<a.length;u++){const h=a[u],m=i[h];m.writable===!1&&(m.writable=!0,m.configurable=!0),(m.get||m.set)&&(i[h]={configurable:!0,writable:!0,enumerable:m.enumerable,value:n[h]})}return Object.create(kd(n),i)}else{const i=kd(n);if(i!==null&&t)return{...n};const a=Object.create(i);return Object.assign(a,n)}}function mb(n,e=!1){return m0(n)||Pf(n)||!Sl(n)||(f0(n)>1&&(n.set=n.add=n.clear=n.delete=OV),Object.freeze(n),e&&Object.entries(n).forEach(([t,i])=>mb(i,!0))),n}function OV(){La(2)}function m0(n){return Object.isFrozen(n)}var MV={};function Lf(n){const e=MV[n];return e||La(0,n),e}var Jp;function fI(){return Jp}function PV(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nA(n,e){e&&(Lf("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function GT(n){$T(n),n.drafts_.forEach(LV),n.drafts_=null}function $T(n){n===Jp&&(Jp=n.parent_)}function rA(n){return Jp=PV(Jp,n)}function LV(n){const e=n[Ds];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function iA(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Ds].modified_&&(GT(e),La(4)),Sl(n)&&(n=I_(e,n),e.parent_||N_(e,n)),e.patches_&&Lf("Patches").generateReplacementPatches_(t[Ds].base_,n,e.patches_,e.inversePatches_)):n=I_(e,t,[]),GT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==lI?n:void 0}function I_(n,e,t){if(m0(e))return e;const i=e[Ds];if(!i)return C_(e,(a,u)=>sA(n,i,e,a,u,t)),e;if(i.scope_!==n)return e;if(!i.modified_)return N_(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let u=a,h=!1;i.type_===3&&(u=new Set(a),a.clear(),h=!0),C_(u,(m,g)=>sA(n,i,a,m,g,t,h)),N_(n,a,!1),t&&n.patches_&&Lf("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function sA(n,e,t,i,a,u,h){if(Pf(a)){const m=u&&e&&e.type_!==3&&!HT(e.assigned_,i)?u.concat(i):void 0,g=I_(n,a,m);if(cI(t,i,g),Pf(g))n.canAutoFreeze_=!1;else return}else h&&t.add(a);if(Sl(a)&&!m0(a)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;I_(n,a),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,i)&&N_(n,a)}}function N_(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&mb(e,t)}function kV(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:fI(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=i,u=pb;t&&(a=[i],u=eg);const{revoke:h,proxy:m}=Proxy.revocable(a,u);return i.draft_=m,i.revoke_=h,m}var pb={get(n,e){if(e===Ds)return n;const t=lf(n);if(!HT(t,e))return UV(n,t,e);const i=t[e];return n.finalized_||!Sl(i)?i:i===$E(n.base_,e)?(KE(n),n.copy_[e]=YT(i,n)):i},has(n,e){return e in lf(n)},ownKeys(n){return Reflect.ownKeys(lf(n))},set(n,e,t){const i=hI(lf(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const a=$E(lf(n),e),u=a==null?void 0:a[Ds];if(u&&u.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(DV(t,a)&&(t!==void 0||HT(n.base_,e)))return!0;KE(n),KT(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return $E(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,KE(n),KT(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=lf(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){La(11)},getPrototypeOf(n){return kd(n.base_)},setPrototypeOf(){La(12)}},eg={};C_(pb,(n,e)=>{eg[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});eg.deleteProperty=function(n,e){return eg.set.call(this,n,e,void 0)};eg.set=function(n,e,t){return pb.set.call(this,n[0],e,t,n[0])};function $E(n,e){const t=n[Ds];return(t?lf(t):n)[e]}function UV(n,e,t){var a;const i=hI(e,t);return i?"value"in i?i.value:(a=i.get)==null?void 0:a.call(n.draft_):void 0}function hI(n,e){if(!(e in n))return;let t=kd(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=kd(t)}}function KT(n){n.modified_||(n.modified_=!0,n.parent_&&KT(n.parent_))}function KE(n){n.copy_||(n.copy_=qT(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var VV=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const u=t;t=e;const h=this;return function(g=u,...v){return h.produce(g,E=>t.call(this,E,...v))}}typeof t!="function"&&La(6),i!==void 0&&typeof i!="function"&&La(7);let a;if(Sl(e)){const u=rA(this),h=YT(e,void 0);let m=!0;try{a=t(h),m=!1}finally{m?GT(u):$T(u)}return nA(u,i),iA(a,u)}else if(!e||typeof e!="object"){if(a=t(e),a===void 0&&(a=e),a===lI&&(a=void 0),this.autoFreeze_&&mb(a,!0),i){const u=[],h=[];Lf("Patches").generateReplacementPatches_(e,a,u,h),i(u,h)}return a}else La(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(h,...m)=>this.produceWithPatches(h,g=>e(g,...m));let i,a;return[this.produce(e,t,(h,m)=>{i=h,a=m}),i,a]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Sl(n)||La(8),Pf(n)&&(n=jV(n));const e=rA(this),t=YT(n,void 0);return t[Ds].isManual_=!0,$T(e),t}finishDraft(n,e){const t=n&&n[Ds];(!t||!t.isManual_)&&La(9);const{scope_:i}=t;return nA(i,e),iA(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const a=e[t];if(a.path.length===0&&a.op==="replace"){n=a.value;break}}t>-1&&(e=e.slice(t+1));const i=Lf("Patches").applyPatches_;return Pf(n)?i(n,e):this.produce(n,a=>i(a,e))}};function YT(n,e){const t=h0(n)?Lf("MapSet").proxyMap_(n,e):d0(n)?Lf("MapSet").proxySet_(n,e):kV(n,e);return(e?e.scope_:fI()).drafts_.push(t),t}function jV(n){return Pf(n)||La(10,n),dI(n)}function dI(n){if(!Sl(n)||m0(n))return n;const e=n[Ds];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=qT(n,e.scope_.immer_.useStrictShallowCopy_)}else t=qT(n,!0);return C_(t,(i,a)=>{cI(t,i,dI(a))}),e&&(e.finalized_=!1),t}var Os=new VV,mI=Os.produce;Os.produceWithPatches.bind(Os);Os.setAutoFreeze.bind(Os);Os.setUseStrictShallowCopy.bind(Os);Os.applyPatches.bind(Os);Os.createDraft.bind(Os);Os.finishDraft.bind(Os);function pI(n){return({dispatch:t,getState:i})=>a=>u=>typeof u=="function"?u(t,i,n):a(u)}var BV=pI(),FV=pI,zV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?x_:x_.apply(null,arguments)};function aA(n,e){function t(...i){if(e){let a=e(...i);if(!a)throw new Error(_l(0));return{type:n,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>IV(i)&&i.type===n,t}var gI=class Np extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Np.prototype)}static get[Symbol.species](){return Np}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Np(...e[0].concat(this)):new Np(...e.concat(this))}};function oA(n){return Sl(n)?mI(n,()=>{}):n}function Iv(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function HV(n){return typeof n=="boolean"}var qV=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:a=!0,actionCreatorCheck:u=!0}=e??{};let h=new gI;return t&&(HV(t)?h.push(BV):h.push(FV(t.extraArgument))),h},GV="RTK_autoBatch",lA=n=>e=>{setTimeout(e,n)},$V=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let a=!0,u=!1,h=!1;const m=new Set,g=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:lA(10):n.type==="callback"?n.queueNotification:lA(n.timeout),v=()=>{h=!1,u&&(u=!1,m.forEach(E=>E()))};return Object.assign({},i,{subscribe(E){const S=()=>a&&E(),A=i.subscribe(S);return m.add(E),()=>{A(),m.delete(E)}},dispatch(E){var S;try{return a=!((S=E==null?void 0:E.meta)!=null&&S[GV]),u=!a,u&&(h||(h=!0,g(v))),i.dispatch(E)}finally{a=!0}}})},KV=n=>function(t){const{autoBatch:i=!0}=t??{};let a=new gI(n);return i&&a.push($V(typeof i=="object"?i:void 0)),a};function YV(n){const e=qV(),{reducer:t=void 0,middleware:i,devTools:a=!0,preloadedState:u=void 0,enhancers:h=void 0}=n||{};let m;if(typeof t=="function")m=t;else if(db(t))m=xV(t);else throw new Error(_l(1));let g;typeof i=="function"?g=i(e):g=e();let v=x_;a&&(v=zV({trace:!1,...typeof a=="object"&&a}));const E=CV(...g),S=KV(E);let A=typeof h=="function"?h(S):S();const D=v(...A);return oI(m,u,D)}function yI(n){const e={},t=[];let i;const a={addCase(u,h){const m=typeof u=="string"?u:u.type;if(!m)throw new Error(_l(28));if(m in e)throw new Error(_l(29));return e[m]=h,a},addMatcher(u,h){return t.push({matcher:u,reducer:h}),a},addDefaultCase(u){return i=u,a}};return n(a),[e,t,i]}function WV(n){return typeof n=="function"}function QV(n,e){let[t,i,a]=yI(e),u;if(WV(n))u=()=>oA(n());else{const m=oA(n);u=()=>m}function h(m=u(),g){let v=[t[g.type],...i.filter(({matcher:E})=>E(g)).map(({reducer:E})=>E)];return v.filter(E=>!!E).length===0&&(v=[a]),v.reduce((E,S)=>{if(S)if(Pf(E)){const D=S(E,g);return D===void 0?E:D}else{if(Sl(E))return mI(E,A=>S(A,g));{const A=S(E,g);if(A===void 0){if(E===null)return E;throw Error("A case reducer on a non-draftable value must not return undefined")}return A}}return E},m)}return h.getInitialState=u,h}var XV=Symbol.for("rtk-slice-createasyncthunk");function ZV(n,e){return`${n}/${e}`}function JV({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[XV];return function(a){const{name:u,reducerPath:h=u}=a;if(!u)throw new Error(_l(11));const m=(typeof a.reducers=="function"?a.reducers(nj()):a.reducers)||{},g=Object.keys(m),v={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},E={addCase(he,Q){const F=typeof he=="string"?he:he.type;if(!F)throw new Error(_l(12));if(F in v.sliceCaseReducersByType)throw new Error(_l(13));return v.sliceCaseReducersByType[F]=Q,E},addMatcher(he,Q){return v.sliceMatchers.push({matcher:he,reducer:Q}),E},exposeAction(he,Q){return v.actionCreators[he]=Q,E},exposeCaseReducer(he,Q){return v.sliceCaseReducersByName[he]=Q,E}};g.forEach(he=>{const Q=m[he],F={reducerName:he,type:ZV(u,he),createNotation:typeof a.reducers=="function"};ij(Q)?aj(F,Q,E,e):rj(F,Q,E)});function S(){const[he={},Q=[],F=void 0]=typeof a.extraReducers=="function"?yI(a.extraReducers):[a.extraReducers],N={...he,...v.sliceCaseReducersByType};return QV(a.initialState,I=>{for(let O in N)I.addCase(O,N[O]);for(let O of v.sliceMatchers)I.addMatcher(O.matcher,O.reducer);for(let O of Q)I.addMatcher(O.matcher,O.reducer);F&&I.addDefaultCase(F)})}const A=he=>he,D=new Map,M=new WeakMap;let H;function k(he,Q){return H||(H=S()),H(he,Q)}function B(){return H||(H=S()),H.getInitialState()}function ee(he,Q=!1){function F(I){let O=I[he];return typeof O>"u"&&Q&&(O=Iv(M,F,B)),O}function N(I=A){const O=Iv(D,Q,()=>new WeakMap);return Iv(O,I,()=>{const z={};for(const[G,W]of Object.entries(a.selectors??{}))z[G]=ej(W,I,()=>Iv(M,I,B),Q);return z})}return{reducerPath:he,getSelectors:N,get selectors(){return N(F)},selectSlice:F}}const te={name:u,reducer:k,actions:v.actionCreators,caseReducers:v.sliceCaseReducersByName,getInitialState:B,...ee(h),injectInto(he,{reducerPath:Q,...F}={}){const N=Q??h;return he.inject({reducerPath:N,reducer:k},F),{...te,...ee(N,!0)}}};return te}}function ej(n,e,t,i){function a(u,...h){let m=e(u);return typeof m>"u"&&i&&(m=t()),n(m,...h)}return a.unwrapped=n,a}var tj=JV();function nj(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function rj({type:n,reducerName:e,createNotation:t},i,a){let u,h;if("reducer"in i){if(t&&!sj(i))throw new Error(_l(17));u=i.reducer,h=i.prepare}else u=i;a.addCase(n,u).exposeCaseReducer(e,u).exposeAction(e,h?aA(n,h):aA(n))}function ij(n){return n._reducerDefinitionType==="asyncThunk"}function sj(n){return n._reducerDefinitionType==="reducerWithPrepare"}function aj({type:n,reducerName:e},t,i,a){if(!a)throw new Error(_l(18));const{payloadCreator:u,fulfilled:h,pending:m,rejected:g,settled:v,options:E}=t,S=a(n,u,E);i.exposeAction(e,S),h&&i.addCase(S.fulfilled,h),m&&i.addCase(S.pending,m),g&&i.addCase(S.rejected,g),v&&i.addMatcher(S.settled,v),i.exposeCaseReducer(e,{fulfilled:h||Nv,pending:m||Nv,rejected:g||Nv,settled:v||Nv})}function Nv(){}function _l(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Dv={exports:{}},uA;function oj(){return uA||(uA=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});function t(N){return typeof N=="object"&&!("toString"in N)?Object.prototype.toString.call(N).slice(8,-1):N}var i=typeof process=="object"&&!0;function a(N,I){if(!N)throw i?new Error("Invariant failed"):new Error(I())}e.invariant=a;var u=Object.prototype.hasOwnProperty,h=Array.prototype.splice,m=Object.prototype.toString;function g(N){return m.call(N).slice(8,-1)}var v=Object.assign||function(N,I){return E(I).forEach(function(O){u.call(I,O)&&(N[O]=I[O])}),N},E=typeof Object.getOwnPropertySymbols=="function"?function(N){return Object.keys(N).concat(Object.getOwnPropertySymbols(N))}:function(N){return Object.keys(N)};function S(N){return Array.isArray(N)?v(N.constructor(N.length),N):g(N)==="Map"?new Map(N):g(N)==="Set"?new Set(N):N&&typeof N=="object"?v(Object.create(Object.getPrototypeOf(N)),N):N}var A=function(){function N(){this.commands=v({},D),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(I,O){return I===O},this.update.newContext=function(){return new N().update}}return Object.defineProperty(N.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(I){this.update.isEquals=I},enumerable:!0,configurable:!0}),N.prototype.extend=function(I,O){this.commands[I]=O},N.prototype.update=function(I,O){var z=this,G=typeof O=="function"?{$apply:O}:O;Array.isArray(I)&&Array.isArray(G)||a(!Array.isArray(G),function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."}),a(typeof G=="object"&&G!==null,function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the "+("following commands: "+Object.keys(z.commands).join(", ")+".")});var W=I;return E(G).forEach(function(q){if(u.call(z.commands,q)){var je=I===W;W=z.commands[q](G[q],W,G,I),je&&z.isEquals(W,I)&&(W=I)}else{var Ze=g(I)==="Map"?z.update(I.get(q),G[q]):z.update(I[q],G[q]),le=g(W)==="Map"?W.get(q):W[q];(!z.isEquals(Ze,le)||typeof Ze>"u"&&!u.call(I,q))&&(W===I&&(W=S(I)),g(W)==="Map"?W.set(q,Ze):W[q]=Ze)}}),W},N}();e.Context=A;var D={$push:function(N,I,O){return H(I,O,"$push"),N.length?I.concat(N):I},$unshift:function(N,I,O){return H(I,O,"$unshift"),N.length?N.concat(I):I},$splice:function(N,I,O,z){return B(I,O),N.forEach(function(G){ee(G),I===z&&G.length&&(I=S(z)),h.apply(I,G)}),I},$set:function(N,I,O){return he(O),N},$toggle:function(N,I){k(N,"$toggle");var O=N.length?S(I):I;return N.forEach(function(z){O[z]=!I[z]}),O},$unset:function(N,I,O,z){return k(N,"$unset"),N.forEach(function(G){Object.hasOwnProperty.call(I,G)&&(I===z&&(I=S(z)),delete I[G])}),I},$add:function(N,I,O,z){return F(I,"$add"),k(N,"$add"),g(I)==="Map"?N.forEach(function(G){var W=G[0],q=G[1];I===z&&I.get(W)!==q&&(I=S(z)),I.set(W,q)}):N.forEach(function(G){I===z&&!I.has(G)&&(I=S(z)),I.add(G)}),I},$remove:function(N,I,O,z){return F(I,"$remove"),k(N,"$remove"),N.forEach(function(G){I===z&&I.has(G)&&(I=S(z)),I.delete(G)}),I},$merge:function(N,I,O,z){return Q(I,N),E(N).forEach(function(G){N[G]!==I[G]&&(I===z&&(I=S(z)),I[G]=N[G])}),I},$apply:function(N,I){return te(N),N(I)}},M=new A;e.isEquals=M.update.isEquals,e.extend=M.extend,e.default=M.update,e.default.default=n.exports=v(e.default,e);function H(N,I,O){a(Array.isArray(N),function(){return"update(): expected target of "+t(O)+" to be an array; got "+t(N)+"."}),k(I[O],O)}function k(N,I){a(Array.isArray(N),function(){return"update(): expected spec of "+t(I)+" to be an array; got "+t(N)+". Did you forget to wrap your parameter in an array?"})}function B(N,I){a(Array.isArray(N),function(){return"Expected $splice target to be an array; got "+t(N)}),ee(I.$splice)}function ee(N){a(Array.isArray(N),function(){return"update(): expected spec of $splice to be an array of arrays; got "+t(N)+". Did you forget to wrap your parameters in an array?"})}function te(N){a(typeof N=="function",function(){return"update(): expected spec of $apply to be a function; got "+t(N)+"."})}function he(N){a(Object.keys(N).length===1,function(){return"Cannot have more than one key in an object with $set"})}function Q(N,I){a(I&&typeof I=="object",function(){return"update(): $merge expects a spec of type 'object'; got "+t(I)}),a(N&&typeof N=="object",function(){return"update(): $merge expects a target of type 'object'; got "+t(N)})}function F(N,I){var O=g(N);a(O==="Map"||O==="Set",function(){return"update(): "+t(I)+" expects a target of type Set or Map; got "+t(O)})}}(Dv,Dv.exports)),Dv.exports}var lj=oj();const gb=Vd(lj),uj={loading:!0,user:null},vI=tj({name:"user",initialState:uj,reducers:{updateUser:(n,e)=>({...n,...e.payload}),updateNickname:(n,e)=>gb(n,{user:{nickname:{$set:e.payload}}}),logOut:n=>{n.loading=!1,n.user=null}}}),{updateUser:Xv,updateNickname:_I,logOut:cj}=vI.actions,fj=vI.reducer;function hj(){const n=kf();return j.useEffect(()=>{console.log("Layout: Starting authentication setup"),console.log("Layout: Current URL:",window.location.href),uO(Ld,yR).then(()=>{console.log("Auth persistence set to LOCAL")}).catch(i=>{console.error("Error setting auth persistence:",i)});const e=localStorage.getItem("guestUser");if(e)try{const i=JSON.parse(e);console.log("🔍 Found stored guest user:",i.nickname),n(Xv({loading:!1,user:i}))}catch(i){console.error("Error parsing stored guest user:",i),localStorage.removeItem("guestUser")}const t=hO(Ld,i=>{var a;if(console.log("🔥 Auth state changed:",i?`${i.displayName} (${i.uid})`:"No user"),i){console.log("User authenticated, updating Redux store"),i.isAnonymous||localStorage.removeItem("guestUser");const u=window.localStorage.getItem("nickname")||((a=i.displayName)==null?void 0:a.split(" ")[0]),h={displayName:i.displayName,email:i.email,emailVerified:i.emailVerified,photoURL:i.photoURL,isAnonymous:i.isAnonymous,uid:i.uid,providerData:i.providerData,nickname:u};n(Xv({loading:!1,user:h})),jn.get(`/api/user/${i.uid}`).then(m=>{console.log("User is registered")}).catch(m=>{console.log("API call failed (expected in development):",m.message),m.response&&m.response.status===404?(console.log("User not registered, attempting to register..."),jn.post("/api/user",{uid:i.uid,info:h}).then(()=>{console.log("User registered successfully")}).catch(g=>{console.log("Error registering user (expected in development):",g.message)})):console.log("API error (expected in development):",m.message)})}else console.log("🔥 No user authenticated"),n(Xv({loading:!1,user:null}))});return()=>{t()}},[n]),T.jsxs("div",{children:[T.jsx(ck,{})," "]})}var Dp={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var dj=Dp.exports,cA;function mj(){return cA||(cA=1,function(n,e){(function(){var t,i="4.17.21",a=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",h="Expected a function",m="Invalid `variable` option passed into `_.template`",g="__lodash_hash_undefined__",v=500,E="__lodash_placeholder__",S=1,A=2,D=4,M=1,H=2,k=1,B=2,ee=4,te=8,he=16,Q=32,F=64,N=128,I=256,O=512,z=30,G="...",W=800,q=16,je=1,Ze=2,le=3,me=1/0,_e=9007199254740991,Me=17976931348623157e292,$=NaN,pe=4294967295,Ne=pe-1,we=pe>>>1,Ue=[["ary",N],["bind",k],["bindKey",B],["curry",te],["curryRight",he],["flip",O],["partial",Q],["partialRight",F],["rearg",I]],Ye="[object Arguments]",He="[object Array]",mn="[object AsyncFunction]",Nt="[object Boolean]",Mn="[object Date]",Zt="[object DOMException]",An="[object Error]",qn="[object Function]",Rr="[object GeneratorFunction]",Wt="[object Map]",Dt="[object Number]",cs="[object Null]",an="[object Object]",Fa="[object Promise]",oa="[object Proxy]",Xr="[object RegExp]",Bn="[object Set]",_r="[object String]",Er="[object Symbol]",fs="[object Undefined]",Zr="[object WeakMap]",qe="[object WeakSet]",it="[object ArrayBuffer]",Rn="[object DataView]",Pn="[object Float32Array]",za="[object Float64Array]",Jr="[object Int8Array]",ji="[object Int16Array]",Bi="[object Int32Array]",Fi="[object Uint8Array]",kr="[object Uint8ClampedArray]",hs="[object Uint16Array]",ei="[object Uint32Array]",Ha=/\b__p \+= '';/g,la=/\b(__p \+=) '' \+/g,Mo=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ri=/&(?:amp|lt|gt|quot|#39);/g,zi=/[&<>"']/g,qa=RegExp(Ri.source),Ur=RegExp(zi.source),Ps=/<%-([\s\S]+?)%>/g,Ls=/<%([\s\S]+?)%>/g,ua=/<%=([\s\S]+?)%>/g,X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,se=/^\w*$/,ue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Se=/[\\^$.*+?()[\]{}|]/g,Oe=RegExp(Se.source),Ve=/^\s+/,et=/\s/,Be=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ge=/\{\n\/\* \[wrapped with (.+)\] \*/,Qe=/,? & /,nt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$e=/[()=,{}\[\]\/\s]/,st=/\\(\\)?/g,Rt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Jt=/\w*$/,Qt=/^[-+]0x[0-9a-f]+$/i,Lt=/^0b[01]+$/i,wt=/^\[object .+?Constructor\]$/,Hi=/^0o[0-7]+$/i,Qn=/^(?:0|[1-9]\d*)$/,Vr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Gn=/($^)/,ks=/['\n\r\u2028\u2029\\]/g,xr="\\ud800-\\udfff",Ga="\\u0300-\\u036f",Cr="\\ufe20-\\ufe2f",jr="\\u20d0-\\u20ff",ft=Ga+Cr+jr,Fn="\\u2700-\\u27bf",ti="a-z\\xdf-\\xf6\\xf8-\\xff",ni="\\xac\\xb1\\xd7\\xf7",Us="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",pn="\\u2000-\\u206f",qi=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vs="A-Z\\xc0-\\xd6\\xd8-\\xde",ar="\\ufe0e\\ufe0f",xl=ni+Us+pn+qi,Ku="['’]",Cl="["+xr+"]",Il="["+xl+"]",js="["+ft+"]",zf="\\d+",$n="["+Fn+"]",ri="["+ti+"]",$a="[^"+xr+xl+zf+Fn+ti+Vs+"]",Bs="\\ud83c[\\udffb-\\udfff]",ca="(?:"+js+"|"+Bs+")",on="[^"+xr+"]",fa="(?:\\ud83c[\\udde6-\\uddff]){2}",ii="[\\ud800-\\udbff][\\udc00-\\udfff]",Gi="["+Vs+"]",Yu="\\u200d",Nl="(?:"+ri+"|"+$a+")",Wu="(?:"+Gi+"|"+$a+")",Hf="(?:"+Ku+"(?:d|ll|m|re|s|t|ve))?",qf="(?:"+Ku+"(?:D|LL|M|RE|S|T|VE))?",Po=ca+"?",Fs="["+ar+"]?",$i="(?:"+Yu+"(?:"+[on,fa,ii].join("|")+")"+Fs+Po+")*",ha="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",da="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Dl=Fs+Po+$i,zs="(?:"+[$n,fa,ii].join("|")+")"+Dl,Gf="(?:"+[on+js+"?",js,fa,ii,Cl].join("|")+")",Lo=RegExp(Ku,"g"),ds=RegExp(js,"g"),si=RegExp(Bs+"(?="+Bs+")|"+Gf+Dl,"g"),ko=RegExp([Gi+"?"+ri+"+"+Hf+"(?="+[Il,Gi,"$"].join("|")+")",Wu+"+"+qf+"(?="+[Il,Gi+Nl,"$"].join("|")+")",Gi+"?"+Nl+"+"+Hf,Gi+"+"+qf,da,ha,zf,zs].join("|"),"g"),Hs=RegExp("["+Yu+xr+ft+ar+"]"),Ka=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ma=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Qu=-1,Ft={};Ft[Pn]=Ft[za]=Ft[Jr]=Ft[ji]=Ft[Bi]=Ft[Fi]=Ft[kr]=Ft[hs]=Ft[ei]=!0,Ft[Ye]=Ft[He]=Ft[it]=Ft[Nt]=Ft[Rn]=Ft[Mn]=Ft[An]=Ft[qn]=Ft[Wt]=Ft[Dt]=Ft[an]=Ft[Xr]=Ft[Bn]=Ft[_r]=Ft[Zr]=!1;var kt={};kt[Ye]=kt[He]=kt[it]=kt[Rn]=kt[Nt]=kt[Mn]=kt[Pn]=kt[za]=kt[Jr]=kt[ji]=kt[Bi]=kt[Wt]=kt[Dt]=kt[an]=kt[Xr]=kt[Bn]=kt[_r]=kt[Er]=kt[Fi]=kt[kr]=kt[hs]=kt[ei]=!0,kt[An]=kt[qn]=kt[Zr]=!1;var Xu={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},or={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},nn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ol={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Uo=parseFloat,$f=parseInt,Vo=typeof Ev=="object"&&Ev&&Ev.Object===Object&&Ev,Ml=typeof self=="object"&&self&&self.Object===Object&&self,Tn=Vo||Ml||Function("return this")(),pa=e&&!e.nodeType&&e,lr=pa&&!0&&n&&!n.nodeType&&n,Zu=lr&&lr.exports===pa,Ju=Zu&&Vo.process,ur=function(){try{var ne=lr&&lr.require&&lr.require("util").types;return ne||Ju&&Ju.binding&&Ju.binding("util")}catch{}}(),jo=ur&&ur.isArrayBuffer,Pl=ur&&ur.isDate,Bo=ur&&ur.isMap,ec=ur&&ur.isRegExp,Fo=ur&&ur.isSet,Kf=ur&&ur.isTypedArray;function Tr(ne,Ee,ge){switch(ge.length){case 0:return ne.call(Ee);case 1:return ne.call(Ee,ge[0]);case 2:return ne.call(Ee,ge[0],ge[1]);case 3:return ne.call(Ee,ge[0],ge[1],ge[2])}return ne.apply(Ee,ge)}function zo(ne,Ee,ge,Le){for(var lt=-1,Gt=ne==null?0:ne.length;++lt<Gt;){var Kn=ne[lt];Ee(Le,Kn,ge(Kn),ne)}return Le}function Br(ne,Ee){for(var ge=-1,Le=ne==null?0:ne.length;++ge<Le&&Ee(ne[ge],ge,ne)!==!1;);return ne}function Yf(ne,Ee){for(var ge=ne==null?0:ne.length;ge--&&Ee(ne[ge],ge,ne)!==!1;);return ne}function Ll(ne,Ee){for(var ge=-1,Le=ne==null?0:ne.length;++ge<Le;)if(!Ee(ne[ge],ge,ne))return!1;return!0}function ai(ne,Ee){for(var ge=-1,Le=ne==null?0:ne.length,lt=0,Gt=[];++ge<Le;){var Kn=ne[ge];Ee(Kn,ge,ne)&&(Gt[lt++]=Kn)}return Gt}function Ho(ne,Ee){var ge=ne==null?0:ne.length;return!!ge&&ga(ne,Ee,0)>-1}function Ya(ne,Ee,ge){for(var Le=-1,lt=ne==null?0:ne.length;++Le<lt;)if(ge(Ee,ne[Le]))return!0;return!1}function gn(ne,Ee){for(var ge=-1,Le=ne==null?0:ne.length,lt=Array(Le);++ge<Le;)lt[ge]=Ee(ne[ge],ge,ne);return lt}function Ki(ne,Ee){for(var ge=-1,Le=Ee.length,lt=ne.length;++ge<Le;)ne[lt+ge]=Ee[ge];return ne}function ms(ne,Ee,ge,Le){var lt=-1,Gt=ne==null?0:ne.length;for(Le&&Gt&&(ge=ne[++lt]);++lt<Gt;)ge=Ee(ge,ne[lt],lt,ne);return ge}function Wf(ne,Ee,ge,Le){var lt=ne==null?0:ne.length;for(Le&&lt&&(ge=ne[--lt]);lt--;)ge=Ee(ge,ne[lt],lt,ne);return ge}function kl(ne,Ee){for(var ge=-1,Le=ne==null?0:ne.length;++ge<Le;)if(Ee(ne[ge],ge,ne))return!0;return!1}var Qf=R("length");function Xf(ne){return ne.split("")}function Ul(ne){return ne.match(nt)||[]}function Ir(ne,Ee,ge){var Le;return ge(ne,function(lt,Gt,Kn){if(Ee(lt,Gt,Kn))return Le=Gt,!1}),Le}function qo(ne,Ee,ge,Le){for(var lt=ne.length,Gt=ge+(Le?1:-1);Le?Gt--:++Gt<lt;)if(Ee(ne[Gt],Gt,ne))return Gt;return-1}function ga(ne,Ee,ge){return Ee===Ee?w0(ne,Ee,ge):qo(ne,d,ge)}function qs(ne,Ee,ge,Le){for(var lt=ge-1,Gt=ne.length;++lt<Gt;)if(Le(ne[lt],Ee))return lt;return-1}function d(ne){return ne!==ne}function w(ne,Ee){var ge=ne==null?0:ne.length;return ge?Pe(ne,Ee)/ge:$}function R(ne){return function(Ee){return Ee==null?t:Ee[ne]}}function U(ne){return function(Ee){return ne==null?t:ne[Ee]}}function ae(ne,Ee,ge,Le,lt){return lt(ne,function(Gt,Kn,$t){ge=Le?(Le=!1,Gt):Ee(ge,Gt,Kn,$t)}),ge}function ye(ne,Ee){var ge=ne.length;for(ne.sort(Ee);ge--;)ne[ge]=ne[ge].value;return ne}function Pe(ne,Ee){for(var ge,Le=-1,lt=ne.length;++Le<lt;){var Gt=Ee(ne[Le]);Gt!==t&&(ge=ge===t?Gt:ge+Gt)}return ge}function Ot(ne,Ee){for(var ge=-1,Le=Array(ne);++ge<ne;)Le[ge]=Ee(ge);return Le}function Xn(ne,Ee){return gn(Ee,function(ge){return[ge,ne[ge]]})}function Ut(ne){return ne&&ne.slice(0,Qd(ne)+1).replace(Ve,"")}function rn(ne){return function(Ee){return ne(Ee)}}function zn(ne,Ee){return gn(Ee,function(ge){return ne[ge]})}function xi(ne,Ee){return ne.has(Ee)}function cr(ne,Ee){for(var ge=-1,Le=ne.length;++ge<Le&&ga(Ee,ne[ge],0)>-1;);return ge}function ps(ne,Ee){for(var ge=ne.length;ge--&&ga(Ee,ne[ge],0)>-1;);return ge}function tc(ne,Ee){for(var ge=ne.length,Le=0;ge--;)ne[ge]===Ee&&++Le;return Le}var Zf=U(Xu),Eg=U(or);function Tg(ne){return"\\"+Ol[ne]}function Wd(ne,Ee){return ne==null?t:ne[Ee]}function Wa(ne){return Hs.test(ne)}function wg(ne){return Ka.test(ne)}function bg(ne){for(var Ee,ge=[];!(Ee=ne.next()).done;)ge.push(Ee.value);return ge}function Jf(ne){var Ee=-1,ge=Array(ne.size);return ne.forEach(function(Le,lt){ge[++Ee]=[lt,Le]}),ge}function Sg(ne,Ee){return function(ge){return ne(Ee(ge))}}function Qa(ne,Ee){for(var ge=-1,Le=ne.length,lt=0,Gt=[];++ge<Le;){var Kn=ne[ge];(Kn===Ee||Kn===E)&&(ne[ge]=E,Gt[lt++]=ge)}return Gt}function eh(ne){var Ee=-1,ge=Array(ne.size);return ne.forEach(function(Le){ge[++Ee]=Le}),ge}function T0(ne){var Ee=-1,ge=Array(ne.size);return ne.forEach(function(Le){ge[++Ee]=[Le,Le]}),ge}function w0(ne,Ee,ge){for(var Le=ge-1,lt=ne.length;++Le<lt;)if(ne[Le]===Ee)return Le;return-1}function Ci(ne,Ee,ge){for(var Le=ge+1;Le--;)if(ne[Le]===Ee)return Le;return Le}function Gs(ne){return Wa(ne)?Rg(ne):Qf(ne)}function Yi(ne){return Wa(ne)?Xd(ne):Xf(ne)}function Qd(ne){for(var Ee=ne.length;Ee--&&et.test(ne.charAt(Ee)););return Ee}var Ag=U(nn);function Rg(ne){for(var Ee=si.lastIndex=0;si.test(ne);)++Ee;return Ee}function Xd(ne){return ne.match(si)||[]}function b0(ne){return ne.match(ko)||[]}var Vl=function ne(Ee){Ee=Ee==null?Tn:Xa.defaults(Tn.Object(),Ee,Xa.pick(Tn,ma));var ge=Ee.Array,Le=Ee.Date,lt=Ee.Error,Gt=Ee.Function,Kn=Ee.Math,$t=Ee.Object,th=Ee.RegExp,xg=Ee.String,Ii=Ee.TypeError,nh=ge.prototype,S0=Gt.prototype,jl=$t.prototype,nc=Ee["__core-js_shared__"],rc=S0.toString,en=jl.hasOwnProperty,gs=0,Zd=function(){var l=/[^.]+$/.exec(nc&&nc.keys&&nc.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Fr=jl.toString,Wi=rc.call($t),Bl=Tn._,Jd=th("^"+rc.call(en).replace(Se,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Go=Zu?Ee.Buffer:t,ys=Ee.Symbol,Fl=Ee.Uint8Array,$o=Go?Go.allocUnsafe:t,ic=Sg($t.getPrototypeOf,$t),sc=$t.create,Ko=jl.propertyIsEnumerable,rh=nh.splice,oi=ys?ys.isConcatSpreadable:t,Yo=ys?ys.iterator:t,zr=ys?ys.toStringTag:t,ac=function(){try{var l=ao($t,"defineProperty");return l({},"",{}),l}catch{}}(),ih=Ee.clearTimeout!==Tn.clearTimeout&&Ee.clearTimeout,Wo=Le&&Le.now!==Tn.Date.now&&Le.now,em=Ee.setTimeout!==Tn.setTimeout&&Ee.setTimeout,zl=Kn.ceil,ya=Kn.floor,Za=$t.getOwnPropertySymbols,sh=Go?Go.isBuffer:t,oc=Ee.isFinite,Qi=nh.join,Xi=Sg($t.keys,$t),bn=Kn.max,xn=Kn.min,va=Le.now,Qo=Ee.parseInt,tm=Kn.random,nm=nh.reverse,lc=ao(Ee,"DataView"),Zn=ao(Ee,"Map"),Cn=ao(Ee,"Promise"),Mt=ao(Ee,"Set"),vs=ao(Ee,"WeakMap"),li=ao($t,"create"),Hl=vs&&new vs,Zi={},Cg=xa(lc),Ig=xa(Zn),uc=xa(Cn),cc=xa(Mt),Ng=xa(vs),Ja=ys?ys.prototype:t,Xo=Ja?Ja.valueOf:t,eo=Ja?Ja.toString:t;function P(l){if(Dn(l)&&!ht(l)&&!(l instanceof bt)){if(l instanceof ui)return l;if(en.call(l,"__wrapped__"))return er(l)}return new ui(l)}var Ni=function(){function l(){}return function(c){if(!Nn(c))return{};if(sc)return sc(c);l.prototype=c;var y=new l;return l.prototype=t,y}}();function Ji(){}function ui(l,c){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=t}P.templateSettings={escape:Ps,evaluate:Ls,interpolate:ua,variable:"",imports:{_:P}},P.prototype=Ji.prototype,P.prototype.constructor=P,ui.prototype=Ni(Ji.prototype),ui.prototype.constructor=ui;function bt(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pe,this.__views__=[]}function fc(){var l=new bt(this.__wrapped__);return l.__actions__=Jn(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Jn(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Jn(this.__views__),l}function ah(){if(this.__filtered__){var l=new bt(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function Zo(){var l=this.__wrapped__.value(),c=this.__dir__,y=ht(l),b=c<0,C=y?l.length:0,V=uy(0,C,this.__views__),K=V.start,Z=V.end,ie=Z-K,Ae=b?Z:K-1,xe=this.__iteratees__,De=xe.length,ke=0,We=xn(ie,this.__takeCount__);if(!y||!b&&C==ie&&We==ie)return Wg(l,this.__actions__);var ut=[];e:for(;ie--&&ke<We;){Ae+=c;for(var At=-1,ct=l[Ae];++At<De;){var jt=xe[At],Yt=jt.iteratee,As=jt.type,Ui=Yt(ct);if(As==Ze)ct=Ui;else if(!Ui){if(As==je)continue e;break e}}ut[ke++]=ct}return ut}bt.prototype=Ni(Ji.prototype),bt.prototype.constructor=bt;function Ln(l){var c=-1,y=l==null?0:l.length;for(this.clear();++c<y;){var b=l[c];this.set(b[0],b[1])}}function oh(){this.__data__=li?li(null):{},this.size=0}function Dg(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}function A0(l){var c=this.__data__;if(li){var y=c[l];return y===g?t:y}return en.call(c,l)?c[l]:t}function R0(l){var c=this.__data__;return li?c[l]!==t:en.call(c,l)}function x0(l,c){var y=this.__data__;return this.size+=this.has(l)?0:1,y[l]=li&&c===t?g:c,this}Ln.prototype.clear=oh,Ln.prototype.delete=Dg,Ln.prototype.get=A0,Ln.prototype.has=R0,Ln.prototype.set=x0;function yn(l){var c=-1,y=l==null?0:l.length;for(this.clear();++c<y;){var b=l[c];this.set(b[0],b[1])}}function rm(){this.__data__=[],this.size=0}function hc(l){var c=this.__data__,y=$l(c,l);if(y<0)return!1;var b=c.length-1;return y==b?c.pop():rh.call(c,y,1),--this.size,!0}function dc(l){var c=this.__data__,y=$l(c,l);return y<0?t:c[y][1]}function im(l){return $l(this.__data__,l)>-1}function ql(l,c){var y=this.__data__,b=$l(y,l);return b<0?(++this.size,y.push([l,c])):y[b][1]=c,this}yn.prototype.clear=rm,yn.prototype.delete=hc,yn.prototype.get=dc,yn.prototype.has=im,yn.prototype.set=ql;function ci(l){var c=-1,y=l==null?0:l.length;for(this.clear();++c<y;){var b=l[c];this.set(b[0],b[1])}}function C0(){this.size=0,this.__data__={hash:new Ln,map:new(Zn||yn),string:new Ln}}function Og(l){var c=Zl(this,l).delete(l);return this.size-=c?1:0,c}function I0(l){return Zl(this,l).get(l)}function Mg(l){return Zl(this,l).has(l)}function Jo(l,c){var y=Zl(this,l),b=y.size;return y.set(l,c),this.size+=y.size==b?0:1,this}ci.prototype.clear=C0,ci.prototype.delete=Og,ci.prototype.get=I0,ci.prototype.has=Mg,ci.prototype.set=Jo;function _a(l){var c=-1,y=l==null?0:l.length;for(this.__data__=new ci;++c<y;)this.add(l[c])}function lh(l){return this.__data__.set(l,g),this}function Pg(l){return this.__data__.has(l)}_a.prototype.add=_a.prototype.push=lh,_a.prototype.has=Pg;function Hr(l){var c=this.__data__=new yn(l);this.size=c.size}function Lg(){this.__data__=new yn,this.size=0}function uh(l){var c=this.__data__,y=c.delete(l);return this.size=c.size,y}function sm(l){return this.__data__.get(l)}function kg(l){return this.__data__.has(l)}function ch(l,c){var y=this.__data__;if(y instanceof yn){var b=y.__data__;if(!Zn||b.length<a-1)return b.push([l,c]),this.size=++y.size,this;y=this.__data__=new ci(b)}return y.set(l,c),this.size=y.size,this}Hr.prototype.clear=Lg,Hr.prototype.delete=uh,Hr.prototype.get=sm,Hr.prototype.has=kg,Hr.prototype.set=ch;function am(l,c){var y=ht(l),b=!y&&Da(l),C=!y&&!b&&yo(l),V=!y&&!b&&!C&&hu(l),K=y||b||C||V,Z=K?Ot(l.length,xg):[],ie=Z.length;for(var Ae in l)(c||en.call(l,Ae))&&!(K&&(Ae=="length"||C&&(Ae=="offset"||Ae=="parent")||V&&(Ae=="buffer"||Ae=="byteLength"||Ae=="byteOffset")||ws(Ae,ie)))&&Z.push(Ae);return Z}function Gl(l){var c=l.length;return c?l[Eh(0,c-1)]:t}function Ug(l,c){return Bc(Jn(l),Es(c,0,l.length))}function Vg(l){return Bc(Jn(l))}function $s(l,c,y){(y!==t&&!yi(l[c],y)||y===t&&!(c in l))&&_s(l,c,y)}function el(l,c,y){var b=l[c];(!(en.call(l,c)&&yi(b,y))||y===t&&!(c in l))&&_s(l,c,y)}function $l(l,c){for(var y=l.length;y--;)if(yi(l[y][0],c))return y;return-1}function to(l,c,y,b){return Ta(l,function(C,V,K){c(b,C,y(C),K)}),b}function Ea(l,c){return l&&di(c,rr(c),l)}function mc(l,c){return l&&di(c,dr(c),l)}function _s(l,c,y){c=="__proto__"&&ac?ac(l,c,{configurable:!0,enumerable:!0,value:y,writable:!0}):l[c]=y}function pc(l,c){for(var y=-1,b=c.length,C=ge(b),V=l==null;++y<b;)C[y]=V?t:ef(l,c[y]);return C}function Es(l,c,y){return l===l&&(y!==t&&(l=l<=y?l:y),c!==t&&(l=l>=c?l:c)),l}function Nr(l,c,y,b,C,V){var K,Z=c&S,ie=c&A,Ae=c&D;if(y&&(K=C?y(l,b,C,V):y(l)),K!==t)return K;if(!Nn(l))return l;var xe=ht(l);if(xe){if(K=Om(l),!Z)return Jn(l,K)}else{var De=hr(l),ke=De==qn||De==Rr;if(yo(l))return Sm(l,Z);if(De==an||De==Ye||ke&&!C){if(K=ie||ke?{}:Mm(l),!Z)return ie?Cc(l,mc(K,l)):Rh(l,Ea(K,l))}else{if(!kt[De])return C?l:{};K=Pm(l,De,Z)}}V||(V=new Hr);var We=V.get(l);if(We)return We;V.set(l,K),tv(l)?l.forEach(function(ct){K.add(Nr(ct,c,y,ct,l,V))}):Xh(l)&&l.forEach(function(ct,jt){K.set(jt,Nr(ct,c,y,jt,l,V))});var ut=Ae?ie?Nh:Ih:ie?dr:rr,At=xe?t:ut(l);return Br(At||l,function(ct,jt){At&&(jt=ct,ct=l[jt]),el(K,jt,Nr(ct,c,y,jt,l,V))}),K}function jg(l){var c=rr(l);return function(y){return om(y,l,c)}}function om(l,c,y){var b=y.length;if(l==null)return!b;for(l=$t(l);b--;){var C=y[b],V=c[C],K=l[C];if(K===t&&!(C in l)||!V(K))return!1}return!0}function tl(l,c,y){if(typeof l!="function")throw new Ii(h);return eu(function(){l.apply(t,y)},c)}function no(l,c,y,b){var C=-1,V=Ho,K=!0,Z=l.length,ie=[],Ae=c.length;if(!Z)return ie;y&&(c=gn(c,rn(y))),b?(V=Ya,K=!1):c.length>=a&&(V=xi,K=!1,c=new _a(c));e:for(;++C<Z;){var xe=l[C],De=y==null?xe:y(xe);if(xe=b||xe!==0?xe:0,K&&De===De){for(var ke=Ae;ke--;)if(c[ke]===De)continue e;ie.push(xe)}else V(c,De,b)||ie.push(xe)}return ie}var Ta=Cm(Dr),fh=Cm(Yl,!0);function lm(l,c){var y=!0;return Ta(l,function(b,C,V){return y=!!c(b,C,V),y}),y}function Ts(l,c,y){for(var b=-1,C=l.length;++b<C;){var V=l[b],K=c(V);if(K!=null&&(Z===t?K===K&&!$r(K):y(K,Z)))var Z=K,ie=V}return ie}function Et(l,c,y,b){var C=l.length;for(y=pt(y),y<0&&(y=-y>C?0:C+y),b=b===t||b>C?C:pt(b),b<0&&(b+=C),b=y>b?0:ta(b);y<b;)l[y++]=c;return l}function ln(l,c){var y=[];return Ta(l,function(b,C,V){c(b,C,V)&&y.push(b)}),y}function Pt(l,c,y,b,C){var V=-1,K=l.length;for(y||(y=Aa),C||(C=[]);++V<K;){var Z=l[V];c>0&&y(Z)?c>1?Pt(Z,c-1,y,b,C):Ki(C,Z):b||(C[C.length]=Z)}return C}var Kl=ll(),nl=ll(!0);function Dr(l,c){return l&&Kl(l,c,rr)}function Yl(l,c){return l&&nl(l,c,rr)}function ro(l,c){return ai(c,function(y){return bs(l[y])})}function es(l,c){c=ba(c,l);for(var y=0,b=c.length;l!=null&&y<b;)l=l[sn(c[y++])];return y&&y==b?l:t}function Bg(l,c,y){var b=c(l);return ht(l)?b:Ki(b,y(l))}function Vt(l){return l==null?l===t?fs:cs:zr&&zr in $t(l)?ly(l):my(l)}function gc(l,c){return l>c}function um(l,c){return l!=null&&en.call(l,c)}function Fg(l,c){return l!=null&&c in $t(l)}function zg(l,c,y){return l>=xn(c,y)&&l<bn(c,y)}function cm(l,c,y){for(var b=y?Ya:Ho,C=l[0].length,V=l.length,K=V,Z=ge(V),ie=1/0,Ae=[];K--;){var xe=l[K];K&&c&&(xe=gn(xe,rn(c))),ie=xn(xe.length,ie),Z[K]=!y&&(c||C>=120&&xe.length>=120)?new _a(K&&xe):t}xe=l[0];var De=-1,ke=Z[0];e:for(;++De<C&&Ae.length<ie;){var We=xe[De],ut=c?c(We):We;if(We=y||We!==0?We:0,!(ke?xi(ke,ut):b(Ae,ut,y))){for(K=V;--K;){var At=Z[K];if(!(At?xi(At,ut):b(l[K],ut,y)))continue e}ke&&ke.push(ut),Ae.push(We)}}return Ae}function fm(l,c,y,b){return Dr(l,function(C,V,K){c(b,y(C),V,K)}),b}function rl(l,c,y){c=ba(c,l),l=Jl(l,c);var b=l==null?l:l[sn(Or(c))];return b==null?t:Tr(b,l,y)}function hh(l){return Dn(l)&&Vt(l)==Ye}function fi(l){return Dn(l)&&Vt(l)==it}function Yn(l){return Dn(l)&&Vt(l)==Mn}function il(l,c,y,b,C){return l===c?!0:l==null||c==null||!Dn(l)&&!Dn(c)?l!==l&&c!==c:yc(l,c,y,b,il,C)}function yc(l,c,y,b,C,V){var K=ht(l),Z=ht(c),ie=K?He:hr(l),Ae=Z?He:hr(c);ie=ie==Ye?an:ie,Ae=Ae==Ye?an:Ae;var xe=ie==an,De=Ae==an,ke=ie==Ae;if(ke&&yo(l)){if(!yo(c))return!1;K=!0,xe=!1}if(ke&&!xe)return V||(V=new Hr),K||hu(l)?ay(l,c,y,b,C,V):oy(l,c,ie,y,b,C,V);if(!(y&M)){var We=xe&&en.call(l,"__wrapped__"),ut=De&&en.call(c,"__wrapped__");if(We||ut){var At=We?l.value():l,ct=ut?c.value():c;return V||(V=new Hr),C(At,ct,y,b,V)}}return ke?(V||(V=new Hr),fr(l,c,y,b,C,V)):!1}function dh(l){return Dn(l)&&hr(l)==Wt}function vc(l,c,y,b){var C=y.length,V=C,K=!b;if(l==null)return!V;for(l=$t(l);C--;){var Z=y[C];if(K&&Z[2]?Z[1]!==l[Z[0]]:!(Z[0]in l))return!1}for(;++C<V;){Z=y[C];var ie=Z[0],Ae=l[ie],xe=Z[1];if(K&&Z[2]){if(Ae===t&&!(ie in l))return!1}else{var De=new Hr;if(b)var ke=b(Ae,xe,ie,l,c,De);if(!(ke===t?il(xe,Ae,M|H,b,De):ke))return!1}}return!0}function Ks(l){if(!Nn(l)||kh(l))return!1;var c=bs(l)?Jd:wt;return c.test(xa(l))}function mh(l){return Dn(l)&&Vt(l)==Xr}function hm(l){return Dn(l)&&hr(l)==Bn}function dm(l){return Dn(l)&&dl(l.length)&&!!Ft[Vt(l)]}function mm(l){return typeof l=="function"?l:l==null?fe:typeof l=="object"?ht(l)?yh(l[0],l[1]):gm(l):Kt(l)}function ph(l){if(!vn(l))return Xi(l);var c=[];for(var y in $t(l))en.call(l,y)&&y!="constructor"&&c.push(y);return c}function Hg(l){if(!Nn(l))return oo(l);var c=vn(l),y=[];for(var b in l)b=="constructor"&&(c||!en.call(l,b))||y.push(b);return y}function gh(l,c){return l<c}function pm(l,c){var y=-1,b=tr(l)?ge(l.length):[];return Ta(l,function(C,V,K){b[++y]=c(C,V,K)}),b}function gm(l){var c=Oh(l);return c.length==1&&c[0][2]?hy(c[0][0],c[0][1]):function(y){return y===l||vc(y,l,c)}}function yh(l,c){return Ph(l)&&fy(c)?hy(sn(l),c):function(y){var b=ef(y,l);return b===t&&b===c?gu(y,l):il(c,b,M|H)}}function _c(l,c,y,b,C){l!==c&&Kl(c,function(V,K){if(C||(C=new Hr),Nn(V))N0(l,c,K,y,_c,b,C);else{var Z=b?b(Uh(l,K),V,K+"",l,c,C):t;Z===t&&(Z=V),$s(l,K,Z)}},dr)}function N0(l,c,y,b,C,V,K){var Z=Uh(l,y),ie=Uh(c,y),Ae=K.get(ie);if(Ae){$s(l,y,Ae);return}var xe=V?V(Z,ie,y+"",l,c,K):t,De=xe===t;if(De){var ke=ht(ie),We=!ke&&yo(ie),ut=!ke&&!We&&hu(ie);xe=ie,ke||We||ut?ht(Z)?xe=Z:Vn(Z)?xe=Jn(Z):We?(De=!1,xe=Sm(ie,!0)):ut?(De=!1,xe=Rm(ie,!0)):xe=[]:is(ie)||Da(ie)?(xe=Z,Da(Z)?xe=iv(Z):(!Nn(Z)||bs(Z))&&(xe=Mm(ie))):De=!1}De&&(K.set(ie,xe),C(xe,ie,b,V,K),K.delete(ie)),$s(l,y,xe)}function ym(l,c){var y=l.length;if(y)return c+=c<0?y:0,ws(c,y)?l[c]:t}function vm(l,c,y){c.length?c=gn(c,function(V){return ht(V)?function(K){return es(K,V.length===1?V[0]:V)}:V}):c=[fe];var b=-1;c=gn(c,rn(Je()));var C=pm(l,function(V,K,Z){var ie=gn(c,function(Ae){return Ae(V)});return{criteria:ie,index:++b,value:V}});return ye(C,function(V,K){return Jg(V,K,y)})}function qg(l,c){return vh(l,c,function(y,b){return gu(l,b)})}function vh(l,c,y){for(var b=-1,C=c.length,V={};++b<C;){var K=c[b],Z=es(l,K);y(Z,K)&&Ql(V,ba(K,l),Z)}return V}function Gg(l){return function(c){return es(c,l)}}function _h(l,c,y,b){var C=b?qs:ga,V=-1,K=c.length,Z=l;for(l===c&&(c=Jn(c)),y&&(Z=gn(l,rn(y)));++V<K;)for(var ie=0,Ae=c[V],xe=y?y(Ae):Ae;(ie=C(Z,xe,ie,b))>-1;)Z!==l&&rh.call(Z,ie,1),rh.call(l,ie,1);return l}function _m(l,c){for(var y=l?c.length:0,b=y-1;y--;){var C=c[y];if(y==b||C!==V){var V=C;ws(C)?rh.call(l,C,1):bc(l,C)}}return l}function Eh(l,c){return l+ya(tm()*(c-l+1))}function $g(l,c,y,b){for(var C=-1,V=bn(zl((c-l)/(y||1)),0),K=ge(V);V--;)K[b?V:++C]=l,l+=y;return K}function Em(l,c){var y="";if(!l||c<1||c>_e)return y;do c%2&&(y+=l),c=ya(c/2),c&&(l+=l);while(c);return y}function vt(l,c){return Vc(Lm(l,c,fe),l+"")}function Wl(l){return Gl(vu(l))}function Th(l,c){var y=vu(l);return Bc(y,Es(c,0,y.length))}function Ql(l,c,y,b){if(!Nn(l))return l;c=ba(c,l);for(var C=-1,V=c.length,K=V-1,Z=l;Z!=null&&++C<V;){var ie=sn(c[C]),Ae=y;if(ie==="__proto__"||ie==="constructor"||ie==="prototype")return l;if(C!=K){var xe=Z[ie];Ae=b?b(xe,ie,Z):t,Ae===t&&(Ae=Nn(xe)?xe:ws(c[C+1])?[]:{})}el(Z,ie,Ae),Z=Z[ie]}return l}var Ec=Hl?function(l,c){return Hl.set(l,c),l}:fe,Tc=ac?function(l,c){return ac(l,"toString",{configurable:!0,enumerable:!1,value:ce(c),writable:!0})}:fe;function Kg(l){return Bc(vu(l))}function Di(l,c,y){var b=-1,C=l.length;c<0&&(c=-c>C?0:C+c),y=y>C?C:y,y<0&&(y+=C),C=c>y?0:y-c>>>0,c>>>=0;for(var V=ge(C);++b<C;)V[b]=l[b+c];return V}function Yg(l,c){var y;return Ta(l,function(b,C,V){return y=c(b,C,V),!y}),!!y}function wc(l,c,y){var b=0,C=l==null?b:l.length;if(typeof c=="number"&&c===c&&C<=we){for(;b<C;){var V=b+C>>>1,K=l[V];K!==null&&!$r(K)&&(y?K<=c:K<c)?b=V+1:C=V}return C}return wh(l,c,fe,y)}function wh(l,c,y,b){var C=0,V=l==null?0:l.length;if(V===0)return 0;c=y(c);for(var K=c!==c,Z=c===null,ie=$r(c),Ae=c===t;C<V;){var xe=ya((C+V)/2),De=y(l[xe]),ke=De!==t,We=De===null,ut=De===De,At=$r(De);if(K)var ct=b||ut;else Ae?ct=ut&&(b||ke):Z?ct=ut&&ke&&(b||!We):ie?ct=ut&&ke&&!We&&(b||!At):We||At?ct=!1:ct=b?De<=c:De<c;ct?C=xe+1:V=xe}return xn(V,Ne)}function Tm(l,c){for(var y=-1,b=l.length,C=0,V=[];++y<b;){var K=l[y],Z=c?c(K):K;if(!y||!yi(Z,ie)){var ie=Z;V[C++]=K===0?0:K}}return V}function bh(l){return typeof l=="number"?l:$r(l)?$:+l}function hi(l){if(typeof l=="string")return l;if(ht(l))return gn(l,hi)+"";if($r(l))return eo?eo.call(l):"";var c=l+"";return c=="0"&&1/l==-me?"-0":c}function wa(l,c,y){var b=-1,C=Ho,V=l.length,K=!0,Z=[],ie=Z;if(y)K=!1,C=Ya;else if(V>=a){var Ae=c?null:iy(l);if(Ae)return eh(Ae);K=!1,C=xi,ie=new _a}else ie=c?[]:Z;e:for(;++b<V;){var xe=l[b],De=c?c(xe):xe;if(xe=y||xe!==0?xe:0,K&&De===De){for(var ke=ie.length;ke--;)if(ie[ke]===De)continue e;c&&ie.push(De),Z.push(xe)}else C(ie,De,y)||(ie!==Z&&ie.push(De),Z.push(xe))}return Z}function bc(l,c){return c=ba(c,l),l=Jl(l,c),l==null||delete l[sn(Or(c))]}function wm(l,c,y,b){return Ql(l,c,y(es(l,c)),b)}function Sc(l,c,y,b){for(var C=l.length,V=b?C:-1;(b?V--:++V<C)&&c(l[V],V,l););return y?Di(l,b?0:V,b?V+1:C):Di(l,b?V+1:0,b?C:V)}function Wg(l,c){var y=l;return y instanceof bt&&(y=y.value()),ms(c,function(b,C){return C.func.apply(C.thisArg,Ki([b],C.args))},y)}function Ac(l,c,y){var b=l.length;if(b<2)return b?wa(l[0]):[];for(var C=-1,V=ge(b);++C<b;)for(var K=l[C],Z=-1;++Z<b;)Z!=C&&(V[C]=no(V[C]||K,l[Z],c,y));return wa(Pt(V,1),c,y)}function bm(l,c,y){for(var b=-1,C=l.length,V=c.length,K={};++b<C;){var Z=b<V?c[b]:t;y(K,l[b],Z)}return K}function Sh(l){return Vn(l)?l:[]}function Rc(l){return typeof l=="function"?l:fe}function ba(l,c){return ht(l)?l:Ph(l,c)?[l]:Xs(tn(l))}var Qg=vt;function io(l,c,y){var b=l.length;return y=y===t?b:y,!c&&y>=b?l:Di(l,c,y)}var Xg=ih||function(l){return Tn.clearTimeout(l)};function Sm(l,c){if(c)return l.slice();var y=l.length,b=$o?$o(y):new l.constructor(y);return l.copy(b),b}function sl(l){var c=new l.constructor(l.byteLength);return new Fl(c).set(new Fl(l)),c}function Am(l,c){var y=c?sl(l.buffer):l.buffer;return new l.constructor(y,l.byteOffset,l.byteLength)}function Ah(l){var c=new l.constructor(l.source,Jt.exec(l));return c.lastIndex=l.lastIndex,c}function Zg(l){return Xo?$t(Xo.call(l)):{}}function Rm(l,c){var y=c?sl(l.buffer):l.buffer;return new l.constructor(y,l.byteOffset,l.length)}function xc(l,c){if(l!==c){var y=l!==t,b=l===null,C=l===l,V=$r(l),K=c!==t,Z=c===null,ie=c===c,Ae=$r(c);if(!Z&&!Ae&&!V&&l>c||V&&K&&ie&&!Z&&!Ae||b&&K&&ie||!y&&ie||!C)return 1;if(!b&&!V&&!Ae&&l<c||Ae&&y&&C&&!b&&!V||Z&&y&&C||!K&&C||!ie)return-1}return 0}function Jg(l,c,y){for(var b=-1,C=l.criteria,V=c.criteria,K=C.length,Z=y.length;++b<K;){var ie=xc(C[b],V[b]);if(ie){if(b>=Z)return ie;var Ae=y[b];return ie*(Ae=="desc"?-1:1)}}return l.index-c.index}function xm(l,c,y,b){for(var C=-1,V=l.length,K=y.length,Z=-1,ie=c.length,Ae=bn(V-K,0),xe=ge(ie+Ae),De=!b;++Z<ie;)xe[Z]=c[Z];for(;++C<K;)(De||C<V)&&(xe[y[C]]=l[C]);for(;Ae--;)xe[Z++]=l[C++];return xe}function ey(l,c,y,b){for(var C=-1,V=l.length,K=-1,Z=y.length,ie=-1,Ae=c.length,xe=bn(V-Z,0),De=ge(xe+Ae),ke=!b;++C<xe;)De[C]=l[C];for(var We=C;++ie<Ae;)De[We+ie]=c[ie];for(;++K<Z;)(ke||C<V)&&(De[We+y[K]]=l[C++]);return De}function Jn(l,c){var y=-1,b=l.length;for(c||(c=ge(b));++y<b;)c[y]=l[y];return c}function di(l,c,y,b){var C=!y;y||(y={});for(var V=-1,K=c.length;++V<K;){var Z=c[V],ie=b?b(y[Z],l[Z],Z,y,l):t;ie===t&&(ie=l[Z]),C?_s(y,Z,ie):el(y,Z,ie)}return y}function Rh(l,c){return di(l,Pc(l),c)}function Cc(l,c){return di(l,Mh(l),c)}function al(l,c){return function(y,b){var C=ht(y)?zo:to,V=c?c():{};return C(y,l,Je(b,2),V)}}function ol(l){return vt(function(c,y){var b=-1,C=y.length,V=C>1?y[C-1]:t,K=C>2?y[2]:t;for(V=l.length>3&&typeof V=="function"?(C--,V):t,K&&Gr(y[0],y[1],K)&&(V=C<3?t:V,C=1),c=$t(c);++b<C;){var Z=y[b];Z&&l(c,Z,b,V)}return c})}function Cm(l,c){return function(y,b){if(y==null)return y;if(!tr(y))return l(y,b);for(var C=y.length,V=c?C:-1,K=$t(y);(c?V--:++V<C)&&b(K[V],V,K)!==!1;);return y}}function ll(l){return function(c,y,b){for(var C=-1,V=$t(c),K=b(c),Z=K.length;Z--;){var ie=K[l?Z:++C];if(y(V[ie],ie,V)===!1)break}return c}}function ty(l,c,y){var b=c&k,C=ts(l);function V(){var K=this&&this!==Tn&&this instanceof V?C:l;return K.apply(b?y:this,arguments)}return V}function Oi(l){return function(c){c=tn(c);var y=Wa(c)?Yi(c):t,b=y?y[0]:c.charAt(0),C=y?io(y,1).join(""):c.slice(1);return b[l]()+C}}function qr(l){return function(c){return ms(p(Oa(c).replace(Lo,"")),l,"")}}function ts(l){return function(){var c=arguments;switch(c.length){case 0:return new l;case 1:return new l(c[0]);case 2:return new l(c[0],c[1]);case 3:return new l(c[0],c[1],c[2]);case 4:return new l(c[0],c[1],c[2],c[3]);case 5:return new l(c[0],c[1],c[2],c[3],c[4]);case 6:return new l(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new l(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var y=Ni(l.prototype),b=l.apply(y,c);return Nn(b)?b:y}}function ny(l,c,y){var b=ts(l);function C(){for(var V=arguments.length,K=ge(V),Z=V,ie=cl(C);Z--;)K[Z]=arguments[Z];var Ae=V<3&&K[0]!==ie&&K[V-1]!==ie?[]:Qa(K,ie);if(V-=Ae.length,V<y)return Im(l,c,kn,C.placeholder,t,K,Ae,t,t,y-V);var xe=this&&this!==Tn&&this instanceof C?b:l;return Tr(xe,this,K)}return C}function Sa(l){return function(c,y,b){var C=$t(c);if(!tr(c)){var V=Je(y,3);c=rr(c),y=function(Z){return V(C[Z],Z,C)}}var K=l(c,y,b);return K>-1?C[V?c[K]:K]:t}}function Ys(l){return Sn(function(c){var y=c.length,b=y,C=ui.prototype.thru;for(l&&c.reverse();b--;){var V=c[b];if(typeof V!="function")throw new Ii(h);if(C&&!K&&Mc(V)=="wrapper")var K=new ui([],!0)}for(b=K?b:y;++b<y;){V=c[b];var Z=Mc(V),ie=Z=="wrapper"?Dh(V):t;ie&&Lh(ie[0])&&ie[1]==(N|te|Q|I)&&!ie[4].length&&ie[9]==1?K=K[Mc(ie[0])].apply(K,ie[3]):K=V.length==1&&Lh(V)?K[Z]():K.thru(V)}return function(){var Ae=arguments,xe=Ae[0];if(K&&Ae.length==1&&ht(xe))return K.plant(xe).value();for(var De=0,ke=y?c[De].apply(this,Ae):xe;++De<y;)ke=c[De].call(this,ke);return ke}})}function kn(l,c,y,b,C,V,K,Z,ie,Ae){var xe=c&N,De=c&k,ke=c&B,We=c&(te|he),ut=c&O,At=ke?t:ts(l);function ct(){for(var jt=arguments.length,Yt=ge(jt),As=jt;As--;)Yt[As]=arguments[As];if(We)var Ui=cl(ct),Rs=tc(Yt,Ui);if(b&&(Yt=xm(Yt,b,C,We)),V&&(Yt=ey(Yt,V,K,We)),jt-=Rs,We&&jt<Ae){var ir=Qa(Yt,Ui);return Im(l,c,kn,ct.placeholder,y,Yt,ir,Z,ie,Ae-jt)}var Ma=De?y:this,ml=ke?Ma[l]:l;return jt=Yt.length,Z?Yt=Qs(Yt,Z):ut&&jt>1&&Yt.reverse(),xe&&ie<jt&&(Yt.length=ie),this&&this!==Tn&&this instanceof ct&&(ml=At||ts(ml)),ml.apply(Ma,Yt)}return ct}function Ic(l,c){return function(y,b){return fm(y,l,c(b),{})}}function Xl(l,c){return function(y,b){var C;if(y===t&&b===t)return c;if(y!==t&&(C=y),b!==t){if(C===t)return b;typeof y=="string"||typeof b=="string"?(y=hi(y),b=hi(b)):(y=bh(y),b=bh(b)),C=l(y,b)}return C}}function Nc(l){return Sn(function(c){return c=gn(c,rn(Je())),vt(function(y){var b=this;return l(c,function(C){return Tr(C,b,y)})})})}function Dc(l,c){c=c===t?" ":hi(c);var y=c.length;if(y<2)return y?Em(c,l):c;var b=Em(c,zl(l/Gs(c)));return Wa(c)?io(Yi(b),0,l).join(""):b.slice(0,l)}function ry(l,c,y,b){var C=c&k,V=ts(l);function K(){for(var Z=-1,ie=arguments.length,Ae=-1,xe=b.length,De=ge(xe+ie),ke=this&&this!==Tn&&this instanceof K?V:l;++Ae<xe;)De[Ae]=b[Ae];for(;ie--;)De[Ae++]=arguments[++Z];return Tr(ke,C?y:this,De)}return K}function so(l){return function(c,y,b){return b&&typeof b!="number"&&Gr(c,y,b)&&(y=b=t),c=ea(c),y===t?(y=c,c=0):y=ea(y),b=b===t?c<y?1:-1:ea(b),$g(c,y,b,l)}}function ul(l){return function(c,y){return typeof c=="string"&&typeof y=="string"||(c=ss(c),y=ss(y)),l(c,y)}}function Im(l,c,y,b,C,V,K,Z,ie,Ae){var xe=c&te,De=xe?K:t,ke=xe?t:K,We=xe?V:t,ut=xe?t:V;c|=xe?Q:F,c&=~(xe?F:Q),c&ee||(c&=-4);var At=[l,c,C,We,De,ut,ke,Z,ie,Ae],ct=y.apply(t,At);return Lh(l)&&Vh(ct,At),ct.placeholder=b,jh(ct,l,c)}function xh(l){var c=Kn[l];return function(y,b){if(y=ss(y),b=b==null?0:xn(pt(b),292),b&&oc(y)){var C=(tn(y)+"e").split("e"),V=c(C[0]+"e"+(+C[1]+b));return C=(tn(V)+"e").split("e"),+(C[0]+"e"+(+C[1]-b))}return c(y)}}var iy=Mt&&1/eh(new Mt([,-0]))[1]==me?function(l){return new Mt(l)}:Fe;function Oc(l){return function(c){var y=hr(c);return y==Wt?Jf(c):y==Bn?T0(c):Xn(c,l(c))}}function Ws(l,c,y,b,C,V,K,Z){var ie=c&B;if(!ie&&typeof l!="function")throw new Ii(h);var Ae=b?b.length:0;if(Ae||(c&=-97,b=C=t),K=K===t?K:bn(pt(K),0),Z=Z===t?Z:pt(Z),Ae-=C?C.length:0,c&F){var xe=b,De=C;b=C=t}var ke=ie?t:Dh(l),We=[l,c,y,b,C,xe,De,V,K,Z];if(ke&&Uc(We,ke),l=We[0],c=We[1],y=We[2],b=We[3],C=We[4],Z=We[9]=We[9]===t?ie?0:l.length:bn(We[9]-Ae,0),!Z&&c&(te|he)&&(c&=-25),!c||c==k)var ut=ty(l,c,y);else c==te||c==he?ut=ny(l,c,Z):(c==Q||c==(k|Q))&&!C.length?ut=ry(l,c,y,b):ut=kn.apply(t,We);var At=ke?Ec:Vh;return jh(At(ut,We),l,c)}function Ch(l,c,y,b){return l===t||yi(l,jl[y])&&!en.call(b,y)?c:l}function Nm(l,c,y,b,C,V){return Nn(l)&&Nn(c)&&(V.set(c,l),_c(l,c,t,Nm,V),V.delete(c)),l}function sy(l){return is(l)?t:l}function ay(l,c,y,b,C,V){var K=y&M,Z=l.length,ie=c.length;if(Z!=ie&&!(K&&ie>Z))return!1;var Ae=V.get(l),xe=V.get(c);if(Ae&&xe)return Ae==c&&xe==l;var De=-1,ke=!0,We=y&H?new _a:t;for(V.set(l,c),V.set(c,l);++De<Z;){var ut=l[De],At=c[De];if(b)var ct=K?b(At,ut,De,c,l,V):b(ut,At,De,l,c,V);if(ct!==t){if(ct)continue;ke=!1;break}if(We){if(!kl(c,function(jt,Yt){if(!xi(We,Yt)&&(ut===jt||C(ut,jt,y,b,V)))return We.push(Yt)})){ke=!1;break}}else if(!(ut===At||C(ut,At,y,b,V))){ke=!1;break}}return V.delete(l),V.delete(c),ke}function oy(l,c,y,b,C,V,K){switch(y){case Rn:if(l.byteLength!=c.byteLength||l.byteOffset!=c.byteOffset)return!1;l=l.buffer,c=c.buffer;case it:return!(l.byteLength!=c.byteLength||!V(new Fl(l),new Fl(c)));case Nt:case Mn:case Dt:return yi(+l,+c);case An:return l.name==c.name&&l.message==c.message;case Xr:case _r:return l==c+"";case Wt:var Z=Jf;case Bn:var ie=b&M;if(Z||(Z=eh),l.size!=c.size&&!ie)return!1;var Ae=K.get(l);if(Ae)return Ae==c;b|=H,K.set(l,c);var xe=ay(Z(l),Z(c),b,C,V,K);return K.delete(l),xe;case Er:if(Xo)return Xo.call(l)==Xo.call(c)}return!1}function fr(l,c,y,b,C,V){var K=y&M,Z=Ih(l),ie=Z.length,Ae=Ih(c),xe=Ae.length;if(ie!=xe&&!K)return!1;for(var De=ie;De--;){var ke=Z[De];if(!(K?ke in c:en.call(c,ke)))return!1}var We=V.get(l),ut=V.get(c);if(We&&ut)return We==c&&ut==l;var At=!0;V.set(l,c),V.set(c,l);for(var ct=K;++De<ie;){ke=Z[De];var jt=l[ke],Yt=c[ke];if(b)var As=K?b(Yt,jt,ke,c,l,V):b(jt,Yt,ke,l,c,V);if(!(As===t?jt===Yt||C(jt,Yt,y,b,V):As)){At=!1;break}ct||(ct=ke=="constructor")}if(At&&!ct){var Ui=l.constructor,Rs=c.constructor;Ui!=Rs&&"constructor"in l&&"constructor"in c&&!(typeof Ui=="function"&&Ui instanceof Ui&&typeof Rs=="function"&&Rs instanceof Rs)&&(At=!1)}return V.delete(l),V.delete(c),At}function Sn(l){return Vc(Lm(l,t,pi),l+"")}function Ih(l){return Bg(l,rr,Pc)}function Nh(l){return Bg(l,dr,Mh)}var Dh=Hl?function(l){return Hl.get(l)}:Fe;function Mc(l){for(var c=l.name+"",y=Zi[c],b=en.call(Zi,c)?y.length:0;b--;){var C=y[b],V=C.func;if(V==null||V==l)return C.name}return c}function cl(l){var c=en.call(P,"placeholder")?P:l;return c.placeholder}function Je(){var l=P.iteratee||at;return l=l===at?mm:l,arguments.length?l(arguments[0],arguments[1]):l}function Zl(l,c){var y=l.__data__;return Ra(c)?y[typeof c=="string"?"string":"hash"]:y.map}function Oh(l){for(var c=rr(l),y=c.length;y--;){var b=c[y],C=l[b];c[y]=[b,C,fy(C)]}return c}function ao(l,c){var y=Wd(l,c);return Ks(y)?y:t}function ly(l){var c=en.call(l,zr),y=l[zr];try{l[zr]=t;var b=!0}catch{}var C=Fr.call(l);return b&&(c?l[zr]=y:delete l[zr]),C}var Pc=Za?function(l){return l==null?[]:(l=$t(l),ai(Za(l),function(c){return Ko.call(l,c)}))}:dE,Mh=Za?function(l){for(var c=[];l;)Ki(c,Pc(l)),l=ic(l);return c}:dE,hr=Vt;(lc&&hr(new lc(new ArrayBuffer(1)))!=Rn||Zn&&hr(new Zn)!=Wt||Cn&&hr(Cn.resolve())!=Fa||Mt&&hr(new Mt)!=Bn||vs&&hr(new vs)!=Zr)&&(hr=function(l){var c=Vt(l),y=c==an?l.constructor:t,b=y?xa(y):"";if(b)switch(b){case Cg:return Rn;case Ig:return Wt;case uc:return Fa;case cc:return Bn;case Ng:return Zr}return c});function uy(l,c,y){for(var b=-1,C=y.length;++b<C;){var V=y[b],K=V.size;switch(V.type){case"drop":l+=K;break;case"dropRight":c-=K;break;case"take":c=xn(c,l+K);break;case"takeRight":l=bn(l,c-K);break}}return{start:l,end:c}}function Dm(l){var c=l.match(Ge);return c?c[1].split(Qe):[]}function Lc(l,c,y){c=ba(c,l);for(var b=-1,C=c.length,V=!1;++b<C;){var K=sn(c[b]);if(!(V=l!=null&&y(l,K)))break;l=l[K]}return V||++b!=C?V:(C=l==null?0:l.length,!!C&&dl(C)&&ws(K,C)&&(ht(l)||Da(l)))}function Om(l){var c=l.length,y=new l.constructor(c);return c&&typeof l[0]=="string"&&en.call(l,"index")&&(y.index=l.index,y.input=l.input),y}function Mm(l){return typeof l.constructor=="function"&&!vn(l)?Ni(ic(l)):{}}function Pm(l,c,y){var b=l.constructor;switch(c){case it:return sl(l);case Nt:case Mn:return new b(+l);case Rn:return Am(l,y);case Pn:case za:case Jr:case ji:case Bi:case Fi:case kr:case hs:case ei:return Rm(l,y);case Wt:return new b;case Dt:case _r:return new b(l);case Xr:return Ah(l);case Bn:return new b;case Er:return Zg(l)}}function cy(l,c){var y=c.length;if(!y)return l;var b=y-1;return c[b]=(y>1?"& ":"")+c[b],c=c.join(y>2?", ":" "),l.replace(Be,`{
/* [wrapped with `+c+`] */
`)}function Aa(l){return ht(l)||Da(l)||!!(oi&&l&&l[oi])}function ws(l,c){var y=typeof l;return c=c??_e,!!c&&(y=="number"||y!="symbol"&&Qn.test(l))&&l>-1&&l%1==0&&l<c}function Gr(l,c,y){if(!Nn(y))return!1;var b=typeof c;return(b=="number"?tr(y)&&ws(c,y.length):b=="string"&&c in y)?yi(y[c],l):!1}function Ph(l,c){if(ht(l))return!1;var y=typeof l;return y=="number"||y=="symbol"||y=="boolean"||l==null||$r(l)?!0:se.test(l)||!X.test(l)||c!=null&&l in $t(c)}function Ra(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}function Lh(l){var c=Mc(l),y=P[c];if(typeof y!="function"||!(c in bt.prototype))return!1;if(l===y)return!0;var b=Dh(y);return!!b&&l===b[0]}function kh(l){return!!Zd&&Zd in l}var kc=nc?bs:mE;function vn(l){var c=l&&l.constructor,y=typeof c=="function"&&c.prototype||jl;return l===y}function fy(l){return l===l&&!Nn(l)}function hy(l,c){return function(y){return y==null?!1:y[l]===c&&(c!==t||l in $t(y))}}function dy(l){var c=Yc(l,function(b){return y.size===v&&y.clear(),b}),y=c.cache;return c}function Uc(l,c){var y=l[1],b=c[1],C=y|b,V=C<(k|B|N),K=b==N&&y==te||b==N&&y==I&&l[7].length<=c[8]||b==(N|I)&&c[7].length<=c[8]&&y==te;if(!(V||K))return l;b&k&&(l[2]=c[2],C|=y&k?0:ee);var Z=c[3];if(Z){var ie=l[3];l[3]=ie?xm(ie,Z,c[4]):Z,l[4]=ie?Qa(l[3],E):c[4]}return Z=c[5],Z&&(ie=l[5],l[5]=ie?ey(ie,Z,c[6]):Z,l[6]=ie?Qa(l[5],E):c[6]),Z=c[7],Z&&(l[7]=Z),b&N&&(l[8]=l[8]==null?c[8]:xn(l[8],c[8])),l[9]==null&&(l[9]=c[9]),l[0]=c[0],l[1]=C,l}function oo(l){var c=[];if(l!=null)for(var y in $t(l))c.push(y);return c}function my(l){return Fr.call(l)}function Lm(l,c,y){return c=bn(c===t?l.length-1:c,0),function(){for(var b=arguments,C=-1,V=bn(b.length-c,0),K=ge(V);++C<V;)K[C]=b[c+C];C=-1;for(var Z=ge(c+1);++C<c;)Z[C]=b[C];return Z[c]=y(K),Tr(l,this,Z)}}function Jl(l,c){return c.length<2?l:es(l,Di(c,0,-1))}function Qs(l,c){for(var y=l.length,b=xn(c.length,y),C=Jn(l);b--;){var V=c[b];l[b]=ws(V,y)?C[V]:t}return l}function Uh(l,c){if(!(c==="constructor"&&typeof l[c]=="function")&&c!="__proto__")return l[c]}var Vh=jc(Ec),eu=em||function(l,c){return Tn.setTimeout(l,c)},Vc=jc(Tc);function jh(l,c,y){var b=c+"";return Vc(l,cy(b,py(Dm(b),y)))}function jc(l){var c=0,y=0;return function(){var b=va(),C=q-(b-y);if(y=b,C>0){if(++c>=W)return arguments[0]}else c=0;return l.apply(t,arguments)}}function Bc(l,c){var y=-1,b=l.length,C=b-1;for(c=c===t?b:c;++y<c;){var V=Eh(y,C),K=l[V];l[V]=l[y],l[y]=K}return l.length=c,l}var Xs=dy(function(l){var c=[];return l.charCodeAt(0)===46&&c.push(""),l.replace(ue,function(y,b,C,V){c.push(C?V.replace(st,"$1"):b||y)}),c});function sn(l){if(typeof l=="string"||$r(l))return l;var c=l+"";return c=="0"&&1/l==-me?"-0":c}function xa(l){if(l!=null){try{return rc.call(l)}catch{}try{return l+""}catch{}}return""}function py(l,c){return Br(Ue,function(y){var b="_."+y[0];c&y[1]&&!Ho(l,b)&&l.push(b)}),l.sort()}function er(l){if(l instanceof bt)return l.clone();var c=new ui(l.__wrapped__,l.__chain__);return c.__actions__=Jn(l.__actions__),c.__index__=l.__index__,c.__values__=l.__values__,c}function D0(l,c,y){(y?Gr(l,c,y):c===t)?c=1:c=bn(pt(c),0);var b=l==null?0:l.length;if(!b||c<1)return[];for(var C=0,V=0,K=ge(zl(b/c));C<b;)K[V++]=Di(l,C,C+=c);return K}function gy(l){for(var c=-1,y=l==null?0:l.length,b=0,C=[];++c<y;){var V=l[c];V&&(C[b++]=V)}return C}function yy(){var l=arguments.length;if(!l)return[];for(var c=ge(l-1),y=arguments[0],b=l;b--;)c[b-1]=arguments[b];return Ki(ht(y)?Jn(y):[y],Pt(c,1))}var In=vt(function(l,c){return Vn(l)?no(l,Pt(c,1,Vn,!0)):[]}),mi=vt(function(l,c){var y=Or(c);return Vn(y)&&(y=t),Vn(l)?no(l,Pt(c,1,Vn,!0),Je(y,2)):[]}),Ca=vt(function(l,c){var y=Or(c);return Vn(y)&&(y=t),Vn(l)?no(l,Pt(c,1,Vn,!0),t,y):[]});function vy(l,c,y){var b=l==null?0:l.length;return b?(c=y||c===t?1:pt(c),Di(l,c<0?0:c,b)):[]}function _y(l,c,y){var b=l==null?0:l.length;return b?(c=y||c===t?1:pt(c),c=b-c,Di(l,0,c<0?0:c)):[]}function O0(l,c){return l&&l.length?Sc(l,Je(c,3),!0,!0):[]}function km(l,c){return l&&l.length?Sc(l,Je(c,3),!0):[]}function Mi(l,c,y,b){var C=l==null?0:l.length;return C?(y&&typeof y!="number"&&Gr(l,c,y)&&(y=0,b=C),Et(l,c,y,b)):[]}function ns(l,c,y){var b=l==null?0:l.length;if(!b)return-1;var C=y==null?0:pt(y);return C<0&&(C=bn(b+C,0)),qo(l,Je(c,3),C)}function Um(l,c,y){var b=l==null?0:l.length;if(!b)return-1;var C=b-1;return y!==t&&(C=pt(y),C=y<0?bn(b+C,0):xn(C,b-1)),qo(l,Je(c,3),C,!0)}function pi(l){var c=l==null?0:l.length;return c?Pt(l,1):[]}function Ey(l){var c=l==null?0:l.length;return c?Pt(l,me):[]}function lo(l,c){var y=l==null?0:l.length;return y?(c=c===t?1:pt(c),Pt(l,c)):[]}function fl(l){for(var c=-1,y=l==null?0:l.length,b={};++c<y;){var C=l[c];b[C[0]]=C[1]}return b}function Ia(l){return l&&l.length?l[0]:t}function Vm(l,c,y){var b=l==null?0:l.length;if(!b)return-1;var C=y==null?0:pt(y);return C<0&&(C=bn(b+C,0)),ga(l,c,C)}function jm(l){var c=l==null?0:l.length;return c?Di(l,0,-1):[]}var Zs=vt(function(l){var c=gn(l,Sh);return c.length&&c[0]===l[0]?cm(c):[]}),Ty=vt(function(l){var c=Or(l),y=gn(l,Sh);return c===Or(y)?c=t:y.pop(),y.length&&y[0]===l[0]?cm(y,Je(c,2)):[]}),tu=vt(function(l){var c=Or(l),y=gn(l,Sh);return c=typeof c=="function"?c:t,c&&y.pop(),y.length&&y[0]===l[0]?cm(y,t,c):[]});function Fc(l,c){return l==null?"":Qi.call(l,c)}function Or(l){var c=l==null?0:l.length;return c?l[c-1]:t}function nu(l,c,y){var b=l==null?0:l.length;if(!b)return-1;var C=b;return y!==t&&(C=pt(y),C=C<0?bn(b+C,0):xn(C,b-1)),c===c?Ci(l,c,C):qo(l,d,C,!0)}function wy(l,c){return l&&l.length?ym(l,pt(c)):t}var by=vt(ru);function ru(l,c){return l&&l.length&&c&&c.length?_h(l,c):l}function Sy(l,c,y){return l&&l.length&&c&&c.length?_h(l,c,Je(y,2)):l}function Bh(l,c,y){return l&&l.length&&c&&c.length?_h(l,c,t,y):l}var Ay=Sn(function(l,c){var y=l==null?0:l.length,b=pc(l,c);return _m(l,gn(c,function(C){return ws(C,y)?+C:C}).sort(xc)),b});function M0(l,c){var y=[];if(!(l&&l.length))return y;var b=-1,C=[],V=l.length;for(c=Je(c,3);++b<V;){var K=l[b];c(K,b,l)&&(y.push(K),C.push(b))}return _m(l,C),y}function Bm(l){return l==null?l:nm.call(l)}function un(l,c,y){var b=l==null?0:l.length;return b?(y&&typeof y!="number"&&Gr(l,c,y)?(c=0,y=b):(c=c==null?0:pt(c),y=y===t?b:pt(y)),Di(l,c,y)):[]}function wn(l,c){return wc(l,c)}function xt(l,c,y){return wh(l,c,Je(y,2))}function zt(l,c){var y=l==null?0:l.length;if(y){var b=wc(l,c);if(b<y&&yi(l[b],c))return b}return-1}function cn(l,c){return wc(l,c,!0)}function Pi(l,c,y){return wh(l,c,Je(y,2),!0)}function uo(l,c){var y=l==null?0:l.length;if(y){var b=wc(l,c,!0)-1;if(yi(l[b],c))return b}return-1}function iu(l){return l&&l.length?Tm(l):[]}function Fm(l,c){return l&&l.length?Tm(l,Je(c,2)):[]}function Na(l){var c=l==null?0:l.length;return c?Di(l,1,c):[]}function Un(l,c,y){return l&&l.length?(c=y||c===t?1:pt(c),Di(l,0,c<0?0:c)):[]}function co(l,c,y){var b=l==null?0:l.length;return b?(c=y||c===t?1:pt(c),c=b-c,Di(l,c<0?0:c,b)):[]}function hl(l,c){return l&&l.length?Sc(l,Je(c,3),!1,!0):[]}function zm(l,c){return l&&l.length?Sc(l,Je(c,3)):[]}var rs=vt(function(l){return wa(Pt(l,1,Vn,!0))}),su=vt(function(l){var c=Or(l);return Vn(c)&&(c=t),wa(Pt(l,1,Vn,!0),Je(c,2))}),zc=vt(function(l){var c=Or(l);return c=typeof c=="function"?c:t,wa(Pt(l,1,Vn,!0),t,c)});function gi(l){return l&&l.length?wa(l):[]}function Hm(l,c){return l&&l.length?wa(l,Je(c,2)):[]}function qm(l,c){return c=typeof c=="function"?c:t,l&&l.length?wa(l,t,c):[]}function au(l){if(!(l&&l.length))return[];var c=0;return l=ai(l,function(y){if(Vn(y))return c=bn(y.length,c),!0}),Ot(c,function(y){return gn(l,R(y))})}function Hc(l,c){if(!(l&&l.length))return[];var y=au(l);return c==null?y:gn(y,function(b){return Tr(c,t,b)})}var fo=vt(function(l,c){return Vn(l)?no(l,c):[]}),wr=vt(function(l){return Ac(ai(l,Vn))}),ho=vt(function(l){var c=Or(l);return Vn(c)&&(c=t),Ac(ai(l,Vn),Je(c,2))}),ou=vt(function(l){var c=Or(l);return c=typeof c=="function"?c:t,Ac(ai(l,Vn),t,c)}),lu=vt(au);function Gm(l,c){return bm(l||[],c||[],el)}function $m(l,c){return bm(l||[],c||[],Ql)}var Ry=vt(function(l){var c=l.length,y=c>1?l[c-1]:t;return y=typeof y=="function"?(l.pop(),y):t,Hc(l,y)});function uu(l){var c=P(l);return c.__chain__=!0,c}function Km(l,c){return c(l),l}function Mr(l,c){return c(l)}var xy=Sn(function(l){var c=l.length,y=c?l[0]:0,b=this.__wrapped__,C=function(V){return pc(V,l)};return c>1||this.__actions__.length||!(b instanceof bt)||!ws(y)?this.thru(C):(b=b.slice(y,+y+(c?1:0)),b.__actions__.push({func:Mr,args:[C],thisArg:t}),new ui(b,this.__chain__).thru(function(V){return c&&!V.length&&V.push(t),V}))});function Li(){return uu(this)}function Cy(){return new ui(this.value(),this.__chain__)}function Iy(){this.__values__===t&&(this.__values__=ki(this.value()));var l=this.__index__>=this.__values__.length,c=l?t:this.__values__[this.__index__++];return{done:l,value:c}}function P0(){return this}function mo(l){for(var c,y=this;y instanceof Ji;){var b=er(y);b.__index__=0,b.__values__=t,c?C.__wrapped__=b:c=b;var C=b;y=y.__wrapped__}return C.__wrapped__=l,c}function Fh(){var l=this.__wrapped__;if(l instanceof bt){var c=l;return this.__actions__.length&&(c=new bt(this)),c=c.reverse(),c.__actions__.push({func:Mr,args:[Bm],thisArg:t}),new ui(c,this.__chain__)}return this.thru(Bm)}function Ym(){return Wg(this.__wrapped__,this.__actions__)}var cu=al(function(l,c,y){en.call(l,y)?++l[y]:_s(l,y,1)});function Ny(l,c,y){var b=ht(l)?Ll:lm;return y&&Gr(l,c,y)&&(c=t),b(l,Je(c,3))}function Dy(l,c){var y=ht(l)?ai:ln;return y(l,Je(c,3))}var Oy=Sa(ns),Wm=Sa(Um);function Qm(l,c){return Pt(qc(l,c),1)}function L0(l,c){return Pt(qc(l,c),me)}function k0(l,c,y){return y=y===t?1:pt(y),Pt(qc(l,c),y)}function My(l,c){var y=ht(l)?Br:Ta;return y(l,Je(c,3))}function Xm(l,c){var y=ht(l)?Yf:fh;return y(l,Je(c,3))}var Py=al(function(l,c,y){en.call(l,y)?l[y].push(c):_s(l,y,[c])});function fu(l,c,y,b){l=tr(l)?l:vu(l),y=y&&!b?pt(y):0;var C=l.length;return y<0&&(y=bn(C+y,0)),Jh(l)?y<=C&&l.indexOf(c,y)>-1:!!C&&ga(l,c,y)>-1}var zh=vt(function(l,c,y){var b=-1,C=typeof c=="function",V=tr(l)?ge(l.length):[];return Ta(l,function(K){V[++b]=C?Tr(c,K,y):rl(K,c,y)}),V}),Ly=al(function(l,c,y){_s(l,y,c)});function qc(l,c){var y=ht(l)?gn:pm;return y(l,Je(c,3))}function ky(l,c,y,b){return l==null?[]:(ht(c)||(c=c==null?[]:[c]),y=b?t:y,ht(y)||(y=y==null?[]:[y]),vm(l,c,y))}var Uy=al(function(l,c,y){l[y?0:1].push(c)},function(){return[[],[]]});function Vy(l,c,y){var b=ht(l)?ms:ae,C=arguments.length<3;return b(l,Je(c,4),y,C,Ta)}function jy(l,c,y){var b=ht(l)?Wf:ae,C=arguments.length<3;return b(l,Je(c,4),y,C,fh)}function Hh(l,c){var y=ht(l)?ai:ln;return y(l,Wc(Je(c,3)))}function By(l){var c=ht(l)?Gl:Wl;return c(l)}function Fy(l,c,y){(y?Gr(l,c,y):c===t)?c=1:c=pt(c);var b=ht(l)?Ug:Th;return b(l,c)}function _n(l){var c=ht(l)?Vg:Kg;return c(l)}function Zm(l){if(l==null)return 0;if(tr(l))return Jh(l)?Gs(l):l.length;var c=hr(l);return c==Wt||c==Bn?l.size:ph(l).length}function U0(l,c,y){var b=ht(l)?kl:Yg;return y&&Gr(l,c,y)&&(c=t),b(l,Je(c,3))}var zy=vt(function(l,c){if(l==null)return[];var y=c.length;return y>1&&Gr(l,c[0],c[1])?c=[]:y>2&&Gr(c[0],c[1],c[2])&&(c=[c[0]]),vm(l,Pt(c,1),[])}),qh=Wo||function(){return Tn.Date.now()};function V0(l,c){if(typeof c!="function")throw new Ii(h);return l=pt(l),function(){if(--l<1)return c.apply(this,arguments)}}function Hy(l,c,y){return c=y?t:c,c=l&&c==null?l.length:c,Ws(l,N,t,t,t,t,c)}function Gc(l,c){var y;if(typeof c!="function")throw new Ii(h);return l=pt(l),function(){return--l>0&&(y=c.apply(this,arguments)),l<=1&&(c=t),y}}var po=vt(function(l,c,y){var b=k;if(y.length){var C=Qa(y,cl(po));b|=Q}return Ws(l,b,c,y,C)}),Gh=vt(function(l,c,y){var b=k|B;if(y.length){var C=Qa(y,cl(Gh));b|=Q}return Ws(c,b,l,y,C)});function $c(l,c,y){c=y?t:c;var b=Ws(l,te,t,t,t,t,t,c);return b.placeholder=$c.placeholder,b}function $h(l,c,y){c=y?t:c;var b=Ws(l,he,t,t,t,t,t,c);return b.placeholder=$h.placeholder,b}function go(l,c,y){var b,C,V,K,Z,ie,Ae=0,xe=!1,De=!1,ke=!0;if(typeof l!="function")throw new Ii(h);c=ss(c)||0,Nn(y)&&(xe=!!y.leading,De="maxWait"in y,V=De?bn(ss(y.maxWait)||0,c):V,ke="trailing"in y?!!y.trailing:ke);function We(ir){var Ma=b,ml=C;return b=C=t,Ae=ir,K=l.apply(ml,Ma),K}function ut(ir){return Ae=ir,Z=eu(jt,c),xe?We(ir):K}function At(ir){var Ma=ir-ie,ml=ir-Ae,Ib=c-Ma;return De?xn(Ib,V-ml):Ib}function ct(ir){var Ma=ir-ie,ml=ir-Ae;return ie===t||Ma>=c||Ma<0||De&&ml>=V}function jt(){var ir=qh();if(ct(ir))return Yt(ir);Z=eu(jt,At(ir))}function Yt(ir){return Z=t,ke&&b?We(ir):(b=C=t,K)}function As(){Z!==t&&Xg(Z),Ae=0,b=ie=C=Z=t}function Ui(){return Z===t?K:Yt(qh())}function Rs(){var ir=qh(),Ma=ct(ir);if(b=arguments,C=this,ie=ir,Ma){if(Z===t)return ut(ie);if(De)return Xg(Z),Z=eu(jt,c),We(ie)}return Z===t&&(Z=eu(jt,c)),K}return Rs.cancel=As,Rs.flush=Ui,Rs}var Js=vt(function(l,c){return tl(l,1,c)}),Kc=vt(function(l,c,y){return tl(l,ss(c)||0,y)});function j0(l){return Ws(l,O)}function Yc(l,c){if(typeof l!="function"||c!=null&&typeof c!="function")throw new Ii(h);var y=function(){var b=arguments,C=c?c.apply(this,b):b[0],V=y.cache;if(V.has(C))return V.get(C);var K=l.apply(this,b);return y.cache=V.set(C,K)||V,K};return y.cache=new(Yc.Cache||ci),y}Yc.Cache=ci;function Wc(l){if(typeof l!="function")throw new Ii(h);return function(){var c=arguments;switch(c.length){case 0:return!l.call(this);case 1:return!l.call(this,c[0]);case 2:return!l.call(this,c[0],c[1]);case 3:return!l.call(this,c[0],c[1],c[2])}return!l.apply(this,c)}}function qy(l){return Gc(2,l)}var Gy=Qg(function(l,c){c=c.length==1&&ht(c[0])?gn(c[0],rn(Je())):gn(Pt(c,1),rn(Je()));var y=c.length;return vt(function(b){for(var C=-1,V=xn(b.length,y);++C<V;)b[C]=c[C].call(this,b[C]);return Tr(l,this,b)})}),Jm=vt(function(l,c){var y=Qa(c,cl(Jm));return Ws(l,Q,t,c,y)}),Kh=vt(function(l,c){var y=Qa(c,cl(Kh));return Ws(l,F,t,c,y)}),$y=Sn(function(l,c){return Ws(l,I,t,t,t,c)});function Ky(l,c){if(typeof l!="function")throw new Ii(h);return c=c===t?c:pt(c),vt(l,c)}function B0(l,c){if(typeof l!="function")throw new Ii(h);return c=c==null?0:bn(pt(c),0),vt(function(y){var b=y[c],C=io(y,0,c);return b&&Ki(C,b),Tr(l,this,C)})}function ep(l,c,y){var b=!0,C=!0;if(typeof l!="function")throw new Ii(h);return Nn(y)&&(b="leading"in y?!!y.leading:b,C="trailing"in y?!!y.trailing:C),go(l,c,{leading:b,maxWait:c,trailing:C})}function tp(l){return Hy(l,1)}function F0(l,c){return Jm(Rc(c),l)}function z0(){if(!arguments.length)return[];var l=arguments[0];return ht(l)?l:[l]}function Qc(l){return Nr(l,D)}function H0(l,c){return c=typeof c=="function"?c:t,Nr(l,D,c)}function Yy(l){return Nr(l,S|D)}function Ct(l,c){return c=typeof c=="function"?c:t,Nr(l,S|D,c)}function np(l,c){return c==null||om(l,c,rr(c))}function yi(l,c){return l===c||l!==l&&c!==c}var rp=ul(gc),Wy=ul(function(l,c){return l>=c}),Da=hh(function(){return arguments}())?hh:function(l){return Dn(l)&&en.call(l,"callee")&&!Ko.call(l,"callee")},ht=ge.isArray,Yh=jo?rn(jo):fi;function tr(l){return l!=null&&dl(l.length)&&!bs(l)}function Vn(l){return Dn(l)&&tr(l)}function q0(l){return l===!0||l===!1||Dn(l)&&Vt(l)==Nt}var yo=sh||mE,Qy=Pl?rn(Pl):Yn;function Xy(l){return Dn(l)&&l.nodeType===1&&!is(l)}function Wh(l){if(l==null)return!0;if(tr(l)&&(ht(l)||typeof l=="string"||typeof l.splice=="function"||yo(l)||hu(l)||Da(l)))return!l.length;var c=hr(l);if(c==Wt||c==Bn)return!l.size;if(vn(l))return!ph(l).length;for(var y in l)if(en.call(l,y))return!1;return!0}function fn(l,c){return il(l,c)}function ip(l,c,y){y=typeof y=="function"?y:t;var b=y?y(l,c):t;return b===t?il(l,c,t,y):!!b}function nr(l){if(!Dn(l))return!1;var c=Vt(l);return c==An||c==Zt||typeof l.message=="string"&&typeof l.name=="string"&&!is(l)}function G0(l){return typeof l=="number"&&oc(l)}function bs(l){if(!Nn(l))return!1;var c=Vt(l);return c==qn||c==Rr||c==mn||c==oa}function Qh(l){return typeof l=="number"&&l==pt(l)}function dl(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=_e}function Nn(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}function Dn(l){return l!=null&&typeof l=="object"}var Xh=Bo?rn(Bo):dh;function sp(l,c){return l===c||vc(l,c,Oh(c))}function $0(l,c,y){return y=typeof y=="function"?y:t,vc(l,c,Oh(c),y)}function Zy(l){return ev(l)&&l!=+l}function K0(l){if(kc(l))throw new lt(u);return Ks(l)}function Jy(l){return l===null}function Y0(l){return l==null}function ev(l){return typeof l=="number"||Dn(l)&&Vt(l)==Dt}function is(l){if(!Dn(l)||Vt(l)!=an)return!1;var c=ic(l);if(c===null)return!0;var y=en.call(c,"constructor")&&c.constructor;return typeof y=="function"&&y instanceof y&&rc.call(y)==Wi}var Zh=ec?rn(ec):mh;function ap(l){return Qh(l)&&l>=-_e&&l<=_e}var tv=Fo?rn(Fo):hm;function Jh(l){return typeof l=="string"||!ht(l)&&Dn(l)&&Vt(l)==_r}function $r(l){return typeof l=="symbol"||Dn(l)&&Vt(l)==Er}var hu=Kf?rn(Kf):dm;function Ss(l){return l===t}function op(l){return Dn(l)&&hr(l)==Zr}function nv(l){return Dn(l)&&Vt(l)==qe}var rv=ul(gh),Xc=ul(function(l,c){return l<=c});function ki(l){if(!l)return[];if(tr(l))return Jh(l)?Yi(l):Jn(l);if(Yo&&l[Yo])return bg(l[Yo]());var c=hr(l),y=c==Wt?Jf:c==Bn?eh:vu;return y(l)}function ea(l){if(!l)return l===0?l:0;if(l=ss(l),l===me||l===-me){var c=l<0?-1:1;return c*Me}return l===l?l:0}function pt(l){var c=ea(l),y=c%1;return c===c?y?c-y:c:0}function ta(l){return l?Es(pt(l),0,pe):0}function ss(l){if(typeof l=="number")return l;if($r(l))return $;if(Nn(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=Nn(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=Ut(l);var y=Lt.test(l);return y||Hi.test(l)?$f(l.slice(2),y?2:8):Qt.test(l)?$:+l}function iv(l){return di(l,dr(l))}function du(l){return l?Es(pt(l),-_e,_e):l===0?l:0}function tn(l){return l==null?"":hi(l)}var W0=ol(function(l,c){if(vn(c)||tr(c)){di(c,rr(c),l);return}for(var y in c)en.call(c,y)&&el(l,y,c[y])}),sv=ol(function(l,c){di(c,dr(c),l)}),ed=ol(function(l,c,y,b){di(c,dr(c),l,b)}),Q0=ol(function(l,c,y,b){di(c,rr(c),l,b)}),X0=Sn(pc);function Z0(l,c){var y=Ni(l);return c==null?y:Ea(y,c)}var J0=vt(function(l,c){l=$t(l);var y=-1,b=c.length,C=b>2?c[2]:t;for(C&&Gr(c[0],c[1],C)&&(b=1);++y<b;)for(var V=c[y],K=dr(V),Z=-1,ie=K.length;++Z<ie;){var Ae=K[Z],xe=l[Ae];(xe===t||yi(xe,jl[Ae])&&!en.call(l,Ae))&&(l[Ae]=V[Ae])}return l}),av=vt(function(l){return l.push(t,Nm),Tr(tf,t,l)});function mu(l,c){return Ir(l,Je(c,3),Dr)}function Zc(l,c){return Ir(l,Je(c,3),Yl)}function ov(l,c){return l==null?l:Kl(l,Je(c,3),dr)}function eE(l,c){return l==null?l:nl(l,Je(c,3),dr)}function pu(l,c){return l&&Dr(l,Je(c,3))}function Jc(l,c){return l&&Yl(l,Je(c,3))}function lv(l){return l==null?[]:ro(l,rr(l))}function td(l){return l==null?[]:ro(l,dr(l))}function ef(l,c,y){var b=l==null?t:es(l,c);return b===t?y:b}function lp(l,c){return l!=null&&Lc(l,c,um)}function gu(l,c){return l!=null&&Lc(l,c,Fg)}var uv=Ic(function(l,c,y){c!=null&&typeof c.toString!="function"&&(c=Fr.call(c)),l[c]=y},ce(fe)),cv=Ic(function(l,c,y){c!=null&&typeof c.toString!="function"&&(c=Fr.call(c)),en.call(l,c)?l[c].push(y):l[c]=[y]},Je),tE=vt(rl);function rr(l){return tr(l)?am(l):ph(l)}function dr(l){return tr(l)?am(l,!0):Hg(l)}function nE(l,c){var y={};return c=Je(c,3),Dr(l,function(b,C,V){_s(y,c(b,C,V),b)}),y}function rE(l,c){var y={};return c=Je(c,3),Dr(l,function(b,C,V){_s(y,C,c(b,C,V))}),y}var iE=ol(function(l,c,y){_c(l,c,y)}),tf=ol(function(l,c,y,b){_c(l,c,y,b)}),nd=Sn(function(l,c){var y={};if(l==null)return y;var b=!1;c=gn(c,function(V){return V=ba(V,l),b||(b=V.length>1),V}),di(l,Nh(l),y),b&&(y=Nr(y,S|A|D,sy));for(var C=c.length;C--;)bc(y,c[C]);return y});function up(l,c){return yu(l,Wc(Je(c)))}var sE=Sn(function(l,c){return l==null?{}:qg(l,c)});function yu(l,c){if(l==null)return{};var y=gn(Nh(l),function(b){return[b]});return c=Je(c),vh(l,y,function(b,C){return c(b,C[0])})}function aE(l,c,y){c=ba(c,l);var b=-1,C=c.length;for(C||(C=1,l=t);++b<C;){var V=l==null?t:l[sn(c[b])];V===t&&(b=C,V=y),l=bs(V)?V.call(l):V}return l}function fv(l,c,y){return l==null?l:Ql(l,c,y)}function hv(l,c,y,b){return b=typeof b=="function"?b:t,l==null?l:Ql(l,c,y,b)}var cp=Oc(rr),fp=Oc(dr);function hp(l,c,y){var b=ht(l),C=b||yo(l)||hu(l);if(c=Je(c,4),y==null){var V=l&&l.constructor;C?y=b?new V:[]:Nn(l)?y=bs(V)?Ni(ic(l)):{}:y={}}return(C?Br:Dr)(l,function(K,Z,ie){return c(y,K,Z,ie)}),y}function dv(l,c){return l==null?!0:bc(l,c)}function rd(l,c,y){return l==null?l:wm(l,c,Rc(y))}function oE(l,c,y,b){return b=typeof b=="function"?b:t,l==null?l:wm(l,c,Rc(y),b)}function vu(l){return l==null?[]:zn(l,rr(l))}function dp(l){return l==null?[]:zn(l,dr(l))}function mp(l,c,y){return y===t&&(y=c,c=t),y!==t&&(y=ss(y),y=y===y?y:0),c!==t&&(c=ss(c),c=c===c?c:0),Es(ss(l),c,y)}function id(l,c,y){return c=ea(c),y===t?(y=c,c=0):y=ea(y),l=ss(l),zg(l,c,y)}function pp(l,c,y){if(y&&typeof y!="boolean"&&Gr(l,c,y)&&(c=y=t),y===t&&(typeof c=="boolean"?(y=c,c=t):typeof l=="boolean"&&(y=l,l=t)),l===t&&c===t?(l=0,c=1):(l=ea(l),c===t?(c=l,l=0):c=ea(c)),l>c){var b=l;l=c,c=b}if(y||l%1||c%1){var C=tm();return xn(l+C*(c-l+Uo("1e-"+((C+"").length-1))),c)}return Eh(l,c)}var mv=qr(function(l,c,y){return c=c.toLowerCase(),l+(y?sd(c):c)});function sd(l){return f(tn(l).toLowerCase())}function Oa(l){return l=tn(l),l&&l.replace(Vr,Zf).replace(ds,"")}function vo(l,c,y){l=tn(l),c=hi(c);var b=l.length;y=y===t?b:Es(pt(y),0,b);var C=y;return y-=c.length,y>=0&&l.slice(y,C)==c}function _o(l){return l=tn(l),l&&Ur.test(l)?l.replace(zi,Eg):l}function nf(l){return l=tn(l),l&&Oe.test(l)?l.replace(Se,"\\$&"):l}var rf=qr(function(l,c,y){return l+(y?"-":"")+c.toLowerCase()}),Eo=qr(function(l,c,y){return l+(y?" ":"")+c.toLowerCase()}),lE=Oi("toLowerCase");function pv(l,c,y){l=tn(l),c=pt(c);var b=c?Gs(l):0;if(!c||b>=c)return l;var C=(c-b)/2;return Dc(ya(C),y)+l+Dc(zl(C),y)}function sf(l,c,y){l=tn(l),c=pt(c);var b=c?Gs(l):0;return c&&b<c?l+Dc(c-b,y):l}function uE(l,c,y){l=tn(l),c=pt(c);var b=c?Gs(l):0;return c&&b<c?Dc(c-b,y)+l:l}function gv(l,c,y){return y||c==null?c=0:c&&(c=+c),Qo(tn(l).replace(Ve,""),c||0)}function ad(l,c,y){return(y?Gr(l,c,y):c===t)?c=1:c=pt(c),Em(tn(l),c)}function yv(){var l=arguments,c=tn(l[0]);return l.length<3?c:c.replace(l[1],l[2])}var cE=qr(function(l,c,y){return l+(y?"_":"")+c.toLowerCase()});function od(l,c,y){return y&&typeof y!="number"&&Gr(l,c,y)&&(c=y=t),y=y===t?pe:y>>>0,y?(l=tn(l),l&&(typeof c=="string"||c!=null&&!Zh(c))&&(c=hi(c),!c&&Wa(l))?io(Yi(l),0,y):l.split(c,y)):[]}var ld=qr(function(l,c,y){return l+(y?" ":"")+f(c)});function vv(l,c,y){return l=tn(l),y=y==null?0:Es(pt(y),0,l.length),c=hi(c),l.slice(y,y+c.length)==c}function af(l,c,y){var b=P.templateSettings;y&&Gr(l,c,y)&&(c=t),l=tn(l),c=ed({},c,b,Ch);var C=ed({},c.imports,b.imports,Ch),V=rr(C),K=zn(C,V),Z,ie,Ae=0,xe=c.interpolate||Gn,De="__p += '",ke=th((c.escape||Gn).source+"|"+xe.source+"|"+(xe===ua?Rt:Gn).source+"|"+(c.evaluate||Gn).source+"|$","g"),We="//# sourceURL="+(en.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Qu+"]")+`
`;l.replace(ke,function(ct,jt,Yt,As,Ui,Rs){return Yt||(Yt=As),De+=l.slice(Ae,Rs).replace(ks,Tg),jt&&(Z=!0,De+=`' +
__e(`+jt+`) +
'`),Ui&&(ie=!0,De+=`';
`+Ui+`;
__p += '`),Yt&&(De+=`' +
((__t = (`+Yt+`)) == null ? '' : __t) +
'`),Ae=Rs+ct.length,ct}),De+=`';
`;var ut=en.call(c,"variable")&&c.variable;if(!ut)De=`with (obj) {
`+De+`
}
`;else if($e.test(ut))throw new lt(m);De=(ie?De.replace(Ha,""):De).replace(la,"$1").replace(Mo,"$1;"),De="function("+(ut||"obj")+`) {
`+(ut?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Z?", __e = _.escape":"")+(ie?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+De+`return __p
}`;var At=_(function(){return Gt(V,We+"return "+De).apply(t,K)});if(At.source=De,nr(At))throw At;return At}function gp(l){return tn(l).toLowerCase()}function ud(l){return tn(l).toUpperCase()}function _v(l,c,y){if(l=tn(l),l&&(y||c===t))return Ut(l);if(!l||!(c=hi(c)))return l;var b=Yi(l),C=Yi(c),V=cr(b,C),K=ps(b,C)+1;return io(b,V,K).join("")}function fE(l,c,y){if(l=tn(l),l&&(y||c===t))return l.slice(0,Qd(l)+1);if(!l||!(c=hi(c)))return l;var b=Yi(l),C=ps(b,Yi(c))+1;return io(b,0,C).join("")}function cd(l,c,y){if(l=tn(l),l&&(y||c===t))return l.replace(Ve,"");if(!l||!(c=hi(c)))return l;var b=Yi(l),C=cr(b,Yi(c));return io(b,C).join("")}function r(l,c){var y=z,b=G;if(Nn(c)){var C="separator"in c?c.separator:C;y="length"in c?pt(c.length):y,b="omission"in c?hi(c.omission):b}l=tn(l);var V=l.length;if(Wa(l)){var K=Yi(l);V=K.length}if(y>=V)return l;var Z=y-Gs(b);if(Z<1)return b;var ie=K?io(K,0,Z).join(""):l.slice(0,Z);if(C===t)return ie+b;if(K&&(Z+=ie.length-Z),Zh(C)){if(l.slice(Z).search(C)){var Ae,xe=ie;for(C.global||(C=th(C.source,tn(Jt.exec(C))+"g")),C.lastIndex=0;Ae=C.exec(xe);)var De=Ae.index;ie=ie.slice(0,De===t?Z:De)}}else if(l.indexOf(hi(C),Z)!=Z){var ke=ie.lastIndexOf(C);ke>-1&&(ie=ie.slice(0,ke))}return ie+b}function s(l){return l=tn(l),l&&qa.test(l)?l.replace(Ri,Ag):l}var o=qr(function(l,c,y){return l+(y?" ":"")+c.toUpperCase()}),f=Oi("toUpperCase");function p(l,c,y){return l=tn(l),c=y?t:c,c===t?wg(l)?b0(l):Ul(l):l.match(c)||[]}var _=vt(function(l,c){try{return Tr(l,t,c)}catch(y){return nr(y)?y:new lt(y)}}),x=Sn(function(l,c){return Br(c,function(y){y=sn(y),_s(l,y,po(l[y],l))}),l});function L(l){var c=l==null?0:l.length,y=Je();return l=c?gn(l,function(b){if(typeof b[1]!="function")throw new Ii(h);return[y(b[0]),b[1]]}):[],vt(function(b){for(var C=-1;++C<c;){var V=l[C];if(Tr(V[0],this,b))return Tr(V[1],this,b)}})}function Y(l){return jg(Nr(l,S))}function ce(l){return function(){return l}}function Te(l,c){return l==null||l!==l?c:l}var Re=Ys(),de=Ys(!0);function fe(l){return l}function at(l){return mm(typeof l=="function"?l:Nr(l,S))}function rt(l){return gm(Nr(l,S))}function hn(l,c){return yh(l,Nr(c,S))}var re=vt(function(l,c){return function(y){return rl(y,l,c)}}),J=vt(function(l,c){return function(y){return rl(l,y,c)}});function oe(l,c,y){var b=rr(c),C=ro(c,b);y==null&&!(Nn(c)&&(C.length||!b.length))&&(y=c,c=l,l=this,C=ro(c,rr(c)));var V=!(Nn(y)&&"chain"in y)||!!y.chain,K=bs(l);return Br(C,function(Z){var ie=c[Z];l[Z]=ie,K&&(l.prototype[Z]=function(){var Ae=this.__chain__;if(V||Ae){var xe=l(this.__wrapped__),De=xe.__actions__=Jn(this.__actions__);return De.push({func:ie,args:arguments,thisArg:l}),xe.__chain__=Ae,xe}return ie.apply(l,Ki([this.value()],arguments))})}),l}function be(){return Tn._===this&&(Tn._=Bl),this}function Fe(){}function St(l){return l=pt(l),vt(function(c){return ym(c,l)})}var Xe=Nc(gn),ot=Nc(Ll),mr=Nc(kl);function Kt(l){return Ph(l)?R(sn(l)):Gg(l)}function To(l){return function(c){return l==null?t:es(l,c)}}var hE=so(),HI=so(!0);function dE(){return[]}function mE(){return!1}function qI(){return{}}function GI(){return""}function $I(){return!0}function KI(l,c){if(l=pt(l),l<1||l>_e)return[];var y=pe,b=xn(l,pe);c=Je(c),l-=pe;for(var C=Ot(b,c);++y<l;)c(y);return C}function YI(l){return ht(l)?gn(l,sn):$r(l)?[l]:Jn(Xs(tn(l)))}function WI(l){var c=++gs;return tn(l)+c}var QI=Xl(function(l,c){return l+c},0),XI=xh("ceil"),ZI=Xl(function(l,c){return l/c},1),JI=xh("floor");function eN(l){return l&&l.length?Ts(l,fe,gc):t}function tN(l,c){return l&&l.length?Ts(l,Je(c,2),gc):t}function nN(l){return w(l,fe)}function rN(l,c){return w(l,Je(c,2))}function iN(l){return l&&l.length?Ts(l,fe,gh):t}function sN(l,c){return l&&l.length?Ts(l,Je(c,2),gh):t}var aN=Xl(function(l,c){return l*c},1),oN=xh("round"),lN=Xl(function(l,c){return l-c},0);function uN(l){return l&&l.length?Pe(l,fe):0}function cN(l,c){return l&&l.length?Pe(l,Je(c,2)):0}return P.after=V0,P.ary=Hy,P.assign=W0,P.assignIn=sv,P.assignInWith=ed,P.assignWith=Q0,P.at=X0,P.before=Gc,P.bind=po,P.bindAll=x,P.bindKey=Gh,P.castArray=z0,P.chain=uu,P.chunk=D0,P.compact=gy,P.concat=yy,P.cond=L,P.conforms=Y,P.constant=ce,P.countBy=cu,P.create=Z0,P.curry=$c,P.curryRight=$h,P.debounce=go,P.defaults=J0,P.defaultsDeep=av,P.defer=Js,P.delay=Kc,P.difference=In,P.differenceBy=mi,P.differenceWith=Ca,P.drop=vy,P.dropRight=_y,P.dropRightWhile=O0,P.dropWhile=km,P.fill=Mi,P.filter=Dy,P.flatMap=Qm,P.flatMapDeep=L0,P.flatMapDepth=k0,P.flatten=pi,P.flattenDeep=Ey,P.flattenDepth=lo,P.flip=j0,P.flow=Re,P.flowRight=de,P.fromPairs=fl,P.functions=lv,P.functionsIn=td,P.groupBy=Py,P.initial=jm,P.intersection=Zs,P.intersectionBy=Ty,P.intersectionWith=tu,P.invert=uv,P.invertBy=cv,P.invokeMap=zh,P.iteratee=at,P.keyBy=Ly,P.keys=rr,P.keysIn=dr,P.map=qc,P.mapKeys=nE,P.mapValues=rE,P.matches=rt,P.matchesProperty=hn,P.memoize=Yc,P.merge=iE,P.mergeWith=tf,P.method=re,P.methodOf=J,P.mixin=oe,P.negate=Wc,P.nthArg=St,P.omit=nd,P.omitBy=up,P.once=qy,P.orderBy=ky,P.over=Xe,P.overArgs=Gy,P.overEvery=ot,P.overSome=mr,P.partial=Jm,P.partialRight=Kh,P.partition=Uy,P.pick=sE,P.pickBy=yu,P.property=Kt,P.propertyOf=To,P.pull=by,P.pullAll=ru,P.pullAllBy=Sy,P.pullAllWith=Bh,P.pullAt=Ay,P.range=hE,P.rangeRight=HI,P.rearg=$y,P.reject=Hh,P.remove=M0,P.rest=Ky,P.reverse=Bm,P.sampleSize=Fy,P.set=fv,P.setWith=hv,P.shuffle=_n,P.slice=un,P.sortBy=zy,P.sortedUniq=iu,P.sortedUniqBy=Fm,P.split=od,P.spread=B0,P.tail=Na,P.take=Un,P.takeRight=co,P.takeRightWhile=hl,P.takeWhile=zm,P.tap=Km,P.throttle=ep,P.thru=Mr,P.toArray=ki,P.toPairs=cp,P.toPairsIn=fp,P.toPath=YI,P.toPlainObject=iv,P.transform=hp,P.unary=tp,P.union=rs,P.unionBy=su,P.unionWith=zc,P.uniq=gi,P.uniqBy=Hm,P.uniqWith=qm,P.unset=dv,P.unzip=au,P.unzipWith=Hc,P.update=rd,P.updateWith=oE,P.values=vu,P.valuesIn=dp,P.without=fo,P.words=p,P.wrap=F0,P.xor=wr,P.xorBy=ho,P.xorWith=ou,P.zip=lu,P.zipObject=Gm,P.zipObjectDeep=$m,P.zipWith=Ry,P.entries=cp,P.entriesIn=fp,P.extend=sv,P.extendWith=ed,oe(P,P),P.add=QI,P.attempt=_,P.camelCase=mv,P.capitalize=sd,P.ceil=XI,P.clamp=mp,P.clone=Qc,P.cloneDeep=Yy,P.cloneDeepWith=Ct,P.cloneWith=H0,P.conformsTo=np,P.deburr=Oa,P.defaultTo=Te,P.divide=ZI,P.endsWith=vo,P.eq=yi,P.escape=_o,P.escapeRegExp=nf,P.every=Ny,P.find=Oy,P.findIndex=ns,P.findKey=mu,P.findLast=Wm,P.findLastIndex=Um,P.findLastKey=Zc,P.floor=JI,P.forEach=My,P.forEachRight=Xm,P.forIn=ov,P.forInRight=eE,P.forOwn=pu,P.forOwnRight=Jc,P.get=ef,P.gt=rp,P.gte=Wy,P.has=lp,P.hasIn=gu,P.head=Ia,P.identity=fe,P.includes=fu,P.indexOf=Vm,P.inRange=id,P.invoke=tE,P.isArguments=Da,P.isArray=ht,P.isArrayBuffer=Yh,P.isArrayLike=tr,P.isArrayLikeObject=Vn,P.isBoolean=q0,P.isBuffer=yo,P.isDate=Qy,P.isElement=Xy,P.isEmpty=Wh,P.isEqual=fn,P.isEqualWith=ip,P.isError=nr,P.isFinite=G0,P.isFunction=bs,P.isInteger=Qh,P.isLength=dl,P.isMap=Xh,P.isMatch=sp,P.isMatchWith=$0,P.isNaN=Zy,P.isNative=K0,P.isNil=Y0,P.isNull=Jy,P.isNumber=ev,P.isObject=Nn,P.isObjectLike=Dn,P.isPlainObject=is,P.isRegExp=Zh,P.isSafeInteger=ap,P.isSet=tv,P.isString=Jh,P.isSymbol=$r,P.isTypedArray=hu,P.isUndefined=Ss,P.isWeakMap=op,P.isWeakSet=nv,P.join=Fc,P.kebabCase=rf,P.last=Or,P.lastIndexOf=nu,P.lowerCase=Eo,P.lowerFirst=lE,P.lt=rv,P.lte=Xc,P.max=eN,P.maxBy=tN,P.mean=nN,P.meanBy=rN,P.min=iN,P.minBy=sN,P.stubArray=dE,P.stubFalse=mE,P.stubObject=qI,P.stubString=GI,P.stubTrue=$I,P.multiply=aN,P.nth=wy,P.noConflict=be,P.noop=Fe,P.now=qh,P.pad=pv,P.padEnd=sf,P.padStart=uE,P.parseInt=gv,P.random=pp,P.reduce=Vy,P.reduceRight=jy,P.repeat=ad,P.replace=yv,P.result=aE,P.round=oN,P.runInContext=ne,P.sample=By,P.size=Zm,P.snakeCase=cE,P.some=U0,P.sortedIndex=wn,P.sortedIndexBy=xt,P.sortedIndexOf=zt,P.sortedLastIndex=cn,P.sortedLastIndexBy=Pi,P.sortedLastIndexOf=uo,P.startCase=ld,P.startsWith=vv,P.subtract=lN,P.sum=uN,P.sumBy=cN,P.template=af,P.times=KI,P.toFinite=ea,P.toInteger=pt,P.toLength=ta,P.toLower=gp,P.toNumber=ss,P.toSafeInteger=du,P.toString=tn,P.toUpper=ud,P.trim=_v,P.trimEnd=fE,P.trimStart=cd,P.truncate=r,P.unescape=s,P.uniqueId=WI,P.upperCase=o,P.upperFirst=f,P.each=My,P.eachRight=Xm,P.first=Ia,oe(P,function(){var l={};return Dr(P,function(c,y){en.call(P.prototype,y)||(l[y]=c)}),l}(),{chain:!1}),P.VERSION=i,Br(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){P[l].placeholder=P}),Br(["drop","take"],function(l,c){bt.prototype[l]=function(y){y=y===t?1:bn(pt(y),0);var b=this.__filtered__&&!c?new bt(this):this.clone();return b.__filtered__?b.__takeCount__=xn(y,b.__takeCount__):b.__views__.push({size:xn(y,pe),type:l+(b.__dir__<0?"Right":"")}),b},bt.prototype[l+"Right"]=function(y){return this.reverse()[l](y).reverse()}}),Br(["filter","map","takeWhile"],function(l,c){var y=c+1,b=y==je||y==le;bt.prototype[l]=function(C){var V=this.clone();return V.__iteratees__.push({iteratee:Je(C,3),type:y}),V.__filtered__=V.__filtered__||b,V}}),Br(["head","last"],function(l,c){var y="take"+(c?"Right":"");bt.prototype[l]=function(){return this[y](1).value()[0]}}),Br(["initial","tail"],function(l,c){var y="drop"+(c?"":"Right");bt.prototype[l]=function(){return this.__filtered__?new bt(this):this[y](1)}}),bt.prototype.compact=function(){return this.filter(fe)},bt.prototype.find=function(l){return this.filter(l).head()},bt.prototype.findLast=function(l){return this.reverse().find(l)},bt.prototype.invokeMap=vt(function(l,c){return typeof l=="function"?new bt(this):this.map(function(y){return rl(y,l,c)})}),bt.prototype.reject=function(l){return this.filter(Wc(Je(l)))},bt.prototype.slice=function(l,c){l=pt(l);var y=this;return y.__filtered__&&(l>0||c<0)?new bt(y):(l<0?y=y.takeRight(-l):l&&(y=y.drop(l)),c!==t&&(c=pt(c),y=c<0?y.dropRight(-c):y.take(c-l)),y)},bt.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},bt.prototype.toArray=function(){return this.take(pe)},Dr(bt.prototype,function(l,c){var y=/^(?:filter|find|map|reject)|While$/.test(c),b=/^(?:head|last)$/.test(c),C=P[b?"take"+(c=="last"?"Right":""):c],V=b||/^find/.test(c);C&&(P.prototype[c]=function(){var K=this.__wrapped__,Z=b?[1]:arguments,ie=K instanceof bt,Ae=Z[0],xe=ie||ht(K),De=function(jt){var Yt=C.apply(P,Ki([jt],Z));return b&&ke?Yt[0]:Yt};xe&&y&&typeof Ae=="function"&&Ae.length!=1&&(ie=xe=!1);var ke=this.__chain__,We=!!this.__actions__.length,ut=V&&!ke,At=ie&&!We;if(!V&&xe){K=At?K:new bt(this);var ct=l.apply(K,Z);return ct.__actions__.push({func:Mr,args:[De],thisArg:t}),new ui(ct,ke)}return ut&&At?l.apply(this,Z):(ct=this.thru(De),ut?b?ct.value()[0]:ct.value():ct)})}),Br(["pop","push","shift","sort","splice","unshift"],function(l){var c=nh[l],y=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",b=/^(?:pop|shift)$/.test(l);P.prototype[l]=function(){var C=arguments;if(b&&!this.__chain__){var V=this.value();return c.apply(ht(V)?V:[],C)}return this[y](function(K){return c.apply(ht(K)?K:[],C)})}}),Dr(bt.prototype,function(l,c){var y=P[c];if(y){var b=y.name+"";en.call(Zi,b)||(Zi[b]=[]),Zi[b].push({name:c,func:y})}}),Zi[kn(t,B).name]=[{name:"wrapper",func:t}],bt.prototype.clone=fc,bt.prototype.reverse=ah,bt.prototype.value=Zo,P.prototype.at=xy,P.prototype.chain=Li,P.prototype.commit=Cy,P.prototype.next=Iy,P.prototype.plant=mo,P.prototype.reverse=Fh,P.prototype.toJSON=P.prototype.valueOf=P.prototype.value=Ym,P.prototype.first=P.prototype.head,Yo&&(P.prototype[Yo]=P0),P},Xa=Vl();lr?((lr.exports=Xa)._=Xa,pa._=Xa):Tn._=Xa}).call(dj)}(Dp,Dp.exports)),Dp.exports}var En=mj();const wf=Vd(En),vl=n=>[...Array(n).keys()],pj=(n,e=3)=>{let t;e===4?t=vl(3).map(i=>vl(4).map(u=>n.includes(4*i+u)?"x":"o").join("")):t=vl(4).map(i=>vl(3).map(u=>n.includes(3*i+u)?"x":"o").join("")),console.log(t.join(`
`))},zu=(n,{debug:e=!1,returnWhenFound:t=!1}={})=>{let i=0,a=[];for(let u=0;u<n.length-2;u++)for(let h=u+1;h<n.length-1;h++)for(let m=h+1;m<n.length;m++)if(a=[n[u],n[h],n[m]],Lr(a)&&(e&&pj([u,h,m]),i++,t))return i;return i},vg=()=>{const n=[];return vl(3).forEach(e=>{vl(3).forEach(t=>{vl(3).forEach(i=>{vl(3).forEach(a=>{const u=""+e+i+t+a;n.push(u)})})})}),n},Lr=n=>{if(n.length!==3)return!1;const[e,t,i]=n;for(let a=0;a<4;a++)if((Number(e[a])+Number(t[a])+Number(i[a]))%3!==0)return!1;return!0},hf=(n,e)=>{let t="";for(let i=0;i<4;i++)if(n[i]===e[i])t=t+n[i];else{const u=(3-(Number(n[i])+Number(e[i]))).toString();t=t+u}return t.trim()},p0=(n,e)=>e.includes(n)?e.filter(t=>t!==n):[...e,n],Ud=({board:n=[],deck:e},t=12,i=1)=>{let a=En.shuffle([...n,...e]);for(;zu(a.slice(0,t))<i&&zu(a,{returnWhenFound:!0})>0;)a=En.shuffle(a);return{deck:a.slice(t),board:a.slice(0,t)}},gj=(n=null)=>{if(n===null){const u=[...wf.shuffle(vg()).slice(0,2)],h=hf(u[0],u[1]);return[u[0],u[1],h]}const e=["","",""],t=[!1,!1,!1,!1];return wf.sampleSize(wf.range(4),n).forEach(a=>{t[a]=Math.floor(Math.random()*3).toString()}),t.forEach((a,u)=>{const h=wf.shuffle(["0","1","2"]);for(let m=0;m<3;m++)a===!1?e[m]=e[m]+h[m].toString():e[m]=e[m]+a}),e},yj=({startingSetCards:n=2,boardSize:e=12,commonTraits:t}={})=>{let i=wf.shuffle(vg());const a=wf.shuffle(gj(t));let u=a.slice(0,2);const h=a[2];i=i.filter(g=>!a.includes(g));const m=wf.shuffle([h,...i.slice(0,e-3)]);return u=[...u,...m],i=i.slice(e-3),{board:u,deck:i}},yb=n=>{const{board:e,deck:t,selected:i}=n,a=t.slice(0,3);let u=[...e],h=t.slice(3);for(i.forEach((m,g)=>{const v=u.indexOf(m);u[v]=a[g]});zu(u)===0;)({deck:h,board:u}=Ud({board:u,deck:h}));return{deck:h,board:u,selected:[]}},_g=()=>(console.log("🚀 Using popup authentication"),vj()),vj=()=>{console.log("🚀 handleGooglePopup called");const n=new pl;return n.addScope("email"),n.addScope("profile"),OO(Ld,n).then(function(e){return console.log("✅ Popup sign-in successful:",e.user.displayName),console.log("✅ User UID:",e.user.uid),console.log("✅ User email:",e.user.email),e}).catch(function(e){throw console.error("❌ Popup sign-in error:",e),console.error("❌ Error code:",e.code),console.error("❌ Error message:",e.message),e})},fA=(n,e)=>{let t;typeof n=="string"?t=vf(_f,"games",n):t=n,lC(t,{...e,lastUpdate:jp()})},_j="#4fc3f7",Ej="#f48fb1",Tj="#ffd740",wj="#8e24aa",bj="#2e7d32",Sj="#f44336",Aj="#fb8c00",Rj="#f7f8fa",xj="#61d020",Cj="#1b2f92",Ij="#ff0000",Is={lightBlue:_j,pink:Ej,amber:Tj,purple:wj,lightGreen:bj,errorRed:Sj,orange:Aj,softCardBackground:Rj,cardGreen:xj,cardBlue:Cj,cardRed:Ij},WT=Is.softCardBackground,Nj=Is.cardGreen,Dj=Is.cardBlue,Oj=Is.cardRed,So={width:120,height:200,strokeWidth:4,padding:25},Mj=({fill:n,color:e})=>{const{strokeWidth:t}=So;return T.jsxs("svg",{width:"120",height:"200",xmlns:"http://www.w3.org/2000/svg",children:[T.jsxs("g",{children:[T.jsx("rect",{fill:WT,id:"canvas_background",height:"202",width:"122",y:"-1",x:"-1"}),T.jsx("g",{display:"none",overflow:"visible",y:"0",x:"0",height:"100%",width:"100%",id:"canvasGrid",children:T.jsx("rect",{fill:WT,strokeWidth:"0",y:"0",x:"0",height:"100%",width:"100%"})})]}),T.jsx("g",{children:T.jsx("path",{stroke:e,transform:`
          rotate(270,58.8,98)
          scale(0.8 1)
          translate(10 0)
          `,id:"svg_5",d:`
          m-17.49,66
          c50.83,-35.45 101.7,35.45
          152.5,0
          c30,-10 30,43.8
          0,63.8
          c-50.8,35.45 -101.6,-35.45
          -152.5,0
          c-30,15 -30,-45
          0,-63.59
          z
          `,fillOpacity:"null",strokeOpacity:"null",strokeWidth:t,fill:n})})]})},Pj=({shape:n,fill:e,color:t,num:i})=>{let{padding:a,height:u,width:h}=So;return n==="0"?(a=a+1,T.jsx(Mj,{fill:e,color:t})):n==="1"?T.jsx("g",{children:T.jsx("ellipse",{stroke:t,ry:(u-2*a)/2,rx:(h-2*a)/2,cy:u/2,cx:h/2,fillOpacity:"null",strokeOpacity:"null",strokeWidth:So.strokeWidth,fill:e})}):n==="2"?T.jsx("g",{children:T.jsx("polygon",{points:`${a},${u/2}
          ${h/2},${a}
          ${h-a},${u/2}
          ${h/2},${u-a}`,style:{fill:e,stroke:t,strokeWidth:So.strokeWidth}})}):null},Ei=({desc:n})=>{if(n==="0333")return T.jsx("div",{className:"game-card d-flex justify-content-center",children:T.jsx("svg",{className:"shape blank-card",viewBox:`0 0 ${So.width} ${So.height}`,xmlns:"http://www.w3.org/2000/svg",children:T.jsx("rect",{x:"2",y:"2",width:So.width-4,height:So.height-4,fill:"#f8f9fa",stroke:"#dee2e6",strokeWidth:"2",strokeDasharray:"5,5",rx:"8"})})});const e={0:Nj,1:Dj,2:Oj,white:WT},t=(m,g)=>g==="1"?`url(#card-${m}-${g})`:g==="2"?e[m]:e.white,i=()=>{const[m,g,v,E]=n.split("");return T.jsxs(j.Fragment,{children:[T.jsxs("g",{children:[T.jsx("title",{children:"background"}),T.jsx("rect",{fill:e.white,id:"canvas_background",y:"-1",x:"-1"}),T.jsx("g",{display:"none",overflow:"visible",y:"0",x:"0",height:"100%",width:"100%",id:"canvasGrid",children:T.jsx("rect",{strokeWidth:"0",y:"0",x:"0",height:"100%",width:"100%"})})]}),T.jsx(Pj,{shape:v,num:m,fill:t(g,E),color:e[g]})]})},[a,u,,h]=n.split("");return T.jsxs("div",{className:"game-card d-flex justify-content-center",children:[T.jsx("svg",{width:"0",height:"0",children:T.jsx("pattern",{id:`card-${u}-${h}`,width:120/12,height:"10",patternTransform:"rotate(45 0 0)",patternUnits:"userSpaceOnUse",children:T.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"10",style:{stroke:e[u],strokeWidth:"5"}})})}),vl(Number(a)+1).map(m=>T.jsx("svg",{className:`shape ${a==="1"?"double":""}`,viewBox:`0 0 ${So.width} ${So.height}`,xmlns:"http://www.w3.org/2000/svg",children:i()},m))]})};function Lj(n){const{url:e,cardName:t,description:i}=n;return T.jsxs("div",{className:"col-9 col-md-4",children:[T.jsx(yr,{to:e,children:T.jsx("div",{className:"card shadow-sm mb-3 mb-md-4",children:T.jsx(Ei,{desc:t})})}),T.jsx("p",{className:"text-center",children:i})]})}function kj(){const n=[{url:"/solo",cardName:"0012",description:"Solo/Local"},{url:"/lobby",cardName:"1121",description:"Join Game"},{url:"/host",cardName:"2200",description:"Host Game"}];return T.jsxs("div",{className:"container bg-light-purple mt-3 mt-md-5 p-4",children:[T.jsx("h1",{className:"d-none d-md-block text-center mb-3 mb-md-5",children:"Main Menu"}),T.jsx("div",{className:"row justify-content-center",children:n.map((e,t)=>T.jsx(Lj,{...e},`card-${t}`))}),T.jsx("hr",{}),T.jsxs("div",{className:"d-none d-md-block text-center",children:[T.jsx("p",{children:T.jsx(yr,{to:"/rules",children:"Rules"})}),T.jsx("p",{children:T.jsx(yr,{to:"/stats",children:"View Statistics"})})]}),T.jsx("div",{className:"text-center mt-4",children:T.jsx("p",{children:T.jsx(yr,{to:"/training",children:"Training Mode"})})})]})}function EI(n){const{gameOver:e,myName:t,solo:i,finalScore:a,reset:u}=n,h=tg(g=>g.user),{user:m}=h;return T.jsx("div",{className:"game-over container mt-5",children:T.jsx("div",{className:"row justify-content-center bg-light-purple",children:T.jsx("div",{className:"col col-md-6",children:T.jsxs("div",{className:"card shadow p-3 m-2",children:[T.jsx("h3",{className:"text-center mt-3",children:"GAME OVER!"}),isNaN(a)?T.jsxs("p",{className:"text-center mb-4",children:["Winner: ",e," "]}):T.jsxs("div",{className:"d-flex flex-column justify-content-center",children:[T.jsxs("p",{className:"text-center my-2",children:["Final Score: ",a," "]}),T.jsx("div",{className:"d-flex flex-row justify-content-center",children:T.jsx("button",{className:"btn btn-primary my-2",onClick:()=>u&&u(),children:"Reset"})})]}),T.jsxs("div",{className:"row justify-content-center",children:[T.jsx("div",{className:"col-4",children:T.jsx("p",{className:"text-center",children:T.jsx(yr,{to:"/",children:"Main"})})}),i&&m&&m.uid&&T.jsx("div",{className:"col-4",children:T.jsx("p",{className:"text-center",children:T.jsx(yr,{to:"/stats",children:"Stats"})})})]})]})})})})}var YE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var hA;function Uj(){return hA||(hA=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var u="",h=0;h<arguments.length;h++){var m=arguments[h];m&&(u=a(u,i(m)))}return u}function i(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return t.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var h="";for(var m in u)e.call(u,m)&&u[m]&&(h=a(h,m));return h}function a(u,h){return h?u?u+" "+h:u+h:u}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(YE)),YE.exports}var Vj=Uj();const Ms=Vd(Vj);function jj(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function QT(n,e){return QT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},QT(n,e)}function Bj(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,QT(n,e)}const Fj=["xxl","xl","lg","md","sm","xs"],zj="xs",vb=j.createContext({prefixes:{},breakpoints:Fj,minBreakpoint:zj}),{Consumer:_5,Provider:E5}=vb;function $u(n,e){const{prefixes:t}=j.useContext(vb);return n||t[e]||e}function Hj(){const{dir:n}=j.useContext(vb);return n==="rtl"}function g0(n){return n&&n.ownerDocument||document}function qj(n){var e=g0(n);return e&&e.defaultView||window}function Gj(n,e){return qj(n).getComputedStyle(n,e)}var $j=/([A-Z])/g;function Kj(n){return n.replace($j,"-$1").toLowerCase()}var Yj=/^ms-/;function Ov(n){return Kj(n).replace(Yj,"-ms-")}var Wj=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Qj(n){return!!(n&&Wj.test(n))}function Rf(n,e){var t="",i="";if(typeof e=="string")return n.style.getPropertyValue(Ov(e))||Gj(n).getPropertyValue(Ov(e));Object.keys(e).forEach(function(a){var u=e[a];!u&&u!==0?n.style.removeProperty(Ov(a)):Qj(a)?i+=a+"("+u+") ":t+=Ov(a)+": "+u+";"}),i&&(t+="transform: "+i+";"),n.style.cssText+=";"+t}var WE={exports:{}},QE,dA;function Xj(){if(dA)return QE;dA=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return QE=n,QE}var XE,mA;function Zj(){if(mA)return XE;mA=1;var n=Xj();function e(){}function t(){}return t.resetWarningCache=e,XE=function(){function i(h,m,g,v,E,S){if(S!==n){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}i.isRequired=i;function a(){return i}var u={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return u.PropTypes=u,u},XE}var pA;function Jj(){return pA||(pA=1,WE.exports=Zj()()),WE.exports}var e6=Jj();const ZE=Vd(e6),gA={disabled:!1},TI=pf.createContext(null);var t6=function(e){return e.scrollTop},Op="unmounted",uf="exited",Tu="entering",df="entered",XT="exiting",Rl=function(n){Bj(e,n);function e(i,a){var u;u=n.call(this,i,a)||this;var h=a,m=h&&!h.isMounting?i.enter:i.appear,g;return u.appearStatus=null,i.in?m?(g=uf,u.appearStatus=Tu):g=df:i.unmountOnExit||i.mountOnEnter?g=Op:g=uf,u.state={status:g},u.nextCallback=null,u}e.getDerivedStateFromProps=function(a,u){var h=a.in;return h&&u.status===Op?{status:uf}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(a){var u=null;if(a!==this.props){var h=this.state.status;this.props.in?h!==Tu&&h!==df&&(u=Tu):(h===Tu||h===df)&&(u=XT)}this.updateStatus(!1,u)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var a=this.props.timeout,u,h,m;return u=h=m=a,a!=null&&typeof a!="number"&&(u=a.exit,h=a.enter,m=a.appear!==void 0?a.appear:h),{exit:u,enter:h,appear:m}},t.updateStatus=function(a,u){if(a===void 0&&(a=!1),u!==null)if(this.cancelNextCallback(),u===Tu){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:Ed.findDOMNode(this);h&&t6(h)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===uf&&this.setState({status:Op})},t.performEnter=function(a){var u=this,h=this.props.enter,m=this.context?this.context.isMounting:a,g=this.props.nodeRef?[m]:[Ed.findDOMNode(this),m],v=g[0],E=g[1],S=this.getTimeouts(),A=m?S.appear:S.enter;if(!a&&!h||gA.disabled){this.safeSetState({status:df},function(){u.props.onEntered(v)});return}this.props.onEnter(v,E),this.safeSetState({status:Tu},function(){u.props.onEntering(v,E),u.onTransitionEnd(A,function(){u.safeSetState({status:df},function(){u.props.onEntered(v,E)})})})},t.performExit=function(){var a=this,u=this.props.exit,h=this.getTimeouts(),m=this.props.nodeRef?void 0:Ed.findDOMNode(this);if(!u||gA.disabled){this.safeSetState({status:uf},function(){a.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:XT},function(){a.props.onExiting(m),a.onTransitionEnd(h.exit,function(){a.safeSetState({status:uf},function(){a.props.onExited(m)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(a,u){u=this.setNextCallback(u),this.setState(a,u)},t.setNextCallback=function(a){var u=this,h=!0;return this.nextCallback=function(m){h&&(h=!1,u.nextCallback=null,a(m))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},t.onTransitionEnd=function(a,u){this.setNextCallback(u);var h=this.props.nodeRef?this.props.nodeRef.current:Ed.findDOMNode(this),m=a==null&&!this.props.addEndListener;if(!h||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var g=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],v=g[0],E=g[1];this.props.addEndListener(v,E)}a!=null&&setTimeout(this.nextCallback,a)},t.render=function(){var a=this.state.status;if(a===Op)return null;var u=this.props,h=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var m=jj(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return pf.createElement(TI.Provider,{value:null},typeof h=="function"?h(a,m):pf.cloneElement(pf.Children.only(h),m))},e}(pf.Component);Rl.contextType=TI;Rl.propTypes={};function fd(){}Rl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:fd,onEntering:fd,onEntered:fd,onExit:fd,onExiting:fd,onExited:fd};Rl.UNMOUNTED=Op;Rl.EXITED=uf;Rl.ENTERING=Tu;Rl.ENTERED=df;Rl.EXITING=XT;function n6(n){return n.code==="Escape"||n.keyCode===27}function r6(){const n=j.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function y0(n){if(!n||typeof n=="function")return null;const{major:e}=r6();return e>=19?n.props.ref:n.ref}const Yd=!!(typeof window<"u"&&window.document&&window.document.createElement);var ZT=!1,JT=!1;try{var JE={get passive(){return ZT=!0},get once(){return JT=ZT=!0}};Yd&&(window.addEventListener("test",JE,JE),window.removeEventListener("test",JE,!0))}catch{}function wI(n,e,t,i){if(i&&typeof i!="boolean"&&!JT){var a=i.once,u=i.capture,h=t;!JT&&a&&(h=t.__once||function m(g){this.removeEventListener(e,m,u),t.call(this,g)},t.__once=h),n.addEventListener(e,h,ZT?i:u)}n.addEventListener(e,t,i)}function ew(n,e,t,i){var a=i&&typeof i!="boolean"?i.capture:i;n.removeEventListener(e,t,a),t.__once&&n.removeEventListener(e,t.__once,a)}function D_(n,e,t,i){return wI(n,e,t,i),function(){ew(n,e,t,i)}}function i6(n,e,t,i){if(i===void 0&&(i=!0),n){var a=document.createEvent("HTMLEvents");a.initEvent(e,t,i),n.dispatchEvent(a)}}function s6(n){var e=Rf(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function a6(n,e,t){t===void 0&&(t=5);var i=!1,a=setTimeout(function(){i||i6(n,"transitionend",!0)},e+t),u=D_(n,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(a),u()}}function bI(n,e,t,i){t==null&&(t=s6(n)||0);var a=a6(n,t,i),u=D_(n,"transitionend",e);return function(){a(),u()}}function yA(n,e){const t=Rf(n,e)||"",i=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*i}function o6(n,e){const t=yA(n,"transitionDuration"),i=yA(n,"transitionDelay"),a=bI(n,u=>{u.target===n&&(a(),e(u))},t+i)}function l6(n){n.offsetHeight}const vA=n=>!n||typeof n=="function"?n:e=>{n.current=e};function u6(n,e){const t=vA(n),i=vA(e);return a=>{t&&t(a),i&&i(a)}}function SI(n,e){return j.useMemo(()=>u6(n,e),[n,e])}function c6(n){return n&&"setState"in n?Ed.findDOMNode(n):n??null}const AI=pf.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:a,onExited:u,addEndListener:h,children:m,childRef:g,...v},E)=>{const S=j.useRef(null),A=SI(S,g),D=F=>{A(c6(F))},M=F=>N=>{F&&S.current&&F(S.current,N)},H=j.useCallback(M(n),[n]),k=j.useCallback(M(e),[e]),B=j.useCallback(M(t),[t]),ee=j.useCallback(M(i),[i]),te=j.useCallback(M(a),[a]),he=j.useCallback(M(u),[u]),Q=j.useCallback(M(h),[h]);return T.jsx(Rl,{ref:E,...v,onEnter:H,onEntered:B,onEntering:k,onExit:ee,onExited:he,onExiting:te,addEndListener:Q,nodeRef:S,children:typeof m=="function"?(F,N)=>m(F,{...N,ref:D}):pf.cloneElement(m,{ref:D})})});AI.displayName="TransitionWrapper";function f6(n){const e=j.useRef(n);return j.useEffect(()=>{e.current=n},[n]),e}function tw(n){const e=f6(n);return j.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const h6=n=>j.forwardRef((e,t)=>T.jsx("div",{...e,ref:t,className:Ms(e.className,n)}));function d6(n){const e=j.useRef(n);return j.useEffect(()=>{e.current=n},[n]),e}function mf(n){const e=d6(n);return j.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function m6(){const n=j.useRef(!0),e=j.useRef(()=>n.current);return j.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function p6(n){const e=j.useRef(null);return j.useEffect(()=>{e.current=n}),e.current}const g6=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",y6=typeof document<"u",_A=y6||g6?j.useLayoutEffect:j.useEffect,v6=["as","disabled"];function _6(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function E6(n){return!n||n.trim()==="#"}function RI({tagName:n,disabled:e,href:t,target:i,rel:a,role:u,onClick:h,tabIndex:m=0,type:g}){n||(t!=null||i!=null||a!=null?n="a":n="button");const v={tagName:n};if(n==="button")return[{type:g||"button",disabled:e},v];const E=A=>{if((e||n==="a"&&E6(t))&&A.preventDefault(),e){A.stopPropagation();return}h==null||h(A)},S=A=>{A.key===" "&&(A.preventDefault(),E(A))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:u??"button",disabled:void 0,tabIndex:e?void 0:m,href:t,target:n==="a"?i:void 0,"aria-disabled":e||void 0,rel:n==="a"?a:void 0,onClick:E,onKeyDown:S},v]}const T6=j.forwardRef((n,e)=>{let{as:t,disabled:i}=n,a=_6(n,v6);const[u,{tagName:h}]=RI(Object.assign({tagName:t,disabled:i},a));return T.jsx(h,Object.assign({},a,u,{ref:e}))});T6.displayName="Button";const w6={[Tu]:"show",[df]:"show"},_b=j.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:i,...a},u)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},m=j.useCallback((g,v)=>{l6(g),i==null||i(g,v)},[i]);return T.jsx(AI,{ref:u,addEndListener:o6,...h,onEnter:m,childRef:y0(e),children:(g,v)=>j.cloneElement(e,{...v,className:Ms("fade",n,e.props.className,w6[g],t[g])})})});_b.displayName="Fade";const b6={"aria-label":ZE.string,onClick:ZE.func,variant:ZE.oneOf(["white"])},Eb=j.forwardRef(({className:n,variant:e,"aria-label":t="Close",...i},a)=>T.jsx("button",{ref:a,type:"button",className:Ms("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...i}));Eb.displayName="CloseButton";Eb.propTypes=b6;const Tb=j.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:i,active:a=!1,disabled:u=!1,className:h,...m},g)=>{const v=$u(e,"btn"),[E,{tagName:S}]=RI({tagName:n,disabled:u,...m}),A=S;return T.jsx(A,{...E,...m,ref:g,disabled:u,className:Ms(h,v,a&&"active",t&&`${v}-${t}`,i&&`${v}-${i}`,m.href&&u&&"disabled")})});Tb.displayName="Button";function S6(n){const e=j.useRef(n);return e.current=n,e}function A6(n){const e=S6(n);j.useEffect(()=>()=>e.current(),[])}var R6=Function.prototype.bind.call(Function.prototype.call,[].slice);function hd(n,e){return R6(n.querySelectorAll(e))}function EA(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const x6="data-rr-ui-";function C6(n){return`${x6}${n}`}const xI=j.createContext(Yd?window:void 0);xI.Provider;function wb(){return j.useContext(xI)}const TA=n=>!n||typeof n=="function"?n:e=>{n.current=e};function I6(n,e){const t=TA(n),i=TA(e);return a=>{t&&t(a),i&&i(a)}}function bb(n,e){return j.useMemo(()=>I6(n,e),[n,e])}var Mv;function wA(n){if((!Mv&&Mv!==0||n)&&Yd){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Mv=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Mv}function N6(){return j.useState(null)}function eT(n){n===void 0&&(n=g0());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function D6(n){const e=j.useRef(n);return e.current=n,e}function O6(n){const e=D6(n);j.useEffect(()=>()=>e.current(),[])}function M6(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const bA=C6("modal-open");class Sb{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:i=!1}={}){this.handleContainerOverflow=t,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return M6(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();e.style={overflow:a.style.overflow,[i]:a.style[i]},e.scrollBarWidth&&(t[i]=`${parseInt(Rf(a,i)||"0",10)+e.scrollBarWidth}px`),a.setAttribute(bA,""),Rf(a,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(bA),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const tT=(n,e)=>Yd?n==null?(e||g0()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function P6(n,e){const t=wb(),[i,a]=j.useState(()=>tT(n,t==null?void 0:t.document));if(!i){const u=tT(n);u&&a(u)}return j.useEffect(()=>{},[e,i]),j.useEffect(()=>{const u=tT(n);u!==i&&a(u)},[n,i]),i}function L6({children:n,in:e,onExited:t,mountOnEnter:i,unmountOnExit:a}){const u=j.useRef(null),h=j.useRef(e),m=mf(t);j.useEffect(()=>{e?h.current=!0:m(u.current)},[e,m]);const g=bb(u,y0(n)),v=j.cloneElement(n,{ref:g});return e?v:a||!h.current&&i?null:v}const k6=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function U6(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function V6(n){let{onEnter:e,onEntering:t,onEntered:i,onExit:a,onExiting:u,onExited:h,addEndListener:m,children:g}=n,v=U6(n,k6);const E=j.useRef(null),S=bb(E,y0(g)),A=he=>Q=>{he&&E.current&&he(E.current,Q)},D=j.useCallback(A(e),[e]),M=j.useCallback(A(t),[t]),H=j.useCallback(A(i),[i]),k=j.useCallback(A(a),[a]),B=j.useCallback(A(u),[u]),ee=j.useCallback(A(h),[h]),te=j.useCallback(A(m),[m]);return Object.assign({},v,{nodeRef:E},e&&{onEnter:D},t&&{onEntering:M},i&&{onEntered:H},a&&{onExit:k},u&&{onExiting:B},h&&{onExited:ee},m&&{addEndListener:te},{children:typeof g=="function"?(he,Q)=>g(he,Object.assign({},Q,{ref:S})):j.cloneElement(g,{ref:S})})}const j6=["component"];function B6(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const F6=j.forwardRef((n,e)=>{let{component:t}=n,i=B6(n,j6);const a=V6(i);return T.jsx(t,Object.assign({ref:e},a))});function z6({in:n,onTransition:e}){const t=j.useRef(null),i=j.useRef(!0),a=mf(e);return _A(()=>{if(!t.current)return;let u=!1;return a({in:n,element:t.current,initial:i.current,isStale:()=>u}),()=>{u=!0}},[n,a]),_A(()=>(i.current=!1,()=>{i.current=!0}),[]),t}function H6({children:n,in:e,onExited:t,onEntered:i,transition:a}){const[u,h]=j.useState(!e);e&&u&&h(!1);const m=z6({in:!!e,onTransition:v=>{const E=()=>{v.isStale()||(v.in?i==null||i(v.element,v.initial):(h(!0),t==null||t(v.element)))};Promise.resolve(a(v)).then(E,S=>{throw v.in||h(!0),S})}}),g=bb(m,y0(n));return u&&!e?null:j.cloneElement(n,{ref:g})}function SA(n,e,t){return n?T.jsx(F6,Object.assign({},t,{component:n})):e?T.jsx(H6,Object.assign({},t,{transition:e})):T.jsx(L6,Object.assign({},t))}const q6=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function G6(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}let nT;function $6(n){return nT||(nT=new Sb({ownerDocument:n==null?void 0:n.document})),nT}function K6(n){const e=wb(),t=n||$6(e),i=j.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>t.add(i.current),remove:()=>t.remove(i.current),isTopModal:()=>t.isTopModal(i.current),setDialogRef:j.useCallback(a=>{i.current.dialog=a},[]),setBackdropRef:j.useCallback(a=>{i.current.backdrop=a},[])})}const CI=j.forwardRef((n,e)=>{let{show:t=!1,role:i="dialog",className:a,style:u,children:h,backdrop:m=!0,keyboard:g=!0,onBackdropClick:v,onEscapeKeyDown:E,transition:S,runTransition:A,backdropTransition:D,runBackdropTransition:M,autoFocus:H=!0,enforceFocus:k=!0,restoreFocus:B=!0,restoreFocusOptions:ee,renderDialog:te,renderBackdrop:he=Dt=>T.jsx("div",Object.assign({},Dt)),manager:Q,container:F,onShow:N,onHide:I=()=>{},onExit:O,onExited:z,onExiting:G,onEnter:W,onEntering:q,onEntered:je}=n,Ze=G6(n,q6);const le=wb(),me=P6(F),_e=K6(Q),Me=m6(),$=p6(t),[pe,Ne]=j.useState(!t),we=j.useRef(null);j.useImperativeHandle(e,()=>_e,[_e]),Yd&&!$&&t&&(we.current=eT(le==null?void 0:le.document)),t&&pe&&Ne(!1);const Ue=mf(()=>{if(_e.add(),Zt.current=D_(document,"keydown",Nt),Mn.current=D_(document,"focus",()=>setTimeout(He),!0),N&&N(),H){var Dt,cs;const an=eT((Dt=(cs=_e.dialog)==null?void 0:cs.ownerDocument)!=null?Dt:le==null?void 0:le.document);_e.dialog&&an&&!EA(_e.dialog,an)&&(we.current=an,_e.dialog.focus())}}),Ye=mf(()=>{if(_e.remove(),Zt.current==null||Zt.current(),Mn.current==null||Mn.current(),B){var Dt;(Dt=we.current)==null||Dt.focus==null||Dt.focus(ee),we.current=null}});j.useEffect(()=>{!t||!me||Ue()},[t,me,Ue]),j.useEffect(()=>{pe&&Ye()},[pe,Ye]),O6(()=>{Ye()});const He=mf(()=>{if(!k||!Me()||!_e.isTopModal())return;const Dt=eT(le==null?void 0:le.document);_e.dialog&&Dt&&!EA(_e.dialog,Dt)&&_e.dialog.focus()}),mn=mf(Dt=>{Dt.target===Dt.currentTarget&&(v==null||v(Dt),m===!0&&I())}),Nt=mf(Dt=>{g&&n6(Dt)&&_e.isTopModal()&&(E==null||E(Dt),Dt.defaultPrevented||I())}),Mn=j.useRef(),Zt=j.useRef(),An=(...Dt)=>{Ne(!0),z==null||z(...Dt)};if(!me)return null;const qn=Object.assign({role:i,ref:_e.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},Ze,{style:u,className:a,tabIndex:-1});let Rr=te?te(qn):T.jsx("div",Object.assign({},qn,{children:j.cloneElement(h,{role:"document"})}));Rr=SA(S,A,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:O,onExiting:G,onExited:An,onEnter:W,onEntering:q,onEntered:je,children:Rr});let Wt=null;return m&&(Wt=he({ref:_e.setBackdropRef,onClick:mn}),Wt=SA(D,M,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Wt})),T.jsx(T.Fragment,{children:Ed.createPortal(T.jsxs(T.Fragment,{children:[Wt,Rr]}),me)})});CI.displayName="Modal";const Y6=Object.assign(CI,{Manager:Sb});function W6(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function Q6(n,e){n.classList?n.classList.add(e):W6(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function AA(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function X6(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=AA(n.className,e):n.setAttribute("class",AA(n.className&&n.className.baseVal||"",e))}const dd={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Z6 extends Sb{adjustAndStore(e,t,i){const a=t.style[e];t.dataset[e]=a,Rf(t,{[e]:`${parseFloat(Rf(t,e))+i}px`})}restore(e,t){const i=t.dataset[e];i!==void 0&&(delete t.dataset[e],Rf(t,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(Q6(t,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";hd(t,dd.FIXED_CONTENT).forEach(u=>this.adjustAndStore(i,u,e.scrollBarWidth)),hd(t,dd.STICKY_CONTENT).forEach(u=>this.adjustAndStore(a,u,-e.scrollBarWidth)),hd(t,dd.NAVBAR_TOGGLER).forEach(u=>this.adjustAndStore(a,u,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();X6(t,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";hd(t,dd.FIXED_CONTENT).forEach(u=>this.restore(i,u)),hd(t,dd.STICKY_CONTENT).forEach(u=>this.restore(a,u)),hd(t,dd.NAVBAR_TOGGLER).forEach(u=>this.restore(a,u))}}let rT;function J6(n){return rT||(rT=new Z6(n)),rT}const II=j.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=$u(e,"modal-body"),T.jsx(t,{ref:a,className:Ms(n,e),...i})));II.displayName="ModalBody";const NI=j.createContext({onHide(){}}),Ab=j.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:i,size:a,fullscreen:u,children:h,scrollable:m,...g},v)=>{n=$u(n,"modal");const E=`${n}-dialog`,S=typeof u=="string"?`${n}-fullscreen-${u}`:`${n}-fullscreen`;return T.jsx("div",{...g,ref:v,className:Ms(E,e,a&&`${n}-${a}`,i&&`${E}-centered`,m&&`${E}-scrollable`,u&&S),children:T.jsx("div",{className:Ms(`${n}-content`,t),children:h})})});Ab.displayName="ModalDialog";const DI=j.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=$u(e,"modal-footer"),T.jsx(t,{ref:a,className:Ms(n,e),...i})));DI.displayName="ModalFooter";const OI=j.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:i,children:a,...u},h)=>{const m=j.useContext(NI),g=tw(()=>{m==null||m.onHide(),i==null||i()});return T.jsxs("div",{ref:h,...u,children:[a,t&&T.jsx(Eb,{"aria-label":n,variant:e,onClick:g})]})});OI.displayName="AbstractModalHeader";const MI=j.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:i=!1,...a},u)=>(n=$u(n,"modal-header"),T.jsx(OI,{ref:u,...a,className:Ms(e,n),closeLabel:t,closeButton:i})));MI.displayName="ModalHeader";const e9=h6("h4"),PI=j.forwardRef(({className:n,bsPrefix:e,as:t=e9,...i},a)=>(e=$u(e,"modal-title"),T.jsx(t,{ref:a,className:Ms(n,e),...i})));PI.displayName="ModalTitle";function t9(n){return T.jsx(_b,{...n,timeout:null})}function n9(n){return T.jsx(_b,{...n,timeout:null})}const LI=j.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:i,contentClassName:a,children:u,dialogAs:h=Ab,"data-bs-theme":m,"aria-labelledby":g,"aria-describedby":v,"aria-label":E,show:S=!1,animation:A=!0,backdrop:D=!0,keyboard:M=!0,onEscapeKeyDown:H,onShow:k,onHide:B,container:ee,autoFocus:te=!0,enforceFocus:he=!0,restoreFocus:Q=!0,restoreFocusOptions:F,onEntered:N,onExit:I,onExiting:O,onEnter:z,onEntering:G,onExited:W,backdropClassName:q,manager:je,...Ze},le)=>{const[me,_e]=j.useState({}),[Me,$]=j.useState(!1),pe=j.useRef(!1),Ne=j.useRef(!1),we=j.useRef(null),[Ue,Ye]=N6(),He=SI(le,Ye),mn=tw(B),Nt=Hj();n=$u(n,"modal");const Mn=j.useMemo(()=>({onHide:mn}),[mn]);function Zt(){return je||J6({isRTL:Nt})}function An(qe){if(!Yd)return;const it=Zt().getScrollbarWidth()>0,Rn=qe.scrollHeight>g0(qe).documentElement.clientHeight;_e({paddingRight:it&&!Rn?wA():void 0,paddingLeft:!it&&Rn?wA():void 0})}const qn=tw(()=>{Ue&&An(Ue.dialog)});A6(()=>{ew(window,"resize",qn),we.current==null||we.current()});const Rr=()=>{pe.current=!0},Wt=qe=>{pe.current&&Ue&&qe.target===Ue.dialog&&(Ne.current=!0),pe.current=!1},Dt=()=>{$(!0),we.current=bI(Ue.dialog,()=>{$(!1)})},cs=qe=>{qe.target===qe.currentTarget&&Dt()},an=qe=>{if(D==="static"){cs(qe);return}if(Ne.current||qe.target!==qe.currentTarget){Ne.current=!1;return}B==null||B()},Fa=qe=>{M?H==null||H(qe):(qe.preventDefault(),D==="static"&&Dt())},oa=(qe,it)=>{qe&&An(qe),z==null||z(qe,it)},Xr=qe=>{we.current==null||we.current(),I==null||I(qe)},Bn=(qe,it)=>{G==null||G(qe,it),wI(window,"resize",qn)},_r=qe=>{qe&&(qe.style.display=""),W==null||W(qe),ew(window,"resize",qn)},Er=j.useCallback(qe=>T.jsx("div",{...qe,className:Ms(`${n}-backdrop`,q,!A&&"show")}),[A,q,n]),fs={...t,...me};fs.display="block";const Zr=qe=>T.jsx("div",{role:"dialog",...qe,style:fs,className:Ms(e,n,Me&&`${n}-static`,!A&&"show"),onClick:D?an:void 0,onMouseUp:Wt,"data-bs-theme":m,"aria-label":E,"aria-labelledby":g,"aria-describedby":v,children:T.jsx(h,{...Ze,onMouseDown:Rr,className:i,contentClassName:a,children:u})});return T.jsx(NI.Provider,{value:Mn,children:T.jsx(Y6,{show:S,ref:He,backdrop:D,container:ee,keyboard:!0,autoFocus:te,enforceFocus:he,restoreFocus:Q,restoreFocusOptions:F,onEscapeKeyDown:Fa,onShow:k,onHide:B,onEnter:oa,onEntering:Bn,onEntered:N,onExit:Xr,onExiting:O,onExited:_r,manager:Zt(),transition:A?t9:void 0,backdropTransition:A?n9:void 0,renderBackdrop:Er,renderDialog:Zr})})});LI.displayName="Modal";const Si=Object.assign(LI,{Body:II,Header:MI,Title:PI,Footer:DI,Dialog:Ab,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),kI=j.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:i,as:a="div",className:u,...h},m)=>{n=$u(n,"spinner");const g=`${n}-${t}`;return T.jsx(a,{ref:m,...h,className:Ms(u,g,i&&`${g}-${i}`,e&&`text-${e}`)})});kI.displayName="Spinner";const iT=n=>{const e=a=>{const u="00";return(u+a).slice(-u.length)},t=Math.floor(n/60),i=n-60*t;return`${t}:${e(i)}`};function r9({gameMode:n,deck:e,board:t,declarer:i,setsFound:a,players:u,elapsedTime:h,timeLeft:m}){const g=zu(t);switch(n){case"shared-device":return null;case"versus":return T.jsx("div",{className:`topbar py-2 bg-${i?"light":"dark"}-orange`,children:T.jsx("nav",{className:"text-white",children:T.jsxs("div",{className:"d-flex justify-content-around text-center",children:[T.jsxs("div",{children:["Sets: ",T.jsx("span",{className:"mono-font",children:g})]}),T.jsxs("div",{children:["Time:"," ",T.jsx("span",{className:"mono-font",children:h!==void 0?iT(h):"0:00"})]}),T.jsx("div",{children:i&&T.jsxs(T.Fragment,{children:["SET! ",i]})})]})})});case"puzzle":return T.jsx("div",{className:"navbar-fixed",children:T.jsx("nav",{children:T.jsxs("div",{className:"nav-wrapper",style:{display:"flex",justifyContent:"space-between"},children:[T.jsxs("div",{children:["Total Sets: ",T.jsx("span",{className:"mono-font",children:g})]}),T.jsxs("div",{children:["Remaining:"," ",T.jsx("span",{className:"mono-font",children:a?g-a.length:g})]}),T.jsxs("div",{children:["Time:"," ",T.jsx("span",{className:"mono-font",children:h!==void 0?iT(h):"0:00"})]})]})})});case"training":return T.jsx("div",{className:"topbar py-2 bg-dark-orange navbar-fixed",children:T.jsx("nav",{children:T.jsxs("div",{className:"nav-wrapper d-flex justify-content-around",children:[T.jsxs("div",{children:["Time:"," ",T.jsx("span",{className:"mono-font",children:h!==void 0?iT(h):"0:00"})]}),T.jsxs("div",{children:["Score: ",T.jsx("span",{className:"mono-font",children:u.you.score})]}),T.jsxs("div",{children:["Remaining:"," ",T.jsx("span",{className:"mono-font",children:typeof m=="number"&&m>0?m.toFixed(1):"0.0"})]})]})})});default:return null}}function RA({players:n,declarer:e,handlePlayerClick:t}){return T.jsx("div",{className:"shared-players-container",children:T.jsx("div",{className:"row my-3 text-center justify-content-center",children:n.map(i=>{const a=i.name===e,u=`Player ${parseInt(i.name)+1}`;return T.jsx("div",{className:"col-auto mx-2",children:T.jsxs("div",{className:`shared-player-button bg-${i.color} ${a?"active-player":""}`,onClick:()=>{console.log(`Player clicked: ${i.name}, declarer: ${e}`),t(i.name)},style:{cursor:"pointer",borderRadius:"12px",padding:"16px 12px",minHeight:"80px",minWidth:"100px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:a?"4px solid #000":"3px solid rgba(0,0,0,0.2)",boxShadow:a?"0 6px 16px rgba(0,0,0,0.4)":"0 3px 8px rgba(0,0,0,0.15)",transform:a?"scale(1.1)":"scale(1)",transition:"all 0.3s ease-in-out",backgroundColor:a?"rgba(255,255,255,0.9)":void 0},children:[T.jsx("div",{style:{fontSize:a?"1.4rem":"1.1rem",fontWeight:"bold",color:a?"#000":"#fff",textShadow:a?"none":"1px 1px 2px rgba(0,0,0,0.7)",marginBottom:a?"0":"8px"},children:a?"SET!":u}),!a&&T.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#fff",textShadow:"2px 2px 4px rgba(0,0,0,0.8)"},children:i.score}),a&&T.jsx("div",{style:{fontSize:"0.9rem",color:"#666",marginTop:"4px"},children:"Select cards!"})]})},i.name)})})})}function v0(n){const[e,t]=j.useState(null),[i,a]=j.useState(window.innerHeight),{board:u,selected:h,deck:m,declarer:g,players:v,gameOver:E,myName:S,setFound:A,solo:D,gameMode:M}=n,H=M==="shared-device";j.useEffect(()=>{const F=En.debounce(()=>{a(window.innerHeight)},150);return window.addEventListener("resize",F),function(){window.removeEventListener("resize",F)}},[]),j.useEffect(()=>{t(zu(u,{debug:!1}))},[u]);const B=(({declarer:F,players:N})=>F?En.get(N,`${F}.color`,""):En.get(N,`${S}.color`,""))(n);if(!En.isEmpty(E))return T.jsx(EI,{gameOver:E,myName:S,solo:D,reset:n.resetGame});const ee=En.map(v,(F,N)=>({name:N,...F})),te=Math.ceil(ee.length/2),he=ee.slice(0,te),Q=ee.slice(te);return T.jsxs(j.Fragment,{children:[(En.isEmpty(v)||!Object.keys(v).includes(S))&&T.jsxs(Si,{show:!0,children:[T.jsx(Si.Header,{children:T.jsx(Si.Title,{children:"Waiting to join..."})}),T.jsxs(Si.Body,{children:[T.jsx("h4",{children:"Players:"}),T.jsx("ul",{className:"collection",children:En.map(v,(F,N)=>T.jsx("li",{className:"collection-item",children:T.jsxs("span",{className:"player-name",children:[N," ",F.host&&"(host)"]})},N))})]})]}),T.jsx(r9,{...n}),T.jsxs("div",{className:"container bg-light-purple",children:[H&&T.jsx(RA,{players:he,declarer:g,handlePlayerClick:n.handlePlayerClick||(()=>{})}),T.jsxs("div",{className:"board d-flex flex-column align-items-center",children:[T.jsx("div",{className:"board-main-container",children:u.map((F,N)=>{const O=h.includes(F)?{backgroundColor:B}:{};return T.jsx("div",{className:"card-wrapper",onClick:()=>{n.handleCardClick(F)},children:T.jsx("div",{className:"card-holder",style:O,children:T.jsx("div",{className:`card ${A&&h.length===3&&!h.includes(F)?"blurry":""}`,children:T.jsx(Ei,{desc:F})})})},`${F}-${N}`)})}),!H&&!["puzzle","training"].includes(M)&&T.jsx("div",{className:"row my-1 text-center fixed-bottom",children:En.map(v,(F,N)=>T.jsx("div",{className:"col s4 m3",children:T.jsxs("span",{className:`player-name bg-${F.color}`,children:[N,": ",F.score]})},N))}),n.handleRedeal&&T.jsx("div",{className:"row mt-3",children:T.jsx("div",{className:"col mt-3 mt-md-4",children:T.jsx("button",{onClick:n.handleRedeal,className:"btn btn-primary",children:"Shuffle"})})})]}),H&&T.jsx(RA,{players:Q,declarer:g,handlePlayerClick:n.handlePlayerClick||(()=>{})})]})]})}function UI({isHost:n,players:e,setState:t,setAndSendState:i}){return En.findKey(e,a=>a.host),T.jsxs("div",{className:"container mt-4",children:[T.jsx("h4",{children:"Players:"}),T.jsx("ul",{className:"collection",children:En.map(e,(a,u)=>T.jsx("li",{className:"collection-item",children:T.jsxs("span",{className:"player-name",children:[u," ",a.host&&"(host)"]})},u))}),n?T.jsx("button",{className:"btn btn-primary",onClick:()=>{const a={gameStarted:!0};i?i(a):t(a)},children:"Start Game"}):T.jsx("p",{children:"Waiting for host to start game..."})]})}const Rb=[Is.lightBlue,Is.pink,Is.lightGreen,Is.purple,Is.amber,Is.orange,Is.errorRed],i9={colors:Rb,playingTo:6},sT=i9,s9=n=>{kf();const t=j.useRef({}).current,i=vg(),a={...Ud({deck:i.slice(12),board:i.slice(0,12)}),selected:[]},[u,h]=j.useState(void 0),[m,g]=j.useState(""),[v,E]=j.useState(void 0),[S,A]=j.useState(void 0),[D,M]=j.useState(void 0),[H,k]=j.useState({gameTitle:"",players:{},created:!1,gameStarted:!1,myName:"",setFound:!1,declarer:null,gameOver:"",...a}),B=j.useRef(H);B.current=H;const ee=me=>{k(_e=>{const Me={..._e,...me};return B.current=Me,Me})};j.useEffect(()=>{if(n&&!En.isEmpty(n.uid)){const me=NL(y_(_f,"games"),DL("creator_uid","==",n.uid));PL(me).then(function(_e){_e.forEach(function(Me){console.log(Me.id);const $={...Me.data(),gameTitle:Me.id};console.log("Old game: ",$),h($)})}).catch(function(_e){console.log("Error getting documents: ",_e)})}},[n]),j.useEffect(()=>()=>{D&&D(),S&&S(),v!==void 0&&window.clearInterval(v)},[S,D,v]);const te=me=>{const _e=y_(me,"actions");return __(_e,$=>{$.docChanges().forEach(pe=>{if(pe.type==="added"){const Ne=pe.doc.data();N(Ne),kE(vf(_e,pe.doc.id))}pe.type==="removed"&&console.log("Removed action: ",pe.doc.data())})})},he=async me=>{t.game=vf(_f,"games",me);const _e=window.setInterval(()=>{fA(t.game,{})},3e4);E(_e);const Me=te(t.game);M(()=>Me)},Q=me=>{if(!me)return{};const{players:_e}=B.current,Me=_e[me].score+1,$=gb(_e,{[me]:{$merge:{score:Me}}}),pe=Me>=sT.playingTo?me:"";return pe&&window.setTimeout(()=>{t.game&&kE(t.game),v!==void 0&&clearInterval(v)},3e3),{players:$,gameOver:pe}},F=(me,_e)=>{for(let Me=0;Me<_e.length;Me++)if(!me.includes(_e[Me]))return!1;return!0},N=me=>{const{type:_e,payload:Me}=me,{players:$,declarer:pe,board:Ne}=B.current;switch(_e){case"join":if(Object.keys($).includes(Me.name))return;const we={...$,[Me.name]:{host:!1,uid:Me.uid,score:0,color:sT.colors[Object.keys($).length]}};O({players:we});break;case"found":!pe&&F(Ne,Me.selected)&&z(Me.selected,Me.name);break;default:return}},I=(me,_e)=>{if(Lr(me)){const Me=Q(_e),$={...B.current,setFound:!1,declarer:null,...Me,...yb(B.current)};O($)}},O=me=>{console.log("updating",B.current.gameTitle),ee(me),fA(t.game,me)},z=(me,_e)=>{const Me={setFound:Lr(me),selected:me,declarer:_e};O(Me),Me.setFound&&setTimeout(()=>{I(me,_e)},4e3)};return{state:H,gameInProgress:u,handlers:{handleCardClick:me=>{const{myName:_e}=B.current;if(!B.current.declarer){const Me=p0(me,B.current.selected);Lr(Me)&&z(Me,_e),ee({selected:Me})}},handleRedeal:()=>{const me=Ud(B.current);O(me)},handleCreateGame:me=>{me.preventDefault();const{myName:_e,board:Me,deck:$,selected:pe,players:Ne,gameOver:we,gameStarted:Ue}=B.current,Ye=En.isEmpty(m)?`${_e}'s game`:m;g(Ye),t.game=vf(_f,"games",Ye),LL(t.game,{creator_uid:n==null?void 0:n.uid,players:Ne,board:Me,deck:$,selected:pe,gameOver:we,gameStarted:Ue,lastUpdate:jp()});const He=window.setInterval(()=>{t.game&&lC(t.game,{lastUpdate:jp()})},3e4);E(He);const mn=te(t.game);M(()=>mn),ee({created:!0,gameTitle:Ye})},handleSetName:me=>{me.preventDefault(),n!=null&&n.nickname&&ee({myName:n.nickname,players:{[n.nickname]:{name:n.nickname,host:!0,uid:n.uid,score:0,color:sT.colors[0]}}})},handleRejectResume:()=>{const{gameTitle:me}=u,_e=vf(_f,"games",me);kE(_e).then(()=>{console.log("Deleted old game"),h(void 0)})},reloadGame:()=>{const me=En.findKey(u.players,Me=>Me.host),{gameTitle:_e}=u;ee({gameTitle:_e}),he(_e),ee({myName:me,created:!0,...u,lastUpdate:jp()})},setGameTitle:g,setState:ee,setAndSendState:O}}},_0=({children:n,title:e})=>T.jsx("div",{className:"container mt-5",children:T.jsx("div",{className:"row justify-content-center",children:T.jsx("div",{className:"col-md-6",children:T.jsx("div",{className:"card shadow",children:T.jsxs("div",{className:"card-body text-center p-4",children:[e&&T.jsx("h4",{className:"card-title mb-4",children:e}),n]})})})})}),a9=()=>T.jsxs(_0,{title:"Sign In Required",children:[T.jsx("p",{className:"mb-4",children:"To host a game, sign in with your Google account."}),T.jsx("button",{onClick:_g,className:"btn btn-info btn-lg",children:"Sign in"})]}),o9=({onResumeGame:n,onDeleteGame:e})=>T.jsxs(_0,{title:"Existing Game Found",children:[T.jsx("p",{className:"mb-4",children:"You are already hosting a game. Would you like to return to it?"}),T.jsxs("div",{className:"d-flex gap-3 justify-content-center",children:[T.jsx("button",{className:"btn btn-primary",onClick:n,children:"Yes, Resume Game"}),T.jsx("button",{className:"btn btn-danger",onClick:e,children:"No, Delete Game"})]})]}),xb=({user:n})=>{const e=kf(),t=CC(),i=()=>{dO(Ld).then(()=>{e(cj()),localStorage.removeItem("guestUser"),localStorage.removeItem("nickname"),console.log("Signed out."),t("/")})};return!n||!n.uid?null:T.jsx("div",{className:"user-info-section",children:T.jsxs("div",{className:"d-flex justify-content-between align-items-center flex-wrap gap-2",children:[T.jsxs("div",{className:"flex-grow-1 min-width-0",children:[T.jsxs("div",{className:"user-display-name text-truncate",children:["Signed in as ",n.displayName||"User"]}),n.email&&T.jsx("div",{className:"user-email text-truncate small text-muted",children:n.email})]}),T.jsx("button",{className:"btn btn-danger btn-sm flex-shrink-0",onClick:i,style:{minWidth:"auto",fontSize:"0.75rem",padding:"0.25rem 0.5rem"},children:"Sign Out"})]})})},l9=({user:n,onSetName:e})=>{const t=kf();return T.jsxs(_0,{title:"Enter Your Nickname",children:[T.jsx(xb,{user:n}),T.jsxs("form",{onSubmit:e,children:[T.jsx("div",{className:"mb-4",children:T.jsx("input",{autoFocus:!0,placeholder:"Enter your nickname",className:"form-control form-control-lg text-center",value:(n==null?void 0:n.nickname)||"",onChange:i=>{t(_I(i.target.value)),window.localStorage.setItem("nickname",i.target.value)}})}),T.jsx("div",{className:"mb-4",children:T.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",children:"Set Nickname"})})]}),T.jsx("div",{className:"mt-4",children:T.jsx(yr,{to:"/",className:"btn btn-outline-secondary",children:"← Back to Main Menu"})})]})},u9=({myName:n,gameTitle:e,onGameTitleChange:t,onCreateGame:i})=>T.jsx(_0,{title:"Create Your Game",children:T.jsxs("form",{onSubmit:i,children:[T.jsx("div",{className:"mb-4",children:T.jsx("input",{autoFocus:!0,placeholder:`${n}'s game`,className:"form-control form-control-lg text-center",onChange:a=>t(a.target.value),value:e})}),T.jsx("div",{children:T.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",children:"Create Game"})})]})});function c9(){const n=tg(z=>z.user),{user:e,loading:t}=n,{state:i,gameInProgress:a,handlers:u}=s9(e),{board:h,deck:m,selected:g,declarer:v,players:E,created:S,gameStarted:A,myName:D,gameTitle:M,setFound:H,gameOver:k}=i,{handleCardClick:B,handleRedeal:ee,handleCreateGame:te,handleSetName:he,handleRejectResume:Q,reloadGame:F,setGameTitle:N,setState:I,setAndSendState:O}=u;return t?"Loading...":En.isEmpty(e)?T.jsx(a9,{}):a&&!S?T.jsx(o9,{onResumeGame:F,onDeleteGame:Q}):D===""?T.jsx(l9,{user:e,onSetName:he}):S?A?T.jsx(v0,{board:h,deck:m,selected:g,declarer:v,handleCardClick:B,handleDeclare:()=>{},handleRedeal:ee,players:E,setFound:H,gameOver:k,myName:D,resetGame:()=>{},solo:!1,gameMode:"versus"}):T.jsx(UI,{isHost:!0,players:E,setState:I,setAndSendState:O}):T.jsx(u9,{myName:D,gameTitle:M,onGameTitleChange:N,onCreateGame:te})}function f9(){const[n,e]=j.useState([]),[t,i]=j.useState(!1);j.useEffect(()=>{const u=y_(_f,"games"),h=__(u,m=>{const g=[];m.forEach(v=>{g.push({name:v.id,lastUpdate:v.data().lastUpdate,...v.data()})}),i(!0),e(g)});return()=>{h()}},[]);const a=n.filter(u=>{const{lastUpdate:h}=u;if(!h)return!1;const m=h.toMillis(),g=new Date().getTime();return Math.round((g-m)/1e3)<40});return t?T.jsx("div",{className:"container",style:{height:"100vh"},children:a.length===0?T.jsx(j.Fragment,{children:T.jsx("div",{className:"row",children:T.jsxs("div",{className:"col-8 col-md-6",children:[T.jsx("div",{className:"card-panel teal",style:{marginTop:window.innerHeight*.2},children:T.jsx("span",{className:"white-text",children:"There are currently no active games."})}),T.jsxs("p",{children:["Click ",T.jsx(yr,{to:"/host",children:"here"})," to host one"]}),T.jsx("p",{children:T.jsx(yr,{className:"btn btn-primary",to:"/",children:"Back"})})]})})}):T.jsxs(j.Fragment,{children:[T.jsx("h4",{className:"text-center my-4",children:"Available games"}),T.jsx("div",{className:"row align-content-center",children:a.map((u,h)=>T.jsx("div",{className:"col-6 col-md-4",children:T.jsx("div",{className:"card available-game",children:T.jsx("div",{className:"my-auto text-center",children:T.jsx(yr,{to:`/guest/${u.name}`,children:u.name})})})},u.name))}),T.jsx("div",{className:"row",children:T.jsx("div",{className:"col mt-4",children:T.jsx(yr,{className:"btn btn-primary",to:"/",children:"Back"})})})]})}):null}function h9(n){const{gameName:e}=G3(),[t,i]=j.useState({popupVisible:!1,setFound:!1,displayAnimation:!1,animatedSet:[],declarer:"",deck:[],board:[],selected:[],pending:null,gameStarted:!1,gameOver:""}),[a,u]=j.useState(""),m=j.useRef({}).current,g=j.useRef(t);g.current=t;const v=H=>{i(k=>{const B={...k,...H};return g.current=B,B})},E=()=>{const{declarer:H,selected:k}=g.current;En.isEmpty(H)&&k.length===3&&!Lr(k)&&v({selected:[]})},S=async H=>{if(!m.actions){console.error("Firebase actions reference not set.");return}console.log("Creating action on",m.actions);try{const k=await kL(m.actions,{...H,created:jp()});if(H.type==="found"){const B=k.id;console.log("Document written with ID: ",B),v({pending:B})}}catch(k){console.error("Error sending action:",k),(k.code==="permission-denied"||k.code==="unauthenticated")&&(console.log("Firebase requires authentication for write operations. Guest functionality may be limited."),v({pending:null}))}},A=H=>{const k={...H.data()},{selected:B}=g.current;if(En.isEmpty(k))return;console.log("Updating guest state with:",k),k.gameStarted!==g.current.gameStarted&&console.log(`Game started status changed: ${g.current.gameStarted} -> ${k.gameStarted}`);const ee=B.length<3&&En.isEmpty(k.declarer)?B:k.selected;console.log("New selected",ee),v({...k,selected:ee,popupVisible:!1})},D=async H=>{const{declarer:k,selected:B}=g.current;if(k)return;const ee=p0(H,B);if(ee.length>3)return;const te={};if(ee.length===3)if(Lr(ee)){const he={type:"found",payload:{selected:ee,name:a}};console.log("Found set, sending..."),await S(he),te.popupVisible=!0}else console.log("Bad set selected!"),window.setTimeout(E,1e3);v({...te,selected:ee})},M=async H=>{H.preventDefault();const k=n==null?void 0:n.nickname;if(En.isEmpty(k))return;u(k);const B={type:"join",payload:{name:k,uid:n==null?void 0:n.uid}};await S(B)};return j.useEffect(()=>{if(!e){console.error("Game name is undefined.");return}console.log("Setting up Firebase listeners for game:",e),console.log("Current Firebase auth state:",Ld.currentUser),m.game=vf(_f,"games",e);const H=__(m.game,B=>{console.log("Successfully received game update"),A(B)},B=>{console.error("Error listening to game updates:",B),B.code==="permission-denied"&&console.log("Read access denied. Firebase security rules may require authentication.")});m.actions=y_(m.game,"actions");const k=__(m.actions,B=>{console.log("Successfully received actions update"),B.docChanges().forEach(ee=>{if(ee.type==="removed"){const{pending:te}=g.current;te===ee.doc.id&&(console.log("Pending action removed!"),v({pending:null}))}})},B=>{console.error("Error listening to actions:",B),B.code==="permission-denied"&&console.log("Actions access denied. Firebase security rules may require authentication.")});return function(){m.game&&H(),m.actions&&k()}},[e]),{state:t,myName:a,handlers:{handleCardClick:D,handleSetName:M,setState:v},firebaseRefs:m}}const d9=({onGuestJoin:n})=>{const e=kf(),t=a=>{a.preventDefault();const h=a.target.nickname.value;if(!h.trim())return;const m={uid:`guest_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,nickname:h,displayName:h,isGuest:!0};localStorage.setItem("guestUser",JSON.stringify(m)),localStorage.setItem("nickname",h),e(Xv({user:m,loading:!1})),n(h)},i=()=>{localStorage.removeItem("guestUser"),_g()};return T.jsxs("div",{className:"container",children:[T.jsx("h4",{className:"mb-3",children:"Join as guest:"}),T.jsxs("form",{onSubmit:t,children:[T.jsx("div",{className:"col-12 col-md-4",children:T.jsx("input",{autoFocus:!0,type:"text",name:"nickname",placeholder:"Enter your nickname",required:!0})}),T.jsx("div",{className:"col-12 col-md-4",children:T.jsx("input",{className:"btn btn-primary mt-3 ml-md-3",type:"submit",value:"Join as Guest"})})]}),T.jsx("hr",{className:"my-4"}),T.jsx("p",{children:"Or sign in with your Google account for a persistent profile:"}),T.jsx("p",{children:T.jsx("button",{onClick:i,className:"btn btn-outline-info",children:"Sign in with Google"})}),T.jsx("p",{children:T.jsx(yr,{to:"/lobby",children:"Back"})})]})},m9=({user:n,onSetName:e})=>{const t=kf(),i=a=>{if(t(_I(a)),n!=null&&n.isGuest){const u={...n,nickname:a,displayName:a};localStorage.setItem("guestUser",JSON.stringify(u))}window.localStorage.setItem("nickname",a)};return T.jsxs("div",{className:"container",children:[T.jsx(xb,{user:n}),T.jsx("h4",{className:"mb-3",children:"Choose your nickname:"}),(n==null?void 0:n.isGuest)&&T.jsx("div",{className:"alert alert-info mb-3",children:T.jsxs("small",{children:["👋 Welcome back, ",n.nickname,"! You're playing as a guest.",T.jsx("button",{className:"btn btn-link btn-sm p-0 ms-2",onClick:()=>{localStorage.removeItem("guestUser"),_g()},children:"Sign in with Google"}),"for a permanent profile."]})}),T.jsxs("form",{onSubmit:e,children:[T.jsx("div",{className:"col-12 col-md-4",children:T.jsx("input",{autoFocus:!0,type:"text",placeholder:"your name",value:(n==null?void 0:n.nickname)||"",onChange:a=>i(a.target.value)})}),T.jsx("div",{className:"col-12 col-md-4",children:T.jsx("input",{className:"btn btn-primary mt-3 ml-md-3",type:"submit",value:"Join"})})]})]})},p9=({state:n,myName:e,onCardClick:t})=>{const{board:i,deck:a,selected:u,declarer:h,players:m,setFound:g,gameOver:v,pending:E,popupVisible:S}=n;return T.jsxs(j.Fragment,{children:[T.jsxs(Si,{show:E&&S,children:[T.jsx(Si.Header,{children:T.jsx(Si.Title,{children:"Submitting action..."})}),T.jsxs(Si.Body,{children:[T.jsx("p",{className:"text-center",children:"SET!"}),T.jsx("div",{className:"text-center",children:T.jsx(kI,{animation:"border"})})]})]}),T.jsx(v0,{board:i,deck:a,selected:u,declarer:h,handleCardClick:t,handleDeclare:()=>{},players:m||{},setFound:g,gameOver:v,myName:e,gameMode:"versus",resetGame:()=>{},solo:!1})]})};function g9(){const n=tg(S=>S.user),{user:e,loading:t}=n,{state:i,myName:a,handlers:u}=h9(e),{handleCardClick:h,handleSetName:m,setState:g}=u,{players:v,gameStarted:E}=i;return t?"Loading profile...":En.isEmpty(e)?T.jsx(d9,{onGuestJoin:()=>{}}):a?E?T.jsx(p9,{state:i,myName:a,onCardClick:h}):T.jsx(UI,{players:v||{},isHost:!1,setState:g}):T.jsx(m9,{user:e,onSetName:m})}const xf={turnTime:4e3,colors:Rb,playingTo:6,cpuDelay:1200,setDisplayTime:2e3},Io={min:1,max:8,step:1,default:2},cf=[{setsOnBoard:1,averageAttempts:21.85,medianAttempts:16,percentiles:{p25:7,p75:30,p90:50},range:{min:1,max:136}},{setsOnBoard:2,averageAttempts:10.25,medianAttempts:7,percentiles:{p25:3,p75:14,p90:23},range:{min:1,max:72}},{setsOnBoard:3,averageAttempts:7.19,medianAttempts:5,percentiles:{p25:2,p75:10,p90:16},range:{min:1,max:54}},{setsOnBoard:4,averageAttempts:5.43,medianAttempts:4,percentiles:{p25:2,p75:8,p90:12},range:{min:1,max:35}},{setsOnBoard:5,averageAttempts:4.5,medianAttempts:3,percentiles:{p25:2,p75:6,p90:9},range:{min:1,max:25}},{setsOnBoard:6,averageAttempts:3.51,medianAttempts:3,percentiles:{p25:1,p75:5,p90:7},range:{min:1,max:21}}],Cb=n=>{if(n<=1)return cf[0];if(n>=6)return cf[5];const e=cf.find(m=>m.setsOnBoard===n);if(e)return e;const t=Math.floor(n)-1,i=Math.ceil(n)-1,a=cf[t],u=cf[i];if(!a||!u)return cf[2];const h=n-a.setsOnBoard;return{setsOnBoard:n,averageAttempts:a.averageAttempts+h*(u.averageAttempts-a.averageAttempts),medianAttempts:Math.round(a.medianAttempts+h*(u.medianAttempts-a.medianAttempts)),percentiles:{p25:Math.round(a.percentiles.p25+h*(u.percentiles.p25-a.percentiles.p25)),p75:Math.round(a.percentiles.p75+h*(u.percentiles.p75-a.percentiles.p75)),p90:Math.round(a.percentiles.p90+h*(u.percentiles.p90-a.percentiles.p90))},range:{min:Math.round(a.range.min+h*(u.range.min-a.range.min)),max:Math.round(a.range.max+h*(u.range.max-a.range.max))}}},VI=(n,e=3)=>{const t={1:1.1,2:1.4,3:1.7,4:2.3,5:3.3,6:4,7:6,8:8},a=24e3/(5*(t[n]||t[2])),u=Cb(e),h=u.averageAttempts*a,m=u.medianAttempts*a,g={fast:u.percentiles.p25*a,slow:u.percentiles.p75*a};return{cpuTurnInterval:a,averageAttempts:u.averageAttempts,medianAttempts:u.medianAttempts,averageTimeSeconds:Math.round(h/1e3),medianTimeSeconds:Math.round(m/1e3),typicalRangeSeconds:{fast:Math.round(g.fast/1e3),slow:Math.round(g.slow/1e3)},performanceData:u}},bf=n=>{if(n<60)return`${n}s`;const e=Math.floor(n/60),t=n%60;return t===0?`${e}m`:`${e}m ${t}s`},E0=(n,e)=>{const t={1:1.1,2:1.4,3:1.7,4:2.3,5:3.3,6:4,7:6,8:8},i=t[n]||t[2],v=1+(Cb(e).averageAttempts/7.19-1)*.6,S=24e3/(5*(i*v));return Math.max(500,Math.min(8e3,S))},y9=({currentDifficulty:n,isOpen:e,onClose:t})=>{const[i,a]=j.useState(n),[u,h]=j.useState(3);if(!e)return null;const m=VI(i,u),{averageAttempts:g,typicalRangeSeconds:v,performanceData:E}=m,S=E0(i,u),A=E.averageAttempts*S,D=Math.round(A/1e3);return T.jsx("div",{className:"modal fade show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:T.jsx("div",{className:"modal-dialog modal-lg",children:T.jsxs("div",{className:"modal-content",children:[T.jsxs("div",{className:"modal-header",children:[T.jsxs("h5",{className:"modal-title",children:[T.jsx("i",{className:"bi bi-cpu me-2"}),"CPU Performance Analysis"]}),T.jsx("button",{type:"button",className:"btn-close",onClick:t})]}),T.jsxs("div",{className:"modal-body",children:[T.jsxs("div",{className:"row mb-4",children:[T.jsxs("div",{className:"col-md-6",children:[T.jsx("label",{className:"form-label fw-bold",children:"Difficulty Level"}),T.jsx("input",{type:"range",min:Io.min,max:Io.max,step:Io.step,value:i,onChange:M=>a(Number(M.target.value)),className:"form-range"}),T.jsx("div",{className:"text-center",children:T.jsx("span",{className:"badge bg-primary",children:i})})]}),T.jsxs("div",{className:"col-md-6",children:[T.jsx("label",{className:"form-label fw-bold",children:"Sets on Board"}),T.jsx("input",{type:"range",min:1,max:6,step:1,value:u,onChange:M=>h(Number(M.target.value)),className:"form-range"}),T.jsx("div",{className:"text-center",children:T.jsxs("span",{className:"badge bg-success",children:[u," set",u!==1?"s":""]})})]})]}),T.jsxs("div",{className:"card mb-4",children:[T.jsx("div",{className:"card-header bg-primary text-white",children:T.jsxs("h6",{className:"mb-0",children:["Analysis: Difficulty ",i," with ",u," set",u!==1?"s":""," on board"]})}),T.jsxs("div",{className:"card-body",children:[T.jsxs("div",{className:"row text-center",children:[T.jsx("div",{className:"col-md-3",children:T.jsxs("div",{className:"border rounded p-2 mb-2",children:[T.jsxs("div",{className:"fw-bold text-primary fs-5",children:[(S/1e3).toFixed(1),"s"]}),T.jsx("small",{className:"text-muted",children:"Per Attempt"})]})}),T.jsx("div",{className:"col-md-3",children:T.jsxs("div",{className:"border rounded p-2 mb-2",children:[T.jsx("div",{className:"fw-bold text-info fs-5",children:g.toFixed(1)}),T.jsx("small",{className:"text-muted",children:"Avg Attempts"})]})}),T.jsx("div",{className:"col-md-3",children:T.jsxs("div",{className:"border rounded p-2 mb-2",children:[T.jsx("div",{className:"fw-bold text-success fs-5",children:bf(D)}),T.jsx("small",{className:"text-muted",children:"Avg Time"})]})}),T.jsx("div",{className:"col-md-3",children:T.jsxs("div",{className:"border rounded p-2 mb-2",children:[T.jsxs("div",{className:"fw-bold text-warning fs-5",children:[bf(v.fast),"-",bf(v.slow)]}),T.jsx("small",{className:"text-muted",children:"Typical Range"})]})})]}),T.jsx("div",{className:"mt-3 p-2 bg-light rounded",children:T.jsxs("small",{className:"text-muted",children:[T.jsx("strong",{children:"Interpretation:"})," At difficulty ",i,", the CPU attempts to find a set every ",(S/1e3).toFixed(1)," seconds (dynamically adjusted for ",u," set",u!==1?"s":"","). It takes an average of"," ",g.toFixed(1)," attempts (",bf(D)," total) to successfully find one."]})})]})]}),T.jsx(v9,{selectedDifficulty:i}),T.jsx(_9,{performanceData:E})]}),T.jsxs("div",{className:"modal-footer",children:[T.jsx("small",{className:"text-muted me-auto",children:"Data based on 1000-trial simulations per scenario"}),T.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,children:"Close"})]})]})})})},v9=({selectedDifficulty:n})=>T.jsxs("div",{className:"card mb-4",children:[T.jsx("div",{className:"card-header",children:T.jsxs("h6",{className:"mb-0",children:["Performance Matrix: Difficulty ",n," vs Sets on Board (Dynamic Timing)"]})}),T.jsx("div",{className:"card-body",children:T.jsx("div",{className:"table-responsive",children:T.jsxs("table",{className:"table table-sm table-hover",children:[T.jsx("thead",{className:"table-light",children:T.jsxs("tr",{children:[T.jsx("th",{children:"Sets on Board"}),T.jsx("th",{children:"Avg Attempts"}),T.jsx("th",{children:"Dynamic Time/Attempt"}),T.jsx("th",{children:"Total Avg Time"}),T.jsx("th",{children:"Baseline Comparison"})]})}),T.jsx("tbody",{children:cf.map(e=>{const t=VI(n,e.setsOnBoard),i=E0(n,e.setsOnBoard),a=Math.round(t.averageAttempts*i/1e3),u=t.averageTimeSeconds,h=u>a?"faster":"slower",m=Math.abs(u-a);return T.jsxs("tr",{children:[T.jsx("td",{children:T.jsx("span",{className:"badge bg-secondary",children:e.setsOnBoard})}),T.jsx("td",{children:t.averageAttempts.toFixed(1)}),T.jsxs("td",{children:[(i/1e3).toFixed(1),"s"]}),T.jsx("td",{children:T.jsx("span",{className:"fw-bold text-primary",children:bf(a)})}),T.jsx("td",{children:T.jsx("small",{className:`text-${h==="faster"?"success":"warning"}`,children:m>0?`${m}s ${h}`:"same"})})]},e.setsOnBoard)})})]})})})]}),_9=({performanceData:n})=>T.jsxs("div",{className:"card",children:[T.jsx("div",{className:"card-header",children:T.jsx("h6",{className:"mb-0",children:"Detailed Statistics"})}),T.jsxs("div",{className:"card-body",children:[T.jsxs("div",{className:"row",children:[T.jsxs("div",{className:"col-md-6",children:[T.jsx("h6",{className:"text-muted",children:"Attempt Distribution"}),T.jsxs("ul",{className:"list-unstyled",children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Average:"})," ",n.averageAttempts.toFixed(1)," attempts"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Median:"})," ",n.medianAttempts," attempts"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"25th percentile:"})," ",n.percentiles.p25," attempts"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"75th percentile:"})," ",n.percentiles.p75," attempts"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"90th percentile:"})," ",n.percentiles.p90," attempts"]})]})]}),T.jsxs("div",{className:"col-md-6",children:[T.jsx("h6",{className:"text-muted",children:"Performance Insights"}),T.jsxs("ul",{className:"list-unstyled",children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Best case:"})," ",n.range.min," attempt",n.range.min!==1?"s":""]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Worst case:"})," ",n.range.max," attempts"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Success rate:"})," 100% (CPU always finds available sets)"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Strategy:"})," Random 2-card selection"]})]})]})]}),T.jsxs("div",{className:"mt-3 p-3 bg-info bg-opacity-10 rounded",children:[T.jsx("h6",{className:"text-info",children:"How CPU Strategy Works"}),T.jsxs("small",{className:"text-muted",children:["The CPU randomly selects 2 cards from the board, calculates what the 3rd card would need to be to complete a set, then checks if that card exists on the board. If yes, it finds the set. If no, it tries again with 2 different cards. This process repeats until a set is found.",T.jsx("br",{}),T.jsx("br",{}),T.jsx("strong",{children:"Dynamic Timing:"})," The CPU adjusts its speed based on current board conditions. When fewer sets are available (making it harder to find), the CPU attempts faster. When more sets are available (making it easier), the CPU attempts slower. A dampening factor ensures some natural difficulty variation is preserved while reducing extreme variance for better game balance."]})]})]})]}),E9=({difficulty:n,onShowDetails:e})=>{const i=[{sets:1,label:"Few"},{sets:3,label:"Normal"},{sets:6,label:"Many"}].map(m=>({...m,dynamicInterval:E0(n,m.sets),avgAttempts:Cb(m.sets).averageAttempts})).map(m=>({...m,totalTime:Math.round(m.avgAttempts*m.dynamicInterval/1e3)})),a=i.find(m=>m.sets===3),h=(m=>m<=10?{text:"Very Fast",color:"danger"}:m<=20?{text:"Fast",color:"warning"}:m<=40?{text:"Moderate",color:"info"}:m<=60?{text:"Slow",color:"secondary"}:{text:"Very Slow",color:"dark"})(a.totalTime);return T.jsx("div",{className:"mt-3 p-3 border rounded bg-light",children:T.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center gap-3",children:[T.jsxs("div",{className:"text-center flex-grow-1",children:[T.jsx("div",{className:"mb-2",children:T.jsx("small",{className:"text-muted",children:"Adaptive CPU timing:"})}),T.jsx("div",{className:"text-center",children:T.jsxs("div",{className:"d-flex d-md-flex flex-column flex-md-row justify-content-center align-items-center gap-2 mb-1",children:[T.jsx("span",{className:"fw-bold text-primary fs-5",children:bf(a.totalTime)}),T.jsx("span",{className:`badge bg-${h.color} fs-6`,title:"CPU difficulty level - adapts to board conditions",children:h.text})]})}),T.jsx("div",{className:"mt-2",children:T.jsx("div",{className:"row text-center",children:i.map(m=>T.jsxs("div",{className:"col-4",children:[T.jsx("small",{className:"text-muted d-block",children:m.label}),T.jsx("small",{className:"fw-bold",children:bf(m.totalTime)})]},m.sets))})})]}),T.jsx("div",{className:"flex-shrink-0",children:T.jsxs("button",{type:"button",onClick:e,className:"btn btn-outline-info btn-sm",title:"View detailed CPU performance analysis",children:[T.jsx("i",{className:"bi bi-graph-up me-1"}),T.jsx("span",{className:"d-none d-sm-inline",children:"Detailed Analysis"}),T.jsx("span",{className:"d-inline d-sm-none",children:"Details"})]})})]})})},T9=({user:n,difficulty:e,onDifficultyChange:t,onStartGame:i})=>{const[a,u]=j.useState(!1);return T.jsxs("div",{className:"container main-content",children:[T.jsx(xb,{user:n}),T.jsxs("div",{className:"text-center mb-4",children:[T.jsx("h3",{className:"mb-3",children:"Solo Play vs. Computer"}),T.jsx("h4",{className:"mb-4",children:"Choose difficulty level:"})]}),T.jsx("div",{className:"row justify-content-center",children:T.jsxs("div",{className:"col-12 col-md-8",children:[T.jsxs("form",{onSubmit:i,className:"mb-4",children:[T.jsxs("div",{className:"mb-4",children:[T.jsx("input",{type:"range",min:Io.min,max:Io.max,step:Io.step,value:e,onChange:h=>t(Number(h.target.value)),className:"form-range"}),T.jsx("div",{className:"text-center mt-2",children:T.jsxs("span",{className:"badge bg-primary fs-6",children:["Difficulty: ",e]})}),T.jsx(E9,{difficulty:e,onShowDetails:()=>u(!0)})]}),T.jsxs("div",{className:"text-center",children:[T.jsx("button",{type:"submit",className:"btn btn-primary btn-lg px-5",children:"Start Game"}),T.jsxs("p",{className:"mt-3 text-muted",children:["First to ",xf.playingTo," points is the winner"]})]})]}),T.jsx(w9,{})]})}),(!n||!n.uid)&&T.jsx(b9,{}),T.jsx(y9,{currentDifficulty:e,isOpen:a,onClose:()=>u(!1)})]})},w9=()=>T.jsxs("div",{className:"mt-5",children:[T.jsx("h5",{className:"mb-3 text-center",children:"Other Game Options"}),T.jsx("div",{className:"row justify-content-center",children:T.jsx("div",{className:"col-md-6",children:T.jsxs("div",{className:"d-grid gap-2",children:[T.jsx(yr,{to:"/local",className:"btn btn-outline-primary",children:"Local Multiplayer"}),T.jsx(yr,{to:"/training",className:"btn btn-outline-primary",children:"Training Mode"})]})})}),T.jsx("hr",{className:"my-4"}),T.jsx("div",{className:"text-center",children:T.jsx(yr,{to:"/",className:"btn btn-outline-secondary",children:"← Back to Main Menu"})})]}),b9=()=>T.jsx("div",{className:"row justify-content-center mt-5",children:T.jsx("div",{className:"col-12 col-md-8",children:T.jsx("div",{className:"card border-info",children:T.jsxs("div",{className:"card-body text-center",children:[T.jsx("h5",{className:"card-title",children:"Save Your Progress"}),T.jsx("p",{className:"card-text",children:"Sign in with your Google account to track your game statistics and progress."}),T.jsx("button",{onClick:()=>{const n=_g();n&&typeof n.catch=="function"&&n.catch(console.error)},className:"btn btn-info btn-lg",children:"Sign in with Google"})]})})})}),S9="_errorFlash_1v44u_1",A9="_successFlash_1v44u_1",R9="_userFlash_1v44u_1",x9="_cpuFlash_1v44u_1",Pv={errorFlash:S9,successFlash:A9,userFlash:R9,cpuFlash:x9},jI=({showCpuFlash:n=!1,showUserFlash:e=!1,showSuccessFlash:t=!1,showErrorFlash:i=!1})=>T.jsxs(T.Fragment,{children:[n&&T.jsx("div",{className:Pv.cpuFlash}),e&&T.jsx("div",{className:Pv.userFlash}),t&&T.jsx("div",{className:Pv.successFlash}),i&&T.jsx("div",{className:Pv.errorFlash})]}),nw=n=>{const e=Number.isNaN(n)?Io.default:n,t={1:1.1,2:1.4,3:1.7,4:2.3,5:3.3,6:4,7:6,8:8};return 24e3/(5*(t[e]||t[Io.default]))},xA=()=>{const n=vg(),e=[];return{...Ud({deck:n.slice(12),board:n.slice(0,12)}),selected:e}},CA=()=>({players:{you:{score:0,color:xf.colors[0],name:"you"},cpu:{score:0,color:xf.colors[1],name:"cpu"}},gameStarted:!1,myName:"you",setFound:!1,declarer:null,gameOver:null,cpuTurnInterval:nw(Io.default),startTime:new Date,deck:[],board:[],selected:[],cpuFound:[]}),IA=()=>{const n=window.localStorage.getItem("soloDifficulty");return n?Number(n):Io.default},C9=n=>{window.localStorage.setItem("soloDifficulty",n.toString())},BI=(n,e,t)=>{var u;const i=(((u=n[e])==null?void 0:u.score)||0)+t;return[gb(n,{[e]:{$merge:{score:i}}}),i]},I9=()=>({startCpuTimer:(a,u,h)=>window.setInterval(()=>{u(m=>{const{board:g,declarer:v,gameOver:E,difficulty:S}=m;if(v||E)return m;const[A,D]=En.shuffle(g).slice(0,2),M=hf(A,D);return g.includes(M)?(h(),{...m,declarer:"cpu",selected:[A],cpuFound:[D,M],setFound:!0,timeDeclared:Date.now()}):m})},(()=>{const m=zu(a.board);return E0(a.difficulty,m)})()),startCpuAnimation:(a,u)=>window.setInterval(()=>{u(h=>{const{selected:m,cpuFound:g}=h;if(!g||g.length===0)return h;const v=[...g],E=[...m,v.pop()];return E.length===3?{...h,cpuFound:v,selected:E,setFound:!0}:{...h,cpuFound:v,selected:E}})},xf.cpuDelay),startSetFoundTimer:(a,u)=>window.setTimeout(()=>{u(a.selected,a.declarer)},xf.setDisplayTime),startDeclarationTimer:(a,u)=>window.setTimeout(()=>{u(h=>{if(h.declarer&&!Lr(h.selected)){const[m]=BI(h.players,h.declarer,-.5);return{...h,players:m,declarer:null,timeDeclared:void 0,selected:[]}}return h})},xf.turnTime)}),FI=()=>{const[n,e]=j.useState(!1),[t,i]=j.useState(!1),[a,u]=j.useState(!1),[h,m]=j.useState(!1);return{showCpuFlash:n,showUserFlash:t,showSuccessFlash:a,showErrorFlash:h,triggerCpuFlash:()=>{e(!0),setTimeout(()=>e(!1),800)},triggerUserFlash:()=>{i(!0),setTimeout(()=>i(!1),800)},triggerSuccessFlash:()=>{u(!0),setTimeout(()=>u(!1),500)},triggerErrorFlash:()=>{m(!0),setTimeout(()=>m(!1),800)}}},N9=n=>{const[e,t]=j.useState(()=>({...En.cloneDeep(CA()),...xA(),difficulty:IA(),elapsedSeconds:0})),[i,a]=j.useState({actions:[]}),[u,h]=j.useState(null),{showCpuFlash:m,showUserFlash:g,triggerCpuFlash:v,triggerUserFlash:E}=FI(),{startCpuTimer:S,startCpuAnimation:A,startSetFoundTimer:D,startDeclarationTimer:M}=I9();j.useEffect(()=>{e.gameStarted&&u===null&&h(Date.now())},[e.gameStarted,u]),j.useEffect(()=>{let Q=null;return e.gameStarted&&!e.gameOver&&(Q=window.setInterval(()=>{t(F=>({...F,elapsedSeconds:Math.floor((Date.now()-F.startTime.getTime())/1e3)}))},1e3)),()=>{Q!==null&&clearInterval(Q)}},[e.gameStarted,e.gameOver]),j.useEffect(()=>{const Q=IA(),F=nw(Q);t(N=>({...N,difficulty:Q,cpuTurnInterval:F}))},[]),j.useEffect(()=>{let Q=null;return e.gameStarted&&!e.gameOver&&!e.declarer&&!e.setFound&&(Q=S(e,t,v)),()=>{Q!==null&&clearInterval(Q)}},[e.gameStarted,e.gameOver,e.declarer,e.setFound,e.board,e.difficulty]),j.useEffect(()=>{let Q=null;return e.declarer==="cpu"&&e.cpuFound&&e.cpuFound.length>0&&(Q=A(e,t)),()=>{Q!==null&&clearInterval(Q)}},[e.declarer,e.cpuFound]),j.useEffect(()=>{let Q=null;return e.setFound&&e.selected.length===3&&Lr(e.selected)&&(Q=D(e,H)),()=>{Q!==null&&clearTimeout(Q)}},[e.setFound,e.selected]),j.useEffect(()=>{let Q=null;return e.declarer&&e.timeDeclared&&!e.setFound&&(Q=M(e,t)),()=>{Q!==null&&clearTimeout(Q)}},[e.declarer,e.timeDeclared,e.setFound]);const H=(Q,F)=>{t(N=>{if(!N.setFound)return N;const I=zu(N.board),O=u&&N.timeDeclared?(N.timeDeclared-u)/1e3:0,z=F==="you"?"h":"c",G=[I,Number(O.toFixed(1)),z],W={actions:[...i.actions,G]};a(W),h(Date.now());const[q,je]=BI(N.players,F,1),Ze=je>=xf.playingTo?F:"";if(Ze){const me=n&&n.uid||"anonymous",_e=F==="you"?1:0,Me=Math.round((new Date().getTime()-N.startTime.getTime())/1e3),$=W;setTimeout(()=>{jn.post("/api/game",{uid:me,total_time:Me,player_won:_e,difficulty_level:N.difficulty,winning_score:je,data:$}).catch(()=>{})},0)}const le=yb({board:N.board,deck:N.deck,selected:Q});return{...N,...le,players:q,gameOver:Ze,setFound:!1,declarer:null,timeDeclared:void 0,selected:[]}})};return{state:e,flashState:{showCpuFlash:m,showUserFlash:g},handlers:{handleCardClick:Q=>{t(F=>{const{setFound:N,declarer:I,myName:O,selected:z}=F;if(N||I==="cpu")return F;const G=p0(Q,z);let W=I,q=F.timeDeclared;I||(W=O,q=new Date().getTime());const je=Lr(G);return je&&W===O&&E(),{...F,selected:G,declarer:W,timeDeclared:q,setFound:je}})},handleRedeal:()=>{t(Q=>({...Q,...Ud(Q)}))},resetGame:()=>{t(Q=>({...En.cloneDeep(CA()),...xA(),difficulty:Q.difficulty,cpuTurnInterval:Q.cpuTurnInterval,elapsedSeconds:0})),a({actions:[]}),h(null)},handleStartGame:Q=>{Q.preventDefault(),t(F=>({...F,gameStarted:!0,startTime:new Date,elapsedSeconds:0})),a({actions:[]}),h(null)},handleDifficultyChange:Q=>{const F=nw(Q);C9(Q),t(N=>({...N,cpuTurnInterval:F,difficulty:Q}))}}}};function D9(){const n=tg(N=>N.user),{user:e}=n,{state:t,flashState:i,handlers:a}=N9(e);j.useEffect(()=>{console.log("Solo component - user state:",e?`${e.displayName} (${e.uid})`:"No user")},[e]);const{board:u,deck:h,selected:m,declarer:g,players:v,gameStarted:E,setFound:S,gameOver:A,myName:D,difficulty:M,elapsedSeconds:H}=t,{showCpuFlash:k,showUserFlash:B}=i,{handleCardClick:ee,handleRedeal:te,resetGame:he,handleStartGame:Q,handleDifficultyChange:F}=a;return n.loading?"Loading...":E?T.jsxs(T.Fragment,{children:[T.jsx(jI,{showCpuFlash:k,showUserFlash:B}),T.jsx(v0,{board:u,deck:h,selected:m,declarer:g,handleCardClick:ee,handleDeclare:()=>{},handleRedeal:te,players:v,setFound:S,gameOver:A,myName:D,resetGame:he,solo:!0,gameMode:"versus",elapsedTime:H})]}):T.jsx(T9,{user:e,difficulty:M,onDifficultyChange:F,onStartGame:Q})}const O9="_pulse_14gl1_1",M9="_bounce_14gl1_1",Wn={"shared-device-layout":"_shared-device-layout_14gl1_3","shared-player-frame":"_shared-player-frame_14gl1_13","shared-player-frame--top":"_shared-player-frame--top_14gl1_24","shared-player-frame--bottom":"_shared-player-frame--bottom_14gl1_30","shared-player-frame__container":"_shared-player-frame__container_14gl1_36","shared-player-button":"_shared-player-button_14gl1_46","shared-player-button--active":"_shared-player-button--active_14gl1_70",pulse:O9,"shared-player-button--red":"_shared-player-button--red_14gl1_90","shared-player-button--blue":"_shared-player-button--blue_14gl1_95","shared-player-button--green":"_shared-player-button--green_14gl1_100","shared-player-button--purple":"_shared-player-button--purple_14gl1_105","shared-player-button--orange":"_shared-player-button--orange_14gl1_110","shared-player-button--yellow":"_shared-player-button--yellow_14gl1_115","shared-player-button__content":"_shared-player-button__content_14gl1_120","shared-player-button__name":"_shared-player-button__name_14gl1_128",bounce:M9,"shared-player-button__score":"_shared-player-button__score_14gl1_151","shared-game-area":"_shared-game-area_14gl1_164","shared-game-board":"_shared-game-board_14gl1_174","shared-game-board__container":"_shared-game-board__container_14gl1_183","shared-game-board__card-wrapper":"_shared-game-board__card-wrapper_14gl1_199","shared-game-board__card-holder":"_shared-game-board__card-holder_14gl1_219","shared-game-board__card":"_shared-game-board__card_14gl1_199","shared-game-board__card--blurred":"_shared-game-board__card--blurred_14gl1_245","set-counter":"_set-counter_14gl1_251","set-counter__content":"_set-counter__content_14gl1_258","set-counter__main":"_set-counter__main_14gl1_269","set-counter__number":"_set-counter__number_14gl1_273","set-counter__label":"_set-counter__label_14gl1_281"};function NA({players:n,declarer:e,handlePlayerClick:t,position:i}){return n.length===0?null:(console.log(n),T.jsx("div",{className:`${Wn["shared-player-frame"]} ${Wn[`shared-player-frame--${i}`]}`,children:T.jsx("div",{className:Wn["shared-player-frame__container"],children:n.map(a=>{const u=a.name===e,h=`Player ${parseInt(a.name)+1}`;return T.jsx("button",{className:`${Wn["shared-player-button"]} ${Wn[`shared-player-button--${a.color}`]} ${u?Wn["shared-player-button--active"]:""}`,onClick:()=>{console.log(`Player clicked: ${a.name}, declarer: ${e}`),t(a.name)},disabled:u,children:T.jsxs("div",{className:Wn["shared-player-button__content"],children:[T.jsx("div",{className:Wn["shared-player-button__name"],style:{color:u?"inherit":a.color},children:u?"SET!":h}),T.jsx("div",{className:Wn["shared-player-button__score"],children:u?"Select cards!":a.score})]})},a.name)})})}))}function P9({board:n,selected:e,setFound:t,handleCardClick:i,borderColor:a}){return T.jsx("div",{className:Wn["shared-game-board"],children:T.jsx("div",{className:Wn["shared-game-board__container"],children:n.map((u,h)=>{const g=e.includes(u)?{backgroundColor:a,border:`3px solid ${a}`,boxShadow:`0 0 20px ${a}66`}:{};return T.jsx("div",{className:Wn["shared-game-board__card-wrapper"],onClick:()=>i(u),children:T.jsx("div",{className:Wn["shared-game-board__card-holder"],style:g,children:T.jsx("div",{className:`${Wn["shared-game-board__card"]} ${t&&e.length===3&&!e.includes(u)?Wn["shared-game-board__card--blurred"]:""}`,children:T.jsx(Ei,{desc:u})})})},`${u}-${h}`)})})})}function L9({setCount:n}){return T.jsx("div",{className:Wn["set-counter"],children:T.jsx("div",{className:Wn["set-counter__content"],children:T.jsxs("div",{className:Wn["set-counter__main"],children:[T.jsx("div",{className:Wn["set-counter__number"],children:n!==null?n:"?"}),T.jsxs("div",{className:Wn["set-counter__label"],children:["SET",n!==1?"S":""]})]})})})}const Zv={declareTime:4e3,colors:Rb,playingTo:6},DA=()=>{const n=vg();return{...Ud({deck:n.slice(12),board:n.slice(0,12)}),selected:[]}},zI=n=>{const e={};for(let t=0;t<n;t++){const i=t.toString();e[i]={score:0,color:Zv.colors[t],name:i}}return e},OA={numPlayers:null,players:zI(2),gameStarted:!1,myName:"0",setFound:!1,declarer:null,timeDeclared:null,gameOver:null,selected:[]},k9=()=>{const[n,e]=j.useState(()=>({...En.cloneDeep(OA),...DA()})),t=j.useRef(null),i=O=>{e(z=>({...z,numPlayers:O,players:zI(O),gameStarted:!0}))},a=()=>{e(O=>{const{declarer:z,selected:G}=O;if(z&&!Lr(G)){const W=z,q=Math.max(0,O.players[W].score-1),je={...O.players,[W]:{...O.players[W],score:q}};return{...O,players:je,declarer:null,timeDeclared:null,selected:[]}}return O})},u=O=>{console.log(`performDeclare called with: ${O}`),e(z=>{if(console.log(`Current state declarer: ${z.declarer}`),!z.declarer){console.log(`Setting new declarer: ${O}`);const G=new Date().getTime();return t.current&&clearTimeout(t.current),t.current=window.setTimeout(()=>{console.log(`Declare timeout expired for: ${O}`),a()},Zv.declareTime),{...z,declarer:O,timeDeclared:G}}return console.log("Declarer already set, not changing"),z})},h=O=>{console.log(`Card clicked: ${O}`),console.log(`Current state - declarer: ${n.declarer}, setFound: ${n.setFound}`),e(z=>{const{setFound:G,declarer:W}=z;if(console.log(`handleCardClick - declarer: ${W}, setFound: ${G}`),!G&&W!==null){const q=p0(O,z.selected),je=Lr(q);return console.log(`New selected: ${q}, isSet: ${je}`),je&&(console.log("Valid set found! Scheduling removal..."),t.current&&(clearTimeout(t.current),t.current=null),setTimeout(()=>{g()},2e3)),{...z,selected:q,setFound:je}}else console.log(`Card click ignored - setFound: ${G}, declarer: ${W}`);return z})},m=O=>{console.log(`handlePlayerClick called with: ${O}`),console.log(`Current declarer: ${n.declarer}`),n.declarer===null?(console.log(`Setting declarer to: ${O}`),u(O)):console.log("Declarer already set, ignoring click")},g=()=>{e(O=>{const{declarer:z,selected:G}=O;if(z&&Lr(G)){const W=O.players[z].score+1,q={...O.players,[z]:{...O.players[z],score:W}},je=W>=Zv.playingTo?z:null;return{...O,players:q,gameOver:je,setFound:!1,declarer:null,timeDeclared:null,selected:[],...yb(O)}}return O})},v=()=>{t.current&&(clearTimeout(t.current),t.current=null),e({...En.cloneDeep(OA),...DA()})};j.useEffect(()=>()=>{t.current&&clearTimeout(t.current)},[]);const{board:E,deck:S,selected:A,declarer:D,players:M,numPlayers:H,setFound:k,gameOver:B}=n;if(!H)return T.jsxs("div",{className:"container mt-4",children:[T.jsxs("div",{className:"text-center mb-4",children:[T.jsx("h3",{children:"Local Multiplayer"}),T.jsx("p",{className:"text-muted",children:"Choose the number of players sharing this device"})]}),T.jsx("div",{className:"row justify-content-center",children:T.jsxs("div",{className:"col-md-8",children:[T.jsx("h4",{className:"text-center mb-4",children:"Number of Players:"}),T.jsx("div",{className:"row",children:[...Array(6).keys()].map(O=>T.jsx("div",{className:"col-4 col-md-2 mb-3",children:T.jsx("button",{onClick:()=>i(O+1),className:"btn btn-outline-primary btn-lg w-100",style:{aspectRatio:"1",fontSize:"1.5rem"},children:O+1})},`players-${O}`))})]})}),T.jsxs("div",{className:"text-center mt-4",children:[T.jsx("p",{className:"text-muted",children:'Players take turns declaring "SET!" by clicking their player area, then selecting cards.'}),T.jsxs("p",{className:"text-muted",children:["First to ",Zv.playingTo," points wins!"]})]})]});const ee=En.map(M,(O,z)=>({name:z,...O})),te=Math.ceil(ee.length/2),he=ee.slice(0,te),Q=ee.slice(te),N=D?En.get(M,`${D}.color`,""):"#007bff",I=zu(E,{debug:!1});return B?T.jsx(EI,{gameOver:B,myName:n.myName,solo:!1,reset:v}):T.jsxs("div",{className:Wn["shared-device-layout"],children:[T.jsx(NA,{players:he,declarer:D,handlePlayerClick:m,position:"top"}),T.jsxs("div",{className:Wn["shared-game-area"],children:[T.jsx(L9,{setCount:I}),T.jsx(P9,{board:E,selected:A,setFound:k,handleCardClick:h,borderColor:N})]}),T.jsx(NA,{players:Q,declarer:D,handlePlayerClick:m,position:"bottom"})]})};function U9({desc:n}){return T.jsx("div",{className:"col-4 my-2",children:T.jsx("div",{className:"card",children:T.jsx(Ei,{desc:n})})})}function V9(){const n=["0000","1210","0022","2101","0120","2011"];return T.jsxs("div",{className:"rules container",children:[T.jsx("h2",{children:"Rules of the Game"}),T.jsx("p",{children:"The object of the same is to find sets of three cards that are either the same or different along each of four dimensions."}),T.jsx("p",{children:"If that makes perfect sense to you, then go ahead and start playing. Otherwise, I will explain a bit more."}),T.jsx("p",{children:"The game starts by laying out a board with twelve cards. Here are some example cards: "}),T.jsx("div",{className:"row",children:n.map((e,t)=>T.jsx(U9,{desc:e},t))}),T.jsx("p",{children:"You'll notice that every card has four different characteristics:"}),T.jsxs("ul",{className:"browser-default",children:[T.jsx("li",{children:"color"}),T.jsx("li",{children:"number"}),T.jsx("li",{children:"shape"}),T.jsx("li",{children:"fill"})]}),T.jsx("p",{children:"and each of those characteristics has three different possibilities."}),T.jsxs("p",{children:["Three cards form a set if, for each of those four characteristics, the three cards are either ",T.jsx("em",{children:"all the same"})," or ",T.jsx("em",{children:"all different."})]}),T.jsx("p",{children:"It is easier to understand with examples, so here is an example set:"}),T.jsxs("div",{className:"row my-3",children:[T.jsx("div",{className:"col-4",children:T.jsx("div",{className:"card",children:T.jsx(Ei,{desc:"0112"})})})," ",T.jsx("div",{className:"col-4",children:T.jsx("div",{className:"card",children:T.jsx(Ei,{desc:"1111"})})}),T.jsx("div",{className:"col-4",children:T.jsx("div",{className:"card",children:T.jsx(Ei,{desc:"2110"})})})]}),T.jsx("p",{children:"Which you can describe as follows:"}),T.jsxs("ul",{className:"browser-default",children:[T.jsx("li",{children:"color - SAME"}),T.jsx("li",{children:"shape - SAME"}),T.jsx("li",{children:"number - DIFFERENT"}),T.jsx("li",{children:"fill - DIFFERENT"})]}),T.jsx("p",{children:"Therefore, the three cards form a set."}),T.jsx("p",{children:"Here is another set:"}),T.jsxs("div",{className:"row my-3",children:[T.jsx("div",{className:"col-4",children:T.jsx("div",{className:"card",children:T.jsx(Ei,{desc:"2022"})})}),T.jsx("div",{className:"col-4",children:T.jsx("div",{className:"card",children:T.jsx(Ei,{desc:"1112"})})}),T.jsx("div",{className:"col-4",children:T.jsx("div",{className:"card",children:T.jsx(Ei,{desc:"0202"})})})]}),T.jsxs("ul",{className:"browser-default",children:[T.jsx("li",{children:"color - DIFFERENT"}),T.jsx("li",{children:"shape - DIFFERENT"}),T.jsx("li",{children:"number - DIFFERENT"}),T.jsx("li",{children:"fill - SAME"})]}),T.jsx("p",{children:"This is not a set:"}),T.jsxs("div",{className:"row my-3",children:[T.jsx("div",{className:"col-4",children:T.jsx("div",{className:"card",children:T.jsx(Ei,{desc:"1220"})})}),T.jsx("div",{className:"col-4",children:T.jsx("div",{className:"card",children:T.jsx(Ei,{desc:"1110"})})}),T.jsx("div",{className:"col-4",children:T.jsx("div",{className:"card",children:T.jsx(Ei,{desc:"2000"})})})]}),T.jsxs("ul",{className:"browser-default",children:[T.jsx("li",{children:"fill - SAME"}),T.jsx("li",{children:"color - DIFFERENT"}),T.jsx("li",{children:"shape - DIFFERENT"}),T.jsx("li",{children:"number - NOT THE SAME OR DIFFERENT!"})]}),T.jsxs("p",{children:["Even though the cards have the same fill, different colors, and different shapes, the numbers are neither ",T.jsx("em",{children:"all the same"})," nor ",T.jsx("em",{children:"all different"}),", so it's not a set."]}),T.jsxs("p",{children:["It doesn't matter how many of the characteristics are the same, and how many are different, as long as for ",T.jsx("em",{children:"each"})," characteristic, the cards are all the same or all different. Here's one last example:"]}),T.jsxs("div",{className:"row my-3",children:[T.jsx("div",{className:"col-4",children:T.jsx("div",{className:"card",children:T.jsx(Ei,{desc:"1122"})})}),T.jsx("div",{className:"col-4",children:T.jsx("div",{className:"card",children:T.jsx(Ei,{desc:"0201"})})}),T.jsx("div",{className:"col-4",children:T.jsx("div",{className:"card",children:T.jsx(Ei,{desc:"2010"})})})]}),T.jsxs("ul",{className:"browser-default",children:[T.jsx("li",{children:"color - DIFFERENT"}),T.jsx("li",{children:"shape - DIFFERENT"}),T.jsx("li",{children:"number - DIFFERENT"}),T.jsx("li",{children:"fill - DIFFERENT"})]}),T.jsx("p",{children:"Each characteristic is different for all three cards, so this is a set."}),T.jsx("p",{children:T.jsx(yr,{to:"/",children:"Back Home"})})]})}function j9(){const n=tg(a=>a.user),{user:e}=n,[t,i]=j.useState(null);return kf(),j.useEffect(()=>{const a=async()=>{e!=null&&e.uid&&jn.get(`/api/user/stats/${e.uid}`).then(u=>{i(u.data)})};!n.loading&&e!==null&&a()},[n.loading,e]),n.loading?"Loading...":e===null?T.jsxs("div",{className:"container mt-4",children:[T.jsx("p",{children:"Sign in to view stats"}),T.jsx("p",{children:T.jsx("button",{onClick:_g,className:"btn btn-info",children:"Sign in"})})]}):T.jsxs("div",{className:"container mt-2 mt-md-4",children:[T.jsx("h3",{children:"Statistics"}),T.jsxs("table",{className:"table table-striped",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Difficulty"}),T.jsx("th",{children:"Games Played"}),T.jsx("th",{children:"Winning Percentage"})]})}),T.jsx("tbody",{children:t&&t.map((a,u)=>T.jsxs("tr",{children:[T.jsx("td",{children:a.difficulty_level}),T.jsx("td",{children:a.games_played}),T.jsxs("td",{children:[Math.round(100*(a.games_won/a.games_played)),"%"]})]},`stats-${u}`))})]}),T.jsx("p",{children:T.jsx(yr,{to:"/",children:"Main Menu"})})]})}const B9=({name:n})=>T.jsxs("div",{children:[T.jsxs("h1",{children:[n," Component (Placeholder)"]}),T.jsx("p",{children:"This component will be migrated from the old app."})]}),F9=()=>T.jsx(B9,{name:"Puzzle"}),z9=({show:n,onClose:e})=>{const[t,i]=j.useState("two-card-hint"),a=()=>{e(t)};return T.jsxs(Si,{show:n,onHide:()=>e("two-card-hint"),children:[T.jsx(Si.Header,{className:"justify-content-center",children:T.jsx(Si.Title,{children:"Training Mode"})}),T.jsx(Si.Body,{children:T.jsxs("div",{className:"d-flex flex-column justify-content-center",children:[T.jsx("p",{className:"my-2",children:"Choose your training mode:"}),T.jsxs("div",{className:"my-3",children:[T.jsxs("div",{className:"form-check mb-3",children:[T.jsx("input",{className:"form-check-input",type:"radio",name:"trainingMode",id:"twoCardHint",checked:t==="two-card-hint",onChange:()=>i("two-card-hint")}),T.jsxs("label",{className:"form-check-label",htmlFor:"twoCardHint",children:[T.jsx("strong",{children:"Two Card Hint"}),T.jsx("br",{}),T.jsx("small",{children:"Find the one card that completes a set with the two highlighted cards."})]})]}),T.jsxs("div",{className:"form-check",children:[T.jsx("input",{className:"form-check-input",type:"radio",name:"trainingMode",id:"oneCardHint",checked:t==="one-card-hint",onChange:()=>i("one-card-hint")}),T.jsxs("label",{className:"form-check-label",htmlFor:"oneCardHint",children:[T.jsx("strong",{children:"One Card Hint"}),T.jsx("br",{}),T.jsx("small",{children:"Find the two cards that complete a set with the one highlighted card."})]})]})]}),T.jsx("p",{className:"my-2",children:"Try to keep finding SETs for as long as you can!"})]})}),T.jsx(Si.Footer,{children:T.jsx("div",{className:"d-flex justify-content-center",children:T.jsx(Tb,{onClick:a,variant:"primary",children:"Let's Go!"})})})]})},ra={initialTurnTime:7e3,minimumTurnTime:1600,oneCardHintInitialTurnTime:1e4,oneCardHintMinimumTurnTime:3e3,boardSize:8,timerUpdateInterval:100,gameOverDelay:2500,setFoundDelay:650},Bp={highScore:"highScoreTraining",twoCardHintHighScore:"highScoreTraining_twoCardHint",oneCardHintHighScore:"highScoreTraining_oneCardHint"},_d=n=>n==="two-card-hint"?Bp.twoCardHintHighScore:Bp.oneCardHintHighScore,H9=()=>{const n=localStorage.getItem(Bp.highScore),e=localStorage.getItem(Bp.twoCardHintHighScore);n&&!e&&localStorage.setItem(Bp.twoCardHintHighScore,n)},q9=({show:n,finalScore:e,mode:t,onRestart:i})=>{const a=_d(t),u=localStorage.getItem(a)||"0",h=t==="two-card-hint"?"Two Card Hint":"One Card Hint";return T.jsxs(Si,{show:n,onHide:i,children:[T.jsxs(Si.Body,{children:[T.jsx("h3",{className:"text-center mt-3",children:"GAME OVER!"}),T.jsxs("div",{className:"d-flex flex-column justify-content-center",children:[T.jsxs("p",{className:"text-center my-1",children:["Mode: ",h]}),T.jsxs("p",{className:"text-center my-2",children:["Final Score: ",e]}),T.jsxs("p",{className:"text-center my-2",children:["Best Score: ",u]})]})]}),T.jsxs(Si.Footer,{children:[T.jsx("button",{className:"btn btn-primary",onClick:i,children:T.jsx(yr,{style:{color:"white",textDecoration:"none"},to:"/",children:"Main Menu"})}),T.jsx(Tb,{onClick:i,variant:"secondary",children:"Restart"})]})]})},G9=()=>{const[n,e]=j.useState({board:[],selected:[],score:0,gameStartTime:Date.now(),turnStartTime:Date.now(),gameOver:!0,showModal:!1,setFound:!1,initialized:!1,mode:"two-card-hint"}),t=j.useCallback(({select:E=!0,mode:S="two-card-hint"}={})=>{const{board:A}=yj({boardSize:ra.boardSize,commonTraits:null});if(S==="two-card-hint"){const D=[...A.slice(0,2),"0333",...A.slice(2,8)],M=E?A.slice(0,2):[];return{board:D,selected:M}}else{const D=A[0],M=A[1],H=hf(D,M),ee=A.slice(1).filter(N=>N!==M&&N!==H).slice(0,4),he=[...[M,H,...ee]].sort(()=>Math.random()-.5),Q=[D,"0333","0333",...he],F=E?[D]:[];return(!he.includes(M)||!he.includes(H))&&console.error("Generated board does not contain the complete set!"),{board:Q,selected:F}}},[]),i=j.useCallback(()=>{H9();const{board:E,selected:S}=t({select:!1}),A=Date.now();e({board:E,selected:S,score:0,gameStartTime:A,turnStartTime:A,gameOver:!0,showModal:!1,setFound:!1,initialized:!1,mode:"two-card-hint"})},[t]),a=j.useCallback(E=>{e(S=>({...S,turnStartTime:Date.now(),setFound:!1}))},[]),u=j.useCallback((E,S,A)=>{e(D=>{if(D.selected.length===3||D.gameOver||E==="0333"||D.selected.includes(E))return D;const M=[...D.selected,E];if(D.mode==="one-card-hint"&&D.selected.length===1){const H=hf(D.selected[0],E),k=D.board.filter(B=>B!=="0333");if(!k.includes(H)){A();const B=D.board[0];let ee=[B];for(let F=1;F<k.length;F++){for(let N=F+1;N<k.length;N++){const I=k[F],O=k[N],z=[B,I,O];if(Lr(z)){ee=z;break}}if(ee.length===3)break}const te=_d(D.mode);Number(localStorage.getItem(te)||"0")<D.score&&localStorage.setItem(te,D.score.toString());const Q={...D,gameOver:!0,selected:ee};return setTimeout(()=>{e(F=>({...F,showModal:!0}))},ra.gameOverDelay),Q}}if(Lr(M)){S();const H=D.score+1,k={...D,selected:M,score:H,setFound:!0};return setTimeout(()=>{const{board:B,selected:ee}=t({mode:D.mode});e(te=>({...te,board:B,selected:ee,setFound:!1,turnStartTime:Date.now()}))},ra.setFoundDelay),k}else if(D.mode==="two-card-hint"&&M.length===3){A();const H=hf(D.selected[0],D.selected[1]),k=_d(D.mode);Number(localStorage.getItem(k)||"0")<D.score&&localStorage.setItem(k,D.score.toString());const ee={...D,gameOver:!0,selected:[...D.selected,H]};return setTimeout(()=>{e(te=>({...te,showModal:!0}))},ra.gameOverDelay),ee}else if(D.mode==="one-card-hint"&&M.length>=2){if(M.length===2){const H=hf(M[0],M[1]),k=D.board.filter(B=>B!=="0333");if(k.includes(H))return{...D,selected:M};{A();const B=D.board[0];let ee=[B];for(let F=1;F<k.length;F++){for(let N=F+1;N<k.length;N++){const I=k[F],O=k[N],z=[B,I,O];if(Lr(z)){ee=z;break}}if(ee.length===3)break}const te=_d(D.mode);Number(localStorage.getItem(te)||"0")<D.score&&localStorage.setItem(te,D.score.toString());const Q={...D,gameOver:!0,selected:ee};return setTimeout(()=>{e(F=>({...F,showModal:!0}))},ra.gameOverDelay),Q}}else if(M.length===3){if(Lr(M))return{...D,selected:M};{A();const H=D.board[0],k=D.board.filter(Q=>Q!=="0333");let B=[H];for(let Q=1;Q<k.length;Q++){for(let F=Q+1;F<k.length;F++){const N=k[Q],I=k[F],O=[H,N,I];if(Lr(O)){B=O;break}}if(B.length===3)break}const ee=_d(D.mode);Number(localStorage.getItem(ee)||"0")<D.score&&localStorage.setItem(ee,D.score.toString());const he={...D,gameOver:!0,selected:B};return setTimeout(()=>{e(Q=>({...Q,showModal:!0}))},ra.gameOverDelay),he}}}else return{...D,selected:M}})},[t]),h=j.useCallback(()=>{e(E=>{let S=E.selected;if(E.mode==="two-card-hint")if(E.selected.length>=2){const H=hf(E.selected[0],E.selected[1]);S=[...E.selected,H]}else S=E.selected;else{const H=E.board[0],k=E.board.filter(ee=>ee!=="0333");let B=[H];for(let ee=1;ee<k.length;ee++){for(let te=ee+1;te<k.length;te++){const he=k[ee],Q=k[te],F=[H,he,Q];if(Lr(F)){B=F;break}}if(B.length===3)break}S=B}const A=_d(E.mode);Number(localStorage.getItem(A)||"0")<E.score&&localStorage.setItem(A,E.score.toString());const M={...E,gameOver:!0,selected:S};return setTimeout(()=>{e(H=>({...H,showModal:!0}))},ra.gameOverDelay),M})},[]),m=j.useCallback(()=>{e(E=>{const{board:S,selected:A}=t({mode:E.mode}),D=Date.now();return{board:S,selected:A,score:0,gameStartTime:D,turnStartTime:D,gameOver:!1,showModal:!1,setFound:!1,initialized:!0,mode:E.mode}})},[t]),g=j.useCallback(E=>{const{board:S,selected:A}=t({mode:E}),D=Date.now();e(M=>({...M,board:S,selected:A,gameOver:!1,initialized:!0,gameStartTime:D,turnStartTime:D,mode:E}))},[t]),v=j.useMemo(()=>({initializeGame:i,handleCardClick:u,handleGameOver:h,resetGame:m,startInitialGame:g,startTurn:a}),[i,u,h,m,g,a]);return{gameState:n,actions:v}},$9=({gameStartTime:n,turnStartTime:e,score:t,gameOver:i,setFound:a,initialized:u,mode:h,onTimeUp:m})=>{const[g,v]=j.useState(0),[E,S]=j.useState(0),A=(D,M)=>{const H=M==="one-card-hint"?{initial:ra.oneCardHintInitialTurnTime,minimum:ra.oneCardHintMinimumTurnTime}:{initial:ra.initialTurnTime,minimum:ra.minimumTurnTime},k=Math.round(H.initial-1100*Math.log2(D+1));return Math.max(k,H.minimum)};return j.useEffect(()=>{let D=null;return!i&&!a&&u&&(D=window.setInterval(()=>{const M=Date.now(),H=Math.round((M-n)/1e3),k=M-e,B=A(t,h)-k;v(H),S(Math.max(0,Math.round(B/1e3*10)/10)),B<=0&&!a&&m()},ra.timerUpdateInterval)),()=>{D!==null&&clearInterval(D)}},[i,a,u,n,e,t,h,m]),{elapsedTime:g,timeRemaining:E,calculateTurnTime:A}},K9=()=>{const{gameState:n,actions:e}=G9(),{showSuccessFlash:t,showErrorFlash:i,triggerSuccessFlash:a,triggerErrorFlash:u}=FI(),h=()=>{e.handleGameOver(),u()},{elapsedTime:m,timeRemaining:g}=$9({gameStartTime:n.gameStartTime,turnStartTime:n.turnStartTime,score:n.score,gameOver:n.gameOver,setFound:n.setFound,initialized:n.initialized,mode:n.mode,onTimeUp:h});j.useEffect(()=>{e.initializeGame()},[]);const v=S=>{n.gameOver||n.mode==="two-card-hint"&&n.selected.length===3||n.mode==="one-card-hint"&&n.selected.length===3||e.handleCardClick(S,()=>a(),()=>u())},E={you:{name:"you",score:n.score,color:n.gameOver?Is.errorRed:Is.lightBlue}};return T.jsxs(j.Fragment,{children:[T.jsx(jI,{showSuccessFlash:t,showErrorFlash:i}),T.jsx("div",{className:"d-flex flex-column justify-content-between",children:T.jsx("div",{children:T.jsx(v0,{board:n.board,deck:[],selected:n.selected,declarer:null,handleCardClick:v,handleDeclare:()=>{},players:E,setFound:!1,gameOver:n.gameOver,myName:"you",resetGame:()=>{},solo:!0,gameMode:"training",elapsedTime:m,timeLeft:g})})}),T.jsx(z9,{show:!n.initialized,onClose:e.startInitialGame}),T.jsx(q9,{show:n.initialized&&n.gameOver&&n.showModal,finalScore:n.score,mode:n.mode,onRestart:e.resetGame})]})},Y9=Lk([{element:T.jsx(hj,{}),children:[{path:"/",element:T.jsx(kj,{})},{path:"/host",element:T.jsx(c9,{})},{path:"/lobby",element:T.jsx(f9,{})},{path:"/guest/:gameName",element:T.jsx(g9,{})},{path:"/solo",element:T.jsx(D9,{})},{path:"/local",element:T.jsx(k9,{})},{path:"/rules",element:T.jsx(V9,{})},{path:"/stats",element:T.jsx(j9,{})},{path:"/puzzle",element:T.jsx(F9,{})},{path:"/training",element:T.jsx(K9,{})}]}]);function W9(){return T.jsx(Kk,{router:Y9})}const Q9=YV({reducer:{user:fj}});async function X9(){console.log("🔄 Initializing app...");try{await new Promise(n=>setTimeout(n,100)),localStorage.removeItem("redirectInitiated"),localStorage.removeItem("preRedirectUrl"),localStorage.removeItem("authError"),console.log("🔄 Current auth user:",Ld.currentUser),console.log("🔄 Firebase initialized and ready")}catch(n){console.error("❌ App initialization error:",n)}_N.createRoot(document.getElementById("root")).render(T.jsx(PN,{store:Q9,children:T.jsx(W9,{})}))}X9();
