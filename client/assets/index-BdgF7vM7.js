(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(a){if(a.ep)return;a.ep=!0;const u=t(a);fetch(a.href,u)}})();var vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fE={exports:{}},mp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sb;function nN(){if(Sb)return mp;Sb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,u){var h=null;if(u!==void 0&&(h=""+u),a.key!==void 0&&(h=""+a.key),"key"in a){u={};for(var m in a)m!=="key"&&(u[m]=a[m])}else u=a;return a=u.ref,{$$typeof:n,type:i,key:h,ref:a!==void 0?a:null,props:u}}return mp.Fragment=e,mp.jsx=t,mp.jsxs=t,mp}var Ab;function rN(){return Ab||(Ab=1,fE.exports=nN()),fE.exports}var b=rN(),hE={exports:{}},pp={},dE={exports:{}},mE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function iN(){return Rb||(Rb=1,function(n){function e(se,me){var _e=se.length;se.push(me);e:for(;0<_e;){var Pe=_e-1>>>1,G=se[Pe];if(0<a(G,me))se[Pe]=me,se[_e]=G,_e=Pe;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var me=se[0],_e=se.pop();if(_e!==me){se[0]=_e;e:for(var Pe=0,G=se.length,pe=G>>>1;Pe<pe;){var Ne=2*(Pe+1)-1,we=se[Ne],je=Ne+1,We=se[je];if(0>a(we,_e))je<G&&0>a(We,we)?(se[Pe]=We,se[je]=_e,Pe=je):(se[Pe]=we,se[Ne]=_e,Pe=Ne);else if(je<G&&0>a(We,_e))se[Pe]=We,se[je]=_e,Pe=je;else break e}}return me}function a(se,me){var _e=se.sortIndex-me.sortIndex;return _e!==0?_e:se.id-me.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();n.unstable_now=function(){return h.now()-m}}var g=[],v=[],E=1,S=null,A=3,N=!1,O=!1,H=!1,V=!1,j=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function he(se){for(var me=t(v);me!==null;){if(me.callback===null)i(v);else if(me.startTime<=se)i(v),me.sortIndex=me.expirationTime,e(g,me);else break;me=t(v)}}function ne(se){if(H=!1,he(se),!O)if(t(g)!==null)O=!0,z||(z=!0,Q());else{var me=t(v);me!==null&&ke(ne,me.startTime-se)}}var z=!1,D=-1,I=5,L=-1;function q(){return V?!0:!(n.unstable_now()-L<I)}function K(){if(V=!1,z){var se=n.unstable_now();L=se;var me=!0;try{e:{O=!1,H&&(H=!1,ee(D),D=-1),N=!0;var _e=A;try{t:{for(he(se),S=t(g);S!==null&&!(S.expirationTime>se&&q());){var Pe=S.callback;if(typeof Pe=="function"){S.callback=null,A=S.priorityLevel;var G=Pe(S.expirationTime<=se);if(se=n.unstable_now(),typeof G=="function"){S.callback=G,he(se),me=!0;break t}S===t(g)&&i(g),he(se)}else i(g);S=t(g)}if(S!==null)me=!0;else{var pe=t(v);pe!==null&&ke(ne,pe.startTime-se),me=!1}}break e}finally{S=null,A=_e,N=!1}me=void 0}}finally{me?Q():z=!1}}}var Q;if(typeof Z=="function")Q=function(){Z(K)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Me=F.port2;F.port1.onmessage=K,Q=function(){Me.postMessage(null)}}else Q=function(){j(K,0)};function ke(se,me){D=j(function(){se(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(se){switch(A){case 1:case 2:case 3:var me=3;break;default:me=A}var _e=A;A=me;try{return se()}finally{A=_e}},n.unstable_requestPaint=function(){V=!0},n.unstable_runWithPriority=function(se,me){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var _e=A;A=se;try{return me()}finally{A=_e}},n.unstable_scheduleCallback=function(se,me,_e){var Pe=n.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Pe+_e:Pe):_e=Pe,se){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=_e+G,se={id:E++,callback:me,priorityLevel:se,startTime:_e,expirationTime:G,sortIndex:-1},_e>Pe?(se.sortIndex=_e,e(v,se),t(g)===null&&se===t(v)&&(H?(ee(D),D=-1):H=!0,ke(ne,_e-Pe))):(se.sortIndex=G,e(g,se),O||N||(O=!0,z||(z=!0,Q()))),se},n.unstable_shouldYield=q,n.unstable_wrapCallback=function(se){var me=A;return function(){var _e=A;A=me;try{return se.apply(this,arguments)}finally{A=_e}}}}(mE)),mE}var xb;function sN(){return xb||(xb=1,dE.exports=iN()),dE.exports}var pE={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cb;function aN(){if(Cb)return Tt;Cb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function A(G){return G===null||typeof G!="object"?null:(G=S&&G[S]||G["@@iterator"],typeof G=="function"?G:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,H={};function V(G,pe,Ne){this.props=G,this.context=pe,this.refs=H,this.updater=Ne||N}V.prototype.isReactComponent={},V.prototype.setState=function(G,pe){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,pe,"setState")},V.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function j(){}j.prototype=V.prototype;function ee(G,pe,Ne){this.props=G,this.context=pe,this.refs=H,this.updater=Ne||N}var Z=ee.prototype=new j;Z.constructor=ee,O(Z,V.prototype),Z.isPureReactComponent=!0;var he=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function D(G,pe,Ne,we,je,We){return Ne=We.ref,{$$typeof:n,type:G,key:pe,ref:Ne!==void 0?Ne:null,props:We}}function I(G,pe){return D(G.type,pe,void 0,void 0,void 0,G.props)}function L(G){return typeof G=="object"&&G!==null&&G.$$typeof===n}function q(G){var pe={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(Ne){return pe[Ne]})}var K=/\/+/g;function Q(G,pe){return typeof G=="object"&&G!==null&&G.key!=null?q(""+G.key):pe.toString(36)}function F(){}function Me(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(F,F):(G.status="pending",G.then(function(pe){G.status==="pending"&&(G.status="fulfilled",G.value=pe)},function(pe){G.status==="pending"&&(G.status="rejected",G.reason=pe)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function ke(G,pe,Ne,we,je){var We=typeof G;(We==="undefined"||We==="boolean")&&(G=null);var qe=!1;if(G===null)qe=!0;else switch(We){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(G.$$typeof){case n:case e:qe=!0;break;case E:return qe=G._init,ke(qe(G._payload),pe,Ne,we,je)}}if(qe)return je=je(G),qe=we===""?"."+Q(G,0):we,he(je)?(Ne="",qe!=null&&(Ne=qe.replace(K,"$&/")+"/"),ke(je,pe,Ne,"",function(Mn){return Mn})):je!=null&&(L(je)&&(je=I(je,Ne+(je.key==null||G&&G.key===je.key?"":(""+je.key).replace(K,"$&/")+"/")+qe)),pe.push(je)),1;qe=0;var mn=we===""?".":we+":";if(he(G))for(var Nt=0;Nt<G.length;Nt++)we=G[Nt],We=mn+Q(we,Nt),qe+=ke(we,pe,Ne,We,je);else if(Nt=A(G),typeof Nt=="function")for(G=Nt.call(G),Nt=0;!(we=G.next()).done;)we=we.value,We=mn+Q(we,Nt++),qe+=ke(we,pe,Ne,We,je);else if(We==="object"){if(typeof G.then=="function")return ke(Me(G),pe,Ne,we,je);throw pe=String(G),Error("Objects are not valid as a React child (found: "+(pe==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":pe)+"). If you meant to render a collection of children, use an array instead.")}return qe}function se(G,pe,Ne){if(G==null)return G;var we=[],je=0;return ke(G,we,"","",function(We){return pe.call(Ne,We,je++)}),we}function me(G){if(G._status===-1){var pe=G._result;pe=pe(),pe.then(function(Ne){(G._status===0||G._status===-1)&&(G._status=1,G._result=Ne)},function(Ne){(G._status===0||G._status===-1)&&(G._status=2,G._result=Ne)}),G._status===-1&&(G._status=0,G._result=pe)}if(G._status===1)return G._result.default;throw G._result}var _e=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var pe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(pe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function Pe(){}return Tt.Children={map:se,forEach:function(G,pe,Ne){se(G,function(){pe.apply(this,arguments)},Ne)},count:function(G){var pe=0;return se(G,function(){pe++}),pe},toArray:function(G){return se(G,function(pe){return pe})||[]},only:function(G){if(!L(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Tt.Component=V,Tt.Fragment=t,Tt.Profiler=a,Tt.PureComponent=ee,Tt.StrictMode=i,Tt.Suspense=g,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return ne.H.useMemoCache(G)}},Tt.cache=function(G){return function(){return G.apply(null,arguments)}},Tt.cloneElement=function(G,pe,Ne){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var we=O({},G.props),je=G.key,We=void 0;if(pe!=null)for(qe in pe.ref!==void 0&&(We=void 0),pe.key!==void 0&&(je=""+pe.key),pe)!z.call(pe,qe)||qe==="key"||qe==="__self"||qe==="__source"||qe==="ref"&&pe.ref===void 0||(we[qe]=pe[qe]);var qe=arguments.length-2;if(qe===1)we.children=Ne;else if(1<qe){for(var mn=Array(qe),Nt=0;Nt<qe;Nt++)mn[Nt]=arguments[Nt+2];we.children=mn}return D(G.type,je,void 0,void 0,We,we)},Tt.createContext=function(G){return G={$$typeof:h,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:u,_context:G},G},Tt.createElement=function(G,pe,Ne){var we,je={},We=null;if(pe!=null)for(we in pe.key!==void 0&&(We=""+pe.key),pe)z.call(pe,we)&&we!=="key"&&we!=="__self"&&we!=="__source"&&(je[we]=pe[we]);var qe=arguments.length-2;if(qe===1)je.children=Ne;else if(1<qe){for(var mn=Array(qe),Nt=0;Nt<qe;Nt++)mn[Nt]=arguments[Nt+2];je.children=mn}if(G&&G.defaultProps)for(we in qe=G.defaultProps,qe)je[we]===void 0&&(je[we]=qe[we]);return D(G,We,void 0,void 0,null,je)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(G){return{$$typeof:m,render:G}},Tt.isValidElement=L,Tt.lazy=function(G){return{$$typeof:E,_payload:{_status:-1,_result:G},_init:me}},Tt.memo=function(G,pe){return{$$typeof:v,type:G,compare:pe===void 0?null:pe}},Tt.startTransition=function(G){var pe=ne.T,Ne={};ne.T=Ne;try{var we=G(),je=ne.S;je!==null&&je(Ne,we),typeof we=="object"&&we!==null&&typeof we.then=="function"&&we.then(Pe,_e)}catch(We){_e(We)}finally{ne.T=pe}},Tt.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},Tt.use=function(G){return ne.H.use(G)},Tt.useActionState=function(G,pe,Ne){return ne.H.useActionState(G,pe,Ne)},Tt.useCallback=function(G,pe){return ne.H.useCallback(G,pe)},Tt.useContext=function(G){return ne.H.useContext(G)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(G,pe){return ne.H.useDeferredValue(G,pe)},Tt.useEffect=function(G,pe,Ne){var we=ne.H;if(typeof Ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return we.useEffect(G,pe)},Tt.useId=function(){return ne.H.useId()},Tt.useImperativeHandle=function(G,pe,Ne){return ne.H.useImperativeHandle(G,pe,Ne)},Tt.useInsertionEffect=function(G,pe){return ne.H.useInsertionEffect(G,pe)},Tt.useLayoutEffect=function(G,pe){return ne.H.useLayoutEffect(G,pe)},Tt.useMemo=function(G,pe){return ne.H.useMemo(G,pe)},Tt.useOptimistic=function(G,pe){return ne.H.useOptimistic(G,pe)},Tt.useReducer=function(G,pe,Ne){return ne.H.useReducer(G,pe,Ne)},Tt.useRef=function(G){return ne.H.useRef(G)},Tt.useState=function(G){return ne.H.useState(G)},Tt.useSyncExternalStore=function(G,pe,Ne){return ne.H.useSyncExternalStore(G,pe,Ne)},Tt.useTransition=function(){return ne.H.useTransition()},Tt.version="19.1.0",Tt}var Ib;function I_(){return Ib||(Ib=1,pE.exports=aN()),pE.exports}var gE={exports:{}},gi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb;function oN(){if(Nb)return gi;Nb=1;var n=I_();function e(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)v+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(g,v,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:S==null?null:""+S,children:g,containerInfo:v,implementation:E}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return gi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gi.createPortal=function(g,v){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return u(g,v,null,E)},gi.flushSync=function(g){var v=h.T,E=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=v,i.p=E,i.d.f()}},gi.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,i.d.C(g,v))},gi.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},gi.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var E=v.as,S=m(E,v.crossOrigin),A=typeof v.integrity=="string"?v.integrity:void 0,N=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;E==="style"?i.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:A,fetchPriority:N}):E==="script"&&i.d.X(g,{crossOrigin:S,integrity:A,fetchPriority:N,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},gi.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var E=m(v.as,v.crossOrigin);i.d.M(g,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&i.d.M(g)},gi.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var E=v.as,S=m(E,v.crossOrigin);i.d.L(g,E,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},gi.preloadModule=function(g,v){if(typeof g=="string")if(v){var E=m(v.as,v.crossOrigin);i.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else i.d.m(g)},gi.requestFormReset=function(g){i.d.r(g)},gi.unstable_batchedUpdates=function(g,v){return g(v)},gi.useFormState=function(g,v,E){return h.H.useFormState(g,v,E)},gi.useFormStatus=function(){return h.H.useHostTransitionStatus()},gi.version="19.1.0",gi}var Db;function AA(){if(Db)return gE.exports;Db=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gE.exports=oN(),gE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function lN(){if(Ob)return pp;Ob=1;var n=sN(),e=I_(),t=AA();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function u(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function h(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function m(r){if(u(r)!==r)throw Error(i(188))}function g(r){var s=r.alternate;if(!s){if(s=u(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,f=s;;){var p=o.return;if(p===null)break;var _=p.alternate;if(_===null){if(f=p.return,f!==null){o=f;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===o)return m(p),r;if(_===f)return m(p),s;_=_.sibling}throw Error(i(188))}if(o.return!==f.return)o=p,f=_;else{for(var x=!1,P=p.child;P;){if(P===o){x=!0,o=p,f=_;break}if(P===f){x=!0,f=p,o=_;break}P=P.sibling}if(!x){for(P=_.child;P;){if(P===o){x=!0,o=_,f=p;break}if(P===f){x=!0,f=_,o=p;break}P=P.sibling}if(!x)throw Error(i(189))}}if(o.alternate!==f)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function v(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=v(r),s!==null)return s;r=r.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function Q(r){return r===null||typeof r!="object"?null:(r=K&&r[K]||r["@@iterator"],typeof r=="function"?r:null)}var F=Symbol.for("react.client.reference");function Me(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===F?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case V:return"Profiler";case H:return"StrictMode";case ne:return"Suspense";case z:return"SuspenseList";case L:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case N:return"Portal";case Z:return(r.displayName||"Context")+".Provider";case ee:return(r._context.displayName||"Context")+".Consumer";case he:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return s=r.displayName||null,s!==null?s:Me(r.type)||"Memo";case I:s=r._payload,r=r._init;try{return Me(r(s))}catch{}}return null}var ke=Array.isArray,se=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Pe=[],G=-1;function pe(r){return{current:r}}function Ne(r){0>G||(r.current=Pe[G],Pe[G]=null,G--)}function we(r,s){G++,Pe[G]=r.current,r.current=s}var je=pe(null),We=pe(null),qe=pe(null),mn=pe(null);function Nt(r,s){switch(we(qe,s),we(We,r),we(je,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?In(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=In(s),r=Dn(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Ne(je),we(je,r)}function Mn(){Ne(je),Ne(We),Ne(qe)}function Zt(r){r.memoizedState!==null&&we(mn,r);var s=je.current,o=Dn(s,r.type);s!==o&&(we(We,r),we(je,o))}function Sn(r){We.current===r&&(Ne(je),Ne(We)),mn.current===r&&(Ne(mn),gu._currentValue=_e)}var qn=Object.prototype.hasOwnProperty,Ar=n.unstable_scheduleCallback,Wt=n.unstable_cancelCallback,Dt=n.unstable_shouldYield,us=n.unstable_requestPaint,an=n.unstable_now,ja=n.unstable_getCurrentPriorityLevel,sa=n.unstable_ImmediatePriority,Wr=n.unstable_UserBlockingPriority,Bn=n.unstable_NormalPriority,yr=n.unstable_LowPriority,vr=n.unstable_IdlePriority,cs=n.log,Qr=n.unstable_setDisableYieldValue,Ge=null,it=null;function An(r){if(typeof cs=="function"&&Qr(r),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(Ge,r)}catch{}}var Pn=Math.clz32?Math.clz32:Vi,Ba=Math.log,Xr=Math.LN2;function Vi(r){return r>>>=0,r===0?32:31-(Ba(r)/Xr|0)|0}var ji=256,Bi=4194304;function Pr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function fs(r,s,o){var f=r.pendingLanes;if(f===0)return 0;var p=0,_=r.suspendedLanes,x=r.pingedLanes;r=r.warmLanes;var P=f&134217727;return P!==0?(f=P&~_,f!==0?p=Pr(f):(x&=P,x!==0?p=Pr(x):o||(o=P&~r,o!==0&&(p=Pr(o))))):(P=f&~_,P!==0?p=Pr(P):x!==0?p=Pr(x):o||(o=f&~r,o!==0&&(p=Pr(o)))),p===0?0:s!==0&&s!==p&&(s&_)===0&&(_=p&-p,o=s&-s,_>=o||_===32&&(o&4194048)!==0)?s:p}function Zr(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Fa(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aa(){var r=ji;return ji<<=1,(ji&4194048)===0&&(ji=256),r}function Do(){var r=Bi;return Bi<<=1,(Bi&62914560)===0&&(Bi=4194304),r}function bi(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Fi(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function za(r,s,o,f,p,_){var x=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var P=r.entanglements,Y=r.expirationTimes,ce=r.hiddenUpdates;for(o=x&~o;0<o;){var Te=31-Pn(o),Re=1<<Te;P[Te]=0,Y[Te]=-1;var de=ce[Te];if(de!==null)for(ce[Te]=null,Te=0;Te<de.length;Te++){var fe=de[Te];fe!==null&&(fe.lane&=-536870913)}o&=~Re}f!==0&&Lr(r,f,0),_!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=_&~(x&~s))}function Lr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var f=31-Pn(s);r.entangledLanes|=s,r.entanglements[f]=r.entanglements[f]|1073741824|o&4194090}function Os(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var f=31-Pn(o),p=1<<f;p&s|r[f]&s&&(r[f]|=s),o&=~p}}function Ms(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function oa(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function W(){var r=me.p;return r!==0?r:(r=window.event,r===void 0?32:hv(r.type))}function ae(r,s){var o=me.p;try{return me.p=r,s()}finally{me.p=o}}var ue=Math.random().toString(36).slice(2),Se="__reactFiber$"+ue,Oe="__reactProps$"+ue,Be="__reactContainer$"+ue,et="__reactEvents$"+ue,Fe="__reactListeners$"+ue,$e="__reactHandles$"+ue,Xe="__reactResources$"+ue,nt="__reactMarker$"+ue;function Ke(r){delete r[Se],delete r[Oe],delete r[et],delete r[Fe],delete r[$e]}function st(r){var s=r[Se];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Be]||o[Se]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=ev(r);r!==null;){if(o=r[Se])return o;r=ev(r)}return s}r=o,o=r.parentNode}return null}function Rt(r){if(r=r[Se]||r[Be]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Jt(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Qt(r){var s=r[Xe];return s||(s=r[Xe]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Lt(r){r[nt]=!0}var wt=new Set,zi={};function Wn(r,s){kr(r,s),kr(r+"Capture",s)}function kr(r,s){for(zi[r]=s,r=0;r<s.length;r++)wt.add(s[r])}var Gn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ps={},Rr={};function Ha(r){return qn.call(Rr,r)?!0:qn.call(Ps,r)?!1:Gn.test(r)?Rr[r]=!0:(Ps[r]=!0,!1)}function xr(r,s,o){if(Ha(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Ur(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function ft(r,s,o,f){if(f===null)r.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+f)}}var Fn,Jr;function ei(r){if(Fn===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Fn=s&&s[1]||"",Jr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fn+r+Jr}var Ls=!1;function pn(r,s){if(!r||Ls)return"";Ls=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(fe){var de=fe}Reflect.construct(r,[],Re)}else{try{Re.call()}catch(fe){de=fe}r.call(Re.prototype)}}else{try{throw Error()}catch(fe){de=fe}(Re=r())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(fe){if(fe&&de&&typeof fe.stack=="string")return[fe.stack,de.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),x=_[0],P=_[1];if(x&&P){var Y=x.split(`
`),ce=P.split(`
`);for(p=f=0;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;for(;p<ce.length&&!ce[p].includes("DetermineComponentFrameRoot");)p++;if(f===Y.length||p===ce.length)for(f=Y.length-1,p=ce.length-1;1<=f&&0<=p&&Y[f]!==ce[p];)p--;for(;1<=f&&0<=p;f--,p--)if(Y[f]!==ce[p]){if(f!==1||p!==1)do if(f--,p--,0>p||Y[f]!==ce[p]){var Te=`
`+Y[f].replace(" at new "," at ");return r.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",r.displayName)),Te}while(1<=f&&0<=p);break}}}finally{Ls=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ei(o):""}function Hi(r){switch(r.tag){case 26:case 27:case 5:return ei(r.type);case 16:return ei("Lazy");case 13:return ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return pn(r.type,!1);case 11:return pn(r.type.render,!1);case 1:return pn(r.type,!0);case 31:return ei("Activity");default:return""}}function ks(r){try{var s="";do s+=Hi(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function sr(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Rl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $u(r){var s=Rl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),f=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,_=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(x){f=""+x,_.call(this,x)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return f},setValue:function(x){f=""+x},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function xl(r){r._valueTracker||(r._valueTracker=$u(r))}function Cl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),f="";return r&&(f=Rl(r)?r.checked?"true":"false":r.value),r=f,r!==o?(s.setValue(r),!0):!1}function Us(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var jf=/[\n"\\]/g;function $n(r){return r.replace(jf,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ti(r,s,o,f,p,_,x,P){r.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.type=x:r.removeAttribute("type"),s!=null?x==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+sr(s)):r.value!==""+sr(s)&&(r.value=""+sr(s)):x!=="submit"&&x!=="reset"||r.removeAttribute("value"),s!=null?Vs(r,x,sr(s)):o!=null?Vs(r,x,sr(o)):f!=null&&r.removeAttribute("value"),p==null&&_!=null&&(r.defaultChecked=!!_),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?r.name=""+sr(P):r.removeAttribute("name")}function qa(r,s,o,f,p,_,x,P){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.type=_),s!=null||o!=null){if(!(_!=="submit"&&_!=="reset"||s!=null))return;o=o!=null?""+sr(o):"",s=s!=null?""+sr(s):o,P||s===r.value||(r.value=s),r.defaultValue=s}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=P?r.checked:!!f,r.defaultChecked=!!f,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.name=x)}function Vs(r,s,o){s==="number"&&Us(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function la(r,s,o,f){if(r=r.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<r.length;o++)p=s.hasOwnProperty("$"+r[o].value),r[o].selected!==p&&(r[o].selected=p),p&&f&&(r[o].defaultSelected=!0)}else{for(o=""+sr(o),s=null,p=0;p<r.length;p++){if(r[p].value===o){r[p].selected=!0,f&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function on(r,s,o){if(s!=null&&(s=""+sr(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+sr(o):""}function ua(r,s,o,f){if(s==null){if(f!=null){if(o!=null)throw Error(i(92));if(ke(f)){if(1<f.length)throw Error(i(93));f=f[0]}o=f}o==null&&(o=""),s=o}o=sr(s),r.defaultValue=o,f=r.textContent,f===o&&f!==""&&f!==null&&(r.value=f)}function ni(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var qi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ku(r,s,o){var f=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?f?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":f?r.setProperty(s,o):typeof o!="number"||o===0||qi.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Il(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var f in o)!o.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var p in s)f=s[p],s.hasOwnProperty(p)&&o[p]!==f&&Ku(r,p,f)}else for(var _ in s)s.hasOwnProperty(_)&&Ku(r,_,s[_])}function Yu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ff=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oo(r){return Ff.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var js=null;function Gi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ca=null,fa=null;function Nl(r){var s=Rt(r);if(s&&(r=s.stateNode)){var o=r[Oe]||null;e:switch(r=s.stateNode,s.type){case"input":if(ti(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+$n(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var f=o[s];if(f!==r&&f.form===r.form){var p=f[Oe]||null;if(!p)throw Error(i(90));ti(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)f=o[s],f.form===r.form&&Cl(f)}break e;case"textarea":on(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&la(r,!!o.multiple,s,!1)}}}var Bs=!1;function zf(r,s,o){if(Bs)return r(s,o);Bs=!0;try{var f=r(s);return f}finally{if(Bs=!1,(ca!==null||fa!==null)&&(Vh(),ca&&(s=ca,r=fa,fa=ca=null,Nl(s),r)))for(s=0;s<r.length;s++)Nl(r[s])}}function Mo(r,s){var o=r.stateNode;if(o===null)return null;var f=o[Oe]||null;if(f===null)return null;o=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ri=!1;if(hs)try{var Po={};Object.defineProperty(Po,"passive",{get:function(){ri=!0}}),window.addEventListener("test",Po,Po),window.removeEventListener("test",Po,Po)}catch{ri=!1}var Fs=null,Ga=null,ha=null;function Wu(){if(ha)return ha;var r,s=Ga,o=s.length,f,p="value"in Fs?Fs.value:Fs.textContent,_=p.length;for(r=0;r<o&&s[r]===p[r];r++);var x=o-r;for(f=1;f<=x&&s[o-f]===p[_-f];f++);return ha=p.slice(r,1<f?1-f:void 0)}function Ft(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function kt(){return!0}function Qu(){return!1}function ar(r){function s(o,f,p,_,x){this._reactName=o,this._targetInst=p,this.type=f,this.nativeEvent=_,this.target=x,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(o=r[P],this[P]=o?o(_):_[P]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?kt:Qu,this.isPropagationStopped=Qu,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=kt)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=kt)},persist:function(){},isPersistent:kt}),s}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=ar(nn),Lo=E({},nn,{view:0,detail:0}),Hf=ar(Lo),ko,Ol,En,da=E({},Lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ii,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==En&&(En&&r.type==="mousemove"?(ko=r.screenX-En.screenX,Ol=r.screenY-En.screenY):Ol=ko=0,En=r),ko)},movementY:function(r){return"movementY"in r?r.movementY:Ol}}),or=ar(da),Xu=E({},da,{dataTransfer:0}),Zu=ar(Xu),lr=E({},Lo,{relatedTarget:0}),Uo=ar(lr),Ml=E({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),Vo=ar(Ml),Ju=E({},nn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),jo=ar(Ju),qf=E({},nn,{data:0}),_r=ar(qf),Bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Gf[r])?!!s[r]:!1}function ii(){return Pl}var Fo=E({},Lo,{key:function(r){if(r.key){var s=Bo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ft(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Vr[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ii,charCode:function(r){return r.type==="keypress"?Ft(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ft(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),$a=ar(Fo),gn=E({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=ar(gn),ds=E({},Lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ii}),$f=ar(ds),Ll=E({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kf=ar(Ll),Yf=E({},da,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),kl=ar(Yf),Cr=E({},nn,{newState:0,oldState:0}),zo=ar(Cr),ma=[9,13,27,32],zs=hs&&"CompositionEvent"in window,d=null;hs&&"documentMode"in document&&(d=document.documentMode);var T=hs&&"TextEvent"in window&&!d,R=hs&&(!zs||d&&8<d&&11>=d),k=" ",oe=!1;function ye(r,s){switch(r){case"keyup":return ma.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Le(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ot=!1;function Qn(r,s){switch(r){case"compositionend":return Le(s);case"keypress":return s.which!==32?null:(oe=!0,k);case"textInput":return r=s.data,r===k&&oe?null:r;default:return null}}function Ut(r,s){if(Ot)return r==="compositionend"||!zs&&ye(r,s)?(r=Wu(),ha=Ga=Fs=null,Ot=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return R&&s.locale!=="ko"?null:s.data;default:return null}}var rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!rn[r.type]:s==="textarea"}function Si(r,s,o,f){ca?fa?fa.push(f):fa=[f]:ca=f,s=Gh(s,"onChange"),0<s.length&&(o=new Dl("onChange","change",null,o,f),r.push({event:o,listeners:s}))}var ur=null,ms=null;function ec(r){$y(r,0)}function Wf(r){var s=Jt(r);if(Cl(s))return r}function vg(r,s){if(r==="change")return s}var _g=!1;if(hs){var $d;if(hs){var Ka="oninput"in document;if(!Ka){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),Ka=typeof Eg.oninput=="function"}$d=Ka}else $d=!1;_g=$d&&(!document.documentMode||9<document.documentMode)}function Tg(){ur&&(ur.detachEvent("onpropertychange",Qf),ms=ur=null)}function Qf(r){if(r.propertyName==="value"&&Wf(ms)){var s=[];Si(s,ms,r,Gi(r)),zf(ec,s)}}function wg(r,s,o){r==="focusin"?(Tg(),ur=s,ms=o,ur.attachEvent("onpropertychange",Qf)):r==="focusout"&&Tg()}function Ya(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Wf(ms)}function Xf(r,s){if(r==="click")return Wf(s)}function y0(r,s){if(r==="input"||r==="change")return Wf(s)}function v0(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Ai=typeof Object.is=="function"?Object.is:v0;function Hs(r,s){if(Ai(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),f=Object.keys(s);if(o.length!==f.length)return!1;for(f=0;f<o.length;f++){var p=o[f];if(!qn.call(s,p)||!Ai(r[p],s[p]))return!1}return!0}function Ki(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Kd(r,s){var o=Ki(r);r=0;for(var f;o;){if(o.nodeType===3){if(f=r+o.textContent.length,r<=s&&f>=s)return{node:o,offset:s-r};r=f}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ki(o)}}function bg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?bg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Sg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Us(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Us(r.document)}return s}function Yd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var _0=hs&&"documentMode"in document&&11>=document.documentMode,Ul=null,Wa=null,te=null,Ee=!1;function ge(r,s,o){var f=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ee||Ul==null||Ul!==Us(f)||(f=Ul,"selectionStart"in f&&Yd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),te&&Hs(te,f)||(te=f,f=Gh(Wa,"onSelect"),0<f.length&&(s=new Dl("onSelect","select",null,s,o),r.push({event:s,listeners:f}),s.target=Ul)))}function Ue(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var lt={animationend:Ue("Animation","AnimationEnd"),animationiteration:Ue("Animation","AnimationIteration"),animationstart:Ue("Animation","AnimationStart"),transitionrun:Ue("Transition","TransitionRun"),transitionstart:Ue("Transition","TransitionStart"),transitioncancel:Ue("Transition","TransitionCancel"),transitionend:Ue("Transition","TransitionEnd")},Gt={},Kn={};hs&&(Kn=document.createElement("div").style,"AnimationEvent"in window||(delete lt.animationend.animation,delete lt.animationiteration.animation,delete lt.animationstart.animation),"TransitionEvent"in window||delete lt.transitionend.transition);function $t(r){if(Gt[r])return Gt[r];if(!lt[r])return r;var s=lt[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Kn)return Gt[r]=s[o];return r}var Zf=$t("animationend"),Ag=$t("animationiteration"),Ri=$t("animationstart"),Jf=$t("transitionrun"),E0=$t("transitionstart"),Vl=$t("transitioncancel"),tc=$t("transitionend"),nc=new Map,en="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");en.push("scrollEnd");function ps(r,s){nc.set(r,s),Wn(s,[r])}var Wd=new WeakMap;function jr(r,s){if(typeof r=="object"&&r!==null){var o=Wd.get(r);return o!==void 0?o:(s={value:r,source:s,stack:ks(s)},Wd.set(r,s),s)}return{value:r,source:s,stack:ks(s)}}var Yi=[],jl=0,Qd=0;function Ho(){for(var r=jl,s=Qd=jl=0;s<r;){var o=Yi[s];Yi[s++]=null;var f=Yi[s];Yi[s++]=null;var p=Yi[s];Yi[s++]=null;var _=Yi[s];if(Yi[s++]=null,f!==null&&p!==null){var x=f.pending;x===null?p.next=p:(p.next=x.next,x.next=p),f.pending=p}_!==0&&rc(o,p,_)}}function gs(r,s,o,f){Yi[jl++]=r,Yi[jl++]=s,Yi[jl++]=o,Yi[jl++]=f,Qd|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function Bl(r,s,o,f){return gs(r,s,o,f),ic(r)}function qo(r,s){return gs(r,null,null,s),ic(r)}function rc(r,s,o){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o);for(var p=!1,_=r.return;_!==null;)_.childLanes|=o,f=_.alternate,f!==null&&(f.childLanes|=o),_.tag===22&&(r=_.stateNode,r===null||r._visibility&1||(p=!0)),r=_,_=_.return;return r.tag===3?(_=r.stateNode,p&&s!==null&&(p=31-Pn(o),r=_.hiddenUpdates,f=r[p],f===null?r[p]=[s]:f.push(s),s.lane=o|536870912),_):null}function ic(r){if(50<lu)throw lu=0,qm=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Go={};function eh(r,s,o,f){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(r,s,o,f){return new eh(r,s,o,f)}function $o(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Br(r,s){var o=r.alternate;return o===null?(o=si(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function sc(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function th(r,s,o,f,p,_){var x=0;if(f=r,typeof r=="function")$o(r)&&(x=1);else if(typeof r=="string")x=X0(r,o,je.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case L:return r=si(31,o,s,p),r.elementType=L,r.lanes=_,r;case O:return Ko(o.children,p,_,s);case H:x=8,p|=24;break;case V:return r=si(12,o,s,p|2),r.elementType=V,r.lanes=_,r;case ne:return r=si(13,o,s,p),r.elementType=ne,r.lanes=_,r;case z:return r=si(19,o,s,p),r.elementType=z,r.lanes=_,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:case Z:x=10;break e;case ee:x=9;break e;case he:x=11;break e;case D:x=14;break e;case I:x=16,f=null;break e}x=29,o=Error(i(130,r===null?"null":typeof r,"")),f=null}return s=si(x,o,s,p),s.elementType=r,s.type=f,s.lanes=_,s}function Ko(r,s,o,f){return r=si(7,r,f,s),r.lanes=o,r}function Xd(r,s,o){return r=si(6,r,null,s),r.lanes=o,r}function Fl(r,s,o){return s=si(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var pa=[],Qa=0,nh=null,ac=0,Wi=[],Qi=0,wn=null,Rn=1,ga="";function Yo(r,s){pa[Qa++]=ac,pa[Qa++]=nh,nh=r,ac=s}function Zd(r,s,o){Wi[Qi++]=Rn,Wi[Qi++]=ga,Wi[Qi++]=wn,wn=r;var f=Rn;r=ga;var p=32-Pn(f)-1;f&=~(1<<p),o+=1;var _=32-Pn(s)+p;if(30<_){var x=p-p%5;_=(f&(1<<x)-1).toString(32),f>>=x,p-=x,Rn=1<<32-Pn(s)+p|o<<p|f,ga=_+r}else Rn=1<<_|o<<p|f,ga=r}function Jd(r){r.return!==null&&(Yo(r,1),Zd(r,1,0))}function oc(r){for(;r===nh;)nh=pa[--Qa],pa[Qa]=null,ac=pa[--Qa],pa[Qa]=null;for(;r===wn;)wn=Wi[--Qi],Wi[Qi]=null,ga=Wi[--Qi],Wi[Qi]=null,Rn=Wi[--Qi],Wi[Qi]=null}var Xn=null,xn=null,Mt=!1,ys=null,ai=!1,zl=Error(i(519));function Xi(r){var s=Error(i(418,""));throw Xa(jr(s,r)),zl}function Rg(r){var s=r.stateNode,o=r.type,f=r.memoizedProps;switch(s[Se]=r,s[Oe]=f,o){case"dialog":Ct("cancel",s),Ct("close",s);break;case"iframe":case"object":case"embed":Ct("load",s);break;case"video":case"audio":for(o=0;o<Wc.length;o++)Ct(Wc[o],s);break;case"source":Ct("error",s);break;case"img":case"image":case"link":Ct("error",s),Ct("load",s);break;case"details":Ct("toggle",s);break;case"input":Ct("invalid",s),qa(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),xl(s);break;case"select":Ct("invalid",s);break;case"textarea":Ct("invalid",s),ua(s,f.value,f.defaultValue,f.children),xl(s)}o=f.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||f.suppressHydrationWarning===!0||Wy(s.textContent,o)?(f.popover!=null&&(Ct("beforetoggle",s),Ct("toggle",s)),f.onScroll!=null&&Ct("scroll",s),f.onScrollEnd!=null&&Ct("scrollend",s),f.onClick!=null&&(s.onclick=$h),s=!0):s=!1,s||Xi(r)}function xg(r){for(Xn=r.return;Xn;)switch(Xn.tag){case 5:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:Xn=Xn.return}}function lc(r){if(r!==Xn)return!1;if(!Mt)return xg(r),Mt=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Yh(r.type,r.memoizedProps)),o=!o),o&&xn&&Xi(r),xg(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){xn=bs(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}xn=null}}else s===27?(s=xn,rs(r.type)?(r=ip,ip=null,xn=r):xn=s):xn=Xn?bs(r.stateNode.nextSibling):null;return!0}function uc(){xn=Xn=null,Mt=!1}function Cg(){var r=ys;return r!==null&&(mi===null?mi=r:mi.push.apply(mi,r),ys=null),r}function Xa(r){ys===null?ys=[r]:ys.push(r)}var Wo=pe(null),Za=null,M=null;function xi(r,s,o){we(Wo,s._currentValue),s._currentValue=o}function Zi(r){r._currentValue=Wo.current,Ne(Wo)}function oi(r,s,o){for(;r!==null;){var f=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),r===o)break;r=r.return}}function bt(r,s,o,f){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var _=p.dependencies;if(_!==null){var x=p.child;_=_.firstContext;e:for(;_!==null;){var P=_;_=p;for(var Y=0;Y<s.length;Y++)if(P.context===s[Y]){_.lanes|=o,P=_.alternate,P!==null&&(P.lanes|=o),oi(_.return,o,r),f||(x=null);break e}_=P.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(i(341));x.lanes|=o,_=x.alternate,_!==null&&(_.lanes|=o),oi(x,o,r),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===r){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function cc(r,s,o,f){r=null;for(var p=s,_=!1;p!==null;){if(!_){if((p.flags&524288)!==0)_=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var P=p.type;Ai(p.pendingProps.value,x.value)||(r!==null?r.push(P):r=[P])}}else if(p===mn.current){if(x=p.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(gu):r=[gu])}p=p.return}r!==null&&bt(s,r,o,f),s.flags|=262144}function rh(r){for(r=r.firstContext;r!==null;){if(!Ai(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Qo(r){Za=r,M=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ln(r){return Ig(Za,r)}function ih(r,s){return Za===null&&Qo(r),Ig(r,s)}function Ig(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},M===null){if(r===null)throw Error(i(308));M=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else M=M.next=s;return o}var T0=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,f){r.push(f)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},w0=n.unstable_scheduleCallback,b0=n.unstable_NormalPriority,yn={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function em(){return{controller:new T0,data:new Map,refCount:0}}function fc(r){r.refCount--,r.refCount===0&&w0(b0,function(){r.controller.abort()})}var hc=null,tm=0,Hl=0,li=null;function S0(r,s){if(hc===null){var o=hc=[];tm=0,Hl=qh(),li={status:"pending",value:void 0,then:function(f){o.push(f)}}}return tm++,s.then(Ng,Ng),s}function Ng(){if(--tm===0&&hc!==null){li!==null&&(li.status="fulfilled");var r=hc;hc=null,Hl=0,li=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function A0(r,s){var o=[],f={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return r.then(function(){f.status="fulfilled",f.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(f.status="rejected",f.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),f}var Dg=se.S;se.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&S0(r,s),Dg!==null&&Dg(r,s)};var Xo=pe(null);function ya(){var r=Xo.current;return r!==null?r:Tn.pooledCache}function sh(r,s){s===null?we(Xo,Xo.current):we(Xo,s.pool)}function Og(){var r=ya();return r===null?null:{parent:yn._currentValue,pool:r}}var Fr=Error(i(460)),Mg=Error(i(474)),ah=Error(i(542)),nm={then:function(){}};function Pg(r){return r=r.status,r==="fulfilled"||r==="rejected"}function oh(){}function rm(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(oh,oh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,kg(r),r;default:if(typeof s.status=="string")s.then(oh,oh);else{if(r=Tn,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(f){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=f}},function(f){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,kg(r),r}throw ql=s,Fr}}var ql=null;function Lg(){if(ql===null)throw Error(i(459));var r=ql;return ql=null,r}function kg(r){if(r===Fr||r===ah)throw Error(i(483))}var qs=!1;function Zo(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gl(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ja(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function va(r,s,o){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(un&2)!==0){var p=f.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),f.pending=s,s=ic(r),rc(r,null,o),s}return gs(r,f,s,o),ic(r)}function dc(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var f=s.lanes;f&=r.pendingLanes,o|=f,s.lanes=o,Os(r,o)}}function vs(r,s){var o=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,o===f)){var p=null,_=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};_===null?p=_=x:_=_.next=x,o=o.next}while(o!==null);_===null?p=_=s:_=_.next=s}else p=_=s;o={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var mc=!1;function _s(){if(mc){var r=li;if(r!==null)throw r}}function Ir(r,s,o,f){mc=!1;var p=r.updateQueue;qs=!1;var _=p.firstBaseUpdate,x=p.lastBaseUpdate,P=p.shared.pending;if(P!==null){p.shared.pending=null;var Y=P,ce=Y.next;Y.next=null,x===null?_=ce:x.next=ce,x=Y;var Te=r.alternate;Te!==null&&(Te=Te.updateQueue,P=Te.lastBaseUpdate,P!==x&&(P===null?Te.firstBaseUpdate=ce:P.next=ce,Te.lastBaseUpdate=Y))}if(_!==null){var Re=p.baseState;x=0,Te=ce=Y=null,P=_;do{var de=P.lane&-536870913,fe=de!==P.lane;if(fe?(zt&de)===de:(f&de)===de){de!==0&&de===Hl&&(mc=!0),Te!==null&&(Te=Te.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var at=r,rt=P;de=s;var hn=o;switch(rt.tag){case 1:if(at=rt.payload,typeof at=="function"){Re=at.call(hn,Re,de);break e}Re=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=rt.payload,de=typeof at=="function"?at.call(hn,Re,de):at,de==null)break e;Re=E({},Re,de);break e;case 2:qs=!0}}de=P.callback,de!==null&&(r.flags|=64,fe&&(r.flags|=8192),fe=p.callbacks,fe===null?p.callbacks=[de]:fe.push(de))}else fe={lane:de,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Te===null?(ce=Te=fe,Y=Re):Te=Te.next=fe,x|=de;if(P=P.next,P===null){if(P=p.shared.pending,P===null)break;fe=P,P=fe.next,fe.next=null,p.lastBaseUpdate=fe,p.shared.pending=null}}while(!0);Te===null&&(Y=Re),p.baseState=Y,p.firstBaseUpdate=ce,p.lastBaseUpdate=Te,_===null&&(p.shared.lanes=0),lo|=x,r.lanes=x,r.memoizedState=Re}}function Ug(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function im(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Ug(o[r],s)}var Jo=pe(null),eo=pe(0);function _a(r,s){r=Ca,we(eo,r),we(Jo,s),Ca=r|s.baseLanes}function lh(){we(eo,Ca),we(Jo,Jo.current)}function sm(){Ca=eo.current,Ne(Jo),Ne(eo)}var Es=0,Et=null,ln=null,Pt=null,$l=!1,el=!1,Nr=!1,Kl=0,to=0,Ji=null,Vg=0;function Vt(){throw Error(i(321))}function pc(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Ai(r[o],s[o]))return!1;return!0}function am(r,s,o,f,p,_){return Es=_,Et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,se.H=r===null||r.memoizedState===null?Xg:Sm,Nr=!1,_=o(f,p),Nr=!1,el&&(_=Bg(s,o,f,p)),jg(r),_}function jg(r){se.H=Rc;var s=ln!==null&&ln.next!==null;if(Es=0,Pt=ln=Et=null,$l=!1,to=0,Ji=null,s)throw Error(i(300));r===null||cr||(r=r.dependencies,r!==null&&rh(r)&&(cr=!0))}function Bg(r,s,o,f){Et=r;var p=0;do{if(el&&(Ji=null),to=0,el=!1,25<=p)throw Error(i(301));if(p+=1,Pt=ln=null,r.updateQueue!=null){var _=r.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}se.H=Zg,_=s(o,f)}while(el);return _}function om(){var r=se.H,s=r.useState()[0];return s=typeof s.then=="function"?gc(s):s,r=r.useState()[0],(ln!==null?ln.memoizedState:null)!==r&&(Et.flags|=1024),s}function lm(){var r=Kl!==0;return Kl=0,r}function tl(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function uh(r){if($l){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$l=!1}Es=0,Pt=ln=Et=null,el=!1,to=Kl=0,Ji=null}function ui(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Et.memoizedState=Pt=r:Pt=Pt.next=r,Pt}function Yn(){if(ln===null){var r=Et.alternate;r=r!==null?r.memoizedState:null}else r=ln.next;var s=Pt===null?Et.memoizedState:Pt.next;if(s!==null)Pt=s,ln=r;else{if(r===null)throw Et.alternate===null?Error(i(467)):Error(i(310));ln=r,r={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},Pt===null?Et.memoizedState=Pt=r:Pt=Pt.next=r}return Pt}function nl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gc(r){var s=to;return to+=1,Ji===null&&(Ji=[]),r=rm(Ji,r,s),s=Et,(Pt===null?s.memoizedState:Pt.next)===null&&(s=s.alternate,se.H=s===null||s.memoizedState===null?Xg:Sm),r}function ch(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return gc(r);if(r.$$typeof===Z)return Ln(r)}throw Error(i(438,String(r)))}function yc(r){var s=null,o=Et.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var f=Et.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=nl(),Et.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),f=0;f<r;f++)o[f]=q;return s.index++,o}function Gs(r,s){return typeof s=="function"?s(r):s}function fh(r){var s=Yn();return um(s,ln,r)}function um(r,s,o){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=o;var p=r.baseQueue,_=f.pending;if(_!==null){if(p!==null){var x=p.next;p.next=_.next,_.next=x}s.baseQueue=p=_,f.pending=null}if(_=r.baseState,p===null)r.memoizedState=_;else{s=p.next;var P=x=null,Y=null,ce=s,Te=!1;do{var Re=ce.lane&-536870913;if(Re!==ce.lane?(zt&Re)===Re:(Es&Re)===Re){var de=ce.revertLane;if(de===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Re===Hl&&(Te=!0);else if((Es&de)===de){ce=ce.next,de===Hl&&(Te=!0);continue}else Re={lane:0,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},Y===null?(P=Y=Re,x=_):Y=Y.next=Re,Et.lanes|=de,lo|=de;Re=ce.action,Nr&&o(_,Re),_=ce.hasEagerState?ce.eagerState:o(_,Re)}else de={lane:Re,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},Y===null?(P=Y=de,x=_):Y=Y.next=de,Et.lanes|=Re,lo|=Re;ce=ce.next}while(ce!==null&&ce!==s);if(Y===null?x=_:Y.next=P,!Ai(_,r.memoizedState)&&(cr=!0,Te&&(o=li,o!==null)))throw o;r.memoizedState=_,r.baseState=x,r.baseQueue=Y,f.lastRenderedState=_}return p===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function cm(r){var s=Yn(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var f=o.dispatch,p=o.pending,_=s.memoizedState;if(p!==null){o.pending=null;var x=p=p.next;do _=r(_,x.action),x=x.next;while(x!==p);Ai(_,s.memoizedState)||(cr=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),o.lastRenderedState=_}return[_,f]}function fm(r,s,o){var f=Et,p=Yn(),_=Mt;if(_){if(o===void 0)throw Error(i(407));o=o()}else o=s();var x=!Ai((ln||p).memoizedState,o);x&&(p.memoizedState=o,cr=!0),p=p.queue;var P=dh.bind(null,f,p,r);if(Ec(2048,8,P,[r]),p.getSnapshot!==s||x||Pt!==null&&Pt.memoizedState.tag&1){if(f.flags|=2048,Yl(9,vh(),Fg.bind(null,f,p,o,s),null),Tn===null)throw Error(i(349));_||(Es&124)!==0||hh(f,s,o)}return o}function hh(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Et.updateQueue,s===null?(s=nl(),Et.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function Fg(r,s,o,f){s.value=o,s.getSnapshot=f,hm(s)&&dm(r)}function dh(r,s,o){return o(function(){hm(s)&&dm(r)})}function hm(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Ai(r,o)}catch{return!0}}function dm(r){var s=qo(r,2);s!==null&&Oi(s,r,2)}function mh(r){var s=ui();if(typeof r=="function"){var o=r;if(r=o(),Nr){An(!0);try{o()}finally{An(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:r},s}function vc(r,s,o,f){return r.baseState=o,um(r,ln,typeof f=="function"?f:Gs)}function R0(r,s,o,f,p){if(wh(r))throw Error(i(485));if(r=s.action,r!==null){var _={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){_.listeners.push(x)}};se.T!==null?o(!0):_.isTransition=!1,f(_),o=s.pending,o===null?(_.next=s.pending=_,mm(s,_)):(_.next=o.next,s.pending=o.next=_)}}function mm(r,s){var o=s.action,f=s.payload,p=r.state;if(s.isTransition){var _=se.T,x={};se.T=x;try{var P=o(p,f),Y=se.S;Y!==null&&Y(x,P),pm(r,s,P)}catch(ce){ph(r,s,ce)}finally{se.T=_}}else try{_=o(p,f),pm(r,s,_)}catch(ce){ph(r,s,ce)}}function pm(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(f){zg(r,s,f)},function(f){return ph(r,s,f)}):zg(r,s,o)}function zg(r,s,o){s.status="fulfilled",s.value=o,Hg(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,mm(r,o)))}function ph(r,s,o){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=o,Hg(s),s=s.next;while(s!==f)}r.action=null}function Hg(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function gh(r,s){return s}function gm(r,s){if(Mt){var o=Tn.formState;if(o!==null){e:{var f=Et;if(Mt){if(xn){t:{for(var p=xn,_=ai;p.nodeType!==8;){if(!_){p=null;break t}if(p=bs(p.nextSibling),p===null){p=null;break t}}_=p.data,p=_==="F!"||_==="F"?p:null}if(p){xn=bs(p.nextSibling),f=p.data==="F!";break e}}Xi(f)}f=!1}f&&(s=o[0])}}return o=ui(),o.memoizedState=o.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gh,lastRenderedState:s},o.queue=f,o=Tm.bind(null,Et,f),f.dispatch=o,f=mh(!1),_=wm.bind(null,Et,!1,f.queue),f=ui(),p={state:s,dispatch:null,action:r,pending:null},f.queue=p,o=R0.bind(null,Et,p,_,o),p.dispatch=o,f.memoizedState=r,[s,o,!1]}function yh(r){var s=Yn();return qg(s,ln,r)}function qg(r,s,o){if(s=um(r,s,gh)[0],r=fh(Gs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=gc(s)}catch(x){throw x===Fr?ah:x}else f=s;s=Yn();var p=s.queue,_=p.dispatch;return o!==s.memoizedState&&(Et.flags|=2048,Yl(9,vh(),ym.bind(null,p,o),null)),[f,_,r]}function ym(r,s){r.action=s}function vt(r){var s=Yn(),o=ln;if(o!==null)return qg(s,o,r);Yn(),s=s.memoizedState,o=Yn();var f=o.queue.dispatch;return o.memoizedState=r,[s,f,!1]}function Yl(r,s,o,f){return r={tag:r,create:o,deps:f,inst:s,next:null},s=Et.updateQueue,s===null&&(s=nl(),Et.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(f=o.next,o.next=r,r.next=f,s.lastEffect=r),r}function vh(){return{destroy:void 0,resource:void 0}}function Wl(){return Yn().memoizedState}function _c(r,s,o,f){var p=ui();f=f===void 0?null:f,Et.flags|=r,p.memoizedState=Yl(1|s,vh(),o,f)}function Ec(r,s,o,f){var p=Yn();f=f===void 0?null:f;var _=p.memoizedState.inst;ln!==null&&f!==null&&pc(f,ln.memoizedState.deps)?p.memoizedState=Yl(s,_,o,f):(Et.flags|=r,p.memoizedState=Yl(1|s,_,o,f))}function Gg(r,s){_c(8390656,8,r,s)}function Ci(r,s){Ec(2048,8,r,s)}function $g(r,s){return Ec(4,2,r,s)}function Tc(r,s){return Ec(4,4,r,s)}function _h(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function vm(r,s,o){o=o!=null?o.concat([r]):null,Ec(4,4,_h.bind(null,s,r),o)}function Eh(){}function ci(r,s){var o=Yn();s=s===void 0?null:s;var f=o.memoizedState;return s!==null&&pc(s,f[1])?f[0]:(o.memoizedState=[r,s],r)}function Ea(r,s){var o=Yn();s=s===void 0?null:s;var f=o.memoizedState;if(s!==null&&pc(s,f[1]))return f[0];if(f=r(),Nr){An(!0);try{r()}finally{An(!1)}}return o.memoizedState=[f,s],f}function wc(r,s,o){return o===void 0||(Es&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=Ay(),Et.lanes|=r,lo|=r,o)}function _m(r,s,o,f){return Ai(o,s)?o:Jo.current!==null?(r=wc(r,o,f),Ai(r,s)||(cr=!0),r):(Es&42)===0?(cr=!0,r.memoizedState=o):(r=Ay(),Et.lanes|=r,lo|=r,s)}function bc(r,s,o,f,p){var _=me.p;me.p=_!==0&&8>_?_:8;var x=se.T,P={};se.T=P,wm(r,!1,s,o);try{var Y=p(),ce=se.S;if(ce!==null&&ce(P,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var Te=A0(Y,f);rl(r,s,Te,Or(r))}else rl(r,s,f,Or(r))}catch(Re){rl(r,s,{then:function(){},status:"rejected",reason:Re},Or())}finally{me.p=_,se.T=x}}function Kg(){}function Sc(r,s,o,f){if(r.tag!==5)throw Error(i(476));var p=Em(r).queue;bc(r,p,s,_e,o===null?Kg:function(){return Th(r),o(f)})}function Em(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:_e},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Th(r){var s=Em(r).next.queue;rl(r,s,{},Or())}function Ac(){return Ln(gu)}function Ta(){return Yn().memoizedState}function Yg(){return Yn().memoizedState}function no(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Or();r=Ja(o);var f=va(s,r,o);f!==null&&(Oi(f,s,o),dc(f,s,o)),s={cache:em()},r.payload=s;return}s=s.return}}function Wg(r,s,o){var f=Or();o={lane:f,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},wh(r)?Qg(s,o):(o=Bl(r,s,o,f),o!==null&&(Oi(o,r,f),bm(o,s,f)))}function Tm(r,s,o){var f=Or();rl(r,s,o,f)}function rl(r,s,o,f){var p={lane:f,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(wh(r))Qg(s,p);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var x=s.lastRenderedState,P=_(x,o);if(p.hasEagerState=!0,p.eagerState=P,Ai(P,x))return gs(r,s,p,0),Tn===null&&Ho(),!1}catch{}finally{}if(o=Bl(r,s,p,f),o!==null)return Oi(o,r,f),bm(o,s,f),!0}return!1}function wm(r,s,o,f){if(f={lane:2,revertLane:qh(),action:f,hasEagerState:!1,eagerState:null,next:null},wh(r)){if(s)throw Error(i(479))}else s=Bl(r,o,f,2),s!==null&&Oi(s,r,2)}function wh(r){var s=r.alternate;return r===Et||s!==null&&s===Et}function Qg(r,s){el=$l=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function bm(r,s,o){if((o&4194048)!==0){var f=s.lanes;f&=r.pendingLanes,o|=f,s.lanes=o,Os(r,o)}}var Rc={readContext:Ln,use:ch,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt},Xg={readContext:Ln,use:ch,useCallback:function(r,s){return ui().memoizedState=[r,s===void 0?null:s],r},useContext:Ln,useEffect:Gg,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,_c(4194308,4,_h.bind(null,s,r),o)},useLayoutEffect:function(r,s){return _c(4194308,4,r,s)},useInsertionEffect:function(r,s){_c(4,2,r,s)},useMemo:function(r,s){var o=ui();s=s===void 0?null:s;var f=r();if(Nr){An(!0);try{r()}finally{An(!1)}}return o.memoizedState=[f,s],f},useReducer:function(r,s,o){var f=ui();if(o!==void 0){var p=o(s);if(Nr){An(!0);try{o(s)}finally{An(!1)}}}else p=s;return f.memoizedState=f.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},f.queue=r,r=r.dispatch=Wg.bind(null,Et,r),[f.memoizedState,r]},useRef:function(r){var s=ui();return r={current:r},s.memoizedState=r},useState:function(r){r=mh(r);var s=r.queue,o=Tm.bind(null,Et,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Eh,useDeferredValue:function(r,s){var o=ui();return wc(o,r,s)},useTransition:function(){var r=mh(!1);return r=bc.bind(null,Et,r.queue,!0,!1),ui().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var f=Et,p=ui();if(Mt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),Tn===null)throw Error(i(349));(zt&124)!==0||hh(f,s,o)}p.memoizedState=o;var _={value:o,getSnapshot:s};return p.queue=_,Gg(dh.bind(null,f,_,r),[r]),f.flags|=2048,Yl(9,vh(),Fg.bind(null,f,_,o,s),null),o},useId:function(){var r=ui(),s=Tn.identifierPrefix;if(Mt){var o=ga,f=Rn;o=(f&~(1<<32-Pn(f)-1)).toString(32)+o,s=""+s+"R"+o,o=Kl++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=Vg++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Ac,useFormState:gm,useActionState:gm,useOptimistic:function(r){var s=ui();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=wm.bind(null,Et,!0,o),o.dispatch=s,[r,s]},useMemoCache:yc,useCacheRefresh:function(){return ui().memoizedState=no.bind(null,Et)}},Sm={readContext:Ln,use:ch,useCallback:ci,useContext:Ln,useEffect:Ci,useImperativeHandle:vm,useInsertionEffect:$g,useLayoutEffect:Tc,useMemo:Ea,useReducer:fh,useRef:Wl,useState:function(){return fh(Gs)},useDebugValue:Eh,useDeferredValue:function(r,s){var o=Yn();return _m(o,ln.memoizedState,r,s)},useTransition:function(){var r=fh(Gs)[0],s=Yn().memoizedState;return[typeof r=="boolean"?r:gc(r),s]},useSyncExternalStore:fm,useId:Ta,useHostTransitionStatus:Ac,useFormState:yh,useActionState:yh,useOptimistic:function(r,s){var o=Yn();return vc(o,ln,r,s)},useMemoCache:yc,useCacheRefresh:Yg},Zg={readContext:Ln,use:ch,useCallback:ci,useContext:Ln,useEffect:Ci,useImperativeHandle:vm,useInsertionEffect:$g,useLayoutEffect:Tc,useMemo:Ea,useReducer:cm,useRef:Wl,useState:function(){return cm(Gs)},useDebugValue:Eh,useDeferredValue:function(r,s){var o=Yn();return ln===null?wc(o,r,s):_m(o,ln.memoizedState,r,s)},useTransition:function(){var r=cm(Gs)[0],s=Yn().memoizedState;return[typeof r=="boolean"?r:gc(r),s]},useSyncExternalStore:fm,useId:Ta,useHostTransitionStatus:Ac,useFormState:vt,useActionState:vt,useOptimistic:function(r,s){var o=Yn();return ln!==null?vc(o,ln,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:yc,useCacheRefresh:Yg},Zn=null,fi=0;function bh(r){var s=fi;return fi+=1,Zn===null&&(Zn=[]),rm(Zn,r,s)}function xc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function il(r,s){throw s.$$typeof===S?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function sl(r){var s=r._init;return s(r._payload)}function Am(r){function s(re,J){if(r){var le=re.deletions;le===null?(re.deletions=[J],re.flags|=16):le.push(J)}}function o(re,J){if(!r)return null;for(;J!==null;)s(re,J),J=J.sibling;return null}function f(re){for(var J=new Map;re!==null;)re.key!==null?J.set(re.key,re):J.set(re.index,re),re=re.sibling;return J}function p(re,J){return re=Br(re,J),re.index=0,re.sibling=null,re}function _(re,J,le){return re.index=le,r?(le=re.alternate,le!==null?(le=le.index,le<J?(re.flags|=67108866,J):le):(re.flags|=67108866,J)):(re.flags|=1048576,J)}function x(re){return r&&re.alternate===null&&(re.flags|=67108866),re}function P(re,J,le,be){return J===null||J.tag!==6?(J=Xd(le,re.mode,be),J.return=re,J):(J=p(J,le),J.return=re,J)}function Y(re,J,le,be){var ze=le.type;return ze===O?Te(re,J,le.props.children,be,le.key):J!==null&&(J.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===I&&sl(ze)===J.type)?(J=p(J,le.props),xc(J,le),J.return=re,J):(J=th(le.type,le.key,le.props,null,re.mode,be),xc(J,le),J.return=re,J)}function ce(re,J,le,be){return J===null||J.tag!==4||J.stateNode.containerInfo!==le.containerInfo||J.stateNode.implementation!==le.implementation?(J=Fl(le,re.mode,be),J.return=re,J):(J=p(J,le.children||[]),J.return=re,J)}function Te(re,J,le,be,ze){return J===null||J.tag!==7?(J=Ko(le,re.mode,be,ze),J.return=re,J):(J=p(J,le),J.return=re,J)}function Re(re,J,le){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=Xd(""+J,re.mode,le),J.return=re,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return le=th(J.type,J.key,J.props,null,re.mode,le),xc(le,J),le.return=re,le;case N:return J=Fl(J,re.mode,le),J.return=re,J;case I:var be=J._init;return J=be(J._payload),Re(re,J,le)}if(ke(J)||Q(J))return J=Ko(J,re.mode,le,null),J.return=re,J;if(typeof J.then=="function")return Re(re,bh(J),le);if(J.$$typeof===Z)return Re(re,ih(re,J),le);il(re,J)}return null}function de(re,J,le,be){var ze=J!==null?J.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return ze!==null?null:P(re,J,""+le,be);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case A:return le.key===ze?Y(re,J,le,be):null;case N:return le.key===ze?ce(re,J,le,be):null;case I:return ze=le._init,le=ze(le._payload),de(re,J,le,be)}if(ke(le)||Q(le))return ze!==null?null:Te(re,J,le,be,null);if(typeof le.then=="function")return de(re,J,bh(le),be);if(le.$$typeof===Z)return de(re,J,ih(re,le),be);il(re,le)}return null}function fe(re,J,le,be,ze){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return re=re.get(le)||null,P(J,re,""+be,ze);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case A:return re=re.get(be.key===null?le:be.key)||null,Y(J,re,be,ze);case N:return re=re.get(be.key===null?le:be.key)||null,ce(J,re,be,ze);case I:var St=be._init;return be=St(be._payload),fe(re,J,le,be,ze)}if(ke(be)||Q(be))return re=re.get(le)||null,Te(J,re,be,ze,null);if(typeof be.then=="function")return fe(re,J,le,bh(be),ze);if(be.$$typeof===Z)return fe(re,J,le,ih(J,be),ze);il(J,be)}return null}function at(re,J,le,be){for(var ze=null,St=null,Ze=J,ot=J=0,dr=null;Ze!==null&&ot<le.length;ot++){Ze.index>ot?(dr=Ze,Ze=null):dr=Ze.sibling;var Kt=de(re,Ze,le[ot],be);if(Kt===null){Ze===null&&(Ze=dr);break}r&&Ze&&Kt.alternate===null&&s(re,Ze),J=_(Kt,J,ot),St===null?ze=Kt:St.sibling=Kt,St=Kt,Ze=dr}if(ot===le.length)return o(re,Ze),Mt&&Yo(re,ot),ze;if(Ze===null){for(;ot<le.length;ot++)Ze=Re(re,le[ot],be),Ze!==null&&(J=_(Ze,J,ot),St===null?ze=Ze:St.sibling=Ze,St=Ze);return Mt&&Yo(re,ot),ze}for(Ze=f(Ze);ot<le.length;ot++)dr=fe(Ze,re,ot,le[ot],be),dr!==null&&(r&&dr.alternate!==null&&Ze.delete(dr.key===null?ot:dr.key),J=_(dr,J,ot),St===null?ze=dr:St.sibling=dr,St=dr);return r&&Ze.forEach(function(_o){return s(re,_o)}),Mt&&Yo(re,ot),ze}function rt(re,J,le,be){if(le==null)throw Error(i(151));for(var ze=null,St=null,Ze=J,ot=J=0,dr=null,Kt=le.next();Ze!==null&&!Kt.done;ot++,Kt=le.next()){Ze.index>ot?(dr=Ze,Ze=null):dr=Ze.sibling;var _o=de(re,Ze,Kt.value,be);if(_o===null){Ze===null&&(Ze=dr);break}r&&Ze&&_o.alternate===null&&s(re,Ze),J=_(_o,J,ot),St===null?ze=_o:St.sibling=_o,St=_o,Ze=dr}if(Kt.done)return o(re,Ze),Mt&&Yo(re,ot),ze;if(Ze===null){for(;!Kt.done;ot++,Kt=le.next())Kt=Re(re,Kt.value,be),Kt!==null&&(J=_(Kt,J,ot),St===null?ze=Kt:St.sibling=Kt,St=Kt);return Mt&&Yo(re,ot),ze}for(Ze=f(Ze);!Kt.done;ot++,Kt=le.next())Kt=fe(Ze,re,ot,Kt.value,be),Kt!==null&&(r&&Kt.alternate!==null&&Ze.delete(Kt.key===null?ot:Kt.key),J=_(Kt,J,ot),St===null?ze=Kt:St.sibling=Kt,St=Kt);return r&&Ze.forEach(function(lE){return s(re,lE)}),Mt&&Yo(re,ot),ze}function hn(re,J,le,be){if(typeof le=="object"&&le!==null&&le.type===O&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case A:e:{for(var ze=le.key;J!==null;){if(J.key===ze){if(ze=le.type,ze===O){if(J.tag===7){o(re,J.sibling),be=p(J,le.props.children),be.return=re,re=be;break e}}else if(J.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===I&&sl(ze)===J.type){o(re,J.sibling),be=p(J,le.props),xc(be,le),be.return=re,re=be;break e}o(re,J);break}else s(re,J);J=J.sibling}le.type===O?(be=Ko(le.props.children,re.mode,be,le.key),be.return=re,re=be):(be=th(le.type,le.key,le.props,null,re.mode,be),xc(be,le),be.return=re,re=be)}return x(re);case N:e:{for(ze=le.key;J!==null;){if(J.key===ze)if(J.tag===4&&J.stateNode.containerInfo===le.containerInfo&&J.stateNode.implementation===le.implementation){o(re,J.sibling),be=p(J,le.children||[]),be.return=re,re=be;break e}else{o(re,J);break}else s(re,J);J=J.sibling}be=Fl(le,re.mode,be),be.return=re,re=be}return x(re);case I:return ze=le._init,le=ze(le._payload),hn(re,J,le,be)}if(ke(le))return at(re,J,le,be);if(Q(le)){if(ze=Q(le),typeof ze!="function")throw Error(i(150));return le=ze.call(le),rt(re,J,le,be)}if(typeof le.then=="function")return hn(re,J,bh(le),be);if(le.$$typeof===Z)return hn(re,J,ih(re,le),be);il(re,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,J!==null&&J.tag===6?(o(re,J.sibling),be=p(J,le),be.return=re,re=be):(o(re,J),be=Xd(le,re.mode,be),be.return=re,re=be),x(re)):o(re,J)}return function(re,J,le,be){try{fi=0;var ze=hn(re,J,le,be);return Zn=null,ze}catch(Ze){if(Ze===Fr||Ze===ah)throw Ze;var St=si(29,Ze,null,re.mode);return St.lanes=be,St.return=re,St}finally{}}}var al=Am(!0),Jg=Am(!1),Ii=pe(null),zr=null;function es(r){var s=r.alternate;we(kn,kn.current&1),we(Ii,r),zr===null&&(s===null||Jo.current!==null||s.memoizedState!==null)&&(zr=r)}function ey(r){if(r.tag===22){if(we(kn,kn.current),we(Ii,r),zr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(zr=r)}}else wa()}function wa(){we(kn,kn.current),we(Ii,Ii.current)}function $s(r){Ne(Ii),zr===r&&(zr=null),Ne(kn)}var kn=pe(0);function Cc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||qr(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Ql(r,s,o,f){s=r.memoizedState,o=o(f,s),o=o==null?s:E({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Ic={enqueueSetState:function(r,s,o){r=r._reactInternals;var f=Or(),p=Ja(f);p.payload=s,o!=null&&(p.callback=o),s=va(r,p,f),s!==null&&(Oi(s,r,f),dc(s,r,f))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var f=Or(),p=Ja(f);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=va(r,p,f),s!==null&&(Oi(s,r,f),dc(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Or(),f=Ja(o);f.tag=2,s!=null&&(f.callback=s),s=va(r,f,o),s!==null&&(Oi(s,r,o),dc(s,r,o))}};function Nc(r,s,o,f,p,_,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,_,x):s.prototype&&s.prototype.isPureReactComponent?!Hs(o,f)||!Hs(p,_):!0}function ty(r,s,o,f){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,f),s.state!==r&&Ic.enqueueReplaceState(s,s.state,null)}function ro(r,s){var o=s;if("ref"in s){o={};for(var f in s)f!=="ref"&&(o[f]=s[f])}if(r=r.defaultProps){o===s&&(o=E({},o));for(var p in r)o[p]===void 0&&(o[p]=r[p])}return o}var ol=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Rm(r){ol(r)}function Sh(r){console.error(r)}function ny(r){ol(r)}function Dc(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function Ks(r,s,o){try{var f=r.onCaughtError;f(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ah(r,s,o){return o=Ja(o),o.tag=3,o.payload={element:null},o.callback=function(){Dc(r,s)},o}function xm(r){return r=Ja(r),r.tag=3,r}function ry(r,s,o,f){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var _=f.value;r.payload=function(){return p(_)},r.callback=function(){Ks(s,o,f)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(r.callback=function(){Ks(s,o,f),typeof p!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var P=f.stack;this.componentDidCatch(f.value,{componentStack:P!==null?P:""})})}function iy(r,s,o,f,p){if(o.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=o.alternate,s!==null&&cc(s,o,p,!0),o=Ii.current,o!==null){switch(o.tag){case 13:return zr===null?$m():o.alternate===null&&Un===0&&(Un=3),o.flags&=-257,o.flags|=65536,o.lanes=p,f===nm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([f]):s.add(f),Wm(r,f,p)),!1;case 22:return o.flags|=65536,f===nm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([f]):o.add(f)),Wm(r,f,p)),!1}throw Error(i(435,o.tag))}return Wm(r,f,p),$m(),!1}if(Mt)return s=Ii.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,f!==zl&&(r=Error(i(422),{cause:f}),Xa(jr(r,o)))):(f!==zl&&(s=Error(i(423),{cause:f}),Xa(jr(s,o))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,f=jr(f,o),p=Ah(r.stateNode,f,p),vs(r,p),Un!==4&&(Un=2)),!1;var _=Error(i(520),{cause:f});if(_=jr(_,o),Fc===null?Fc=[_]:Fc.push(_),Un!==4&&(Un=2),s===null)return!0;f=jr(f,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=p&-p,o.lanes|=r,r=Ah(o.stateNode,f,r),vs(o,r),!1;case 1:if(s=o.type,_=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(uo===null||!uo.has(_))))return o.flags|=65536,p&=-p,o.lanes|=p,p=xm(p),ry(p,r,o,f),vs(o,p),!1}o=o.return}while(o!==null);return!1}var sy=Error(i(461)),cr=!1;function bn(r,s,o,f){s.child=r===null?Jg(s,null,o,f):al(s,r.child,o,f)}function Rh(r,s,o,f,p){o=o.render;var _=s.ref;if("ref"in f){var x={};for(var P in f)P!=="ref"&&(x[P]=f[P])}else x=f;return Qo(s),f=am(r,s,o,x,_,p),P=lm(),r!==null&&!cr?(tl(r,s,p),ba(r,s,p)):(Mt&&P&&Jd(s),s.flags|=1,bn(r,s,f,p),s.child)}function xh(r,s,o,f,p){if(r===null){var _=o.type;return typeof _=="function"&&!$o(_)&&_.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=_,Ch(r,s,_,f,p)):(r=th(o.type,null,f,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(_=r.child,!Ts(r,p)){var x=_.memoizedProps;if(o=o.compare,o=o!==null?o:Hs,o(x,f)&&r.ref===s.ref)return ba(r,s,p)}return s.flags|=1,r=Br(_,f),r.ref=s.ref,r.return=s,s.child=r}function Ch(r,s,o,f,p){if(r!==null){var _=r.memoizedProps;if(Hs(_,f)&&r.ref===s.ref)if(cr=!1,s.pendingProps=f=_,Ts(r,p))(r.flags&131072)!==0&&(cr=!0);else return s.lanes=r.lanes,ba(r,s,p)}return Xl(r,s,o,f,p)}function Oc(r,s,o){var f=s.pendingProps,p=f.children,_=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=_!==null?_.baseLanes|o:o,r!==null){for(p=s.child=r.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;s.childLanes=_&~f}else s.childLanes=0,s.child=null;return ll(r,s,f,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&sh(s,_!==null?_.cachePool:null),_!==null?_a(s,_):lh(),ey(s);else return s.lanes=s.childLanes=536870912,ll(r,s,_!==null?_.baseLanes|o:o,o)}else _!==null?(sh(s,_.cachePool),_a(s,_),wa(),s.memoizedState=null):(r!==null&&sh(s,null),lh(),wa());return bn(r,s,p,o),s.child}function ll(r,s,o,f){var p=ya();return p=p===null?null:{parent:yn._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},r!==null&&sh(s,null),lh(),ey(s),r!==null&&cc(r,s,f,!0),null}function Je(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Xl(r,s,o,f,p){return Qo(s),o=am(r,s,o,f,void 0,p),f=lm(),r!==null&&!cr?(tl(r,s,p),ba(r,s,p)):(Mt&&f&&Jd(s),s.flags|=1,bn(r,s,o,p),s.child)}function Ih(r,s,o,f,p,_){return Qo(s),s.updateQueue=null,o=Bg(s,f,o,p),jg(r),f=lm(),r!==null&&!cr?(tl(r,s,_),ba(r,s,_)):(Mt&&f&&Jd(s),s.flags|=1,bn(r,s,o,_),s.child)}function io(r,s,o,f,p){if(Qo(s),s.stateNode===null){var _=Go,x=o.contextType;typeof x=="object"&&x!==null&&(_=Ln(x)),_=new o(f,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Ic,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=f,_.state=s.memoizedState,_.refs={},Zo(s),x=o.contextType,_.context=typeof x=="object"&&x!==null?Ln(x):Go,_.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(Ql(s,o,x,f),_.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(x=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),x!==_.state&&Ic.enqueueReplaceState(_,_.state,null),Ir(s,f,_,p),_s(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(r===null){_=s.stateNode;var P=s.memoizedProps,Y=ro(o,P);_.props=Y;var ce=_.context,Te=o.contextType;x=Go,typeof Te=="object"&&Te!==null&&(x=Ln(Te));var Re=o.getDerivedStateFromProps;Te=typeof Re=="function"||typeof _.getSnapshotBeforeUpdate=="function",P=s.pendingProps!==P,Te||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P||ce!==x)&&ty(s,_,f,x),qs=!1;var de=s.memoizedState;_.state=de,Ir(s,f,_,p),_s(),ce=s.memoizedState,P||de!==ce||qs?(typeof Re=="function"&&(Ql(s,o,Re,f),ce=s.memoizedState),(Y=qs||Nc(s,o,Y,f,de,ce,x))?(Te||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=ce),_.props=f,_.state=ce,_.context=x,f=Y):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{_=s.stateNode,Gl(r,s),x=s.memoizedProps,Te=ro(o,x),_.props=Te,Re=s.pendingProps,de=_.context,ce=o.contextType,Y=Go,typeof ce=="object"&&ce!==null&&(Y=Ln(ce)),P=o.getDerivedStateFromProps,(ce=typeof P=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(x!==Re||de!==Y)&&ty(s,_,f,Y),qs=!1,de=s.memoizedState,_.state=de,Ir(s,f,_,p),_s();var fe=s.memoizedState;x!==Re||de!==fe||qs||r!==null&&r.dependencies!==null&&rh(r.dependencies)?(typeof P=="function"&&(Ql(s,o,P,f),fe=s.memoizedState),(Te=qs||Nc(s,o,Te,f,de,fe,Y)||r!==null&&r.dependencies!==null&&rh(r.dependencies))?(ce||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,fe,Y),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,fe,Y)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||x===r.memoizedProps&&de===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&de===r.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=fe),_.props=f,_.state=fe,_.context=Y,f=Te):(typeof _.componentDidUpdate!="function"||x===r.memoizedProps&&de===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&de===r.memoizedState||(s.flags|=1024),f=!1)}return _=f,Je(r,s),f=(s.flags&128)!==0,_||f?(_=s.stateNode,o=f&&typeof o.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,r!==null&&f?(s.child=al(s,r.child,null,p),s.child=al(s,null,o,p)):bn(r,s,o,p),s.memoizedState=_.state,r=s.child):r=ba(r,s,p),r}function ay(r,s,o,f){return uc(),s.flags|=256,bn(r,s,o,f),s.child}var Mc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nh(r){return{baseLanes:r,cachePool:Og()}}function fr(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=ns),r}function oy(r,s,o){var f=s.pendingProps,p=!1,_=(s.flags&128)!==0,x;if((x=_)||(x=r!==null&&r.memoizedState===null?!1:(kn.current&2)!==0),x&&(p=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,r===null){if(Mt){if(p?es(s):wa(),Mt){var P=xn,Y;if(Y=P){e:{for(Y=P,P=ai;Y.nodeType!==8;){if(!P){P=null;break e}if(Y=bs(Y.nextSibling),Y===null){P=null;break e}}P=Y}P!==null?(s.memoizedState={dehydrated:P,treeContext:wn!==null?{id:Rn,overflow:ga}:null,retryLane:536870912,hydrationErrors:null},Y=si(18,null,null,0),Y.stateNode=P,Y.return=s,s.child=Y,Xn=s,xn=null,Y=!0):Y=!1}Y||Xi(s)}if(P=s.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return qr(P)?s.lanes=32:s.lanes=536870912,null;$s(s)}return P=f.children,f=f.fallback,p?(wa(),p=s.mode,P=Pc({mode:"hidden",children:P},p),f=Ko(f,p,o,null),P.return=s,f.return=s,P.sibling=f,s.child=P,p=s.child,p.memoizedState=Nh(o),p.childLanes=fr(r,x,o),s.memoizedState=Mc,f):(es(s),Cm(s,P))}if(Y=r.memoizedState,Y!==null&&(P=Y.dehydrated,P!==null)){if(_)s.flags&256?(es(s),s.flags&=-257,s=Im(r,s,o)):s.memoizedState!==null?(wa(),s.child=r.child,s.flags|=128,s=null):(wa(),p=f.fallback,P=s.mode,f=Pc({mode:"visible",children:f.children},P),p=Ko(p,P,o,null),p.flags|=2,f.return=s,p.return=s,f.sibling=p,s.child=f,al(s,r.child,null,o),f=s.child,f.memoizedState=Nh(o),f.childLanes=fr(r,x,o),s.memoizedState=Mc,s=p);else if(es(s),qr(P)){if(x=P.nextSibling&&P.nextSibling.dataset,x)var ce=x.dgst;x=ce,f=Error(i(419)),f.stack="",f.digest=x,Xa({value:f,source:null,stack:null}),s=Im(r,s,o)}else if(cr||cc(r,s,o,!1),x=(o&r.childLanes)!==0,cr||x){if(x=Tn,x!==null&&(f=o&-o,f=(f&42)!==0?1:Ms(f),f=(f&(x.suspendedLanes|o))!==0?0:f,f!==0&&f!==Y.retryLane))throw Y.retryLane=f,qo(r,f),Oi(x,r,f),sy;P.data==="$?"||$m(),s=Im(r,s,o)}else P.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=Y.treeContext,xn=bs(P.nextSibling),Xn=s,Mt=!0,ys=null,ai=!1,r!==null&&(Wi[Qi++]=Rn,Wi[Qi++]=ga,Wi[Qi++]=wn,Rn=r.id,ga=r.overflow,wn=s),s=Cm(s,f.children),s.flags|=4096);return s}return p?(wa(),p=f.fallback,P=s.mode,Y=r.child,ce=Y.sibling,f=Br(Y,{mode:"hidden",children:f.children}),f.subtreeFlags=Y.subtreeFlags&65011712,ce!==null?p=Br(ce,p):(p=Ko(p,P,o,null),p.flags|=2),p.return=s,f.return=s,f.sibling=p,s.child=f,f=p,p=s.child,P=r.child.memoizedState,P===null?P=Nh(o):(Y=P.cachePool,Y!==null?(ce=yn._currentValue,Y=Y.parent!==ce?{parent:ce,pool:ce}:Y):Y=Og(),P={baseLanes:P.baseLanes|o,cachePool:Y}),p.memoizedState=P,p.childLanes=fr(r,x,o),s.memoizedState=Mc,f):(es(s),o=r.child,r=o.sibling,o=Br(o,{mode:"visible",children:f.children}),o.return=s,o.sibling=null,r!==null&&(x=s.deletions,x===null?(s.deletions=[r],s.flags|=16):x.push(r)),s.child=o,s.memoizedState=null,o)}function Cm(r,s){return s=Pc({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Pc(r,s){return r=si(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Im(r,s,o){return al(s,r.child,null,o),r=Cm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Nm(r,s,o){r.lanes|=s;var f=r.alternate;f!==null&&(f.lanes|=s),oi(r.return,s,o)}function Dm(r,s,o,f,p){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:o,tailMode:p}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=o,_.tailMode=p)}function ly(r,s,o){var f=s.pendingProps,p=f.revealOrder,_=f.tail;if(bn(r,s,f.children,o),f=kn.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Nm(r,o,s);else if(r.tag===19)Nm(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(we(kn,f),p){case"forwards":for(o=s.child,p=null;o!==null;)r=o.alternate,r!==null&&Cc(r)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),Dm(s,!1,p,o,_);break;case"backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Cc(r)===null){s.child=p;break}r=p.sibling,p.sibling=o,o=p,p=r}Dm(s,!0,o,null,_);break;case"together":Dm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ba(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),lo|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(cc(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Br(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Br(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Ts(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&rh(r)))}function Hr(r,s,o){switch(s.tag){case 3:Nt(s,s.stateNode.containerInfo),xi(s,yn,r.memoizedState.cache),uc();break;case 27:case 5:Zt(s);break;case 4:Nt(s,s.stateNode.containerInfo);break;case 10:xi(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(es(s),s.flags|=128,null):(o&s.child.childLanes)!==0?oy(r,s,o):(es(s),r=ba(r,s,o),r!==null?r.sibling:null);es(s);break;case 19:var p=(r.flags&128)!==0;if(f=(o&s.childLanes)!==0,f||(cc(r,s,o,!1),f=(o&s.childLanes)!==0),p){if(f)return ly(r,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),we(kn,kn.current),f)break;return null;case 22:case 23:return s.lanes=0,Oc(r,s,o);case 24:xi(s,yn,r.memoizedState.cache)}return ba(r,s,o)}function Dh(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)cr=!0;else{if(!Ts(r,o)&&(s.flags&128)===0)return cr=!1,Hr(r,s,o);cr=(r.flags&131072)!==0}else cr=!1,Mt&&(s.flags&1048576)!==0&&Zd(s,ac,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var f=s.elementType,p=f._init;if(f=p(f._payload),s.type=f,typeof f=="function")$o(f)?(r=ro(f,r),s.tag=1,s=io(null,s,f,r,o)):(s.tag=0,s=Xl(null,s,f,r,o));else{if(f!=null){if(p=f.$$typeof,p===he){s.tag=11,s=Rh(null,s,f,r,o);break e}else if(p===D){s.tag=14,s=xh(null,s,f,r,o);break e}}throw s=Me(f)||f,Error(i(306,s,""))}}return s;case 0:return Xl(r,s,s.type,s.pendingProps,o);case 1:return f=s.type,p=ro(f,s.pendingProps),io(r,s,f,p,o);case 3:e:{if(Nt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));f=s.pendingProps;var _=s.memoizedState;p=_.element,Gl(r,s),Ir(s,f,null,o);var x=s.memoizedState;if(f=x.cache,xi(s,yn,f),f!==_.cache&&bt(s,[yn],o,!0),_s(),f=x.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=ay(r,s,f,o);break e}else if(f!==p){p=jr(Error(i(424)),s),Xa(p),s=ay(r,s,f,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(xn=bs(r.firstChild),Xn=s,Mt=!0,ys=null,ai=!0,o=Jg(s,null,f,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(uc(),f===p){s=ba(r,s,o);break e}bn(r,s,f,o)}s=s.child}return s;case 26:return Je(r,s),r===null?(o=iv(s.type,null,s.pendingProps,null))?s.memoizedState=o:Mt||(o=s.type,r=s.pendingProps,f=fl(qe.current).createElement(o),f[Se]=s,f[Oe]=r,tr(f,o,r),Lt(f),s.stateNode=f):s.memoizedState=iv(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Zt(s),r===null&&Mt&&(f=s.stateNode=tv(s.type,s.pendingProps,qe.current),Xn=s,ai=!0,p=xn,rs(s.type)?(ip=p,xn=bs(f.firstChild)):xn=p),bn(r,s,s.pendingProps.children,o),Je(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Mt&&((p=f=xn)&&(f=Jy(f,s.type,s.pendingProps,ai),f!==null?(s.stateNode=f,Xn=s,xn=bs(f.firstChild),ai=!1,p=!0):p=!1),p||Xi(s)),Zt(s),p=s.type,_=s.pendingProps,x=r!==null?r.memoizedProps:null,f=_.children,Yh(p,_)?f=null:x!==null&&Yh(p,x)&&(s.flags|=32),s.memoizedState!==null&&(p=am(r,s,om,null,null,o),gu._currentValue=p),Je(r,s),bn(r,s,f,o),s.child;case 6:return r===null&&Mt&&((r=o=xn)&&(o=Qh(o,s.pendingProps,ai),o!==null?(s.stateNode=o,Xn=s,xn=null,r=!0):r=!1),r||Xi(s)),null;case 13:return oy(r,s,o);case 4:return Nt(s,s.stateNode.containerInfo),f=s.pendingProps,r===null?s.child=al(s,null,f,o):bn(r,s,f,o),s.child;case 11:return Rh(r,s,s.type,s.pendingProps,o);case 7:return bn(r,s,s.pendingProps,o),s.child;case 8:return bn(r,s,s.pendingProps.children,o),s.child;case 12:return bn(r,s,s.pendingProps.children,o),s.child;case 10:return f=s.pendingProps,xi(s,s.type,f.value),bn(r,s,f.children,o),s.child;case 9:return p=s.type._context,f=s.pendingProps.children,Qo(s),p=Ln(p),f=f(p),s.flags|=1,bn(r,s,f,o),s.child;case 14:return xh(r,s,s.type,s.pendingProps,o);case 15:return Ch(r,s,s.type,s.pendingProps,o);case 19:return ly(r,s,o);case 31:return f=s.pendingProps,o=s.mode,f={mode:f.mode,children:f.children},r===null?(o=Pc(f,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Br(r.child,f),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return Oc(r,s,o);case 24:return Qo(s),f=Ln(yn),r===null?(p=ya(),p===null&&(p=Tn,_=em(),p.pooledCache=_,_.refCount++,_!==null&&(p.pooledCacheLanes|=o),p=_),s.memoizedState={parent:f,cache:p},Zo(s),xi(s,yn,p)):((r.lanes&o)!==0&&(Gl(r,s),Ir(s,null,null,o),_s()),p=r.memoizedState,_=s.memoizedState,p.parent!==f?(p={parent:f,cache:f},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),xi(s,yn,f)):(f=_.cache,xi(s,yn,f),f!==p.cache&&bt(s,[yn],o,!0))),bn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Sa(r){r.flags|=4}function Oh(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!nr(s)){if(s=Ii.current,s!==null&&((zt&4194048)===zt?zr!==null:(zt&62914560)!==zt&&(zt&536870912)===0||s!==zr))throw ql=nm,Mg;r.flags|=8192}}function Mh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Do():536870912,r.lanes|=s,iu|=s)}function Lc(r,s){if(!Mt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function vn(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,f=0;if(s)for(var p=r.child;p!==null;)o|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)o|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=f,r.childLanes=o,s}function uy(r,s,o){var f=s.pendingProps;switch(oc(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(s),null;case 1:return vn(s),null;case 3:return o=s.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Zi(yn),Mn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(lc(s)?Sa(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Cg())),vn(s),null;case 26:return o=s.memoizedState,r===null?(Sa(s),o!==null?(vn(s),Oh(s,o)):(vn(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Sa(s),vn(s),Oh(s,o)):(vn(s),s.flags&=-16777217):(r.memoizedProps!==f&&Sa(s),vn(s),s.flags&=-16777217),null;case 27:Sn(s),o=qe.current;var p=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==f&&Sa(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return vn(s),null}r=je.current,lc(s)?Rg(s):(r=tv(p,f,o),s.stateNode=r,Sa(s))}return vn(s),null;case 5:if(Sn(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==f&&Sa(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return vn(s),null}if(r=je.current,lc(s))Rg(s);else{switch(p=fl(qe.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?p.createElement("select",{is:f.is}):p.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?p.createElement(o,{is:f.is}):p.createElement(o)}}r[Se]=s,r[Oe]=f;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=r;e:switch(tr(r,o,f),o){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Sa(s)}}return vn(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==f&&Sa(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(i(166));if(r=qe.current,lc(s)){if(r=s.stateNode,o=s.memoizedProps,f=null,p=Xn,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}r[Se]=s,r=!!(r.nodeValue===o||f!==null&&f.suppressHydrationWarning===!0||Wy(r.nodeValue,o)),r||Xi(s)}else r=fl(r).createTextNode(f),r[Se]=s,s.stateNode=r}return vn(s),null;case 13:if(f=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=lc(s),f!==null&&f.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Se]=s}else uc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;vn(s),p=!1}else p=Cg(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?($s(s),s):($s(s),null)}if($s(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=f!==null,r=r!==null&&r.memoizedState!==null,o){f=s.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool);var _=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==p&&(f.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Mh(s,s.updateQueue),vn(s),null;case 4:return Mn(),r===null&&ep(s.stateNode.containerInfo),vn(s),null;case 10:return Zi(s.type),vn(s),null;case 19:if(Ne(kn),p=s.memoizedState,p===null)return vn(s),null;if(f=(s.flags&128)!==0,_=p.rendering,_===null)if(f)Lc(p,!1);else{if(Un!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(_=Cc(r),_!==null){for(s.flags|=128,Lc(p,!1),r=_.updateQueue,s.updateQueue=r,Mh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)sc(o,r),o=o.sibling;return we(kn,kn.current&1|2),s.child}r=r.sibling}p.tail!==null&&an()>su&&(s.flags|=128,f=!0,Lc(p,!1),s.lanes=4194304)}else{if(!f)if(r=Cc(_),r!==null){if(s.flags|=128,f=!0,r=r.updateQueue,s.updateQueue=r,Mh(s,r),Lc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Mt)return vn(s),null}else 2*an()-p.renderingStartTime>su&&o!==536870912&&(s.flags|=128,f=!0,Lc(p,!1),s.lanes=4194304);p.isBackwards?(_.sibling=s.child,s.child=_):(r=p.last,r!==null?r.sibling=_:s.child=_,p.last=_)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=an(),s.sibling=null,r=kn.current,we(kn,f?r&1|2:r&1),s):(vn(s),null);case 22:case 23:return $s(s),sm(),f=s.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(o&536870912)!==0&&(s.flags&128)===0&&(vn(s),s.subtreeFlags&6&&(s.flags|=8192)):vn(s),o=s.updateQueue,o!==null&&Mh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==o&&(s.flags|=2048),r!==null&&Ne(Xo),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Zi(yn),vn(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function cy(r,s){switch(oc(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Zi(yn),Mn(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Sn(s),null;case 13:if($s(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));uc()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ne(kn),null;case 4:return Mn(),null;case 10:return Zi(s.type),null;case 22:case 23:return $s(s),sm(),r!==null&&Ne(Xo),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Zi(yn),null;case 25:return null;default:return null}}function fy(r,s){switch(oc(s),s.tag){case 3:Zi(yn),Mn();break;case 26:case 27:case 5:Sn(s);break;case 4:Mn();break;case 13:$s(s);break;case 19:Ne(kn);break;case 10:Zi(s.type);break;case 22:case 23:$s(s),sm(),r!==null&&Ne(Xo);break;case 24:Zi(yn)}}function kc(r,s){try{var o=s.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var p=f.next;o=p;do{if((o.tag&r)===r){f=void 0;var _=o.create,x=o.inst;f=_(),x.destroy=f}o=o.next}while(o!==p)}}catch(P){_n(s,s.return,P)}}function so(r,s,o){try{var f=s.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var _=p.next;f=_;do{if((f.tag&r)===r){var x=f.inst,P=x.destroy;if(P!==void 0){x.destroy=void 0,p=s;var Y=o,ce=P;try{ce()}catch(Te){_n(p,Y,Te)}}}f=f.next}while(f!==_)}}catch(Te){_n(s,s.return,Te)}}function hy(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{im(s,o)}catch(f){_n(r,r.return,f)}}}function Om(r,s,o){o.props=ro(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(f){_n(r,s,f)}}function Zl(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof o=="function"?r.refCleanup=o(f):o.current=f}}catch(p){_n(r,s,p)}}function Ys(r,s){var o=r.ref,f=r.refCleanup;if(o!==null)if(typeof f=="function")try{f()}catch(p){_n(r,s,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){_n(r,s,p)}else o.current=null}function Ph(r){var s=r.type,o=r.memoizedProps,f=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&f.focus();break e;case"img":o.src?f.src=o.src:o.srcSet&&(f.srcset=o.srcSet)}}catch(p){_n(r,r.return,p)}}function Lh(r,s,o){try{var f=r.stateNode;F0(f,r.type,o,s),f[Oe]=s}catch(p){_n(r,r.return,p)}}function Jl(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&rs(r.type)||r.tag===4}function Uc(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Jl(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&rs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function kh(r,s,o){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=$h));else if(f!==4&&(f===27&&rs(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(kh(r,s,o),r=r.sibling;r!==null;)kh(r,s,o),r=r.sibling}function Vc(r,s,o){var f=r.tag;if(f===5||f===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(f!==4&&(f===27&&rs(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Vc(r,s,o),r=r.sibling;r!==null;)Vc(r,s,o),r=r.sibling}function jc(r){var s=r.stateNode,o=r.memoizedProps;try{for(var f=r.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);tr(s,f,o),s[Se]=r,s[Oe]=o}catch(_){_n(r,r.return,_)}}var Ws=!1,sn=!1,Aa=!1,dy=typeof WeakSet=="function"?WeakSet:Set,Jn=null;function x0(r,s){if(r=r.containerInfo,ws=ed,r=Sg(r),Yd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var f=o.getSelection&&o.getSelection();if(f&&f.rangeCount!==0){o=f.anchorNode;var p=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{o.nodeType,_.nodeType}catch{o=null;break e}var x=0,P=-1,Y=-1,ce=0,Te=0,Re=r,de=null;t:for(;;){for(var fe;Re!==o||p!==0&&Re.nodeType!==3||(P=x+p),Re!==_||f!==0&&Re.nodeType!==3||(Y=x+f),Re.nodeType===3&&(x+=Re.nodeValue.length),(fe=Re.firstChild)!==null;)de=Re,Re=fe;for(;;){if(Re===r)break t;if(de===o&&++ce===p&&(P=x),de===_&&++Te===f&&(Y=x),(fe=Re.nextSibling)!==null)break;Re=de,de=Re.parentNode}Re=fe}o=P===-1||Y===-1?null:{start:P,end:Y}}else o=null}o=o||{start:0,end:0}}else o=null;for(Kh={focusedElem:r,selectionRange:o},ed=!1,Jn=s;Jn!==null;)if(s=Jn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Jn=r;else for(;Jn!==null;){switch(s=Jn,_=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&_!==null){r=void 0,o=s,p=_.memoizedProps,_=_.memoizedState,f=o.stateNode;try{var at=ro(o.type,p,o.elementType===o.type);r=f.getSnapshotBeforeUpdate(at,_),f.__reactInternalSnapshotBeforeUpdate=r}catch(rt){_n(o,o.return,rt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)rp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":rp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Jn=r;break}Jn=s.return}}function my(r,s,o){var f=o.flags;switch(o.tag){case 0:case 11:case 15:ao(r,o),f&4&&kc(5,o);break;case 1:if(ao(r,o),f&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(x){_n(o,o.return,x)}else{var p=ro(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(p,s,r.__reactInternalSnapshotBeforeUpdate)}catch(x){_n(o,o.return,x)}}f&64&&hy(o),f&512&&Zl(o,o.return);break;case 3:if(ao(r,o),f&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{im(r,s)}catch(x){_n(o,o.return,x)}}break;case 27:s===null&&f&4&&jc(o);case 26:case 5:ao(r,o),s===null&&f&4&&Ph(o),f&512&&Zl(o,o.return);break;case 12:ao(r,o);break;case 13:ao(r,o),f&4&&yy(r,o),f&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=Fh.bind(null,o),fu(r,o))));break;case 22:if(f=o.memoizedState!==null||Ws,!f){s=s!==null&&s.memoizedState!==null||sn,p=Ws;var _=sn;Ws=f,(sn=s)&&!_?xa(r,o,(o.subtreeFlags&8772)!==0):ao(r,o),Ws=p,sn=_}break;case 30:break;default:ao(r,o)}}function py(r){var s=r.alternate;s!==null&&(r.alternate=null,py(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Ke(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Cn=null,hi=!1;function Ra(r,s,o){for(o=o.child;o!==null;)gy(r,s,o),o=o.sibling}function gy(r,s,o){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Ge,o)}catch{}switch(o.tag){case 26:sn||Ys(o,s),Ra(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:sn||Ys(o,s);var f=Cn,p=hi;rs(o.type)&&(Cn=o.stateNode,hi=!1),Ra(r,s,o),Qc(o.stateNode),Cn=f,hi=p;break;case 5:sn||Ys(o,s);case 6:if(f=Cn,p=hi,Cn=null,Ra(r,s,o),Cn=f,hi=p,Cn!==null)if(hi)try{(Cn.nodeType===9?Cn.body:Cn.nodeName==="HTML"?Cn.ownerDocument.body:Cn).removeChild(o.stateNode)}catch(_){_n(o,s,_)}else try{Cn.removeChild(o.stateNode)}catch(_){_n(o,s,_)}break;case 18:Cn!==null&&(hi?(r=Cn,Wh(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),sf(r)):Wh(Cn,o.stateNode));break;case 4:f=Cn,p=hi,Cn=o.stateNode.containerInfo,hi=!0,Ra(r,s,o),Cn=f,hi=p;break;case 0:case 11:case 14:case 15:sn||so(2,o,s),sn||so(4,o,s),Ra(r,s,o);break;case 1:sn||(Ys(o,s),f=o.stateNode,typeof f.componentWillUnmount=="function"&&Om(o,s,f)),Ra(r,s,o);break;case 21:Ra(r,s,o);break;case 22:sn=(f=sn)||o.memoizedState!==null,Ra(r,s,o),sn=f;break;default:Ra(r,s,o)}}function yy(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{sf(r)}catch(o){_n(s,s.return,o)}}function C0(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new dy),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new dy),s;default:throw Error(i(435,r.tag))}}function Mm(r,s){var o=C0(r);s.forEach(function(f){var p=P0.bind(null,r,f);o.has(f)||(o.add(f),f.then(p,p))})}function Ni(r,s){var o=s.deletions;if(o!==null)for(var f=0;f<o.length;f++){var p=o[f],_=r,x=s,P=x;e:for(;P!==null;){switch(P.tag){case 27:if(rs(P.type)){Cn=P.stateNode,hi=!1;break e}break;case 5:Cn=P.stateNode,hi=!1;break e;case 3:case 4:Cn=P.stateNode.containerInfo,hi=!0;break e}P=P.return}if(Cn===null)throw Error(i(160));gy(_,x,p),Cn=null,hi=!1,_=p.alternate,_!==null&&(_.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Pm(s,r),s=s.sibling}var ts=null;function Pm(r,s){var o=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ni(s,r),di(r),f&4&&(so(3,r,r.return),kc(3,r),so(5,r,r.return));break;case 1:Ni(s,r),di(r),f&512&&(sn||o===null||Ys(o,o.return)),f&64&&Ws&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?f:o.concat(f))));break;case 26:var p=ts;if(Ni(s,r),di(r),f&512&&(sn||o===null||Ys(o,o.return)),f&4){var _=o!==null?o.memoizedState:null;if(f=r.memoizedState,o===null)if(f===null)if(r.stateNode===null){e:{f=r.type,o=r.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":_=p.getElementsByTagName("title")[0],(!_||_[nt]||_[Se]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=p.createElement(f),p.head.insertBefore(_,p.querySelector("head > title"))),tr(_,f,o),_[Se]=r,Lt(_),f=_;break e;case"link":var x=ov("link","href",p).get(f+(o.href||""));if(x){for(var P=0;P<x.length;P++)if(_=x[P],_.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&_.getAttribute("rel")===(o.rel==null?null:o.rel)&&_.getAttribute("title")===(o.title==null?null:o.title)&&_.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(P,1);break t}}_=p.createElement(f),tr(_,f,o),p.head.appendChild(_);break;case"meta":if(x=ov("meta","content",p).get(f+(o.content||""))){for(P=0;P<x.length;P++)if(_=x[P],_.getAttribute("content")===(o.content==null?null:""+o.content)&&_.getAttribute("name")===(o.name==null?null:o.name)&&_.getAttribute("property")===(o.property==null?null:o.property)&&_.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&_.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(P,1);break t}}_=p.createElement(f),tr(_,f,o),p.head.appendChild(_);break;default:throw Error(i(468,f))}_[Se]=r,Lt(_),f=_}r.stateNode=f}else lv(p,r.type,r.stateNode);else r.stateNode=av(p,f,r.memoizedProps);else _!==f?(_===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):_.count--,f===null?lv(p,r.type,r.stateNode):av(p,f,r.memoizedProps)):f===null&&r.stateNode!==null&&Lh(r,r.memoizedProps,o.memoizedProps)}break;case 27:Ni(s,r),di(r),f&512&&(sn||o===null||Ys(o,o.return)),o!==null&&f&4&&Lh(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Ni(s,r),di(r),f&512&&(sn||o===null||Ys(o,o.return)),r.flags&32){p=r.stateNode;try{ni(p,"")}catch(fe){_n(r,r.return,fe)}}f&4&&r.stateNode!=null&&(p=r.memoizedProps,Lh(r,p,o!==null?o.memoizedProps:p)),f&1024&&(Aa=!0);break;case 6:if(Ni(s,r),di(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,o=r.stateNode;try{o.nodeValue=f}catch(fe){_n(r,r.return,fe)}}break;case 3:if(pu=null,p=ts,ts=pt(s.containerInfo),Ni(s,r),ts=p,di(r),f&4&&o!==null&&o.memoizedState.isDehydrated)try{sf(s.containerInfo)}catch(fe){_n(r,r.return,fe)}Aa&&(Aa=!1,vy(r));break;case 4:f=ts,ts=pt(r.stateNode.containerInfo),Ni(s,r),di(r),ts=f;break;case 12:Ni(s,r),di(r);break;case 13:Ni(s,r),di(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Fm=an()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Mm(r,f)));break;case 22:p=r.memoizedState!==null;var Y=o!==null&&o.memoizedState!==null,ce=Ws,Te=sn;if(Ws=ce||p,sn=Te||Y,Ni(s,r),sn=Te,Ws=ce,di(r),f&8192)e:for(s=r.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||Y||Ws||sn||ul(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){Y=o=s;try{if(_=Y.stateNode,p)x=_.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{P=Y.stateNode;var Re=Y.memoizedProps.style,de=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;P.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(fe){_n(Y,Y.return,fe)}}}else if(s.tag===6){if(o===null){Y=s;try{Y.stateNode.nodeValue=p?"":Y.memoizedProps}catch(fe){_n(Y,Y.return,fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=r.updateQueue,f!==null&&(o=f.retryQueue,o!==null&&(f.retryQueue=null,Mm(r,o))));break;case 19:Ni(s,r),di(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Mm(r,f)));break;case 30:break;case 21:break;default:Ni(s,r),di(r)}}function di(r){var s=r.flags;if(s&2){try{for(var o,f=r.return;f!==null;){if(Jl(f)){o=f;break}f=f.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,_=Uc(r);Vc(r,_,p);break;case 5:var x=o.stateNode;o.flags&32&&(ni(x,""),o.flags&=-33);var P=Uc(r);Vc(r,P,x);break;case 3:case 4:var Y=o.stateNode.containerInfo,ce=Uc(r);kh(r,ce,Y);break;default:throw Error(i(161))}}catch(Te){_n(r,r.return,Te)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function vy(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;vy(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function ao(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)my(r,s.alternate,s),s=s.sibling}function ul(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:so(4,s,s.return),ul(s);break;case 1:Ys(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Om(s,s.return,o),ul(s);break;case 27:Qc(s.stateNode);case 26:case 5:Ys(s,s.return),ul(s);break;case 22:s.memoizedState===null&&ul(s);break;case 30:ul(s);break;default:ul(s)}r=r.sibling}}function xa(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,p=r,_=s,x=_.flags;switch(_.tag){case 0:case 11:case 15:xa(p,_,o),kc(4,_);break;case 1:if(xa(p,_,o),f=_,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ce){_n(f,f.return,ce)}if(f=_,p=f.updateQueue,p!==null){var P=f.stateNode;try{var Y=p.shared.hiddenCallbacks;if(Y!==null)for(p.shared.hiddenCallbacks=null,p=0;p<Y.length;p++)Ug(Y[p],P)}catch(ce){_n(f,f.return,ce)}}o&&x&64&&hy(_),Zl(_,_.return);break;case 27:jc(_);case 26:case 5:xa(p,_,o),o&&f===null&&x&4&&Ph(_),Zl(_,_.return);break;case 12:xa(p,_,o);break;case 13:xa(p,_,o),o&&x&4&&yy(p,_);break;case 22:_.memoizedState===null&&xa(p,_,o),Zl(_,_.return);break;case 30:break;default:xa(p,_,o)}s=s.sibling}}function Lm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&fc(o))}function km(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&fc(r))}function Qs(r,s,o,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_y(r,s,o,f),s=s.sibling}function _y(r,s,o,f){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Qs(r,s,o,f),p&2048&&kc(9,s);break;case 1:Qs(r,s,o,f);break;case 3:Qs(r,s,o,f),p&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&fc(r)));break;case 12:if(p&2048){Qs(r,s,o,f),r=s.stateNode;try{var _=s.memoizedProps,x=_.id,P=_.onPostCommit;typeof P=="function"&&P(x,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Y){_n(s,s.return,Y)}}else Qs(r,s,o,f);break;case 13:Qs(r,s,o,f);break;case 23:break;case 22:_=s.stateNode,x=s.alternate,s.memoizedState!==null?_._visibility&2?Qs(r,s,o,f):Bc(r,s):_._visibility&2?Qs(r,s,o,f):(_._visibility|=2,eu(r,s,o,f,(s.subtreeFlags&10256)!==0)),p&2048&&Lm(x,s);break;case 24:Qs(r,s,o,f),p&2048&&km(s.alternate,s);break;default:Qs(r,s,o,f)}}function eu(r,s,o,f,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var _=r,x=s,P=o,Y=f,ce=x.flags;switch(x.tag){case 0:case 11:case 15:eu(_,x,P,Y,p),kc(8,x);break;case 23:break;case 22:var Te=x.stateNode;x.memoizedState!==null?Te._visibility&2?eu(_,x,P,Y,p):Bc(_,x):(Te._visibility|=2,eu(_,x,P,Y,p)),p&&ce&2048&&Lm(x.alternate,x);break;case 24:eu(_,x,P,Y,p),p&&ce&2048&&km(x.alternate,x);break;default:eu(_,x,P,Y,p)}s=s.sibling}}function Bc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,f=s,p=f.flags;switch(f.tag){case 22:Bc(o,f),p&2048&&Lm(f.alternate,f);break;case 24:Bc(o,f),p&2048&&km(f.alternate,f);break;default:Bc(o,f)}s=s.sibling}}var Dr=8192;function tu(r){if(r.subtreeFlags&Dr)for(r=r.child;r!==null;)Ey(r),r=r.sibling}function Ey(r){switch(r.tag){case 26:tu(r),r.flags&Dr&&r.memoizedState!==null&&J0(ts,r.memoizedState,r.memoizedProps);break;case 5:tu(r);break;case 3:case 4:var s=ts;ts=pt(r.stateNode.containerInfo),tu(r),ts=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Dr,Dr=16777216,tu(r),Dr=s):tu(r));break;default:tu(r)}}function Ty(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function nu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var f=s[o];Jn=f,by(f,r)}Ty(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)wy(r),r=r.sibling}function wy(r){switch(r.tag){case 0:case 11:case 15:nu(r),r.flags&2048&&so(9,r,r.return);break;case 3:nu(r);break;case 12:nu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Uh(r)):nu(r);break;default:nu(r)}}function Uh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var f=s[o];Jn=f,by(f,r)}Ty(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:so(8,s,s.return),Uh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Uh(s));break;default:Uh(s)}r=r.sibling}}function by(r,s){for(;Jn!==null;){var o=Jn;switch(o.tag){case 0:case 11:case 15:so(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var f=o.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:fc(o.memoizedState.cache)}if(f=o.child,f!==null)f.return=o,Jn=f;else e:for(o=r;Jn!==null;){f=Jn;var p=f.sibling,_=f.return;if(py(f),f===o){Jn=null;break e}if(p!==null){p.return=_,Jn=p;break e}Jn=_}}}var I0={getCacheForType:function(r){var s=Ln(yn),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},Um=typeof WeakMap=="function"?WeakMap:Map,un=0,Tn=null,xt=null,zt=0,cn=0,Di=null,oo=!1,ru=!1,Vm=!1,Ca=0,Un=0,lo=0,cl=0,jm=0,ns=0,iu=0,Fc=null,mi=null,Bm=!1,Fm=0,su=1/0,zc=null,uo=null,Er=0,co=null,au=null,ou=0,zm=0,Hm=null,Sy=null,lu=0,qm=null;function Or(){if((un&2)!==0&&zt!==0)return zt&-zt;if(se.T!==null){var r=Hl;return r!==0?r:qh()}return W()}function Ay(){ns===0&&(ns=(zt&536870912)===0||Mt?aa():536870912);var r=Ii.current;return r!==null&&(r.flags|=32),ns}function Oi(r,s,o){(r===Tn&&(cn===2||cn===9)||r.cancelPendingCommit!==null)&&(uu(r,0),fo(r,zt,ns,!1)),Fi(r,o),((un&2)===0||r!==Tn)&&(r===Tn&&((un&2)===0&&(cl|=o),Un===4&&fo(r,zt,ns,!1)),Xs(r))}function Ry(r,s,o){if((un&6)!==0)throw Error(i(327));var f=!o&&(s&124)===0&&(s&r.expiredLanes)===0||Zr(r,s),p=f?O0(r,s):Km(r,s,!0),_=f;do{if(p===0){ru&&!f&&fo(r,s,0,!1);break}else{if(o=r.current.alternate,_&&!N0(o)){p=Km(r,s,!1),_=!1;continue}if(p===2){if(_=s,r.errorRecoveryDisabledLanes&_)var x=0;else x=r.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var P=r;p=Fc;var Y=P.current.memoizedState.isDehydrated;if(Y&&(uu(P,x).flags|=256),x=Km(P,x,!1),x!==2){if(Vm&&!Y){P.errorRecoveryDisabledLanes|=_,cl|=_,p=4;break e}_=mi,mi=p,_!==null&&(mi===null?mi=_:mi.push.apply(mi,_))}p=x}if(_=!1,p!==2)continue}}if(p===1){uu(r,0),fo(r,s,0,!0);break}e:{switch(f=r,_=p,_){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:fo(f,s,ns,!oo);break e;case 2:mi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(p=Fm+300-an(),10<p)){if(fo(f,s,ns,!oo),fs(f,0,!0)!==0)break e;f.timeoutHandle=Qy(xy.bind(null,f,o,mi,zc,Bm,s,ns,cl,iu,oo,_,2,-0,0),p);break e}xy(f,o,mi,zc,Bm,s,ns,cl,iu,oo,_,0,-0,0)}}break}while(!0);Xs(r)}function xy(r,s,o,f,p,_,x,P,Y,ce,Te,Re,de,fe){if(r.timeoutHandle=-1,Re=s.subtreeFlags,(Re&8192||(Re&16785408)===16785408)&&(hr={stylesheets:null,count:0,unsuspend:Z0},Ey(s),Re=eE(),Re!==null)){r.cancelPendingCommit=Re(Hc.bind(null,r,s,_,o,f,p,x,P,Y,Te,1,de,fe)),fo(r,_,x,!ce);return}Hc(r,s,_,o,f,p,x,P,Y)}function N0(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var f=0;f<o.length;f++){var p=o[f],_=p.getSnapshot;p=p.value;try{if(!Ai(_(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fo(r,s,o,f){s&=~jm,s&=~cl,r.suspendedLanes|=s,r.pingedLanes&=~s,f&&(r.warmLanes|=s),f=r.expirationTimes;for(var p=s;0<p;){var _=31-Pn(p),x=1<<_;f[_]=-1,p&=~x}o!==0&&Lr(r,o,s)}function Vh(){return(un&6)===0?($c(0),!1):!0}function Gm(){if(xt!==null){if(cn===0)var r=xt.return;else r=xt,M=Za=null,uh(r),Zn=null,fi=0,r=xt;for(;r!==null;)fy(r.alternate,r),r=r.return;xt=null}}function uu(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,H0(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Gm(),Tn=r,xt=o=Br(r.current,null),zt=s,cn=0,Di=null,oo=!1,ru=Zr(r,s),Vm=!1,iu=ns=jm=cl=lo=Un=0,mi=Fc=null,Bm=!1,(s&8)!==0&&(s|=s&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=s;0<f;){var p=31-Pn(f),_=1<<p;s|=r[p],f&=~_}return Ca=s,Ho(),o}function Cy(r,s){Et=null,se.H=Rc,s===Fr||s===ah?(s=Lg(),cn=3):s===Mg?(s=Lg(),cn=4):cn=s===sy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Di=s,xt===null&&(Un=1,Dc(r,jr(s,r.current)))}function Iy(){var r=se.H;return se.H=Rc,r===null?Rc:r}function Ny(){var r=se.A;return se.A=I0,r}function $m(){Un=4,oo||(zt&4194048)!==zt&&Ii.current!==null||(ru=!0),(lo&134217727)===0&&(cl&134217727)===0||Tn===null||fo(Tn,zt,ns,!1)}function Km(r,s,o){var f=un;un|=2;var p=Iy(),_=Ny();(Tn!==r||zt!==s)&&(zc=null,uu(r,s)),s=!1;var x=Un;e:do try{if(cn!==0&&xt!==null){var P=xt,Y=Di;switch(cn){case 8:Gm(),x=6;break e;case 3:case 2:case 9:case 6:Ii.current===null&&(s=!0);var ce=cn;if(cn=0,Di=null,cu(r,P,Y,ce),o&&ru){x=0;break e}break;default:ce=cn,cn=0,Di=null,cu(r,P,Y,ce)}}D0(),x=Un;break}catch(Te){Cy(r,Te)}while(!0);return s&&r.shellSuspendCounter++,M=Za=null,un=f,se.H=p,se.A=_,xt===null&&(Tn=null,zt=0,Ho()),x}function D0(){for(;xt!==null;)Ym(xt)}function O0(r,s){var o=un;un|=2;var f=Iy(),p=Ny();Tn!==r||zt!==s?(zc=null,su=an()+500,uu(r,s)):ru=Zr(r,s);e:do try{if(cn!==0&&xt!==null){s=xt;var _=Di;t:switch(cn){case 1:cn=0,Di=null,cu(r,s,_,1);break;case 2:case 9:if(Pg(_)){cn=0,Di=null,Oy(s);break}s=function(){cn!==2&&cn!==9||Tn!==r||(cn=7),Xs(r)},_.then(s,s);break e;case 3:cn=7;break e;case 4:cn=5;break e;case 7:Pg(_)?(cn=0,Di=null,Oy(s)):(cn=0,Di=null,cu(r,s,_,7));break;case 5:var x=null;switch(xt.tag){case 26:x=xt.memoizedState;case 5:case 27:var P=xt;if(!x||nr(x)){cn=0,Di=null;var Y=P.sibling;if(Y!==null)xt=Y;else{var ce=P.return;ce!==null?(xt=ce,jh(ce)):xt=null}break t}}cn=0,Di=null,cu(r,s,_,5);break;case 6:cn=0,Di=null,cu(r,s,_,6);break;case 8:Gm(),Un=6;break e;default:throw Error(i(462))}}Dy();break}catch(Te){Cy(r,Te)}while(!0);return M=Za=null,se.H=f,se.A=p,un=o,xt!==null?0:(Tn=null,zt=0,Ho(),Un)}function Dy(){for(;xt!==null&&!Dt();)Ym(xt)}function Ym(r){var s=Dh(r.alternate,r,Ca);r.memoizedProps=r.pendingProps,s===null?jh(r):xt=s}function Oy(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=Ih(o,s,s.pendingProps,s.type,void 0,zt);break;case 11:s=Ih(o,s,s.pendingProps,s.type.render,s.ref,zt);break;case 5:uh(s);default:fy(o,s),s=xt=sc(s,Ca),s=Dh(o,s,Ca)}r.memoizedProps=r.pendingProps,s===null?jh(r):xt=s}function cu(r,s,o,f){M=Za=null,uh(s),Zn=null,fi=0;var p=s.return;try{if(iy(r,p,s,o,zt)){Un=1,Dc(r,jr(o,r.current)),xt=null;return}}catch(_){if(p!==null)throw xt=p,_;Un=1,Dc(r,jr(o,r.current)),xt=null;return}s.flags&32768?(Mt||f===1?r=!0:ru||(zt&536870912)!==0?r=!1:(oo=r=!0,(f===2||f===9||f===3||f===6)&&(f=Ii.current,f!==null&&f.tag===13&&(f.flags|=16384))),My(s,r)):jh(s)}function jh(r){var s=r;do{if((s.flags&32768)!==0){My(s,oo);return}r=s.return;var o=uy(s.alternate,s,Ca);if(o!==null){xt=o;return}if(s=s.sibling,s!==null){xt=s;return}xt=s=r}while(s!==null);Un===0&&(Un=5)}function My(r,s){do{var o=cy(r.alternate,r);if(o!==null){o.flags&=32767,xt=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){xt=r;return}xt=r=o}while(r!==null);Un=6,xt=null}function Hc(r,s,o,f,p,_,x,P,Y){r.cancelPendingCommit=null;do Bh();while(Er!==0);if((un&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(_=s.lanes|s.childLanes,_|=Qd,za(r,o,_,x,P,Y),r===Tn&&(xt=Tn=null,zt=0),au=s,co=r,ou=o,zm=_,Hm=p,Sy=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Fy(Bn,function(){return Vy(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=se.T,se.T=null,p=me.p,me.p=2,x=un,un|=4;try{x0(r,s,o)}finally{un=x,me.p=p,se.T=f}}Er=1,Py(),Ly(),ky()}}function Py(){if(Er===1){Er=0;var r=co,s=au,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=se.T,se.T=null;var f=me.p;me.p=2;var p=un;un|=4;try{Pm(s,r);var _=Kh,x=Sg(r.containerInfo),P=_.focusedElem,Y=_.selectionRange;if(x!==P&&P&&P.ownerDocument&&bg(P.ownerDocument.documentElement,P)){if(Y!==null&&Yd(P)){var ce=Y.start,Te=Y.end;if(Te===void 0&&(Te=ce),"selectionStart"in P)P.selectionStart=ce,P.selectionEnd=Math.min(Te,P.value.length);else{var Re=P.ownerDocument||document,de=Re&&Re.defaultView||window;if(de.getSelection){var fe=de.getSelection(),at=P.textContent.length,rt=Math.min(Y.start,at),hn=Y.end===void 0?rt:Math.min(Y.end,at);!fe.extend&&rt>hn&&(x=hn,hn=rt,rt=x);var re=Kd(P,rt),J=Kd(P,hn);if(re&&J&&(fe.rangeCount!==1||fe.anchorNode!==re.node||fe.anchorOffset!==re.offset||fe.focusNode!==J.node||fe.focusOffset!==J.offset)){var le=Re.createRange();le.setStart(re.node,re.offset),fe.removeAllRanges(),rt>hn?(fe.addRange(le),fe.extend(J.node,J.offset)):(le.setEnd(J.node,J.offset),fe.addRange(le))}}}}for(Re=[],fe=P;fe=fe.parentNode;)fe.nodeType===1&&Re.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<Re.length;P++){var be=Re[P];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}ed=!!ws,Kh=ws=null}finally{un=p,me.p=f,se.T=o}}r.current=s,Er=2}}function Ly(){if(Er===2){Er=0;var r=co,s=au,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=se.T,se.T=null;var f=me.p;me.p=2;var p=un;un|=4;try{my(r,s.alternate,s)}finally{un=p,me.p=f,se.T=o}}Er=3}}function ky(){if(Er===4||Er===3){Er=0,us();var r=co,s=au,o=ou,f=Sy;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Er=5:(Er=0,au=co=null,Uy(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(uo=null),oa(o),s=s.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Ge,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=se.T,p=me.p,me.p=2,se.T=null;try{for(var _=r.onRecoverableError,x=0;x<f.length;x++){var P=f[x];_(P.value,{componentStack:P.stack})}}finally{se.T=s,me.p=p}}(ou&3)!==0&&Bh(),Xs(r),p=r.pendingLanes,(o&4194090)!==0&&(p&42)!==0?r===qm?lu++:(lu=0,qm=r):lu=0,$c(0)}}function Uy(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,fc(s)))}function Bh(r){return Py(),Ly(),ky(),Vy()}function Vy(){if(Er!==5)return!1;var r=co,s=zm;zm=0;var o=oa(ou),f=se.T,p=me.p;try{me.p=32>o?32:o,se.T=null,o=Hm,Hm=null;var _=co,x=ou;if(Er=0,au=co=null,ou=0,(un&6)!==0)throw Error(i(331));var P=un;if(un|=4,wy(_.current),_y(_,_.current,x,o),un=P,$c(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Ge,_)}catch{}return!0}finally{me.p=p,se.T=f,Uy(r,s)}}function jy(r,s,o){s=jr(o,s),s=Ah(r.stateNode,s,2),r=va(r,s,2),r!==null&&(Fi(r,2),Xs(r))}function _n(r,s,o){if(r.tag===3)jy(r,r,o);else for(;s!==null;){if(s.tag===3){jy(s,r,o);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(uo===null||!uo.has(f))){r=jr(o,r),o=xm(2),f=va(s,o,2),f!==null&&(ry(o,f,s,r),Fi(f,2),Xs(f));break}}s=s.return}}function Wm(r,s,o){var f=r.pingCache;if(f===null){f=r.pingCache=new Um;var p=new Set;f.set(s,p)}else p=f.get(s),p===void 0&&(p=new Set,f.set(s,p));p.has(o)||(Vm=!0,p.add(o),r=M0.bind(null,r,s,o),s.then(r,r))}function M0(r,s,o){var f=r.pingCache;f!==null&&f.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Tn===r&&(zt&o)===o&&(Un===4||Un===3&&(zt&62914560)===zt&&300>an()-Fm?(un&2)===0&&uu(r,0):jm|=o,iu===zt&&(iu=0)),Xs(r)}function By(r,s){s===0&&(s=Do()),r=qo(r,s),r!==null&&(Fi(r,s),Xs(r))}function Fh(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),By(r,o)}function P0(r,s){var o=0;switch(r.tag){case 13:var f=r.stateNode,p=r.memoizedState;p!==null&&(o=p.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(s),By(r,o)}function Fy(r,s){return Ar(r,s)}var qc=null,ho=null,zh=!1,Gc=!1,Hh=!1,mo=0;function Xs(r){r!==ho&&r.next===null&&(ho===null?qc=ho=r:ho=ho.next=r),Gc=!0,zh||(zh=!0,Qm())}function $c(r,s){if(!Hh&&Gc){Hh=!0;do for(var o=!1,f=qc;f!==null;){if(r!==0){var p=f.pendingLanes;if(p===0)var _=0;else{var x=f.suspendedLanes,P=f.pingedLanes;_=(1<<31-Pn(42|r)+1)-1,_&=p&~(x&~P),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(o=!0,Hy(f,_))}else _=zt,_=fs(f,f===Tn?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(_&3)===0||Zr(f,_)||(o=!0,Hy(f,_));f=f.next}while(o);Hh=!1}}function L0(){Kc()}function Kc(){Gc=zh=!1;var r=0;mo!==0&&(z0()&&(r=mo),mo=0);for(var s=an(),o=null,f=qc;f!==null;){var p=f.next,_=Yc(f,s);_===0?(f.next=null,o===null?qc=p:o.next=p,p===null&&(ho=o)):(o=f,(r!==0||(_&3)!==0)&&(Gc=!0)),f=p}$c(r)}function Yc(r,s){for(var o=r.suspendedLanes,f=r.pingedLanes,p=r.expirationTimes,_=r.pendingLanes&-62914561;0<_;){var x=31-Pn(_),P=1<<x,Y=p[x];Y===-1?((P&o)===0||(P&f)!==0)&&(p[x]=Fa(P,s)):Y<=s&&(r.expiredLanes|=P),_&=~P}if(s=Tn,o=zt,o=fs(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,o===0||r===s&&(cn===2||cn===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&Wt(f),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Zr(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(f!==null&&Wt(f),oa(o)){case 2:case 8:o=Wr;break;case 32:o=Bn;break;case 268435456:o=vr;break;default:o=Bn}return f=zy.bind(null,r),o=Ar(o,f),r.callbackPriority=s,r.callbackNode=o,s}return f!==null&&f!==null&&Wt(f),r.callbackPriority=2,r.callbackNode=null,2}function zy(r,s){if(Er!==0&&Er!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Bh()&&r.callbackNode!==o)return null;var f=zt;return f=fs(r,r===Tn?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(Ry(r,f,s),Yc(r,an()),r.callbackNode!=null&&r.callbackNode===o?zy.bind(null,r):null)}function Hy(r,s){if(Bh())return null;Ry(r,s,!0)}function Qm(){q0(function(){(un&6)!==0?Ar(sa,L0):Kc()})}function qh(){return mo===0&&(mo=aa()),mo}function qy(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Oo(""+r)}function Gy(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function k0(r,s,o,f,p){if(s==="submit"&&o&&o.stateNode===p){var _=qy((p[Oe]||null).action),x=f.submitter;x&&(s=(s=x[Oe]||null)?qy(s.formAction):x.getAttribute("formAction"),s!==null&&(_=s,x=null));var P=new Dl("action","action",null,f,p);r.push({event:P,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(mo!==0){var Y=x?Gy(p,x):new FormData(p);Sc(o,{pending:!0,data:Y,method:p.method,action:_},null,Y)}}else typeof _=="function"&&(P.preventDefault(),Y=x?Gy(p,x):new FormData(p),Sc(o,{pending:!0,data:Y,method:p.method,action:_},_,Y))},currentTarget:p}]})}}for(var Xm=0;Xm<en.length;Xm++){var Zm=en[Xm],U0=Zm.toLowerCase(),V0=Zm[0].toUpperCase()+Zm.slice(1);ps(U0,"on"+V0)}ps(Zf,"onAnimationEnd"),ps(Ag,"onAnimationIteration"),ps(Ri,"onAnimationStart"),ps("dblclick","onDoubleClick"),ps("focusin","onFocus"),ps("focusout","onBlur"),ps(Jf,"onTransitionRun"),ps(E0,"onTransitionStart"),ps(Vl,"onTransitionCancel"),ps(tc,"onTransitionEnd"),kr("onMouseEnter",["mouseout","mouseover"]),kr("onMouseLeave",["mouseout","mouseover"]),kr("onPointerEnter",["pointerout","pointerover"]),kr("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wc));function $y(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var f=r[o],p=f.event;f=f.listeners;e:{var _=void 0;if(s)for(var x=f.length-1;0<=x;x--){var P=f[x],Y=P.instance,ce=P.currentTarget;if(P=P.listener,Y!==_&&p.isPropagationStopped())break e;_=P,p.currentTarget=ce;try{_(p)}catch(Te){ol(Te)}p.currentTarget=null,_=Y}else for(x=0;x<f.length;x++){if(P=f[x],Y=P.instance,ce=P.currentTarget,P=P.listener,Y!==_&&p.isPropagationStopped())break e;_=P,p.currentTarget=ce;try{_(p)}catch(Te){ol(Te)}p.currentTarget=null,_=Y}}}}function Ct(r,s){var o=s[et];o===void 0&&(o=s[et]=new Set);var f=r+"__bubble";o.has(f)||(Ky(s,r,2,!1),o.add(f))}function Jm(r,s,o){var f=0;s&&(f|=4),Ky(o,r,f,s)}var pi="_reactListening"+Math.random().toString(36).slice(2);function ep(r){if(!r[pi]){r[pi]=!0,wt.forEach(function(o){o!=="selectionchange"&&(j0.has(o)||Jm(o,!1,r),Jm(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[pi]||(s[pi]=!0,Jm("selectionchange",!1,s))}}function Ky(r,s,o,f){switch(hv(s)){case 2:var p=rE;break;case 8:p=yu;break;default:p=cp}o=p.bind(null,s,o,r),p=void 0,!ri||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),f?p!==void 0?r.addEventListener(s,o,{capture:!0,passive:p}):r.addEventListener(s,o,!0):p!==void 0?r.addEventListener(s,o,{passive:p}):r.addEventListener(s,o,!1)}function Ia(r,s,o,f,p){var _=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var x=f.tag;if(x===3||x===4){var P=f.stateNode.containerInfo;if(P===p)break;if(x===4)for(x=f.return;x!==null;){var Y=x.tag;if((Y===3||Y===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;P!==null;){if(x=st(P),x===null)return;if(Y=x.tag,Y===5||Y===6||Y===26||Y===27){f=_=x;continue e}P=P.parentNode}}f=f.return}zf(function(){var ce=_,Te=Gi(o),Re=[];e:{var de=nc.get(r);if(de!==void 0){var fe=Dl,at=r;switch(r){case"keypress":if(Ft(o)===0)break e;case"keydown":case"keyup":fe=$a;break;case"focusin":at="focus",fe=Uo;break;case"focusout":at="blur",fe=Uo;break;case"beforeblur":case"afterblur":fe=Uo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=or;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=$f;break;case Zf:case Ag:case Ri:fe=Vo;break;case tc:fe=Kf;break;case"scroll":case"scrollend":fe=Hf;break;case"wheel":fe=kl;break;case"copy":case"cut":case"paste":fe=jo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=$i;break;case"toggle":case"beforetoggle":fe=zo}var rt=(s&4)!==0,hn=!rt&&(r==="scroll"||r==="scrollend"),re=rt?de!==null?de+"Capture":null:de;rt=[];for(var J=ce,le;J!==null;){var be=J;if(le=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||le===null||re===null||(be=Mo(J,re),be!=null&&rt.push(ht(J,be,le))),hn)break;J=J.return}0<rt.length&&(de=new fe(de,at,null,o,Te),Re.push({event:de,listeners:rt}))}}if((s&7)===0){e:{if(de=r==="mouseover"||r==="pointerover",fe=r==="mouseout"||r==="pointerout",de&&o!==js&&(at=o.relatedTarget||o.fromElement)&&(st(at)||at[Be]))break e;if((fe||de)&&(de=Te.window===Te?Te:(de=Te.ownerDocument)?de.defaultView||de.parentWindow:window,fe?(at=o.relatedTarget||o.toElement,fe=ce,at=at?st(at):null,at!==null&&(hn=u(at),rt=at.tag,at!==hn||rt!==5&&rt!==27&&rt!==6)&&(at=null)):(fe=null,at=ce),fe!==at)){if(rt=or,be="onMouseLeave",re="onMouseEnter",J="mouse",(r==="pointerout"||r==="pointerover")&&(rt=$i,be="onPointerLeave",re="onPointerEnter",J="pointer"),hn=fe==null?de:Jt(fe),le=at==null?de:Jt(at),de=new rt(be,J+"leave",fe,o,Te),de.target=hn,de.relatedTarget=le,be=null,st(Te)===ce&&(rt=new rt(re,J+"enter",at,o,Te),rt.target=le,rt.relatedTarget=hn,be=rt),hn=be,fe&&at)t:{for(rt=fe,re=at,J=0,le=rt;le;le=er(le))J++;for(le=0,be=re;be;be=er(be))le++;for(;0<J-le;)rt=er(rt),J--;for(;0<le-J;)re=er(re),le--;for(;J--;){if(rt===re||re!==null&&rt===re.alternate)break t;rt=er(rt),re=er(re)}rt=null}else rt=null;fe!==null&&Vn(Re,de,fe,rt,!1),at!==null&&hn!==null&&Vn(Re,hn,at,rt,!0)}}e:{if(de=ce?Jt(ce):window,fe=de.nodeName&&de.nodeName.toLowerCase(),fe==="select"||fe==="input"&&de.type==="file")var ze=vg;else if(zn(de))if(_g)ze=y0;else{ze=Ya;var St=wg}else fe=de.nodeName,!fe||fe.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ce&&Yu(ce.elementType)&&(ze=vg):ze=Xf;if(ze&&(ze=ze(r,ce))){Si(Re,ze,o,Te);break e}St&&St(r,de,ce),r==="focusout"&&ce&&de.type==="number"&&ce.memoizedProps.value!=null&&Vs(de,"number",de.value)}switch(St=ce?Jt(ce):window,r){case"focusin":(zn(St)||St.contentEditable==="true")&&(Ul=St,Wa=ce,te=null);break;case"focusout":te=Wa=Ul=null;break;case"mousedown":Ee=!0;break;case"contextmenu":case"mouseup":case"dragend":Ee=!1,ge(Re,o,Te);break;case"selectionchange":if(_0)break;case"keydown":case"keyup":ge(Re,o,Te)}var Ze;if(zs)e:{switch(r){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Ot?ye(r,o)&&(ot="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(ot="onCompositionStart");ot&&(R&&o.locale!=="ko"&&(Ot||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Ot&&(Ze=Wu()):(Fs=Te,Ga="value"in Fs?Fs.value:Fs.textContent,Ot=!0)),St=Gh(ce,ot),0<St.length&&(ot=new _r(ot,r,null,o,Te),Re.push({event:ot,listeners:St}),Ze?ot.data=Ze:(Ze=Le(o),Ze!==null&&(ot.data=Ze)))),(Ze=T?Qn(r,o):Ut(r,o))&&(ot=Gh(ce,"onBeforeInput"),0<ot.length&&(St=new _r("onBeforeInput","beforeinput",null,o,Te),Re.push({event:St,listeners:ot}),St.data=Ze)),k0(Re,r,ce,o,Te)}$y(Re,s)})}function ht(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Gh(r,s){for(var o=s+"Capture",f=[];r!==null;){var p=r,_=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||_===null||(p=Mo(r,o),p!=null&&f.unshift(ht(r,p,_)),p=Mo(r,s),p!=null&&f.push(ht(r,p,_))),r.tag===3)return f;r=r.return}return[]}function er(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Vn(r,s,o,f,p){for(var _=s._reactName,x=[];o!==null&&o!==f;){var P=o,Y=P.alternate,ce=P.stateNode;if(P=P.tag,Y!==null&&Y===f)break;P!==5&&P!==26&&P!==27||ce===null||(Y=ce,p?(ce=Mo(o,_),ce!=null&&x.unshift(ht(o,ce,Y))):p||(ce=Mo(o,_),ce!=null&&x.push(ht(o,ce,Y)))),o=o.return}x.length!==0&&r.push({event:s,listeners:x})}var B0=/\r\n?/g,po=/\u0000|\uFFFD/g;function Yy(r){return(typeof r=="string"?r:""+r).replace(B0,`
`).replace(po,"")}function Wy(r,s){return s=Yy(s),Yy(r)===s}function $h(){}function fn(r,s,o,f,p,_){switch(o){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||ni(r,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&ni(r,""+f);break;case"className":Ur(r,"class",f);break;case"tabIndex":Ur(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ur(r,o,f);break;case"style":Il(r,f,_);break;case"data":if(s!=="object"){Ur(r,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(o);break}f=Oo(""+f),r.setAttribute(o,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(o==="formAction"?(s!=="input"&&fn(r,s,"name",p.name,p,null),fn(r,s,"formEncType",p.formEncType,p,null),fn(r,s,"formMethod",p.formMethod,p,null),fn(r,s,"formTarget",p.formTarget,p,null)):(fn(r,s,"encType",p.encType,p,null),fn(r,s,"method",p.method,p,null),fn(r,s,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(o);break}f=Oo(""+f),r.setAttribute(o,f);break;case"onClick":f!=null&&(r.onclick=$h);break;case"onScroll":f!=null&&Ct("scroll",r);break;case"onScrollEnd":f!=null&&Ct("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(o=f.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}o=Oo(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(o,""+f):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":f===!0?r.setAttribute(o,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(o,f):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(o,f):r.removeAttribute(o);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(o):r.setAttribute(o,f);break;case"popover":Ct("beforetoggle",r),Ct("toggle",r),xr(r,"popover",f);break;case"xlinkActuate":ft(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":ft(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":ft(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":ft(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":ft(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":ft(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":ft(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":ft(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":ft(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":xr(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Bf.get(o)||o,xr(r,o,f))}}function tp(r,s,o,f,p,_){switch(o){case"style":Il(r,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(o=f.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof f=="string"?ni(r,f):(typeof f=="number"||typeof f=="bigint")&&ni(r,""+f);break;case"onScroll":f!=null&&Ct("scroll",r);break;case"onScrollEnd":f!=null&&Ct("scrollend",r);break;case"onClick":f!=null&&(r.onclick=$h);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zi.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),_=r[Oe]||null,_=_!=null?_[o]:null,typeof _=="function"&&r.removeEventListener(s,_,p),typeof f=="function")){typeof _!="function"&&_!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,f,p);break e}o in r?r[o]=f:f===!0?r.setAttribute(o,""):xr(r,o,f)}}}function tr(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",r),Ct("load",r);var f=!1,p=!1,_;for(_ in o)if(o.hasOwnProperty(_)){var x=o[_];if(x!=null)switch(_){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:fn(r,s,_,x,o,null)}}p&&fn(r,s,"srcSet",o.srcSet,o,null),f&&fn(r,s,"src",o.src,o,null);return;case"input":Ct("invalid",r);var P=_=x=p=null,Y=null,ce=null;for(f in o)if(o.hasOwnProperty(f)){var Te=o[f];if(Te!=null)switch(f){case"name":p=Te;break;case"type":x=Te;break;case"checked":Y=Te;break;case"defaultChecked":ce=Te;break;case"value":_=Te;break;case"defaultValue":P=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(i(137,s));break;default:fn(r,s,f,Te,o,null)}}qa(r,_,P,Y,ce,x,p,!1),xl(r);return;case"select":Ct("invalid",r),f=x=_=null;for(p in o)if(o.hasOwnProperty(p)&&(P=o[p],P!=null))switch(p){case"value":_=P;break;case"defaultValue":x=P;break;case"multiple":f=P;default:fn(r,s,p,P,o,null)}s=_,o=x,r.multiple=!!f,s!=null?la(r,!!f,s,!1):o!=null&&la(r,!!f,o,!0);return;case"textarea":Ct("invalid",r),_=p=f=null;for(x in o)if(o.hasOwnProperty(x)&&(P=o[x],P!=null))switch(x){case"value":f=P;break;case"defaultValue":p=P;break;case"children":_=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(91));break;default:fn(r,s,x,P,o,null)}ua(r,f,p,_),xl(r);return;case"option":for(Y in o)if(o.hasOwnProperty(Y)&&(f=o[Y],f!=null))switch(Y){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:fn(r,s,Y,f,o,null)}return;case"dialog":Ct("beforetoggle",r),Ct("toggle",r),Ct("cancel",r),Ct("close",r);break;case"iframe":case"object":Ct("load",r);break;case"video":case"audio":for(f=0;f<Wc.length;f++)Ct(Wc[f],r);break;case"image":Ct("error",r),Ct("load",r);break;case"details":Ct("toggle",r);break;case"embed":case"source":case"link":Ct("error",r),Ct("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in o)if(o.hasOwnProperty(ce)&&(f=o[ce],f!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:fn(r,s,ce,f,o,null)}return;default:if(Yu(s)){for(Te in o)o.hasOwnProperty(Te)&&(f=o[Te],f!==void 0&&tp(r,s,Te,f,o,void 0));return}}for(P in o)o.hasOwnProperty(P)&&(f=o[P],f!=null&&fn(r,s,P,f,o,null))}function F0(r,s,o,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,_=null,x=null,P=null,Y=null,ce=null,Te=null;for(fe in o){var Re=o[fe];if(o.hasOwnProperty(fe)&&Re!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":Y=Re;default:f.hasOwnProperty(fe)||fn(r,s,fe,null,f,Re)}}for(var de in f){var fe=f[de];if(Re=o[de],f.hasOwnProperty(de)&&(fe!=null||Re!=null))switch(de){case"type":_=fe;break;case"name":p=fe;break;case"checked":ce=fe;break;case"defaultChecked":Te=fe;break;case"value":x=fe;break;case"defaultValue":P=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,s));break;default:fe!==Re&&fn(r,s,de,fe,f,Re)}}ti(r,x,P,Y,ce,Te,_,p);return;case"select":fe=x=P=de=null;for(_ in o)if(Y=o[_],o.hasOwnProperty(_)&&Y!=null)switch(_){case"value":break;case"multiple":fe=Y;default:f.hasOwnProperty(_)||fn(r,s,_,null,f,Y)}for(p in f)if(_=f[p],Y=o[p],f.hasOwnProperty(p)&&(_!=null||Y!=null))switch(p){case"value":de=_;break;case"defaultValue":P=_;break;case"multiple":x=_;default:_!==Y&&fn(r,s,p,_,f,Y)}s=P,o=x,f=fe,de!=null?la(r,!!o,de,!1):!!f!=!!o&&(s!=null?la(r,!!o,s,!0):la(r,!!o,o?[]:"",!1));return;case"textarea":fe=de=null;for(P in o)if(p=o[P],o.hasOwnProperty(P)&&p!=null&&!f.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:fn(r,s,P,null,f,p)}for(x in f)if(p=f[x],_=o[x],f.hasOwnProperty(x)&&(p!=null||_!=null))switch(x){case"value":de=p;break;case"defaultValue":fe=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==_&&fn(r,s,x,p,f,_)}on(r,de,fe);return;case"option":for(var at in o)if(de=o[at],o.hasOwnProperty(at)&&de!=null&&!f.hasOwnProperty(at))switch(at){case"selected":r.selected=!1;break;default:fn(r,s,at,null,f,de)}for(Y in f)if(de=f[Y],fe=o[Y],f.hasOwnProperty(Y)&&de!==fe&&(de!=null||fe!=null))switch(Y){case"selected":r.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:fn(r,s,Y,de,f,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in o)de=o[rt],o.hasOwnProperty(rt)&&de!=null&&!f.hasOwnProperty(rt)&&fn(r,s,rt,null,f,de);for(ce in f)if(de=f[ce],fe=o[ce],f.hasOwnProperty(ce)&&de!==fe&&(de!=null||fe!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,s));break;default:fn(r,s,ce,de,f,fe)}return;default:if(Yu(s)){for(var hn in o)de=o[hn],o.hasOwnProperty(hn)&&de!==void 0&&!f.hasOwnProperty(hn)&&tp(r,s,hn,void 0,f,de);for(Te in f)de=f[Te],fe=o[Te],!f.hasOwnProperty(Te)||de===fe||de===void 0&&fe===void 0||tp(r,s,Te,de,f,fe);return}}for(var re in o)de=o[re],o.hasOwnProperty(re)&&de!=null&&!f.hasOwnProperty(re)&&fn(r,s,re,null,f,de);for(Re in f)de=f[Re],fe=o[Re],!f.hasOwnProperty(Re)||de===fe||de==null&&fe==null||fn(r,s,Re,de,f,fe)}var ws=null,Kh=null;function fl(r){return r.nodeType===9?r:r.ownerDocument}function In(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dn(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Yh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var np=null;function z0(){var r=window.event;return r&&r.type==="popstate"?r===np?!1:(np=r,!0):(np=null,!1)}var Qy=typeof setTimeout=="function"?setTimeout:void 0,H0=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,q0=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(r){return Xy.resolve(null).then(r).catch(Zy)}:Qy;function Zy(r){setTimeout(function(){throw r})}function rs(r){return r==="head"}function Wh(r,s){var o=s,f=0,p=0;do{var _=o.nextSibling;if(r.removeChild(o),_&&_.nodeType===8)if(o=_.data,o==="/$"){if(0<f&&8>f){o=f;var x=r.ownerDocument;if(o&1&&Qc(x.documentElement),o&2&&Qc(x.body),o&4)for(o=x.head,Qc(o),x=o.firstChild;x;){var P=x.nextSibling,Y=x.nodeName;x[nt]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&x.rel.toLowerCase()==="stylesheet"||o.removeChild(x),x=P}}if(p===0){r.removeChild(_),sf(s);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:f=o.charCodeAt(0)-48;else f=0;o=_}while(o);sf(s)}function rp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":rp(o),Ke(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function Jy(r,s,o,f){for(;r.nodeType===1;){var p=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[nt])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(_=r.getAttribute("rel"),_==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(_!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(_=r.getAttribute("src"),(_!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&_&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var _=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===_)return r}else return r;if(r=bs(r.nextSibling),r===null)break}return null}function Qh(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=bs(r.nextSibling),r===null))return null;return r}function qr(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function fu(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var f=function(){s(),o.removeEventListener("DOMContentLoaded",f)};o.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function bs(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var ip=null;function ev(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function tv(r,s,o){switch(s=fl(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Qc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Ke(r)}var Mi=new Map,Zs=new Set;function pt(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Js=me.d;me.d={f:is,r:nv,D:G0,C:rv,L:Xh,m:$0,X:Y0,S:K0,M:W0};function is(){var r=Js.f(),s=Vh();return r||s}function nv(r){var s=Rt(r);s!==null&&s.tag===5&&s.type==="form"?Th(s):Js.r(r)}var hu=typeof document>"u"?null:document;function tn(r,s,o){var f=hu;if(f&&typeof s=="string"&&s){var p=$n(s);p='link[rel="'+r+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Zs.has(p)||(Zs.add(p),r={rel:r,crossOrigin:o,href:s},f.querySelector(p)===null&&(s=f.createElement("link"),tr(s,"link",r),Lt(s),f.head.appendChild(s)))}}function G0(r){Js.D(r),tn("dns-prefetch",r,null)}function rv(r,s){Js.C(r,s),tn("preconnect",r,s)}function Xh(r,s,o){Js.L(r,s,o);var f=hu;if(f&&r&&s){var p='link[rel="preload"][as="'+$n(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+$n(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+$n(o.imageSizes)+'"]')):p+='[href="'+$n(r)+'"]';var _=p;switch(s){case"style":_=du(r);break;case"script":_=mu(r)}Mi.has(_)||(r=E({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Mi.set(_,r),f.querySelector(p)!==null||s==="style"&&f.querySelector(Xc(_))||s==="script"&&f.querySelector(Zc(_))||(s=f.createElement("link"),tr(s,"link",r),Lt(s),f.head.appendChild(s)))}}function $0(r,s){Js.m(r,s);var o=hu;if(o&&r){var f=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+$n(f)+'"][href="'+$n(r)+'"]',_=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=mu(r)}if(!Mi.has(_)&&(r=E({rel:"modulepreload",href:r},s),Mi.set(_,r),o.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Zc(_)))return}f=o.createElement("link"),tr(f,"link",r),Lt(f),o.head.appendChild(f)}}}function K0(r,s,o){Js.S(r,s,o);var f=hu;if(f&&r){var p=Qt(f).hoistableStyles,_=du(r);s=s||"default";var x=p.get(_);if(!x){var P={loading:0,preload:null};if(x=f.querySelector(Xc(_)))P.loading=5;else{r=E({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Mi.get(_))&&Jc(r,o);var Y=x=f.createElement("link");Lt(Y),tr(Y,"link",r),Y._p=new Promise(function(ce,Te){Y.onload=ce,Y.onerror=Te}),Y.addEventListener("load",function(){P.loading|=1}),Y.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Zh(x,s,f)}x={type:"stylesheet",instance:x,count:1,state:P},p.set(_,x)}}}function Y0(r,s){Js.X(r,s);var o=hu;if(o&&r){var f=Qt(o).hoistableScripts,p=mu(r),_=f.get(p);_||(_=o.querySelector(Zc(p)),_||(r=E({src:r,async:!0},s),(s=Mi.get(p))&&sp(r,s),_=o.createElement("script"),Lt(_),tr(_,"link",r),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(p,_))}}function W0(r,s){Js.M(r,s);var o=hu;if(o&&r){var f=Qt(o).hoistableScripts,p=mu(r),_=f.get(p);_||(_=o.querySelector(Zc(p)),_||(r=E({src:r,async:!0,type:"module"},s),(s=Mi.get(p))&&sp(r,s),_=o.createElement("script"),Lt(_),tr(_,"link",r),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(p,_))}}function iv(r,s,o,f){var p=(p=qe.current)?pt(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=du(o.href),o=Qt(p).hoistableStyles,f=o.get(s),f||(f={type:"style",instance:null,count:0,state:null},o.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=du(o.href);var _=Qt(p).hoistableStyles,x=_.get(r);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(r,x),(_=p.querySelector(Xc(r)))&&!_._p&&(x.instance=_,x.state.loading=5),Mi.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Mi.set(r,o),_||Q0(p,r,o,x.state))),s&&f===null)throw Error(i(528,""));return x}if(s&&f!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=mu(o),o=Qt(p).hoistableScripts,f=o.get(s),f||(f={type:"script",instance:null,count:0,state:null},o.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function du(r){return'href="'+$n(r)+'"'}function Xc(r){return'link[rel="stylesheet"]['+r+"]"}function sv(r){return E({},r,{"data-precedence":r.precedence,precedence:null})}function Q0(r,s,o,f){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=r.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),tr(s,"link",o),Lt(s),r.head.appendChild(s))}function mu(r){return'[src="'+$n(r)+'"]'}function Zc(r){return"script[async]"+r}function av(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var f=r.querySelector('style[data-href~="'+$n(o.href)+'"]');if(f)return s.instance=f,Lt(f),f;var p=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Lt(f),tr(f,"style",p),Zh(f,o.precedence,r),s.instance=f;case"stylesheet":p=du(o.href);var _=r.querySelector(Xc(p));if(_)return s.state.loading|=4,s.instance=_,Lt(_),_;f=sv(o),(p=Mi.get(p))&&Jc(f,p),_=(r.ownerDocument||r).createElement("link"),Lt(_);var x=_;return x._p=new Promise(function(P,Y){x.onload=P,x.onerror=Y}),tr(_,"link",f),s.state.loading|=4,Zh(_,o.precedence,r),s.instance=_;case"script":return _=mu(o.src),(p=r.querySelector(Zc(_)))?(s.instance=p,Lt(p),p):(f=o,(p=Mi.get(_))&&(f=E({},o),sp(f,p)),r=r.ownerDocument||r,p=r.createElement("script"),Lt(p),tr(p,"link",f),r.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Zh(f,o.precedence,r));return s.instance}function Zh(r,s,o){for(var f=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,_=p,x=0;x<f.length;x++){var P=f[x];if(P.dataset.precedence===s)_=P;else if(_!==p)break}_?_.parentNode.insertBefore(r,_.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Jc(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function sp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var pu=null;function ov(r,s,o){if(pu===null){var f=new Map,p=pu=new Map;p.set(o,f)}else p=pu,f=p.get(o),f||(f=new Map,p.set(o,f));if(f.has(r))return f;for(f.set(r,null),o=o.getElementsByTagName(r),p=0;p<o.length;p++){var _=o[p];if(!(_[nt]||_[Se]||r==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var x=_.getAttribute(s)||"";x=r+x;var P=f.get(x);P?P.push(_):f.set(x,[_])}}return f}function lv(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function X0(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function nr(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var hr=null;function Z0(){}function J0(r,s,o){if(hr===null)throw Error(i(475));var f=hr;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=du(o.href),_=r.querySelector(Xc(p));if(_){r=_._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=ef.bind(f),r.then(f,f)),s.state.loading|=4,s.instance=_,Lt(_);return}_=r.ownerDocument||r,o=sv(o),(p=Mi.get(p))&&Jc(o,p),_=_.createElement("link"),Lt(_);var x=_;x._p=new Promise(function(P,Y){x.onload=P,x.onerror=Y}),tr(_,"link",o),s.instance=_}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=ef.bind(f),r.addEventListener("load",s),r.addEventListener("error",s))}}function eE(){if(hr===null)throw Error(i(475));var r=hr;return r.stylesheets&&r.count===0&&ap(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&ap(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function ef(){if(this.count--,this.count===0){if(this.stylesheets)ap(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Jh=null;function ap(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Jh=new Map,s.forEach(tE,r),Jh=null,ef.call(r))}function tE(r,s){if(!(s.state.loading&4)){var o=Jh.get(r);if(o)var f=o.get(null);else{o=new Map,Jh.set(r,o);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<p.length;_++){var x=p[_];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),f=x)}f&&o.set(null,f)}p=s.instance,x=p.getAttribute("data-precedence"),_=o.get(x)||f,_===f&&o.set(null,p),o.set(x,p),this.count++,f=ef.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),_?_.parentNode.insertBefore(p,_.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),s.state.loading|=4}}var gu={$$typeof:Z,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function nE(r,s,o,f,p,_,x,P){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=_,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function uv(r,s,o,f,p,_,x,P,Y,ce,Te,Re){return r=new nE(r,s,o,x,P,Y,ce,Re),s=1,_===!0&&(s|=24),_=si(3,null,null,s),r.current=_,_.stateNode=r,s=em(),s.refCount++,r.pooledCache=s,s.refCount++,_.memoizedState={element:f,isDehydrated:o,cache:s},Zo(_),r}function cv(r){return r?(r=Go,r):Go}function op(r,s,o,f,p,_){p=cv(p),f.context===null?f.context=p:f.pendingContext=p,f=Ja(s),f.payload={element:o},_=_===void 0?null:_,_!==null&&(f.callback=_),o=va(r,f,s),o!==null&&(Oi(o,r,s),dc(o,r,s))}function lp(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function up(r,s){lp(r,s),(r=r.alternate)&&lp(r,s)}function fv(r){if(r.tag===13){var s=qo(r,67108864);s!==null&&Oi(s,r,67108864),up(r,67108864)}}var ed=!0;function rE(r,s,o,f){var p=se.T;se.T=null;var _=me.p;try{me.p=2,cp(r,s,o,f)}finally{me.p=_,se.T=p}}function yu(r,s,o,f){var p=se.T;se.T=null;var _=me.p;try{me.p=8,cp(r,s,o,f)}finally{me.p=_,se.T=p}}function cp(r,s,o,f){if(ed){var p=fp(f);if(p===null)Ia(r,s,f,td,o),dv(r,f);else if(sE(p,r,s,o,f))f.stopPropagation();else if(dv(r,f),s&4&&-1<iE.indexOf(r)){for(;p!==null;){var _=Rt(p);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var x=Pr(_.pendingLanes);if(x!==0){var P=_;for(P.pendingLanes|=2,P.entangledLanes|=2;x;){var Y=1<<31-Pn(x);P.entanglements[1]|=Y,x&=~Y}Xs(_),(un&6)===0&&(su=an()+500,$c(0))}}break;case 13:P=qo(_,2),P!==null&&Oi(P,_,2),Vh(),up(_,2)}if(_=fp(f),_===null&&Ia(r,s,f,td,o),_===p)break;p=_}p!==null&&f.stopPropagation()}else Ia(r,s,f,null,o)}}function fp(r){return r=Gi(r),hp(r)}var td=null;function hp(r){if(td=null,r=st(r),r!==null){var s=u(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=h(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return td=r,null}function hv(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ja()){case sa:return 2;case Wr:return 8;case Bn:case yr:return 32;case vr:return 268435456;default:return 32}default:return 32}}var nd=!1,Na=null,go=null,yo=null,tf=new Map,nf=new Map,vo=[],iE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dv(r,s){switch(r){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":go=null;break;case"mouseover":case"mouseout":yo=null;break;case"pointerover":case"pointerout":tf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":nf.delete(s.pointerId)}}function rf(r,s,o,f,p,_){return r===null||r.nativeEvent!==_?(r={blockedOn:s,domEventName:o,eventSystemFlags:f,nativeEvent:_,targetContainers:[p]},s!==null&&(s=Rt(s),s!==null&&fv(s)),r):(r.eventSystemFlags|=f,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function sE(r,s,o,f,p){switch(s){case"focusin":return Na=rf(Na,r,s,o,f,p),!0;case"dragenter":return go=rf(go,r,s,o,f,p),!0;case"mouseover":return yo=rf(yo,r,s,o,f,p),!0;case"pointerover":var _=p.pointerId;return tf.set(_,rf(tf.get(_)||null,r,s,o,f,p)),!0;case"gotpointercapture":return _=p.pointerId,nf.set(_,rf(nf.get(_)||null,r,s,o,f,p)),!0}return!1}function mv(r){var s=st(r.target);if(s!==null){var o=u(s);if(o!==null){if(s=o.tag,s===13){if(s=h(o),s!==null){r.blockedOn=s,ae(r.priority,function(){if(o.tag===13){var f=Or();f=Ms(f);var p=qo(o,f);p!==null&&Oi(p,o,f),up(o,f)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function rd(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=fp(r.nativeEvent);if(o===null){o=r.nativeEvent;var f=new o.constructor(o.type,o);js=f,o.target.dispatchEvent(f),js=null}else return s=Rt(o),s!==null&&fv(s),r.blockedOn=o,!1;s.shift()}return!0}function pv(r,s,o){rd(r)&&o.delete(s)}function aE(){nd=!1,Na!==null&&rd(Na)&&(Na=null),go!==null&&rd(go)&&(go=null),yo!==null&&rd(yo)&&(yo=null),tf.forEach(pv),nf.forEach(pv)}function id(r,s){r.blockedOn===s&&(r.blockedOn=null,nd||(nd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,aE)))}var sd=null;function gv(r){sd!==r&&(sd=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){sd===r&&(sd=null);for(var s=0;s<r.length;s+=3){var o=r[s],f=r[s+1],p=r[s+2];if(typeof f!="function"){if(hp(f||o)===null)continue;break}var _=Rt(o);_!==null&&(r.splice(s,3),s-=3,Sc(_,{pending:!0,data:p,method:o.method,action:f},f,p))}}))}function sf(r){function s(Y){return id(Y,r)}Na!==null&&id(Na,r),go!==null&&id(go,r),yo!==null&&id(yo,r),tf.forEach(s),nf.forEach(s);for(var o=0;o<vo.length;o++){var f=vo[o];f.blockedOn===r&&(f.blockedOn=null)}for(;0<vo.length&&(o=vo[0],o.blockedOn===null);)mv(o),o.blockedOn===null&&vo.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(f=0;f<o.length;f+=3){var p=o[f],_=o[f+1],x=p[Oe]||null;if(typeof _=="function")x||gv(o);else if(x){var P=null;if(_&&_.hasAttribute("formAction")){if(p=_,x=_[Oe]||null)P=x.formAction;else if(hp(p)!==null)continue}else P=x.action;typeof P=="function"?o[f+1]=P:(o.splice(f,3),f-=3),gv(o)}}}function dp(r){this._internalRoot=r}ad.prototype.render=dp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,f=Or();op(o,f,r,s,null,null)},ad.prototype.unmount=dp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;op(r.current,2,null,r,null,null),Vh(),s[Be]=null}};function ad(r){this._internalRoot=r}ad.prototype.unstable_scheduleHydration=function(r){if(r){var s=W();r={blockedOn:null,target:r,priority:s};for(var o=0;o<vo.length&&s!==0&&s<vo[o].priority;o++);vo.splice(o,0,r),o===0&&mv(r)}};var yv=e.version;if(yv!=="19.1.0")throw Error(i(527,yv,"19.1.0"));me.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=g(s),r=r!==null?v(r):null,r=r===null?null:r.stateNode,r};var oE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!od.isDisabled&&od.supportsFiber)try{Ge=od.inject(oE),it=od}catch{}}return pp.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,f="",p=Rm,_=Sh,x=ny,P=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(P=s.unstable_transitionCallbacks)),s=uv(r,1,!1,null,null,o,f,p,_,x,P,null),r[Be]=s.current,ep(r),new dp(s)},pp.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var f=!1,p="",_=Rm,x=Sh,P=ny,Y=null,ce=null;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(P=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(Y=o.unstable_transitionCallbacks),o.formState!==void 0&&(ce=o.formState)),s=uv(r,1,!0,s,o??null,f,p,_,x,P,Y,ce),s.context=cv(null),o=s.current,f=Or(),f=Ms(f),p=Ja(f),p.callback=null,va(o,p,f),o=f,s.current.lanes=o,Fi(s,o),Xs(s),r[Be]=s.current,ep(r),new ad(s)},pp.version="19.1.0",pp}var Mb;function uN(){if(Mb)return hE.exports;Mb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hE.exports=lN(),hE.exports}var cN=uN(),B=I_();const mf=Pd(B);var yE={exports:{}},vE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function fN(){if(Pb)return vE;Pb=1;var n=I_();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,a=n.useRef,u=n.useEffect,h=n.useMemo,m=n.useDebugValue;return vE.useSyncExternalStoreWithSelector=function(g,v,E,S,A){var N=a(null);if(N.current===null){var O={hasValue:!1,value:null};N.current=O}else O=N.current;N=h(function(){function V(ne){if(!j){if(j=!0,ee=ne,ne=S(ne),A!==void 0&&O.hasValue){var z=O.value;if(A(z,ne))return Z=z}return Z=ne}if(z=Z,t(ee,ne))return z;var D=S(ne);return A!==void 0&&A(z,D)?(ee=ne,z):(ee=ne,Z=D)}var j=!1,ee,Z,he=E===void 0?null:E;return[function(){return V(v())},he===null?void 0:function(){return V(he())}]},[v,E,S,A]);var H=i(g,N[0],N[1]);return u(function(){O.hasValue=!0,O.value=H},[H]),m(H),H},vE}var Lb;function hN(){return Lb||(Lb=1,yE.exports=fN()),yE.exports}var dN=hN();function mN(n){n()}function pN(){let n=null,e=null;return{clear(){n=null,e=null},notify(){mN(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const a=e={callback:t,next:null,prev:e};return a.prev?a.prev.next=a:n=a,function(){!i||n===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:n=a.next)}}}}var kb={notify(){},get:()=>[]};function gN(n,e){let t,i=kb,a=0,u=!1;function h(H){E();const V=i.subscribe(H);let j=!1;return()=>{j||(j=!0,V(),S())}}function m(){i.notify()}function g(){O.onStateChange&&O.onStateChange()}function v(){return u}function E(){a++,t||(t=n.subscribe(g),i=pN())}function S(){a--,t&&a===0&&(t(),t=void 0,i.clear(),i=kb)}function A(){u||(u=!0,E())}function N(){u&&(u=!1,S())}const O={addNestedSub:h,notifyNestedSubs:m,handleChangeWrapper:g,isSubscribed:v,trySubscribe:A,tryUnsubscribe:N,getListeners:()=>i};return O}var yN=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vN=yN(),_N=()=>typeof navigator<"u"&&navigator.product==="ReactNative",EN=_N(),TN=()=>vN||EN?B.useLayoutEffect:B.useEffect,wN=TN(),_E=Symbol.for("react-redux-context"),EE=typeof globalThis<"u"?globalThis:{};function bN(){if(!B.createContext)return{};const n=EE[_E]??(EE[_E]=new Map);let e=n.get(B.createContext);return e||(e=B.createContext(null),n.set(B.createContext,e)),e}var Mu=bN();function SN(n){const{children:e,context:t,serverState:i,store:a}=n,u=B.useMemo(()=>{const g=gN(a);return{store:a,subscription:g,getServerState:i?()=>i:void 0}},[a,i]),h=B.useMemo(()=>a.getState(),[a]);wN(()=>{const{subscription:g}=u;return g.onStateChange=g.notifyNestedSubs,g.trySubscribe(),h!==a.getState()&&g.notifyNestedSubs(),()=>{g.tryUnsubscribe(),g.onStateChange=void 0}},[u,h]);const m=t||Mu;return B.createElement(m.Provider,{value:u},e)}var AN=SN;function XT(n=Mu){return function(){return B.useContext(n)}}var RA=XT();function xA(n=Mu){const e=n===Mu?RA:XT(n),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var RN=xA();function xN(n=Mu){const e=n===Mu?RN:xA(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var Ld=xN(),CN=(n,e)=>n===e;function IN(n=Mu){const e=n===Mu?RA:XT(n),t=(i,a={})=>{const{equalityFn:u=CN}=typeof a=="function"?{equalityFn:a}:a,h=e(),{store:m,subscription:g,getServerState:v}=h;B.useRef(!0);const E=B.useCallback({[i.name](A){return i(A)}}[i.name],[i]),S=dN.useSyncExternalStoreWithSelector(g.addNestedSub,m.getState,v||m.getState,E,u);return B.useDebugValue(S),S};return Object.assign(t,{withTypes:()=>t}),t}var tg=IN();const NN=()=>{};var Ub={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},DN=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const u=n[t++];e[i++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=n[t++],h=n[t++],m=n[t++],g=((a&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const u=n[t++],h=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},IA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const u=n[a],h=a+1<n.length,m=h?n[a+1]:0,g=a+2<n.length,v=g?n[a+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let A=(m&15)<<2|v>>6,N=v&63;g||(N=64,h||(A=64)),i.push(t[E],t[S],t[A],t[N])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(CA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):DN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const u=t[n.charAt(a++)],m=a<n.length?t[n.charAt(a)]:0;++a;const v=a<n.length?t[n.charAt(a)]:64;++a;const S=a<n.length?t[n.charAt(a)]:64;if(++a,u==null||m==null||v==null||S==null)throw new ON;const A=u<<2|m>>4;if(i.push(A),v!==64){const N=m<<4&240|v>>2;if(i.push(N),S!==64){const O=v<<6&192|S;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ON extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MN=function(n){const e=CA(n);return IA.encodeByteArray(e,!0)},Qv=function(n){return MN(n).replace(/\./g,"")},NA=function(n){try{return IA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=()=>PN().__FIREBASE_DEFAULTS__,kN=()=>{if(typeof process>"u"||typeof Ub>"u")return;const n=Ub.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},UN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&NA(n[1]);return e&&JSON.parse(e)},N_=()=>{try{return NN()||LN()||kN()||UN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},DA=n=>{var e,t;return(t=(e=N_())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},VN=n=>{const e=DA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},OA=()=>{var n;return(n=N_())===null||n===void 0?void 0:n.config},MA=n=>{var e;return(e=N_())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jN=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(n){return n.endsWith(".cloudworkstations.dev")}async function PA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Qv(JSON.stringify(t)),Qv(JSON.stringify(h)),""].join(".")}const Np={};function FN(){const n={prod:[],emulator:[]};for(const e of Object.keys(Np))Np[e]?n.emulator.push(e):n.prod.push(e);return n}function zN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Vb=!1;function LA(n,e){if(typeof window>"u"||typeof document>"u"||!kd(window.location.host)||Np[n]===e||Np[n]||Vb)return;Np[n]=e;function t(A){return`__firebase__banner__${A}`}const i="__firebase__banner",u=FN().prod.length>0;function h(){const A=document.getElementById(i);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,N){A.setAttribute("width","24"),A.setAttribute("id",N),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function v(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Vb=!0,h()},A}function E(A,N){A.setAttribute("id",N),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function S(){const A=zN(i),N=t("text"),O=document.getElementById(N)||document.createElement("span"),H=t("learnmore"),V=document.getElementById(H)||document.createElement("a"),j=t("preprendIcon"),ee=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Z=A.element;m(Z),E(V,H);const he=v();g(ee,j),Z.append(ee,O,V,he),document.body.appendChild(Z)}u?(O.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wi())}function qN(){var n;const e=(n=N_())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $N(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function KN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YN(){const n=wi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function WN(){return!qN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QN(){try{return typeof indexedDB=="object"}catch{return!1}}function XN(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="FirebaseError";class Sl extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=ZN,Object.setPrototypeOf(this,Sl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ng.prototype.create)}}class ng{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?JN(u,i):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new Sl(a,m,i)}}function JN(n,e){return n.replace(eD,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const eD=/\{\$([^}]+)}/g;function tD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Rf(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const u=n[a],h=e[a];if(jb(u)&&jb(h)){if(!Rf(u,h))return!1}else if(u!==h)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function jb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function nD(n,e){const t=new rD(n,e);return t.subscribe.bind(t)}class rD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");iD(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=TE),a.error===void 0&&(a.error=TE),a.complete===void 0&&(a.complete=TE);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iD(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function TE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(n){return n&&n._delegate?n._delegate:n}class xf{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sD=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new jN;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oD(e))try{this.getOrInitializeService({instanceIdentifier:af})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:a});i.resolve(u)}catch{}}}}clearInstance(e=af){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=af){return this.instances.has(e)}getOptions(e=af){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);i===m&&h.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),u=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:aD(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=af){return this.component?this.component.multipleInstances?e:af:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function aD(n){return n===af?void 0:n}function oD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ht||(Ht={}));const uD={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},cD=Ht.INFO,fD={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},hD=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=fD[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ZT{constructor(e){this.name=e,this._logLevel=cD,this._logHandler=hD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...e),this._logHandler(this,Ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...e),this._logHandler(this,Ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...e),this._logHandler(this,Ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...e),this._logHandler(this,Ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...e),this._logHandler(this,Ht.ERROR,...e)}}const dD=(n,e)=>e.some(t=>n instanceof t);let Bb,Fb;function mD(){return Bb||(Bb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pD(){return Fb||(Fb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kA=new WeakMap,tT=new WeakMap,UA=new WeakMap,wE=new WeakMap,JT=new WeakMap;function gD(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{t(xu(n.result)),a()},h=()=>{i(n.error),a()};n.addEventListener("success",u),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&kA.set(t,n)}).catch(()=>{}),JT.set(e,n),e}function yD(n){if(tT.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{t(),a()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});tT.set(n,e)}let nT={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return tT.get(n);if(e==="objectStoreNames")return n.objectStoreNames||UA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function vD(n){nT=n(nT)}function _D(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(bE(this),e,...t);return UA.set(i,e.sort?e.sort():[e]),xu(i)}:pD().includes(n)?function(...e){return n.apply(bE(this),e),xu(kA.get(this))}:function(...e){return xu(n.apply(bE(this),e))}}function ED(n){return typeof n=="function"?_D(n):(n instanceof IDBTransaction&&yD(n),dD(n,mD())?new Proxy(n,nT):n)}function xu(n){if(n instanceof IDBRequest)return gD(n);if(wE.has(n))return wE.get(n);const e=ED(n);return e!==n&&(wE.set(n,e),JT.set(e,n)),e}const bE=n=>JT.get(n);function TD(n,e,{blocked:t,upgrade:i,blocking:a,terminated:u}={}){const h=indexedDB.open(n,e),m=xu(h);return i&&h.addEventListener("upgradeneeded",g=>{i(xu(h.result),g.oldVersion,g.newVersion,xu(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),a&&g.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const wD=["get","getKey","getAll","getAllKeys","count"],bD=["put","add","delete","clear"],SE=new Map;function zb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(SE.get(e))return SE.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=bD.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||wD.includes(t)))return;const u=async function(h,...m){const g=this.transaction(h,a?"readwrite":"readonly");let v=g.store;return i&&(v=v.index(m.shift())),(await Promise.all([v[t](...m),a&&g.done]))[0]};return SE.set(e,u),u}vD(n=>({...n,get:(e,t,i)=>zb(e,t)||n.get(e,t,i),has:(e,t)=>!!zb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(AD(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function AD(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rT="@firebase/app",Hb="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new ZT("@firebase/app"),RD="@firebase/app-compat",xD="@firebase/analytics-compat",CD="@firebase/analytics",ID="@firebase/app-check-compat",ND="@firebase/app-check",DD="@firebase/auth",OD="@firebase/auth-compat",MD="@firebase/database",PD="@firebase/data-connect",LD="@firebase/database-compat",kD="@firebase/functions",UD="@firebase/functions-compat",VD="@firebase/installations",jD="@firebase/installations-compat",BD="@firebase/messaging",FD="@firebase/messaging-compat",zD="@firebase/performance",HD="@firebase/performance-compat",qD="@firebase/remote-config",GD="@firebase/remote-config-compat",$D="@firebase/storage",KD="@firebase/storage-compat",YD="@firebase/firestore",WD="@firebase/ai",QD="@firebase/firestore-compat",XD="firebase",ZD="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="[DEFAULT]",JD={[rT]:"fire-core",[RD]:"fire-core-compat",[CD]:"fire-analytics",[xD]:"fire-analytics-compat",[ND]:"fire-app-check",[ID]:"fire-app-check-compat",[DD]:"fire-auth",[OD]:"fire-auth-compat",[MD]:"fire-rtdb",[PD]:"fire-data-connect",[LD]:"fire-rtdb-compat",[kD]:"fire-fn",[UD]:"fire-fn-compat",[VD]:"fire-iid",[jD]:"fire-iid-compat",[BD]:"fire-fcm",[FD]:"fire-fcm-compat",[zD]:"fire-perf",[HD]:"fire-perf-compat",[qD]:"fire-rc",[GD]:"fire-rc-compat",[$D]:"fire-gcs",[KD]:"fire-gcs-compat",[YD]:"fire-fst",[QD]:"fire-fst-compat",[WD]:"fire-vertex","fire-js":"fire-js",[XD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=new Map,eO=new Map,sT=new Map;function qb(n,e){try{n.container.addComponent(e)}catch(t){_l.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function bd(n){const e=n.name;if(sT.has(e))return _l.debug(`There were multiple attempts to register component ${e}.`),!1;sT.set(e,n);for(const t of Xv.values())qb(t,n);for(const t of eO.values())qb(t,n);return!0}function ew(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Oa(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cu=new ng("app","Firebase",tO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=ZD;function VA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:iT,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw Cu.create("bad-app-name",{appName:String(a)});if(t||(t=OA()),!t)throw Cu.create("no-options");const u=Xv.get(a);if(u){if(Rf(t,u.options)&&Rf(i,u.config))return u;throw Cu.create("duplicate-app",{appName:a})}const h=new lD(a);for(const g of sT.values())h.addComponent(g);const m=new nO(t,i,h);return Xv.set(a,m),m}function jA(n=iT){const e=Xv.get(n);if(!e&&n===iT&&OA())return VA();if(!e)throw Cu.create("no-app",{appName:n});return e}function Iu(n,e,t){var i;let a=(i=JD[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${a}" with version "${e}":`];u&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_l.warn(m.join(" "));return}bd(new xf(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="firebase-heartbeat-database",iO=1,Vp="firebase-heartbeat-store";let AE=null;function BA(){return AE||(AE=TD(rO,iO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Vp)}catch(t){console.warn(t)}}}}).catch(n=>{throw Cu.create("idb-open",{originalErrorMessage:n.message})})),AE}async function sO(n){try{const t=(await BA()).transaction(Vp),i=await t.objectStore(Vp).get(FA(n));return await t.done,i}catch(e){if(e instanceof Sl)_l.warn(e.message);else{const t=Cu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_l.warn(t.message)}}}async function Gb(n,e){try{const i=(await BA()).transaction(Vp,"readwrite");await i.objectStore(Vp).put(e,FA(n)),await i.done}catch(t){if(t instanceof Sl)_l.warn(t.message);else{const i=Cu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});_l.warn(i.message)}}}function FA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=1024,oO=30;class lO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new cO(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=$b();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats.length>oO){const h=fO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){_l.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$b(),{heartbeatsToSend:i,unsentEntries:a}=uO(this._heartbeatsCache.heartbeats),u=Qv(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return _l.warn(t),""}}}function $b(){return new Date().toISOString().substring(0,10)}function uO(n,e=aO){const t=[];let i=n.slice();for(const a of n){const u=t.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),Kb(t)>e){u.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Kb(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class cO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QN()?XN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await sO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Gb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Gb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Kb(n){return Qv(JSON.stringify({version:2,heartbeats:n})).length}function fO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(n){bd(new xf("platform-logger",e=>new SD(e),"PRIVATE")),bd(new xf("heartbeat",e=>new lO(e),"PRIVATE")),Iu(rT,Hb,n),Iu(rT,Hb,"esm2017"),Iu("fire-js","")}hO("");var dO="firebase",mO="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Iu(dO,mO,"app");function tw(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function zA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pO=zA,HA=new ng("auth","Firebase",zA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=new ZT("@firebase/auth");function gO(n,...e){Zv.logLevel<=Ht.WARN&&Zv.warn(`Auth (${Ud}): ${n}`,...e)}function Mv(n,...e){Zv.logLevel<=Ht.ERROR&&Zv.error(`Auth (${Ud}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(n,...e){throw rw(n,...e)}function La(n,...e){return rw(n,...e)}function nw(n,e,t){const i=Object.assign(Object.assign({},pO()),{[e]:t});return new ng("auth","Firebase",i).create(e,{appName:n.name})}function wf(n){return nw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yO(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Co(n,"argument-error"),nw(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rw(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return HA.create(n,...e)}function mt(n,e,...t){if(!n)throw rw(e,...t)}function pl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Mv(e),new Error(e)}function El(n,e){n||pl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function vO(){return Yb()==="http:"||Yb()==="https:"}function Yb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vO()||$N()||"connection"in navigator)?navigator.onLine:!0}function EO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t){this.shortDelay=e,this.longDelay=t,El(t>e,"Short delay should be less than long delay!"),this.isMobile=HN()||KN()}get(){return _O()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(n,e){El(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bO=new ig(3e4,6e4);function sw(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Vd(n,e,t,i,a={}){return GA(n,a,async()=>{let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});const m=rg(Object.assign({key:n.config.apiKey},h)).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const v=Object.assign({method:e,headers:g},u);return GN()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&kd(n.emulatorConfig.host)&&(v.credentials="include"),qA.fetch()(await $A(n,n.config.apiHost,t,m),v)})}async function GA(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},TO),e);try{const a=new AO(n),u=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw _v(n,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,v]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw _v(n,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw _v(n,"email-already-in-use",h);if(g==="USER_DISABLED")throw _v(n,"user-disabled",h);const E=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw nw(n,E,v);Co(n,E)}}catch(a){if(a instanceof Sl)throw a;Co(n,"network-request-failed",{message:String(a)})}}async function SO(n,e,t,i,a={}){const u=await Vd(n,e,t,i,a);return"mfaPendingCredential"in u&&Co(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function $A(n,e,t,i){const a=`${e}${t}?${i}`,u=n,h=u.config.emulator?iw(n.config,a):`${n.config.apiScheme}://${a}`;return wO.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class AO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(La(this.auth,"network-request-failed")),bO.get())})}}function _v(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=La(n,e,i);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RO(n,e){return Vd(n,"POST","/v1/accounts:delete",e)}async function Jv(n,e){return Vd(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xO(n,e=!1){const t=Sr(n),i=await t.getIdToken(e),a=aw(i);mt(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:a,token:i,authTime:Dp(RE(a.auth_time)),issuedAtTime:Dp(RE(a.iat)),expirationTime:Dp(RE(a.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function RE(n){return Number(n)*1e3}function aw(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Mv("JWT malformed, contained fewer than 3 sections"),null;try{const a=NA(t);return a?JSON.parse(a):(Mv("Failed to decode base64 JWT payload"),null)}catch(a){return Mv("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Wb(n){const e=aw(n);return mt(e,"internal-error"),mt(typeof e.exp<"u","internal-error"),mt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jp(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Sl&&CO(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function CO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dp(this.lastLoginAt),this.creationTime=Dp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e_(n){var e;const t=n.auth,i=await n.getIdToken(),a=await jp(n,Jv(t,{idToken:i}));mt(a==null?void 0:a.users.length,t,"internal-error");const u=a.users[0];n._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?KA(u.providerUserInfo):[],m=DO(n.providerData,h),g=n.isAnonymous,v=!(n.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?v:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new oT(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(n,S)}async function NO(n){const e=Sr(n);await e_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DO(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function KA(n){return n.map(e=>{var{providerId:t}=e,i=tw(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(n,e){const t=await GA(n,{},async()=>{const i=rg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:u}=n.config,h=await $A(n,a,"/v1/token",`key=${u}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:i};return n.emulatorConfig&&kd(n.emulatorConfig.host)&&(g.credentials="include"),qA.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function MO(n,e){return Vd(n,"POST","/v2/accounts:revokeToken",sw(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){mt(e.idToken,"internal-error"),mt(typeof e.idToken<"u","internal-error"),mt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Wb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){mt(e.length!==0,"internal-error");const t=Wb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:u}=await OO(e,t);this.updateTokensAndExpiration(i,a,Number(u))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:u}=t,h=new vd;return i&&(mt(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),a&&(mt(typeof a=="string","internal-error",{appName:e}),h.accessToken=a),u&&(mt(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vd,this.toJSON())}_performRefresh(){return pl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(n,e){mt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Pa{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,u=tw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new oT(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await jp(this,this.stsTokenManager.getToken(this.auth,e));return mt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return xO(this,e)}reload(){return NO(this)}_assign(e){this!==e&&(mt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Pa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await e_(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Oa(this.auth.app))return Promise.reject(wf(this.auth));const e=await this.getIdToken();return await jp(this,RO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,u,h,m,g,v,E;const S=(i=t.displayName)!==null&&i!==void 0?i:void 0,A=(a=t.email)!==null&&a!==void 0?a:void 0,N=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,O=(h=t.photoURL)!==null&&h!==void 0?h:void 0,H=(m=t.tenantId)!==null&&m!==void 0?m:void 0,V=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,j=(v=t.createdAt)!==null&&v!==void 0?v:void 0,ee=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Z,emailVerified:he,isAnonymous:ne,providerData:z,stsTokenManager:D}=t;mt(Z&&D,e,"internal-error");const I=vd.fromJSON(this.name,D);mt(typeof Z=="string",e,"internal-error"),vu(S,e.name),vu(A,e.name),mt(typeof he=="boolean",e,"internal-error"),mt(typeof ne=="boolean",e,"internal-error"),vu(N,e.name),vu(O,e.name),vu(H,e.name),vu(V,e.name),vu(j,e.name),vu(ee,e.name);const L=new Pa({uid:Z,auth:e,email:A,emailVerified:he,displayName:S,isAnonymous:ne,photoURL:O,phoneNumber:N,tenantId:H,stsTokenManager:I,createdAt:j,lastLoginAt:ee});return z&&Array.isArray(z)&&(L.providerData=z.map(q=>Object.assign({},q))),V&&(L._redirectEventId=V),L}static async _fromIdTokenResponse(e,t,i=!1){const a=new vd;a.updateFromServerResponse(t);const u=new Pa({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await e_(u),u}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];mt(a.localId!==void 0,"internal-error");const u=a.providerUserInfo!==void 0?KA(a.providerUserInfo):[],h=!(a.email&&a.passwordHash)&&!(u!=null&&u.length),m=new vd;m.updateFromIdToken(i);const g=new Pa({uid:a.localId,auth:e,stsTokenManager:m,isAnonymous:h}),v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new oT(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,v),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=new Map;function gl(n){El(n instanceof Function,"Expected a class definition");let e=Qb.get(n);return e?(El(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Qb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}YA.type="NONE";const Xb=YA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(n,e,t){return`firebase:${n}:${e}:${t}`}class _d{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:u}=this.auth;this.fullUserKey=Pv(this.userKey,a.apiKey,u),this.fullPersistenceKey=Pv("persistence",a.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Jv(this.auth,{idToken:e}).catch(()=>{});return t?Pa._fromGetAccountInfoResponse(this.auth,t,e):null}return Pa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new _d(gl(Xb),e,i);const a=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=a[0]||gl(Xb);const h=Pv(i,e.config.apiKey,e.name);let m=null;for(const v of t)try{const E=await v._get(h);if(E){let S;if(typeof E=="string"){const A=await Jv(e,{idToken:E}).catch(()=>{});if(!A)break;S=await Pa._fromGetAccountInfoResponse(e,A,E)}else S=Pa._fromJSON(e,E);v!==u&&(m=S),u=v;break}}catch{}const g=a.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new _d(u,e,i):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async v=>{if(v!==u)try{await v._remove(h)}catch{}})),new _d(u,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eR(e))return"Blackberry";if(tR(e))return"Webos";if(QA(e))return"Safari";if((e.includes("chrome/")||XA(e))&&!e.includes("edge/"))return"Chrome";if(JA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function WA(n=wi()){return/firefox\//i.test(n)}function QA(n=wi()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XA(n=wi()){return/crios\//i.test(n)}function ZA(n=wi()){return/iemobile/i.test(n)}function JA(n=wi()){return/android/i.test(n)}function eR(n=wi()){return/blackberry/i.test(n)}function tR(n=wi()){return/webos/i.test(n)}function ow(n=wi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function PO(n=wi()){var e;return ow(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LO(){return YN()&&document.documentMode===10}function nR(n=wi()){return ow(n)||JA(n)||tR(n)||eR(n)||/windows phone/i.test(n)||ZA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(n,e=[]){let t;switch(n){case"Browser":t=Zb(wi());break;case"Worker":t=`${Zb(wi())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ud}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(n,e={}){return Vd(n,"GET","/v2/passwordPolicy",sw(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=6;class jO{constructor(e){var t,i,a,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:VO,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,u,h,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(i=g.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(a=g.containsLowercaseLetter)!==null&&a!==void 0?a:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jb(this),this.idTokenSubscription=new Jb(this),this.beforeStateQueue=new kO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gl(t)),this._initializationPromise=this.queue(async()=>{var i,a,u;if(!this._deleted&&(this.persistenceManager=await _d.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Jv(this,{idToken:e}),i=await Pa._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Oa(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=a==null?void 0:a._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===m)&&(g!=null&&g.user)&&(a=g.user,u=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await e_(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Oa(this.app))return Promise.reject(wf(this));const t=e?Sr(e):null;return t&&mt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&mt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Oa(this.app)?Promise.reject(wf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Oa(this.app)?Promise.reject(wf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UO(this),t=new jO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ng("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await MO(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gl(e)||this._popupRedirectResolver;mt(t,this,"argument-error"),this.redirectPersistenceManager=await _d.create(this,[gl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,a);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Oa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&gO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function D_(n){return Sr(n)}class Jb{constructor(e){this.auth=e,this.observer=null,this.addObserver=nD(t=>this.observer=t)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FO(n){lw=n}function zO(n){return lw.loadJS(n)}function HO(){return lw.gapiScript}function qO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(n,e){const t=ew(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),u=t.getOptions();if(Rf(u,e??{}))return a;Co(a,"already-initialized")}return t.initialize({options:e})}function $O(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(gl);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function KO(n,e,t){const i=D_(n);mt(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,u=iR(e),{host:h,port:m}=YO(e),g=m===null?"":`:${m}`,v={url:`${u}//${h}${g}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){mt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),mt(Rf(v,i.config.emulator)&&Rf(E,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=v,i.emulatorConfig=E,i.settings.appVerificationDisabledForTesting=!0,kd(h)?(PA(`${u}//${h}${g}`),LA("Auth",!0)):WO()}function iR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function YO(n){const e=iR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const u=a[1];return{host:u,port:eS(i.substr(u.length+1))}}else{const[u,h]=i.split(":");return{host:u,port:eS(h)}}}function eS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function WO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return pl("not implemented")}_getIdTokenResponse(e){return pl("not implemented")}_linkToIdToken(e,t){return pl("not implemented")}_getReauthenticationResolver(e){return pl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ed(n,e){return SO(n,"POST","/v1/accounts:signInWithIdp",sw(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="http://localhost";class Cf extends sR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Cf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Co("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,u=tw(t,["providerId","signInMethod"]);if(!i||!a)return null;const h=new Cf(i,a);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Ed(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ed(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ed(e,t)}buildRequest(){const e={requestUri:QO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=rg(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends uw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends sg{constructor(){super("facebook.com")}static credential(e){return Cf._fromParams({providerId:Tu.PROVIDER_ID,signInMethod:Tu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tu.credentialFromTaggedObject(e)}static credentialFromError(e){return Tu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tu.credential(e.oauthAccessToken)}catch{return null}}}Tu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends sg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Cf._fromParams({providerId:ml.PROVIDER_ID,signInMethod:ml.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ml.credentialFromTaggedObject(e)}static credentialFromError(e){return ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ml.credential(t,i)}catch{return null}}}ml.GOOGLE_SIGN_IN_METHOD="google.com";ml.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends sg{constructor(){super("github.com")}static credential(e){return Cf._fromParams({providerId:wu.PROVIDER_ID,signInMethod:wu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wu.credentialFromTaggedObject(e)}static credentialFromError(e){return wu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wu.credential(e.oauthAccessToken)}catch{return null}}}wu.GITHUB_SIGN_IN_METHOD="github.com";wu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends sg{constructor(){super("twitter.com")}static credential(e,t){return Cf._fromParams({providerId:bu.PROVIDER_ID,signInMethod:bu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return bu.credentialFromTaggedObject(e)}static credentialFromError(e){return bu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return bu.credential(t,i)}catch{return null}}}bu.TWITTER_SIGN_IN_METHOD="twitter.com";bu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const u=await Pa._fromIdTokenResponse(e,i,a),h=tS(i);return new Sd({user:u,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=tS(i);return new Sd({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function tS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_ extends Sl{constructor(e,t,i,a){var u;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,t_.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new t_(e,t,i,a)}}function aR(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?t_._fromErrorAndOperation(n,u,e,i):u})}async function XO(n,e,t=!1){const i=await jp(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Sd._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(n,e,t=!1){const{auth:i}=n;if(Oa(i.app))return Promise.reject(wf(i));const a="reauthenticate";try{const u=await jp(n,aR(i,a,e,n),t);mt(u.idToken,i,"internal-error");const h=aw(u.idToken);mt(h,i,"internal-error");const{sub:m}=h;return mt(n.uid===m,i,"user-mismatch"),Sd._forOperation(n,a,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Co(i,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(n,e,t=!1){if(Oa(n.app))return Promise.reject(wf(n));const i="signIn",a=await aR(n,i,e),u=await Sd._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(n,e){return Sr(n).setPersistence(e)}function t2(n,e,t,i){return Sr(n).onIdTokenChanged(e,t,i)}function n2(n,e,t){return Sr(n).beforeAuthStateChanged(e,t)}function r2(n,e,t,i){return Sr(n).onAuthStateChanged(e,t,i)}function i2(n){return Sr(n).signOut()}const n_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(n_,"1"),this.storage.removeItem(n_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=1e3,a2=10;class lR extends oR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},u=this.storage.getItem(i);LO()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,a2):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},s2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}lR.type="LOCAL";const uR=lR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR extends oR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}cR.type="SESSION";const fR=cR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new O_(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:u}=t.data,h=this.handlersMap[a];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const m=Array.from(h).map(async v=>v(t.origin,u)),g=await o2(m);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}O_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const v=cw("",20);a.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:a,onMessage(S){const A=S;if(A.data.eventId===v)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),a.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[a.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(){return window}function u2(n){bo().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(){return typeof bo().WorkerGlobalScope<"u"&&typeof bo().importScripts=="function"}async function c2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f2(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function h2(){return hR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="firebaseLocalStorageDb",d2=1,r_="firebaseLocalStorage",mR="fbase_key";class ag{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function M_(n,e){return n.transaction([r_],e?"readwrite":"readonly").objectStore(r_)}function m2(){const n=indexedDB.deleteDatabase(dR);return new ag(n).toPromise()}function lT(){const n=indexedDB.open(dR,d2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(r_,{keyPath:mR})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(r_)?e(i):(i.close(),await m2(),e(await lT()))})})}async function nS(n,e,t){const i=M_(n,!0).put({[mR]:e,value:t});return new ag(i).toPromise()}async function p2(n,e){const t=M_(n,!1).get(e),i=await new ag(t).toPromise();return i===void 0?null:i.value}function rS(n,e){const t=M_(n,!0).delete(e);return new ag(t).toPromise()}const g2=800,y2=3;class pR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lT(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>y2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=O_._getInstance(h2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await c2(),!this.activeServiceWorker)return;this.sender=new l2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||f2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lT();return await nS(e,n_,"1"),await rS(e,n_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>nS(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>p2(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>rS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const u=M_(a,!1).getAll();return new ag(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:u}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pR.type="LOCAL";const v2=pR;new ig(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(n,e){return e?gl(e):(mt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw extends sR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ed(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ed(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ed(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _2(n){return JO(n.auth,new fw(n),n.bypassAuthState)}function E2(n){const{auth:e,user:t}=n;return mt(t,e,"internal-error"),ZO(t,new fw(n),n.bypassAuthState)}async function T2(n){const{auth:e,user:t}=n;return mt(t,e,"internal-error"),XO(t,new fw(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,t,i,a,u=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:u||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _2;case"linkViaPopup":case"linkViaRedirect":return T2;case"reauthViaPopup":case"reauthViaRedirect":return E2;default:Co(this.auth,"internal-error")}}resolve(e){El(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){El(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=new ig(2e3,1e4);async function b2(n,e,t){if(Oa(n.app))return Promise.reject(La(n,"operation-not-supported-in-this-environment"));const i=D_(n);yO(n,e,uw);const a=gR(i,t);return new pf(i,"signInViaPopup",e,a).executeNotNull()}class pf extends yR{constructor(e,t,i,a,u){super(e,t,a,u),this.provider=i,this.authWindow=null,this.pollId=null,pf.currentPopupAction&&pf.currentPopupAction.cancel(),pf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return mt(e,this.auth,"internal-error"),e}async onExecution(){El(this.filter.length===1,"Popup operations only handle one event");const e=cw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(La(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(La(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(La(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,w2.get())};e()}}pf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="pendingRedirect",Lv=new Map;class A2 extends yR{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Lv.get(this.auth._key());if(!e){try{const i=await R2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Lv.set(this.auth._key(),e)}return this.bypassAuthState||Lv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function R2(n,e){const t=I2(e),i=C2(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function x2(n,e){Lv.set(n._key(),e)}function C2(n){return gl(n._redirectPersistence)}function I2(n){return Pv(S2,n.config.apiKey,n.name)}async function N2(n,e,t=!1){if(Oa(n.app))return Promise.reject(wf(n));const i=D_(n),a=gR(i,e),h=await new A2(i,a,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=10*60*1e3;class O2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!M2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!vR(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(La(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=D2&&this.cachedEventUids.clear(),this.cachedEventUids.has(iS(e))}saveEventToCache(e){this.cachedEventUids.add(iS(e)),this.lastProcessedEventTime=Date.now()}}function iS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function vR({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function M2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(n,e={}){return Vd(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k2=/^https?/;async function U2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await P2(n);for(const t of e)try{if(V2(t))return}catch{}Co(n,"unauthorized-domain")}function V2(n){const e=aT(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!k2.test(t))return!1;if(L2.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new ig(3e4,6e4);function sS(){const n=bo().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function B2(n){return new Promise((e,t)=>{var i,a,u;function h(){sS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sS(),t(La(n,"network-request-failed"))},timeout:j2.get()})}if(!((a=(i=bo().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((u=bo().gapi)===null||u===void 0)&&u.load)h();else{const m=qO("iframefcb");return bo()[m]=()=>{gapi.load?h():t(La(n,"network-request-failed"))},zO(`${HO()}?onload=${m}`).catch(g=>t(g))}}).catch(e=>{throw kv=null,e})}let kv=null;function F2(n){return kv=kv||B2(n),kv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new ig(5e3,15e3),H2="__/auth/iframe",q2="emulator/auth/iframe",G2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K2(n){const e=n.config;mt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?iw(e,q2):`https://${n.config.authDomain}/${H2}`,i={apiKey:e.apiKey,appName:n.name,v:Ud},a=$2.get(n.config.apiHost);a&&(i.eid=a);const u=n._getFrameworks();return u.length&&(i.fw=u.join(",")),`${t}?${rg(i).slice(1)}`}async function Y2(n){const e=await F2(n),t=bo().gapi;return mt(t,n,"internal-error"),e.open({where:document.body,url:K2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G2,dontclear:!0},i=>new Promise(async(a,u)=>{await i.restyle({setHideOnLeave:!1});const h=La(n,"network-request-failed"),m=bo().setTimeout(()=>{u(h)},z2.get());function g(){bo().clearTimeout(m),a(i)}i.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q2=500,X2=600,Z2="_blank",J2="http://localhost";class aS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eM(n,e,t,i=Q2,a=X2){const u=Math.max((window.screen.availHeight-a)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const g=Object.assign(Object.assign({},W2),{width:i.toString(),height:a.toString(),top:u,left:h}),v=wi().toLowerCase();t&&(m=XA(v)?Z2:t),WA(v)&&(e=e||J2,g.scrollbars="yes");const E=Object.entries(g).reduce((A,[N,O])=>`${A}${N}=${O},`,"");if(PO(v)&&m!=="_self")return tM(e||"",m),new aS(null);const S=window.open(e||"",m,E);mt(S,n,"popup-blocked");try{S.focus()}catch{}return new aS(S)}function tM(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="__/auth/handler",rM="emulator/auth/handler",iM=encodeURIComponent("fac");async function oS(n,e,t,i,a,u){mt(n.config.authDomain,n,"auth-domain-config-required"),mt(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ud,eventId:a};if(e instanceof uw){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",tD(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))h[E]=S}if(e instanceof sg){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(h.scopes=E.join(","))}n.tenantId&&(h.tid=n.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await n._getAppCheckToken(),v=g?`#${iM}=${encodeURIComponent(g)}`:"";return`${sM(n)}?${rg(m).slice(1)}${v}`}function sM({config:n}){return n.emulator?iw(n,rM):`https://${n.authDomain}/${nM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="webStorageSupport";class aM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fR,this._completeRedirectFn=N2,this._overrideRedirectResult=x2}async _openPopup(e,t,i,a){var u;El((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await oS(e,t,i,aT(),a);return eM(e,h,cw())}async _openRedirect(e,t,i,a){await this._originValidation(e);const u=await oS(e,t,i,aT(),a);return u2(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:u}=this.eventManagers[t];return a?Promise.resolve(a):(El(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Y2(e),i=new O2(e);return t.register("authEvent",a=>(mt(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xE,{type:xE},a=>{var u;const h=(u=a==null?void 0:a[0])===null||u===void 0?void 0:u[xE];h!==void 0&&t(!!h),Co(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=U2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nR()||QA()||ow()}}const oM=aM;var lS="@firebase/auth",uS="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cM(n){bd(new xf("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=i.options;mt(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rR(n)},v=new BO(i,a,u,g);return $O(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),bd(new xf("auth-internal",e=>{const t=D_(e.getProvider("auth").getImmediate());return(i=>new lM(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Iu(lS,uS,uM(n)),Iu(lS,uS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=5*60,hM=MA("authIdTokenMaxAge")||fM;let cS=null;const dM=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>hM)return;const a=t==null?void 0:t.token;cS!==a&&(cS=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function mM(n=jA()){const e=ew(n,"auth");if(e.isInitialized())return e.getImmediate();const t=GO(n,{popupRedirectResolver:oM,persistence:[v2,uR,fR]}),i=MA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const h=dM(u.toString());n2(t,h,()=>h(t.currentUser)),t2(t,m=>h(m))}}const a=DA("auth");return a&&KO(t,`http://${a}`),t}function pM(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}FO({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const u=La("internal-error");u.customData=a,t(u)},i.type="text/javascript",i.charset="UTF-8",pM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cM("Browser");var fS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nu,_R;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,I){function L(){}L.prototype=I.prototype,D.D=I.prototype,D.prototype=new L,D.prototype.constructor=D,D.C=function(q,K,Q){for(var F=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)F[Me-2]=arguments[Me];return I.prototype[K].apply(q,F)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,I,L){L||(L=0);var q=Array(16);if(typeof I=="string")for(var K=0;16>K;++K)q[K]=I.charCodeAt(L++)|I.charCodeAt(L++)<<8|I.charCodeAt(L++)<<16|I.charCodeAt(L++)<<24;else for(K=0;16>K;++K)q[K]=I[L++]|I[L++]<<8|I[L++]<<16|I[L++]<<24;I=D.g[0],L=D.g[1],K=D.g[2];var Q=D.g[3],F=I+(Q^L&(K^Q))+q[0]+3614090360&4294967295;I=L+(F<<7&4294967295|F>>>25),F=Q+(K^I&(L^K))+q[1]+3905402710&4294967295,Q=I+(F<<12&4294967295|F>>>20),F=K+(L^Q&(I^L))+q[2]+606105819&4294967295,K=Q+(F<<17&4294967295|F>>>15),F=L+(I^K&(Q^I))+q[3]+3250441966&4294967295,L=K+(F<<22&4294967295|F>>>10),F=I+(Q^L&(K^Q))+q[4]+4118548399&4294967295,I=L+(F<<7&4294967295|F>>>25),F=Q+(K^I&(L^K))+q[5]+1200080426&4294967295,Q=I+(F<<12&4294967295|F>>>20),F=K+(L^Q&(I^L))+q[6]+2821735955&4294967295,K=Q+(F<<17&4294967295|F>>>15),F=L+(I^K&(Q^I))+q[7]+4249261313&4294967295,L=K+(F<<22&4294967295|F>>>10),F=I+(Q^L&(K^Q))+q[8]+1770035416&4294967295,I=L+(F<<7&4294967295|F>>>25),F=Q+(K^I&(L^K))+q[9]+2336552879&4294967295,Q=I+(F<<12&4294967295|F>>>20),F=K+(L^Q&(I^L))+q[10]+4294925233&4294967295,K=Q+(F<<17&4294967295|F>>>15),F=L+(I^K&(Q^I))+q[11]+2304563134&4294967295,L=K+(F<<22&4294967295|F>>>10),F=I+(Q^L&(K^Q))+q[12]+1804603682&4294967295,I=L+(F<<7&4294967295|F>>>25),F=Q+(K^I&(L^K))+q[13]+4254626195&4294967295,Q=I+(F<<12&4294967295|F>>>20),F=K+(L^Q&(I^L))+q[14]+2792965006&4294967295,K=Q+(F<<17&4294967295|F>>>15),F=L+(I^K&(Q^I))+q[15]+1236535329&4294967295,L=K+(F<<22&4294967295|F>>>10),F=I+(K^Q&(L^K))+q[1]+4129170786&4294967295,I=L+(F<<5&4294967295|F>>>27),F=Q+(L^K&(I^L))+q[6]+3225465664&4294967295,Q=I+(F<<9&4294967295|F>>>23),F=K+(I^L&(Q^I))+q[11]+643717713&4294967295,K=Q+(F<<14&4294967295|F>>>18),F=L+(Q^I&(K^Q))+q[0]+3921069994&4294967295,L=K+(F<<20&4294967295|F>>>12),F=I+(K^Q&(L^K))+q[5]+3593408605&4294967295,I=L+(F<<5&4294967295|F>>>27),F=Q+(L^K&(I^L))+q[10]+38016083&4294967295,Q=I+(F<<9&4294967295|F>>>23),F=K+(I^L&(Q^I))+q[15]+3634488961&4294967295,K=Q+(F<<14&4294967295|F>>>18),F=L+(Q^I&(K^Q))+q[4]+3889429448&4294967295,L=K+(F<<20&4294967295|F>>>12),F=I+(K^Q&(L^K))+q[9]+568446438&4294967295,I=L+(F<<5&4294967295|F>>>27),F=Q+(L^K&(I^L))+q[14]+3275163606&4294967295,Q=I+(F<<9&4294967295|F>>>23),F=K+(I^L&(Q^I))+q[3]+4107603335&4294967295,K=Q+(F<<14&4294967295|F>>>18),F=L+(Q^I&(K^Q))+q[8]+1163531501&4294967295,L=K+(F<<20&4294967295|F>>>12),F=I+(K^Q&(L^K))+q[13]+2850285829&4294967295,I=L+(F<<5&4294967295|F>>>27),F=Q+(L^K&(I^L))+q[2]+4243563512&4294967295,Q=I+(F<<9&4294967295|F>>>23),F=K+(I^L&(Q^I))+q[7]+1735328473&4294967295,K=Q+(F<<14&4294967295|F>>>18),F=L+(Q^I&(K^Q))+q[12]+2368359562&4294967295,L=K+(F<<20&4294967295|F>>>12),F=I+(L^K^Q)+q[5]+4294588738&4294967295,I=L+(F<<4&4294967295|F>>>28),F=Q+(I^L^K)+q[8]+2272392833&4294967295,Q=I+(F<<11&4294967295|F>>>21),F=K+(Q^I^L)+q[11]+1839030562&4294967295,K=Q+(F<<16&4294967295|F>>>16),F=L+(K^Q^I)+q[14]+4259657740&4294967295,L=K+(F<<23&4294967295|F>>>9),F=I+(L^K^Q)+q[1]+2763975236&4294967295,I=L+(F<<4&4294967295|F>>>28),F=Q+(I^L^K)+q[4]+1272893353&4294967295,Q=I+(F<<11&4294967295|F>>>21),F=K+(Q^I^L)+q[7]+4139469664&4294967295,K=Q+(F<<16&4294967295|F>>>16),F=L+(K^Q^I)+q[10]+3200236656&4294967295,L=K+(F<<23&4294967295|F>>>9),F=I+(L^K^Q)+q[13]+681279174&4294967295,I=L+(F<<4&4294967295|F>>>28),F=Q+(I^L^K)+q[0]+3936430074&4294967295,Q=I+(F<<11&4294967295|F>>>21),F=K+(Q^I^L)+q[3]+3572445317&4294967295,K=Q+(F<<16&4294967295|F>>>16),F=L+(K^Q^I)+q[6]+76029189&4294967295,L=K+(F<<23&4294967295|F>>>9),F=I+(L^K^Q)+q[9]+3654602809&4294967295,I=L+(F<<4&4294967295|F>>>28),F=Q+(I^L^K)+q[12]+3873151461&4294967295,Q=I+(F<<11&4294967295|F>>>21),F=K+(Q^I^L)+q[15]+530742520&4294967295,K=Q+(F<<16&4294967295|F>>>16),F=L+(K^Q^I)+q[2]+3299628645&4294967295,L=K+(F<<23&4294967295|F>>>9),F=I+(K^(L|~Q))+q[0]+4096336452&4294967295,I=L+(F<<6&4294967295|F>>>26),F=Q+(L^(I|~K))+q[7]+1126891415&4294967295,Q=I+(F<<10&4294967295|F>>>22),F=K+(I^(Q|~L))+q[14]+2878612391&4294967295,K=Q+(F<<15&4294967295|F>>>17),F=L+(Q^(K|~I))+q[5]+4237533241&4294967295,L=K+(F<<21&4294967295|F>>>11),F=I+(K^(L|~Q))+q[12]+1700485571&4294967295,I=L+(F<<6&4294967295|F>>>26),F=Q+(L^(I|~K))+q[3]+2399980690&4294967295,Q=I+(F<<10&4294967295|F>>>22),F=K+(I^(Q|~L))+q[10]+4293915773&4294967295,K=Q+(F<<15&4294967295|F>>>17),F=L+(Q^(K|~I))+q[1]+2240044497&4294967295,L=K+(F<<21&4294967295|F>>>11),F=I+(K^(L|~Q))+q[8]+1873313359&4294967295,I=L+(F<<6&4294967295|F>>>26),F=Q+(L^(I|~K))+q[15]+4264355552&4294967295,Q=I+(F<<10&4294967295|F>>>22),F=K+(I^(Q|~L))+q[6]+2734768916&4294967295,K=Q+(F<<15&4294967295|F>>>17),F=L+(Q^(K|~I))+q[13]+1309151649&4294967295,L=K+(F<<21&4294967295|F>>>11),F=I+(K^(L|~Q))+q[4]+4149444226&4294967295,I=L+(F<<6&4294967295|F>>>26),F=Q+(L^(I|~K))+q[11]+3174756917&4294967295,Q=I+(F<<10&4294967295|F>>>22),F=K+(I^(Q|~L))+q[2]+718787259&4294967295,K=Q+(F<<15&4294967295|F>>>17),F=L+(Q^(K|~I))+q[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(K+(F<<21&4294967295|F>>>11))&4294967295,D.g[2]=D.g[2]+K&4294967295,D.g[3]=D.g[3]+Q&4294967295}i.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var L=I-this.blockSize,q=this.B,K=this.h,Q=0;Q<I;){if(K==0)for(;Q<=L;)a(this,D,Q),Q+=this.blockSize;if(typeof D=="string"){for(;Q<I;)if(q[K++]=D.charCodeAt(Q++),K==this.blockSize){a(this,q),K=0;break}}else for(;Q<I;)if(q[K++]=D[Q++],K==this.blockSize){a(this,q),K=0;break}}this.h=K,this.o+=I},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var L=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=L&255,L/=256;for(this.u(D),D=Array(16),I=L=0;4>I;++I)for(var q=0;32>q;q+=8)D[L++]=this.g[I]>>>q&255;return D};function u(D,I){var L=m;return Object.prototype.hasOwnProperty.call(L,D)?L[D]:L[D]=I(D)}function h(D,I){this.h=I;for(var L=[],q=!0,K=D.length-1;0<=K;K--){var Q=D[K]|0;q&&Q==I||(L[K]=Q,q=!1)}this.g=L}var m={};function g(D){return-128<=D&&128>D?u(D,function(I){return new h([I|0],0>I?-1:0)}):new h([D|0],0>D?-1:0)}function v(D){if(isNaN(D)||!isFinite(D))return S;if(0>D)return V(v(-D));for(var I=[],L=1,q=0;D>=L;q++)I[q]=D/L|0,L*=4294967296;return new h(I,0)}function E(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return V(E(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=v(Math.pow(I,8)),q=S,K=0;K<D.length;K+=8){var Q=Math.min(8,D.length-K),F=parseInt(D.substring(K,K+Q),I);8>Q?(Q=v(Math.pow(I,Q)),q=q.j(Q).add(v(F))):(q=q.j(L),q=q.add(v(F)))}return q}var S=g(0),A=g(1),N=g(16777216);n=h.prototype,n.m=function(){if(H(this))return-V(this).m();for(var D=0,I=1,L=0;L<this.g.length;L++){var q=this.i(L);D+=(0<=q?q:4294967296+q)*I,I*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(O(this))return"0";if(H(this))return"-"+V(this).toString(D);for(var I=v(Math.pow(D,6)),L=this,q="";;){var K=he(L,I).g;L=j(L,K.j(I));var Q=((0<L.g.length?L.g[0]:L.h)>>>0).toString(D);if(L=K,O(L))return Q+q;for(;6>Q.length;)Q="0"+Q;q=Q+q}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function O(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function H(D){return D.h==-1}n.l=function(D){return D=j(this,D),H(D)?-1:O(D)?0:1};function V(D){for(var I=D.g.length,L=[],q=0;q<I;q++)L[q]=~D.g[q];return new h(L,~D.h).add(A)}n.abs=function(){return H(this)?V(this):this},n.add=function(D){for(var I=Math.max(this.g.length,D.g.length),L=[],q=0,K=0;K<=I;K++){var Q=q+(this.i(K)&65535)+(D.i(K)&65535),F=(Q>>>16)+(this.i(K)>>>16)+(D.i(K)>>>16);q=F>>>16,Q&=65535,F&=65535,L[K]=F<<16|Q}return new h(L,L[L.length-1]&-2147483648?-1:0)};function j(D,I){return D.add(V(I))}n.j=function(D){if(O(this)||O(D))return S;if(H(this))return H(D)?V(this).j(V(D)):V(V(this).j(D));if(H(D))return V(this.j(V(D)));if(0>this.l(N)&&0>D.l(N))return v(this.m()*D.m());for(var I=this.g.length+D.g.length,L=[],q=0;q<2*I;q++)L[q]=0;for(q=0;q<this.g.length;q++)for(var K=0;K<D.g.length;K++){var Q=this.i(q)>>>16,F=this.i(q)&65535,Me=D.i(K)>>>16,ke=D.i(K)&65535;L[2*q+2*K]+=F*ke,ee(L,2*q+2*K),L[2*q+2*K+1]+=Q*ke,ee(L,2*q+2*K+1),L[2*q+2*K+1]+=F*Me,ee(L,2*q+2*K+1),L[2*q+2*K+2]+=Q*Me,ee(L,2*q+2*K+2)}for(q=0;q<I;q++)L[q]=L[2*q+1]<<16|L[2*q];for(q=I;q<2*I;q++)L[q]=0;return new h(L,0)};function ee(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function Z(D,I){this.g=D,this.h=I}function he(D,I){if(O(I))throw Error("division by zero");if(O(D))return new Z(S,S);if(H(D))return I=he(V(D),I),new Z(V(I.g),V(I.h));if(H(I))return I=he(D,V(I)),new Z(V(I.g),I.h);if(30<D.g.length){if(H(D)||H(I))throw Error("slowDivide_ only works with positive integers.");for(var L=A,q=I;0>=q.l(D);)L=ne(L),q=ne(q);var K=z(L,1),Q=z(q,1);for(q=z(q,2),L=z(L,2);!O(q);){var F=Q.add(q);0>=F.l(D)&&(K=K.add(L),Q=F),q=z(q,1),L=z(L,1)}return I=j(D,K.j(I)),new Z(K,I)}for(K=S;0<=D.l(I);){for(L=Math.max(1,Math.floor(D.m()/I.m())),q=Math.ceil(Math.log(L)/Math.LN2),q=48>=q?1:Math.pow(2,q-48),Q=v(L),F=Q.j(I);H(F)||0<F.l(D);)L-=q,Q=v(L),F=Q.j(I);O(Q)&&(Q=A),K=K.add(Q),D=j(D,F)}return new Z(K,D)}n.A=function(D){return he(this,D).h},n.and=function(D){for(var I=Math.max(this.g.length,D.g.length),L=[],q=0;q<I;q++)L[q]=this.i(q)&D.i(q);return new h(L,this.h&D.h)},n.or=function(D){for(var I=Math.max(this.g.length,D.g.length),L=[],q=0;q<I;q++)L[q]=this.i(q)|D.i(q);return new h(L,this.h|D.h)},n.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),L=[],q=0;q<I;q++)L[q]=this.i(q)^D.i(q);return new h(L,this.h^D.h)};function ne(D){for(var I=D.g.length+1,L=[],q=0;q<I;q++)L[q]=D.i(q)<<1|D.i(q-1)>>>31;return new h(L,D.h)}function z(D,I){var L=I>>5;I%=32;for(var q=D.g.length-L,K=[],Q=0;Q<q;Q++)K[Q]=0<I?D.i(Q+L)>>>I|D.i(Q+L+1)<<32-I:D.i(Q+L);return new h(K,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,_R=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=E,Nu=h}).apply(typeof fS<"u"?fS:typeof self<"u"?self:typeof window<"u"?window:{});var Ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ER,Tp,TR,Uv,uT,wR,bR,SR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,T,R){return d==Array.prototype||d==Object.prototype||(d[T]=R.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ev=="object"&&Ev];for(var T=0;T<d.length;++T){var R=d[T];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var i=t(this);function a(d,T){if(T)e:{var R=i;d=d.split(".");for(var k=0;k<d.length-1;k++){var oe=d[k];if(!(oe in R))break e;R=R[oe]}d=d[d.length-1],k=R[d],T=T(k),T!=k&&T!=null&&e(R,d,{configurable:!0,writable:!0,value:T})}}function u(d,T){d instanceof String&&(d+="");var R=0,k=!1,oe={next:function(){if(!k&&R<d.length){var ye=R++;return{value:T(ye,d[ye]),done:!1}}return k=!0,{done:!0,value:void 0}}};return oe[Symbol.iterator]=function(){return oe},oe}a("Array.prototype.values",function(d){return d||function(){return u(this,function(T,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(d){var T=typeof d;return T=T!="object"?T:d?Array.isArray(d)?"array":T:"null",T=="array"||T=="object"&&typeof d.length=="number"}function v(d){var T=typeof d;return T=="object"&&d!=null||T=="function"}function E(d,T,R){return d.call.apply(d.bind,arguments)}function S(d,T,R){if(!d)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(oe,k),d.apply(T,oe)}}return function(){return d.apply(T,arguments)}}function A(d,T,R){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,A.apply(null,arguments)}function N(d,T){var R=Array.prototype.slice.call(arguments,1);return function(){var k=R.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function O(d,T){function R(){}R.prototype=T.prototype,d.aa=T.prototype,d.prototype=new R,d.prototype.constructor=d,d.Qb=function(k,oe,ye){for(var Le=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)Le[Ot-2]=arguments[Ot];return T.prototype[oe].apply(k,Le)}}function H(d){const T=d.length;if(0<T){const R=Array(T);for(let k=0;k<T;k++)R[k]=d[k];return R}return[]}function V(d,T){for(let R=1;R<arguments.length;R++){const k=arguments[R];if(g(k)){const oe=d.length||0,ye=k.length||0;d.length=oe+ye;for(let Le=0;Le<ye;Le++)d[oe+Le]=k[Le]}else d.push(k)}}class j{constructor(T,R){this.i=T,this.j=R,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function ee(d){return/^[\s\xa0]*$/.test(d)}function Z(){var d=m.navigator;return d&&(d=d.userAgent)?d:""}function he(d){return he[" "](d),d}he[" "]=function(){};var ne=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function z(d,T,R){for(const k in d)T.call(R,d[k],k,d)}function D(d,T){for(const R in d)T.call(void 0,d[R],R,d)}function I(d){const T={};for(const R in d)T[R]=d[R];return T}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(d,T){let R,k;for(let oe=1;oe<arguments.length;oe++){k=arguments[oe];for(R in k)d[R]=k[R];for(let ye=0;ye<L.length;ye++)R=L[ye],Object.prototype.hasOwnProperty.call(k,R)&&(d[R]=k[R])}}function K(d){var T=1;d=d.split(":");const R=[];for(;0<T&&d.length;)R.push(d.shift()),T--;return d.length&&R.push(d.join(":")),R}function Q(d){m.setTimeout(()=>{throw d},0)}function F(){var d=Pe;let T=null;return d.g&&(T=d.g,d.g=d.g.next,d.g||(d.h=null),T.next=null),T}class Me{constructor(){this.h=this.g=null}add(T,R){const k=ke.get();k.set(T,R),this.h?this.h.next=k:this.g=k,this.h=k}}var ke=new j(()=>new se,d=>d.reset());class se{constructor(){this.next=this.g=this.h=null}set(T,R){this.h=T,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let me,_e=!1,Pe=new Me,G=()=>{const d=m.Promise.resolve(void 0);me=()=>{d.then(pe)}};var pe=()=>{for(var d;d=F();){try{d.h.call(d.g)}catch(R){Q(R)}var T=ke;T.j(d),100>T.h&&(T.h++,d.next=T.g,T.g=d)}_e=!1};function Ne(){this.s=this.s,this.C=this.C}Ne.prototype.s=!1,Ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(d,T){this.type=d,this.g=this.target=T,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var je=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var d=!1,T=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const R=()=>{};m.addEventListener("test",R,T),m.removeEventListener("test",R,T)}catch{}return d}();function We(d,T){if(we.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var R=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=T,T=d.relatedTarget){if(ne){e:{try{he(T.nodeName);var oe=!0;break e}catch{}oe=!1}oe||(T=null)}}else R=="mouseover"?T=d.fromElement:R=="mouseout"&&(T=d.toElement);this.relatedTarget=T,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:qe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&We.aa.h.call(this)}}O(We,we);var qe={2:"touch",3:"pen",4:"mouse"};We.prototype.h=function(){We.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var mn="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function Mn(d,T,R,k,oe){this.listener=d,this.proxy=null,this.src=T,this.type=R,this.capture=!!k,this.ha=oe,this.key=++Nt,this.da=this.fa=!1}function Zt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Sn(d){this.src=d,this.g={},this.h=0}Sn.prototype.add=function(d,T,R,k,oe){var ye=d.toString();d=this.g[ye],d||(d=this.g[ye]=[],this.h++);var Le=Ar(d,T,k,oe);return-1<Le?(T=d[Le],R||(T.fa=!1)):(T=new Mn(T,this.src,ye,!!k,oe),T.fa=R,d.push(T)),T};function qn(d,T){var R=T.type;if(R in d.g){var k=d.g[R],oe=Array.prototype.indexOf.call(k,T,void 0),ye;(ye=0<=oe)&&Array.prototype.splice.call(k,oe,1),ye&&(Zt(T),d.g[R].length==0&&(delete d.g[R],d.h--))}}function Ar(d,T,R,k){for(var oe=0;oe<d.length;++oe){var ye=d[oe];if(!ye.da&&ye.listener==T&&ye.capture==!!R&&ye.ha==k)return oe}return-1}var Wt="closure_lm_"+(1e6*Math.random()|0),Dt={};function us(d,T,R,k,oe){if(Array.isArray(T)){for(var ye=0;ye<T.length;ye++)us(d,T[ye],R,k,oe);return null}return R=Qr(R),d&&d[mn]?d.K(T,R,v(k)?!!k.capture:!1,oe):an(d,T,R,!1,k,oe)}function an(d,T,R,k,oe,ye){if(!T)throw Error("Invalid event type");var Le=v(oe)?!!oe.capture:!!oe,Ot=vr(d);if(Ot||(d[Wt]=Ot=new Sn(d)),R=Ot.add(T,R,k,Le,ye),R.proxy)return R;if(k=ja(),R.proxy=k,k.src=d,k.listener=R,d.addEventListener)je||(oe=Le),oe===void 0&&(oe=!1),d.addEventListener(T.toString(),k,oe);else if(d.attachEvent)d.attachEvent(Bn(T.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return R}function ja(){function d(R){return T.call(d.src,d.listener,R)}const T=yr;return d}function sa(d,T,R,k,oe){if(Array.isArray(T))for(var ye=0;ye<T.length;ye++)sa(d,T[ye],R,k,oe);else k=v(k)?!!k.capture:!!k,R=Qr(R),d&&d[mn]?(d=d.i,T=String(T).toString(),T in d.g&&(ye=d.g[T],R=Ar(ye,R,k,oe),-1<R&&(Zt(ye[R]),Array.prototype.splice.call(ye,R,1),ye.length==0&&(delete d.g[T],d.h--)))):d&&(d=vr(d))&&(T=d.g[T.toString()],d=-1,T&&(d=Ar(T,R,k,oe)),(R=-1<d?T[d]:null)&&Wr(R))}function Wr(d){if(typeof d!="number"&&d&&!d.da){var T=d.src;if(T&&T[mn])qn(T.i,d);else{var R=d.type,k=d.proxy;T.removeEventListener?T.removeEventListener(R,k,d.capture):T.detachEvent?T.detachEvent(Bn(R),k):T.addListener&&T.removeListener&&T.removeListener(k),(R=vr(T))?(qn(R,d),R.h==0&&(R.src=null,T[Wt]=null)):Zt(d)}}}function Bn(d){return d in Dt?Dt[d]:Dt[d]="on"+d}function yr(d,T){if(d.da)d=!0;else{T=new We(T,this);var R=d.listener,k=d.ha||d.src;d.fa&&Wr(d),d=R.call(k,T)}return d}function vr(d){return d=d[Wt],d instanceof Sn?d:null}var cs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qr(d){return typeof d=="function"?d:(d[cs]||(d[cs]=function(T){return d.handleEvent(T)}),d[cs])}function Ge(){Ne.call(this),this.i=new Sn(this),this.M=this,this.F=null}O(Ge,Ne),Ge.prototype[mn]=!0,Ge.prototype.removeEventListener=function(d,T,R,k){sa(this,d,T,R,k)};function it(d,T){var R,k=d.F;if(k)for(R=[];k;k=k.F)R.push(k);if(d=d.M,k=T.type||T,typeof T=="string")T=new we(T,d);else if(T instanceof we)T.target=T.target||d;else{var oe=T;T=new we(k,d),q(T,oe)}if(oe=!0,R)for(var ye=R.length-1;0<=ye;ye--){var Le=T.g=R[ye];oe=An(Le,k,!0,T)&&oe}if(Le=T.g=d,oe=An(Le,k,!0,T)&&oe,oe=An(Le,k,!1,T)&&oe,R)for(ye=0;ye<R.length;ye++)Le=T.g=R[ye],oe=An(Le,k,!1,T)&&oe}Ge.prototype.N=function(){if(Ge.aa.N.call(this),this.i){var d=this.i,T;for(T in d.g){for(var R=d.g[T],k=0;k<R.length;k++)Zt(R[k]);delete d.g[T],d.h--}}this.F=null},Ge.prototype.K=function(d,T,R,k){return this.i.add(String(d),T,!1,R,k)},Ge.prototype.L=function(d,T,R,k){return this.i.add(String(d),T,!0,R,k)};function An(d,T,R,k){if(T=d.i.g[String(T)],!T)return!0;T=T.concat();for(var oe=!0,ye=0;ye<T.length;++ye){var Le=T[ye];if(Le&&!Le.da&&Le.capture==R){var Ot=Le.listener,Qn=Le.ha||Le.src;Le.fa&&qn(d.i,Le),oe=Ot.call(Qn,k)!==!1&&oe}}return oe&&!k.defaultPrevented}function Pn(d,T,R){if(typeof d=="function")R&&(d=A(d,R));else if(d&&typeof d.handleEvent=="function")d=A(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:m.setTimeout(d,T||0)}function Ba(d){d.g=Pn(()=>{d.g=null,d.i&&(d.i=!1,Ba(d))},d.l);const T=d.h;d.h=null,d.m.apply(null,T)}class Xr extends Ne{constructor(T,R){super(),this.m=T,this.l=R,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Ba(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vi(d){Ne.call(this),this.h=d,this.g={}}O(Vi,Ne);var ji=[];function Bi(d){z(d.g,function(T,R){this.g.hasOwnProperty(R)&&Wr(T)},d),d.g={}}Vi.prototype.N=function(){Vi.aa.N.call(this),Bi(this)},Vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pr=m.JSON.stringify,fs=m.JSON.parse,Zr=class{stringify(d){return m.JSON.stringify(d,void 0)}parse(d){return m.JSON.parse(d,void 0)}};function Fa(){}Fa.prototype.h=null;function aa(d){return d.h||(d.h=d.i())}function Do(){}var bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fi(){we.call(this,"d")}O(Fi,we);function za(){we.call(this,"c")}O(za,we);var Lr={},Os=null;function Ms(){return Os=Os||new Ge}Lr.La="serverreachability";function oa(d){we.call(this,Lr.La,d)}O(oa,we);function W(d){const T=Ms();it(T,new oa(T))}Lr.STAT_EVENT="statevent";function ae(d,T){we.call(this,Lr.STAT_EVENT,d),this.stat=T}O(ae,we);function ue(d){const T=Ms();it(T,new ae(T,d))}Lr.Ma="timingevent";function Se(d,T){we.call(this,Lr.Ma,d),this.size=T}O(Se,we);function Oe(d,T){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){d()},T)}function Be(){this.g=!0}Be.prototype.xa=function(){this.g=!1};function et(d,T,R,k,oe,ye){d.info(function(){if(d.g)if(ye)for(var Le="",Ot=ye.split("&"),Qn=0;Qn<Ot.length;Qn++){var Ut=Ot[Qn].split("=");if(1<Ut.length){var rn=Ut[0];Ut=Ut[1];var zn=rn.split("_");Le=2<=zn.length&&zn[1]=="type"?Le+(rn+"="+Ut+"&"):Le+(rn+"=redacted&")}}else Le=null;else Le=ye;return"XMLHTTP REQ ("+k+") [attempt "+oe+"]: "+T+`
`+R+`
`+Le})}function Fe(d,T,R,k,oe,ye,Le){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+oe+"]: "+T+`
`+R+`
`+ye+" "+Le})}function $e(d,T,R,k){d.info(function(){return"XMLHTTP TEXT ("+T+"): "+nt(d,R)+(k?" "+k:"")})}function Xe(d,T){d.info(function(){return"TIMEOUT: "+T})}Be.prototype.info=function(){};function nt(d,T){if(!d.g)return T;if(!T)return null;try{var R=JSON.parse(T);if(R){for(d=0;d<R.length;d++)if(Array.isArray(R[d])){var k=R[d];if(!(2>k.length)){var oe=k[1];if(Array.isArray(oe)&&!(1>oe.length)){var ye=oe[0];if(ye!="noop"&&ye!="stop"&&ye!="close")for(var Le=1;Le<oe.length;Le++)oe[Le]=""}}}}return Pr(R)}catch{return T}}var Ke={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},st={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rt;function Jt(){}O(Jt,Fa),Jt.prototype.g=function(){return new XMLHttpRequest},Jt.prototype.i=function(){return{}},Rt=new Jt;function Qt(d,T,R,k){this.j=d,this.i=T,this.l=R,this.R=k||1,this.U=new Vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lt}function Lt(){this.i=null,this.g="",this.h=!1}var wt={},zi={};function Wn(d,T,R){d.L=1,d.v=ua(ti(T)),d.m=R,d.P=!0,kr(d,null)}function kr(d,T){d.F=Date.now(),Rr(d),d.A=ti(d.v);var R=d.A,k=d.R;Array.isArray(k)||(k=[String(k)]),Nl(R.i,"t",k),d.C=0,R=d.j.J,d.h=new Lt,d.g=Kf(d.j,R?T:null,!d.m),0<d.O&&(d.M=new Xr(A(d.Y,d,d.g),d.O)),T=d.U,R=d.g,k=d.ca;var oe="readystatechange";Array.isArray(oe)||(oe&&(ji[0]=oe.toString()),oe=ji);for(var ye=0;ye<oe.length;ye++){var Le=us(R,oe[ye],k||T.handleEvent,!1,T.h||T);if(!Le)break;T.g[Le.key]=Le}T=d.H?I(d.H):{},d.m?(d.u||(d.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,T)):(d.u="GET",d.g.ea(d.A,d.u,null,T)),W(),et(d.i,d.u,d.A,d.l,d.R,d.m)}Qt.prototype.ca=function(d){d=d.target;const T=this.M;T&&or(d)==3?T.j():this.Y(d)},Qt.prototype.Y=function(d){try{if(d==this.g)e:{const zn=or(this.g);var T=this.g.Ba();const Si=this.g.Z();if(!(3>zn)&&(zn!=3||this.g&&(this.h.h||this.g.oa()||Xu(this.g)))){this.J||zn!=4||T==7||(T==8||0>=Si?W(3):W(2)),xr(this);var R=this.g.Z();this.X=R;t:if(Gn(this)){var k=Xu(this.g);d="";var oe=k.length,ye=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ft(this),Ur(this);var Le="";break t}this.h.i=new m.TextDecoder}for(T=0;T<oe;T++)this.h.h=!0,d+=this.h.i.decode(k[T],{stream:!(ye&&T==oe-1)});k.length=0,this.h.g+=d,this.C=0,Le=this.h.g}else Le=this.g.oa();if(this.o=R==200,Fe(this.i,this.u,this.A,this.l,this.R,zn,R),this.o){if(this.T&&!this.K){t:{if(this.g){var Ot,Qn=this.g;if((Ot=Qn.g?Qn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(Ot)){var Ut=Ot;break t}}Ut=null}if(R=Ut)$e(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fn(this,R);else{this.o=!1,this.s=3,ue(12),ft(this),Ur(this);break e}}if(this.P){R=!0;let ur;for(;!this.J&&this.C<Le.length;)if(ur=Ps(this,Le),ur==zi){zn==4&&(this.s=4,ue(14),R=!1),$e(this.i,this.l,null,"[Incomplete Response]");break}else if(ur==wt){this.s=4,ue(15),$e(this.i,this.l,Le,"[Invalid Chunk]"),R=!1;break}else $e(this.i,this.l,ur,null),Fn(this,ur);if(Gn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zn!=4||Le.length!=0||this.h.h||(this.s=1,ue(16),R=!1),this.o=this.o&&R,!R)$e(this.i,this.l,Le,"[Invalid Chunked Response]"),ft(this),Ur(this);else if(0<Le.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+Le.length),ii(rn),rn.M=!0,ue(11))}}else $e(this.i,this.l,Le,null),Fn(this,Le);zn==4&&ft(this),this.o&&!this.J&&(zn==4?gn(this.j,this):(this.o=!1,Rr(this)))}else Zu(this.g),R==400&&0<Le.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),ft(this),Ur(this)}}}catch{}finally{}};function Gn(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Ps(d,T){var R=d.C,k=T.indexOf(`
`,R);return k==-1?zi:(R=Number(T.substring(R,k)),isNaN(R)?wt:(k+=1,k+R>T.length?zi:(T=T.slice(k,k+R),d.C=k+R,T)))}Qt.prototype.cancel=function(){this.J=!0,ft(this)};function Rr(d){d.S=Date.now()+d.I,Ha(d,d.I)}function Ha(d,T){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Oe(A(d.ba,d),T)}function xr(d){d.B&&(m.clearTimeout(d.B),d.B=null)}Qt.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Xe(this.i,this.A),this.L!=2&&(W(),ue(17)),ft(this),this.s=2,Ur(this)):Ha(this,this.S-d)};function Ur(d){d.j.G==0||d.J||gn(d.j,d)}function ft(d){xr(d);var T=d.M;T&&typeof T.ma=="function"&&T.ma(),d.M=null,Bi(d.U),d.g&&(T=d.g,d.g=null,T.abort(),T.ma())}function Fn(d,T){try{var R=d.j;if(R.G!=0&&(R.g==d||Hi(R.h,d))){if(!d.K&&Hi(R.h,d)&&R.G==3){try{var k=R.Da.g.parse(T)}catch{k=null}if(Array.isArray(k)&&k.length==3){var oe=k;if(oe[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<d.F)$a(R),Vo(R);else break e;Pl(R),ue(18)}}else R.za=oe[1],0<R.za-R.T&&37500>oe[2]&&R.F&&R.v==0&&!R.C&&(R.C=Oe(A(R.Za,R),6e3));if(1>=pn(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else ds(R,11)}else if((d.K||R.g==d)&&$a(R),!ee(T))for(oe=R.Da.g.parse(T),T=0;T<oe.length;T++){let Ut=oe[T];if(R.T=Ut[0],Ut=Ut[1],R.G==2)if(Ut[0]=="c"){R.K=Ut[1],R.ia=Ut[2];const rn=Ut[3];rn!=null&&(R.la=rn,R.j.info("VER="+R.la));const zn=Ut[4];zn!=null&&(R.Aa=zn,R.j.info("SVER="+R.Aa));const Si=Ut[5];Si!=null&&typeof Si=="number"&&0<Si&&(k=1.5*Si,R.L=k,R.j.info("backChannelRequestTimeoutMs_="+k)),k=R;const ur=d.g;if(ur){const ms=ur.g?ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var ye=k.h;ye.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(ye.j=ye.l,ye.g=new Set,ye.h&&(ks(ye,ye.h),ye.h=null))}if(k.D){const ec=ur.g?ur.g.getResponseHeader("X-HTTP-Session-Id"):null;ec&&(k.ya=ec,on(k.I,k.D,ec))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-d.F,R.j.info("Handshake RTT: "+R.R+"ms")),k=R;var Le=d;if(k.qa=Ll(k,k.J?k.ia:null,k.W),Le.K){sr(k.h,Le);var Ot=Le,Qn=k.L;Qn&&(Ot.I=Qn),Ot.B&&(xr(Ot),Rr(Ot)),k.g=Le}else Gf(k);0<R.i.length&&jo(R)}else Ut[0]!="stop"&&Ut[0]!="close"||ds(R,7);else R.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?ds(R,7):Ml(R):Ut[0]!="noop"&&R.l&&R.l.ta(Ut),R.v=0)}}W(4)}catch{}}var Jr=class{constructor(d,T){this.g=d,this.map=T}};function ei(d){this.l=d||10,m.PerformanceNavigationTiming?(d=m.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ls(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function pn(d){return d.h?1:d.g?d.g.size:0}function Hi(d,T){return d.h?d.h==T:d.g?d.g.has(T):!1}function ks(d,T){d.g?d.g.add(T):d.h=T}function sr(d,T){d.h&&d.h==T?d.h=null:d.g&&d.g.has(T)&&d.g.delete(T)}ei.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Rl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let T=d.i;for(const R of d.g.values())T=T.concat(R.D);return T}return H(d.i)}function $u(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(g(d)){for(var T=[],R=d.length,k=0;k<R;k++)T.push(d[k]);return T}T=[],R=0;for(k in d)T[R++]=d[k];return T}function xl(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(g(d)||typeof d=="string"){var T=[];d=d.length;for(var R=0;R<d;R++)T.push(R);return T}T=[],R=0;for(const k in d)T[R++]=k;return T}}}function Cl(d,T){if(d.forEach&&typeof d.forEach=="function")d.forEach(T,void 0);else if(g(d)||typeof d=="string")Array.prototype.forEach.call(d,T,void 0);else for(var R=xl(d),k=$u(d),oe=k.length,ye=0;ye<oe;ye++)T.call(void 0,k[ye],R&&R[ye],d)}var Us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jf(d,T){if(d){d=d.split("&");for(var R=0;R<d.length;R++){var k=d[R].indexOf("="),oe=null;if(0<=k){var ye=d[R].substring(0,k);oe=d[R].substring(k+1)}else ye=d[R];T(ye,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function $n(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof $n){this.h=d.h,qa(this,d.j),this.o=d.o,this.g=d.g,Vs(this,d.s),this.l=d.l;var T=d.i,R=new js;R.i=T.i,T.g&&(R.g=new Map(T.g),R.h=T.h),la(this,R),this.m=d.m}else d&&(T=String(d).match(Us))?(this.h=!1,qa(this,T[1]||"",!0),this.o=ni(T[2]||""),this.g=ni(T[3]||"",!0),Vs(this,T[4]),this.l=ni(T[5]||"",!0),la(this,T[6]||"",!0),this.m=ni(T[7]||"")):(this.h=!1,this.i=new js(null,this.h))}$n.prototype.toString=function(){var d=[],T=this.j;T&&d.push(qi(T,Il,!0),":");var R=this.g;return(R||T=="file")&&(d.push("//"),(T=this.o)&&d.push(qi(T,Il,!0),"@"),d.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&d.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&d.push("/"),d.push(qi(R,R.charAt(0)=="/"?Bf:Yu,!0))),(R=this.i.toString())&&d.push("?",R),(R=this.m)&&d.push("#",qi(R,Oo)),d.join("")};function ti(d){return new $n(d)}function qa(d,T,R){d.j=R?ni(T,!0):T,d.j&&(d.j=d.j.replace(/:$/,""))}function Vs(d,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);d.s=T}else d.s=null}function la(d,T,R){T instanceof js?(d.i=T,zf(d.i,d.h)):(R||(T=qi(T,Ff)),d.i=new js(T,d.h))}function on(d,T,R){d.i.set(T,R)}function ua(d){return on(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function ni(d,T){return d?T?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function qi(d,T,R){return typeof d=="string"?(d=encodeURI(d).replace(T,Ku),R&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Ku(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Il=/[#\/\?@]/g,Yu=/[#\?:]/g,Bf=/[#\?]/g,Ff=/[#\?@]/g,Oo=/#/g;function js(d,T){this.h=this.g=null,this.i=d||null,this.j=!!T}function Gi(d){d.g||(d.g=new Map,d.h=0,d.i&&jf(d.i,function(T,R){d.add(decodeURIComponent(T.replace(/\+/g," ")),R)}))}n=js.prototype,n.add=function(d,T){Gi(this),this.i=null,d=Bs(this,d);var R=this.g.get(d);return R||this.g.set(d,R=[]),R.push(T),this.h+=1,this};function ca(d,T){Gi(d),T=Bs(d,T),d.g.has(T)&&(d.i=null,d.h-=d.g.get(T).length,d.g.delete(T))}function fa(d,T){return Gi(d),T=Bs(d,T),d.g.has(T)}n.forEach=function(d,T){Gi(this),this.g.forEach(function(R,k){R.forEach(function(oe){d.call(T,oe,k,this)},this)},this)},n.na=function(){Gi(this);const d=Array.from(this.g.values()),T=Array.from(this.g.keys()),R=[];for(let k=0;k<T.length;k++){const oe=d[k];for(let ye=0;ye<oe.length;ye++)R.push(T[k])}return R},n.V=function(d){Gi(this);let T=[];if(typeof d=="string")fa(this,d)&&(T=T.concat(this.g.get(Bs(this,d))));else{d=Array.from(this.g.values());for(let R=0;R<d.length;R++)T=T.concat(d[R])}return T},n.set=function(d,T){return Gi(this),this.i=null,d=Bs(this,d),fa(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[T]),this.h+=1,this},n.get=function(d,T){return d?(d=this.V(d),0<d.length?String(d[0]):T):T};function Nl(d,T,R){ca(d,T),0<R.length&&(d.i=null,d.g.set(Bs(d,T),H(R)),d.h+=R.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],T=Array.from(this.g.keys());for(var R=0;R<T.length;R++){var k=T[R];const ye=encodeURIComponent(String(k)),Le=this.V(k);for(k=0;k<Le.length;k++){var oe=ye;Le[k]!==""&&(oe+="="+encodeURIComponent(String(Le[k]))),d.push(oe)}}return this.i=d.join("&")};function Bs(d,T){return T=String(T),d.j&&(T=T.toLowerCase()),T}function zf(d,T){T&&!d.j&&(Gi(d),d.i=null,d.g.forEach(function(R,k){var oe=k.toLowerCase();k!=oe&&(ca(this,k),Nl(this,oe,R))},d)),d.j=T}function Mo(d,T){const R=new Be;if(m.Image){const k=new Image;k.onload=N(ri,R,"TestLoadImage: loaded",!0,T,k),k.onerror=N(ri,R,"TestLoadImage: error",!1,T,k),k.onabort=N(ri,R,"TestLoadImage: abort",!1,T,k),k.ontimeout=N(ri,R,"TestLoadImage: timeout",!1,T,k),m.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else T(!1)}function hs(d,T){const R=new Be,k=new AbortController,oe=setTimeout(()=>{k.abort(),ri(R,"TestPingServer: timeout",!1,T)},1e4);fetch(d,{signal:k.signal}).then(ye=>{clearTimeout(oe),ye.ok?ri(R,"TestPingServer: ok",!0,T):ri(R,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(oe),ri(R,"TestPingServer: error",!1,T)})}function ri(d,T,R,k,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),k(R)}catch{}}function Po(){this.g=new Zr}function Fs(d,T,R){const k=R||"";try{Cl(d,function(oe,ye){let Le=oe;v(oe)&&(Le=Pr(oe)),T.push(k+ye+"="+encodeURIComponent(Le))})}catch(oe){throw T.push(k+"type="+encodeURIComponent("_badmap")),oe}}function Ga(d){this.l=d.Ub||null,this.j=d.eb||!1}O(Ga,Fa),Ga.prototype.g=function(){return new ha(this.l,this.j)},Ga.prototype.i=function(d){return function(){return d}}({});function ha(d,T){Ge.call(this),this.D=d,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(ha,Ge),n=ha.prototype,n.open=function(d,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=T,this.readyState=1,kt(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(T.body=d),(this.D||m).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ft(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,kt(this)),this.g&&(this.readyState=3,kt(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wu(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wu(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var T=d.value?d.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!d.done}))&&(this.response=this.responseText+=T)}d.done?Ft(this):kt(this),this.readyState==3&&Wu(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Ft(this))},n.Qa=function(d){this.g&&(this.response=d,Ft(this))},n.ga=function(){this.g&&Ft(this)};function Ft(d){d.readyState=4,d.l=null,d.j=null,d.v=null,kt(d)}n.setRequestHeader=function(d,T){this.u.append(d,T)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],T=this.h.entries();for(var R=T.next();!R.done;)R=R.value,d.push(R[0]+": "+R[1]),R=T.next();return d.join(`\r
`)};function kt(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Qu(d){let T="";return z(d,function(R,k){T+=k,T+=":",T+=R,T+=`\r
`}),T}function ar(d,T,R){e:{for(k in R){var k=!1;break e}k=!0}k||(R=Qu(R),typeof d=="string"?R!=null&&encodeURIComponent(String(R)):on(d,T,R))}function nn(d){Ge.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(nn,Ge);var Dl=/^https?$/i,Lo=["POST","PUT"];n=nn.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,T,R,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);T=T?T.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rt.g(),this.v=this.o?aa(this.o):aa(Rt),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(T,String(d),!0),this.B=!1}catch(ye){Hf(this,ye);return}if(d=R||"",R=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var oe in k)R.set(oe,k[oe]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ye of k.keys())R.set(ye,k.get(ye));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(R.keys()).find(ye=>ye.toLowerCase()=="content-type"),oe=m.FormData&&d instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Lo,T,void 0))||k||oe||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ye,Le]of R)this.g.setRequestHeader(ye,Le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{da(this),this.u=!0,this.g.send(d),this.u=!1}catch(ye){Hf(this,ye)}};function Hf(d,T){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=T,d.m=5,ko(d),En(d)}function ko(d){d.A||(d.A=!0,it(d,"complete"),it(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,it(this,"complete"),it(this,"abort"),En(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),En(this,!0)),nn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ol(this):this.bb())},n.bb=function(){Ol(this)};function Ol(d){if(d.h&&typeof h<"u"&&(!d.v[1]||or(d)!=4||d.Z()!=2)){if(d.u&&or(d)==4)Pn(d.Ea,0,d);else if(it(d,"readystatechange"),or(d)==4){d.h=!1;try{const Le=d.Z();e:switch(Le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var R;if(!(R=T)){var k;if(k=Le===0){var oe=String(d.D).match(Us)[1]||null;!oe&&m.self&&m.self.location&&(oe=m.self.location.protocol.slice(0,-1)),k=!Dl.test(oe?oe.toLowerCase():"")}R=k}if(R)it(d,"complete"),it(d,"success");else{d.m=6;try{var ye=2<or(d)?d.g.statusText:""}catch{ye=""}d.l=ye+" ["+d.Z()+"]",ko(d)}}finally{En(d)}}}}function En(d,T){if(d.g){da(d);const R=d.g,k=d.v[0]?()=>{}:null;d.g=null,d.v=null,T||it(d,"ready");try{R.onreadystatechange=k}catch{}}}function da(d){d.I&&(m.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function or(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var T=this.g.responseText;return d&&T.indexOf(d)==0&&(T=T.substring(d.length)),fs(T)}};function Xu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Zu(d){const T={};d=(d.g&&2<=or(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(ee(d[k]))continue;var R=K(d[k]);const oe=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ye=T[oe]||[];T[oe]=ye,ye.push(R)}D(T,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lr(d,T,R){return R&&R.internalChannelParams&&R.internalChannelParams[d]||T}function Uo(d){this.Aa=0,this.i=[],this.j=new Be,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lr("baseRetryDelayMs",5e3,d),this.cb=lr("retryDelaySeedMs",1e4,d),this.Wa=lr("forwardChannelMaxRetries",2,d),this.wa=lr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ei(d&&d.concurrentRequestLimit),this.Da=new Po,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Uo.prototype,n.la=8,n.G=1,n.connect=function(d,T,R,k){ue(0),this.W=d,this.H=T||{},R&&k!==void 0&&(this.H.OSID=R,this.H.OAID=k),this.F=this.X,this.I=Ll(this,null,this.W),jo(this)};function Ml(d){if(Ju(d),d.G==3){var T=d.U++,R=ti(d.I);if(on(R,"SID",d.K),on(R,"RID",T),on(R,"TYPE","terminate"),Bo(d,R),T=new Qt(d,d.j,T),T.L=2,T.v=ua(ti(R)),R=!1,m.navigator&&m.navigator.sendBeacon)try{R=m.navigator.sendBeacon(T.v.toString(),"")}catch{}!R&&m.Image&&(new Image().src=T.v,R=!0),R||(T.g=Kf(T.j,null),T.g.ea(T.v)),T.F=Date.now(),Rr(T)}$f(d)}function Vo(d){d.g&&(ii(d),d.g.cancel(),d.g=null)}function Ju(d){Vo(d),d.u&&(m.clearTimeout(d.u),d.u=null),$a(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&m.clearTimeout(d.s),d.s=null)}function jo(d){if(!Ls(d.h)&&!d.s){d.s=!0;var T=d.Ga;me||G(),_e||(me(),_e=!0),Pe.add(T,d),d.B=0}}function qf(d,T){return pn(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=T.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Oe(A(d.Ga,d,T),$i(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const oe=new Qt(this,this.j,d);let ye=this.o;if(this.S&&(ye?(ye=I(ye),q(ye,this.S)):ye=this.S),this.m!==null||this.O||(oe.H=ye,ye=null),this.P)e:{for(var T=0,R=0;R<this.i.length;R++){t:{var k=this.i[R];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(T+=k,4096<T){T=R;break e}if(T===4096||R===this.i.length-1){T=R+1;break e}}T=1e3}else T=1e3;T=Vr(this,oe,T),R=ti(this.I),on(R,"RID",d),on(R,"CVER",22),this.D&&on(R,"X-HTTP-Session-Id",this.D),Bo(this,R),ye&&(this.O?T="headers="+encodeURIComponent(String(Qu(ye)))+"&"+T:this.m&&ar(R,this.m,ye)),ks(this.h,oe),this.Ua&&on(R,"TYPE","init"),this.P?(on(R,"$req",T),on(R,"SID","null"),oe.T=!0,Wn(oe,R,null)):Wn(oe,R,T),this.G=2}}else this.G==3&&(d?_r(this,d):this.i.length==0||Ls(this.h)||_r(this))};function _r(d,T){var R;T?R=T.l:R=d.U++;const k=ti(d.I);on(k,"SID",d.K),on(k,"RID",R),on(k,"AID",d.T),Bo(d,k),d.m&&d.o&&ar(k,d.m,d.o),R=new Qt(d,d.j,R,d.B+1),d.m===null&&(R.H=d.o),T&&(d.i=T.D.concat(d.i)),T=Vr(d,R,1e3),R.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ks(d.h,R),Wn(R,k,T)}function Bo(d,T){d.H&&z(d.H,function(R,k){on(T,k,R)}),d.l&&Cl({},function(R,k){on(T,k,R)})}function Vr(d,T,R){R=Math.min(d.i.length,R);var k=d.l?A(d.l.Na,d.l,d):null;e:{var oe=d.i;let ye=-1;for(;;){const Le=["count="+R];ye==-1?0<R?(ye=oe[0].g,Le.push("ofs="+ye)):ye=0:Le.push("ofs="+ye);let Ot=!0;for(let Qn=0;Qn<R;Qn++){let Ut=oe[Qn].g;const rn=oe[Qn].map;if(Ut-=ye,0>Ut)ye=Math.max(0,oe[Qn].g-100),Ot=!1;else try{Fs(rn,Le,"req"+Ut+"_")}catch{k&&k(rn)}}if(Ot){k=Le.join("&");break e}}}return d=d.i.splice(0,R),T.D=d,k}function Gf(d){if(!d.g&&!d.u){d.Y=1;var T=d.Fa;me||G(),_e||(me(),_e=!0),Pe.add(T,d),d.v=0}}function Pl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Oe(A(d.Fa,d),$i(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Fo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Oe(A(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),Vo(this),Fo(this))};function ii(d){d.A!=null&&(m.clearTimeout(d.A),d.A=null)}function Fo(d){d.g=new Qt(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var T=ti(d.qa);on(T,"RID","rpc"),on(T,"SID",d.K),on(T,"AID",d.T),on(T,"CI",d.F?"0":"1"),!d.F&&d.ja&&on(T,"TO",d.ja),on(T,"TYPE","xmlhttp"),Bo(d,T),d.m&&d.o&&ar(T,d.m,d.o),d.L&&(d.g.I=d.L);var R=d.g;d=d.ia,R.L=1,R.v=ua(ti(T)),R.m=null,R.P=!0,kr(R,d)}n.Za=function(){this.C!=null&&(this.C=null,Vo(this),Pl(this),ue(19))};function $a(d){d.C!=null&&(m.clearTimeout(d.C),d.C=null)}function gn(d,T){var R=null;if(d.g==T){$a(d),ii(d),d.g=null;var k=2}else if(Hi(d.h,T))R=T.D,sr(d.h,T),k=1;else return;if(d.G!=0){if(T.o)if(k==1){R=T.m?T.m.length:0,T=Date.now()-T.F;var oe=d.B;k=Ms(),it(k,new Se(k,R)),jo(d)}else Gf(d);else if(oe=T.s,oe==3||oe==0&&0<T.X||!(k==1&&qf(d,T)||k==2&&Pl(d)))switch(R&&0<R.length&&(T=d.h,T.i=T.i.concat(R)),oe){case 1:ds(d,5);break;case 4:ds(d,10);break;case 3:ds(d,6);break;default:ds(d,2)}}}function $i(d,T){let R=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(R*=2),R*T}function ds(d,T){if(d.j.info("Error code "+T),T==2){var R=A(d.fb,d),k=d.Xa;const oe=!k;k=new $n(k||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||qa(k,"https"),ua(k),oe?Mo(k.toString(),R):hs(k.toString(),R)}else ue(2);d.G=0,d.l&&d.l.sa(T),$f(d),Ju(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function $f(d){if(d.G=0,d.ka=[],d.l){const T=Rl(d.h);(T.length!=0||d.i.length!=0)&&(V(d.ka,T),V(d.ka,d.i),d.h.i.length=0,H(d.i),d.i.length=0),d.l.ra()}}function Ll(d,T,R){var k=R instanceof $n?ti(R):new $n(R);if(k.g!="")T&&(k.g=T+"."+k.g),Vs(k,k.s);else{var oe=m.location;k=oe.protocol,T=T?T+"."+oe.hostname:oe.hostname,oe=+oe.port;var ye=new $n(null);k&&qa(ye,k),T&&(ye.g=T),oe&&Vs(ye,oe),R&&(ye.l=R),k=ye}return R=d.D,T=d.ya,R&&T&&on(k,R,T),on(k,"VER",d.la),Bo(d,k),k}function Kf(d,T,R){if(T&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=d.Ca&&!d.pa?new nn(new Ga({eb:R})):new nn(d.pa),T.Ha(d.J),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yf(){}n=Yf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function kl(){}kl.prototype.g=function(d,T){return new Cr(d,T)};function Cr(d,T){Ge.call(this),this.g=new Uo(T),this.l=d,this.h=T&&T.messageUrlParams||null,d=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(d?d["X-WebChannel-Content-Type"]=T.messageContentType:d={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(d?d["X-WebChannel-Client-Profile"]=T.va:d={"X-WebChannel-Client-Profile":T.va}),this.g.S=d,(d=T&&T.Sb)&&!ee(d)&&(this.g.m=d),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!ee(T)&&(this.g.D=T,d=this.h,d!==null&&T in d&&(d=this.h,T in d&&delete d[T])),this.j=new zs(this)}O(Cr,Ge),Cr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cr.prototype.close=function(){Ml(this.g)},Cr.prototype.o=function(d){var T=this.g;if(typeof d=="string"){var R={};R.__data__=d,d=R}else this.u&&(R={},R.__data__=Pr(d),d=R);T.i.push(new Jr(T.Ya++,d)),T.G==3&&jo(T)},Cr.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,Cr.aa.N.call(this)};function zo(d){Fi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var T=d.__sm__;if(T){e:{for(const R in T){d=R;break e}d=void 0}(this.i=d)&&(d=this.i,T=T!==null&&d in T?T[d]:void 0),this.data=T}else this.data=d}O(zo,Fi);function ma(){za.call(this),this.status=1}O(ma,za);function zs(d){this.g=d}O(zs,Yf),zs.prototype.ua=function(){it(this.g,"a")},zs.prototype.ta=function(d){it(this.g,new zo(d))},zs.prototype.sa=function(d){it(this.g,new ma)},zs.prototype.ra=function(){it(this.g,"b")},kl.prototype.createWebChannel=kl.prototype.g,Cr.prototype.send=Cr.prototype.o,Cr.prototype.open=Cr.prototype.m,Cr.prototype.close=Cr.prototype.close,SR=function(){return new kl},bR=function(){return Ms()},wR=Lr,uT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ke.NO_ERROR=0,Ke.TIMEOUT=8,Ke.HTTP_ERROR=6,Uv=Ke,st.COMPLETE="complete",TR=st,Do.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",Ge.prototype.listen=Ge.prototype.K,Tp=Do,nn.prototype.listenOnce=nn.prototype.L,nn.prototype.getLastError=nn.prototype.Ka,nn.prototype.getLastErrorCode=nn.prototype.Ba,nn.prototype.getStatus=nn.prototype.Z,nn.prototype.getResponseJson=nn.prototype.Oa,nn.prototype.getResponseText=nn.prototype.oa,nn.prototype.send=nn.prototype.ea,nn.prototype.setWithCredentials=nn.prototype.Ha,ER=nn}).apply(typeof Ev<"u"?Ev:typeof self<"u"?self:typeof window<"u"?window:{});const hS="@firebase/firestore",dS="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vi.UNAUTHENTICATED=new vi(null),vi.GOOGLE_CREDENTIALS=new vi("google-credentials-uid"),vi.FIRST_PARTY=new vi("first-party-uid"),vi.MOCK_USER=new vi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jd="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new ZT("@firebase/firestore");function fd(){return If.logLevel}function He(n,...e){if(If.logLevel<=Ht.DEBUG){const t=e.map(hw);If.debug(`Firestore (${jd}): ${n}`,...t)}}function Tl(n,...e){if(If.logLevel<=Ht.ERROR){const t=e.map(hw);If.error(`Firestore (${jd}): ${n}`,...t)}}function Ad(n,...e){if(If.logLevel<=Ht.WARN){const t=e.map(hw);If.warn(`Firestore (${jd}): ${n}`,...t)}}function hw(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,AR(n,i,t)}function AR(n,e,t){let i=`FIRESTORE (${jd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Tl(i),new Error(i)}function dn(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||AR(e,a,i)}function yt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ye extends Sl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(vi.UNAUTHENTICATED))}shutdown(){}}class yM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class vM{constructor(e){this.t=e,this.currentUser=vi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){dn(this.o===void 0,42304);let i=this.i;const a=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let u=new Du;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Du,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Du)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dn(typeof i.accessToken=="string",31837,{l:i}),new RR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dn(e===null||typeof e=="string",2055,{h:e}),new vi(e)}}class _M{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=vi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EM{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new _M(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(vi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Oa(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){dn(this.o===void 0,3512);const i=u=>{u.error!=null&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,He("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>i(u))};const a=u=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?a(u):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(dn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new mS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=wM(40);for(let u=0;u<a.length;++u)i.length<20&&a[u]<t&&(i+=e.charAt(a[u]%62))}return i}}function It(n,e){return n<e?-1:n>e?1:0}function cT(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return It(i,a);{const u=xR(),h=bM(u.encode(pS(n,t)),u.encode(pS(e,t)));return h!==0?h:It(i,a)}}t+=i>65535?2:1}return It(n.length,e.length)}function pS(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function bM(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return It(n[t],e[t]);return It(n.length,e.length)}function Rd(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=-62135596800,yS=1e6;class wr{static now(){return wr.fromMillis(Date.now())}static fromDate(e){return wr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*yS);return new wr(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ye(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ye(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<gS)throw new Ye(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ye(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yS}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-gS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static fromTimestamp(e){return new gt(e)}static min(){return new gt(new wr(0,0))}static max(){return new gt(new wr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="__name__";class To{constructor(e,t,i){t===void 0?t=0:t>e.length&&dt(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&dt(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return To.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof To?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const u=To.compareSegments(e.get(a),t.get(a));if(u!==0)return u}return It(e.length,t.length)}static compareSegments(e,t){const i=To.isNumericId(e),a=To.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?To.extractNumericId(e).compare(To.extractNumericId(t)):cT(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nu.fromString(e.substring(4,e.length-2))}}class On extends To{construct(e,t,i){return new On(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ye(Ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new On(t)}static emptyPath(){return new On([])}}const SM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kr extends To{construct(e,t,i){return new Kr(e,t,i)}static isValidIdentifier(e){return SM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vS}static keyField(){return new Kr([vS])}static fromServerFormat(e){const t=[];let i="",a=0;const u=()=>{if(i.length===0)throw new Ye(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new Ye(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new Ye(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(i+=m,a++):(u(),a++)}if(u(),h)throw new Ye(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kr(t)}static emptyPath(){return new Kr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.path=e}static fromPath(e){return new tt(On.fromString(e))}static fromName(e){return new tt(On.fromString(e).popFirst(5))}static empty(){return new tt(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&On.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return On.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new On(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=-1;function AM(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=gt.fromTimestamp(i===1e9?new wr(t+1,0):new wr(t,i));return new Pu(a,tt.empty(),e)}function RM(n){return new Pu(n.readTime,n.key,Bp)}class Pu{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Pu(gt.min(),tt.empty(),Bp)}static max(){return new Pu(gt.max(),tt.empty(),Bp)}}function xM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=tt.comparator(n.documentKey,e.documentKey),t!==0?t:It(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bd(n){if(n.code!==Ie.FAILED_PRECONDITION||n.message!==CM)throw n;He("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ce((i,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ce?t:Ce.resolve(t)}catch(t){return Ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.reject(t)}static resolve(e){return new Ce((t,i)=>{t(e)})}static reject(e){return new Ce((t,i)=>{i(e)})}static waitFor(e){return new Ce((t,i)=>{let a=0,u=0,h=!1;e.forEach(m=>{++a,m.next(()=>{++u,h&&u===a&&t()},g=>i(g))}),h=!0,u===a&&t()})}static or(e){let t=Ce.resolve(!1);for(const i of e)t=t.next(a=>a?Ce.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,u)=>{i.push(t.call(this,a,u))}),this.waitFor(i)}static mapArray(e,t){return new Ce((i,a)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const v=g;t(e[v]).next(E=>{h[v]=E,++m,m===u&&i(h)},E=>a(E))}})}static doWhile(e,t){return new Ce((i,a)=>{const u=()=>{e()===!0?t().next(()=>{u()},a):i()};u()})}}function NM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fd(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}P_.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=-1;function L_(n){return n==null}function i_(n){return n===0&&1/n==-1/0}function DM(n){return typeof n=="number"&&Number.isInteger(n)&&!i_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="";function OM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=_S(e)),e=MM(n.get(t),e);return _S(e)}function MM(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const u=n.charAt(a);switch(u){case"\0":t+="";break;case IR:t+="";break;default:t+=u}}return t}function _S(n){return n+IR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function NR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,t){this.comparator=e,this.root=t||$r.EMPTY}insert(e,t){return new Hn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$r.BLACK,null,null))}remove(e){return new Hn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$r.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tv(this.root,e,this.comparator,!0)}}class Tv{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $r{constructor(e,t,i,a,u){this.key=e,this.value=t,this.color=i??$r.RED,this.left=a??$r.EMPTY,this.right=u??$r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,u){return new $r(e??this.key,t??this.value,i??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const u=i(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,i),null):u===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return $r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return $r.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}$r.EMPTY=null,$r.RED=!0,$r.BLACK=!1;$r.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,t,i,a,u){return this}insert(e,t,i){return new $r(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.comparator=e,this.data=new Hn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new TS(this.data.getIterator())}getIteratorFrom(e){return new TS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof br)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=i.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new br(this.comparator);return t.data=e,t}}class TS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.fields=e,e.sort(Kr.comparator)}static empty(){return new Cs([])}unionWith(e){let t=new br(Kr.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Cs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rd(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new DR("Invalid base64 string: "+u):u}}(e);return new Yr(t)}static fromUint8Array(e){const t=function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u}(e);return new Yr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yr.EMPTY_BYTE_STRING=new Yr("");const PM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lu(n){if(dn(!!n,39018),typeof n=="string"){let e=0;const t=PM.exec(n);if(dn(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ir(n.seconds),nanos:ir(n.nanos)}}function ir(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ku(n){return typeof n=="string"?Yr.fromBase64String(n):Yr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="server_timestamp",MR="__type__",PR="__previous_value__",LR="__local_write_time__";function mw(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[MR])===null||t===void 0?void 0:t.stringValue)===OR}function k_(n){const e=n.mapValue.fields[PR];return mw(e)?k_(e):e}function Fp(n){const e=Lu(n.mapValue.fields[LR].timestampValue);return new wr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,t,i,a,u,h,m,g,v,E){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=E}}const s_="(default)";class zp{constructor(e,t){this.projectId=e,this.database=t||s_}static empty(){return new zp("","")}get isDefaultDatabase(){return this.database===s_}isEqual(e){return e instanceof zp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="__type__",kM="__max__",wv={mapValue:{}},UR="__vector__",a_="value";function Uu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?mw(n)?4:VM(n)?9007199254740991:UM(n)?10:11:dt(28295,{value:n})}function Io(n,e){if(n===e)return!0;const t=Uu(n);if(t!==Uu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fp(n).isEqual(Fp(e));case 3:return function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const h=Lu(a.timestampValue),m=Lu(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,u){return ku(a.bytesValue).isEqual(ku(u.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,u){return ir(a.geoPointValue.latitude)===ir(u.geoPointValue.latitude)&&ir(a.geoPointValue.longitude)===ir(u.geoPointValue.longitude)}(n,e);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return ir(a.integerValue)===ir(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const h=ir(a.doubleValue),m=ir(u.doubleValue);return h===m?i_(h)===i_(m):isNaN(h)&&isNaN(m)}return!1}(n,e);case 9:return Rd(n.arrayValue.values||[],e.arrayValue.values||[],Io);case 10:case 11:return function(a,u){const h=a.mapValue.fields||{},m=u.mapValue.fields||{};if(ES(h)!==ES(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Io(h[g],m[g])))return!1;return!0}(n,e);default:return dt(52216,{left:n})}}function Hp(n,e){return(n.values||[]).find(t=>Io(t,e))!==void 0}function xd(n,e){if(n===e)return 0;const t=Uu(n),i=Uu(e);if(t!==i)return It(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return It(n.booleanValue,e.booleanValue);case 2:return function(u,h){const m=ir(u.integerValue||u.doubleValue),g=ir(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(n,e);case 3:return wS(n.timestampValue,e.timestampValue);case 4:return wS(Fp(n),Fp(e));case 5:return cT(n.stringValue,e.stringValue);case 6:return function(u,h){const m=ku(u),g=ku(h);return m.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),g=h.split("/");for(let v=0;v<m.length&&v<g.length;v++){const E=It(m[v],g[v]);if(E!==0)return E}return It(m.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(u,h){const m=It(ir(u.latitude),ir(h.latitude));return m!==0?m:It(ir(u.longitude),ir(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return bS(n.arrayValue,e.arrayValue);case 10:return function(u,h){var m,g,v,E;const S=u.fields||{},A=h.fields||{},N=(m=S[a_])===null||m===void 0?void 0:m.arrayValue,O=(g=A[a_])===null||g===void 0?void 0:g.arrayValue,H=It(((v=N==null?void 0:N.values)===null||v===void 0?void 0:v.length)||0,((E=O==null?void 0:O.values)===null||E===void 0?void 0:E.length)||0);return H!==0?H:bS(N,O)}(n.mapValue,e.mapValue);case 11:return function(u,h){if(u===wv.mapValue&&h===wv.mapValue)return 0;if(u===wv.mapValue)return 1;if(h===wv.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),v=h.fields||{},E=Object.keys(v);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const A=cT(g[S],E[S]);if(A!==0)return A;const N=xd(m[g[S]],v[E[S]]);if(N!==0)return N}return It(g.length,E.length)}(n.mapValue,e.mapValue);default:throw dt(23264,{Pe:t})}}function wS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return It(n,e);const t=Lu(n),i=Lu(e),a=It(t.seconds,i.seconds);return a!==0?a:It(t.nanos,i.nanos)}function bS(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const u=xd(t[a],i[a]);if(u)return u}return It(t.length,i.length)}function Cd(n){return fT(n)}function fT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Lu(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ku(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return tt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const u of t.values||[])a?a=!1:i+=",",i+=fT(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",u=!0;for(const h of i)u?u=!1:a+=",",a+=`${h}:${fT(t.fields[h])}`;return a+"}"}(n.mapValue):dt(61005,{value:n})}function Vv(n){switch(Uu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=k_(n);return e?16+Vv(e):16;case 5:return 2*n.stringValue.length;case 6:return ku(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,u)=>a+Vv(u),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return zu(i.fields,(u,h)=>{a+=u.length+Vv(h)}),a}(n.mapValue);default:throw dt(13486,{value:n})}}function SS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function hT(n){return!!n&&"integerValue"in n}function pw(n){return!!n&&"arrayValue"in n}function AS(n){return!!n&&"nullValue"in n}function RS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jv(n){return!!n&&"mapValue"in n}function UM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[kR])===null||t===void 0?void 0:t.stringValue)===UR}function Op(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return zu(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Op(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Op(n.arrayValue.values[t]);return e}return Object.assign({},n)}function VM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===kM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.value=e}static empty(){return new as({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!jv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Op(t)}setAll(e){let t=Kr.emptyPath(),i={},a=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,i,a),i={},a=[],t=m.popLast()}h?i[m.lastSegment()]=Op(h):a.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,i,a)}delete(e){const t=this.field(e.popLast());jv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Io(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];jv(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){zu(t,(a,u)=>e[a]=u);for(const a of i)delete e[a]}clone(){return new as(Op(this.value))}}function VR(n){const e=[];return zu(n.fields,(t,i)=>{const a=new Kr([t]);if(jv(i)){const u=VR(i.mapValue).fields;if(u.length===0)e.push(a);else for(const h of u)e.push(a.child(h))}else e.push(a)}),new Cs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,t,i,a,u,h,m){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new _i(e,0,gt.min(),gt.min(),gt.min(),as.empty(),0)}static newFoundDocument(e,t,i,a){return new _i(e,1,t,gt.min(),i,a,0)}static newNoDocument(e,t){return new _i(e,2,t,gt.min(),gt.min(),as.empty(),0)}static newUnknownDocument(e,t){return new _i(e,3,t,gt.min(),gt.min(),as.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=as.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=as.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,t){this.position=e,this.inclusive=t}}function xS(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const u=e[a],h=n.position[a];if(u.field.isKeyField()?i=tt.comparator(tt.fromName(h.referenceValue),t.key):i=xd(h,t.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function CS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Io(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,t="asc"){this.field=e,this.dir=t}}function jM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{}class pr extends jR{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new FM(e,t,i):t==="array-contains"?new qM(e,i):t==="in"?new GM(e,i):t==="not-in"?new $M(e,i):t==="array-contains-any"?new KM(e,i):new pr(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new zM(e,i):new HM(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(xd(t,this.value)):t!==null&&Uu(this.value)===Uu(t)&&this.matchesComparison(xd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ka extends jR{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ka(e,t)}matches(e){return BR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function BR(n){return n.op==="and"}function FR(n){return BM(n)&&BR(n)}function BM(n){for(const e of n.filters)if(e instanceof ka)return!1;return!0}function dT(n){if(n instanceof pr)return n.field.canonicalString()+n.op.toString()+Cd(n.value);if(FR(n))return n.filters.map(e=>dT(e)).join(",");{const e=n.filters.map(t=>dT(t)).join(",");return`${n.op}(${e})`}}function zR(n,e){return n instanceof pr?function(i,a){return a instanceof pr&&i.op===a.op&&i.field.isEqual(a.field)&&Io(i.value,a.value)}(n,e):n instanceof ka?function(i,a){return a instanceof ka&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((u,h,m)=>u&&zR(h,a.filters[m]),!0):!1}(n,e):void dt(19439)}function HR(n){return n instanceof pr?function(t){return`${t.field.canonicalString()} ${t.op} ${Cd(t.value)}`}(n):n instanceof ka?function(t){return t.op.toString()+" {"+t.getFilters().map(HR).join(" ,")+"}"}(n):"Filter"}class FM extends pr{constructor(e,t,i){super(e,t,i),this.key=tt.fromName(i.referenceValue)}matches(e){const t=tt.comparator(e.key,this.key);return this.matchesComparison(t)}}class zM extends pr{constructor(e,t){super(e,"in",t),this.keys=qR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class HM extends pr{constructor(e,t){super(e,"not-in",t),this.keys=qR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function qR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>tt.fromName(i.referenceValue))}class qM extends pr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pw(t)&&Hp(t.arrayValue,this.value)}}class GM extends pr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hp(this.value.arrayValue,t)}}class $M extends pr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hp(this.value.arrayValue,t)}}class KM extends pr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Hp(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,t=null,i=[],a=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=u,this.startAt=h,this.endAt=m,this.Ie=null}}function IS(n,e=null,t=[],i=[],a=null,u=null,h=null){return new YM(n,e,t,i,a,u,h)}function gw(n){const e=yt(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>dT(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(u){return u.field.canonicalString()+u.dir}(i)).join(","),L_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Cd(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Cd(i)).join(",")),e.Ie=t}return e.Ie}function yw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!jM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!CS(n.startAt,e.startAt)&&CS(n.endAt,e.endAt)}function mT(n){return tt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,t=null,i=[],a=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function WM(n,e,t,i,a,u,h,m){return new og(n,e,t,i,a,u,h,m)}function vw(n){return new og(n)}function NS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function GR(n){return n.collectionGroup!==null}function Mp(n){const e=yt(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),t.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new br(Kr.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new l_(u,i))}),t.has(Kr.keyField().canonicalString())||e.Ee.push(new l_(Kr.keyField(),i))}return e.Ee}function So(n){const e=yt(n);return e.de||(e.de=QM(e,Mp(n))),e.de}function QM(n,e){if(n.limitType==="F")return IS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const u=a.dir==="desc"?"asc":"desc";return new l_(a.field,u)});const t=n.endAt?new o_(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new o_(n.startAt.position,n.startAt.inclusive):null;return IS(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function pT(n,e){const t=n.filters.concat([e]);return new og(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function gT(n,e,t){return new og(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function U_(n,e){return yw(So(n),So(e))&&n.limitType===e.limitType}function $R(n){return`${gw(So(n))}|lt:${n.limitType}`}function hd(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>HR(a)).join(", ")}]`),L_(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Cd(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Cd(a)).join(",")),`Target(${i})`}(So(n))}; limitType=${n.limitType})`}function V_(n,e){return e.isFoundDocument()&&function(i,a){const u=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):tt.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(n,e)&&function(i,a){for(const u of Mp(i))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const u of i.filters)if(!u.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(h,m,g){const v=xS(h,m,g);return h.inclusive?v<=0:v<0}(i.startAt,Mp(i),a)||i.endAt&&!function(h,m,g){const v=xS(h,m,g);return h.inclusive?v>=0:v>0}(i.endAt,Mp(i),a))}(n,e)}function XM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function KR(n){return(e,t)=>{let i=!1;for(const a of Mp(n)){const u=ZM(a,e,t);if(u!==0)return u;i=i||a.field.isKeyField()}return 0}}function ZM(n,e,t){const i=n.field.isKeyField()?tt.comparator(e.key,t.key):function(u,h,m){const g=h.data.field(u),v=m.data.field(u);return g!==null&&v!==null?xd(g,v):dt(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return dt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,u]of i)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){zu(this.inner,(t,i)=>{for(const[a,u]of i)e(a,u)})}isEmpty(){return NR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=new Hn(tt.comparator);function wl(){return JM}const YR=new Hn(tt.comparator);function wp(...n){let e=YR;for(const t of n)e=e.insert(t.key,t);return e}function WR(n){let e=YR;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function gf(){return Pp()}function QR(){return Pp()}function Pp(){return new Pf(n=>n.toString(),(n,e)=>n.isEqual(e))}const eP=new Hn(tt.comparator),tP=new br(tt.comparator);function qt(...n){let e=tP;for(const t of n)e=e.add(t);return e}const nP=new br(It);function rP(){return nP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:i_(e)?"-0":e}}function XR(n){return{integerValue:""+n}}function iP(n,e){return DM(e)?XR(e):_w(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(){this._=void 0}}function sP(n,e,t){return n instanceof qp?function(a,u){const h={fields:{[MR]:{stringValue:OR},[LR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&mw(u)&&(u=k_(u)),u&&(h.fields[PR]=u),{mapValue:h}}(t,e):n instanceof Gp?JR(n,e):n instanceof $p?ex(n,e):function(a,u){const h=ZR(a,u),m=DS(h)+DS(a.Re);return hT(h)&&hT(a.Re)?XR(m):_w(a.serializer,m)}(n,e)}function aP(n,e,t){return n instanceof Gp?JR(n,e):n instanceof $p?ex(n,e):t}function ZR(n,e){return n instanceof u_?function(i){return hT(i)||function(u){return!!u&&"doubleValue"in u}(i)}(e)?e:{integerValue:0}:null}class qp extends j_{}class Gp extends j_{constructor(e){super(),this.elements=e}}function JR(n,e){const t=tx(e);for(const i of n.elements)t.some(a=>Io(a,i))||t.push(i);return{arrayValue:{values:t}}}class $p extends j_{constructor(e){super(),this.elements=e}}function ex(n,e){let t=tx(e);for(const i of n.elements)t=t.filter(a=>!Io(a,i));return{arrayValue:{values:t}}}class u_ extends j_{constructor(e,t){super(),this.serializer=e,this.Re=t}}function DS(n){return ir(n.integerValue||n.doubleValue)}function tx(n){return pw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,t){this.field=e,this.transform=t}}function lP(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof Gp&&a instanceof Gp||i instanceof $p&&a instanceof $p?Rd(i.elements,a.elements,Io):i instanceof u_&&a instanceof u_?Io(i.Re,a.Re):i instanceof qp&&a instanceof qp}(n.transform,e.transform)}class uP{constructor(e,t){this.version=e,this.transformResults=t}}class na{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new na}static exists(e){return new na(void 0,e)}static updateTime(e){return new na(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bv(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class B_{}function nx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ew(n.key,na.none()):new lg(n.key,n.data,na.none());{const t=n.data,i=as.empty();let a=new br(Kr.comparator);for(let u of e.fields)if(!a.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?i.delete(u):i.set(u,h),a=a.add(u)}return new Hu(n.key,i,new Cs(a.toArray()),na.none())}}function cP(n,e,t){n instanceof lg?function(a,u,h){const m=a.value.clone(),g=MS(a.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(n,e,t):n instanceof Hu?function(a,u,h){if(!Bv(a.precondition,u))return void u.convertToUnknownDocument(h.version);const m=MS(a.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(rx(a)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(n,e,t):function(a,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Lp(n,e,t,i){return n instanceof lg?function(u,h,m,g){if(!Bv(u.precondition,h))return m;const v=u.value.clone(),E=PS(u.fieldTransforms,g,h);return v.setAll(E),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(n,e,t,i):n instanceof Hu?function(u,h,m,g){if(!Bv(u.precondition,h))return m;const v=PS(u.fieldTransforms,g,h),E=h.data;return E.setAll(rx(u)),E.setAll(v),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(n,e,t,i):function(u,h,m){return Bv(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(n,e,t)}function fP(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),u=ZR(i.transform,a||null);u!=null&&(t===null&&(t=as.empty()),t.set(i.field,u))}return t||null}function OS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Rd(i,a,(u,h)=>lP(u,h))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class lg extends B_{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Hu extends B_{constructor(e,t,i,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function rx(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function MS(n,e,t){const i=new Map;dn(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const u=n[a],h=u.transform,m=e.data.field(u.field);i.set(u.field,aP(h,m,t[a]))}return i}function PS(n,e,t){const i=new Map;for(const a of n){const u=a.transform,h=t.data.field(a.field);i.set(a.field,sP(u,h,e))}return i}class Ew extends B_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hP extends B_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&cP(u,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Lp(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Lp(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=QR();return this.mutations.forEach(a=>{const u=e.get(a.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(a.key)?null:m;const g=nx(h,m);g!==null&&i.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(gt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qt())}isEqual(e){return this.batchId===e.batchId&&Rd(this.mutations,e.mutations,(t,i)=>OS(t,i))&&Rd(this.baseMutations,e.baseMutations,(t,i)=>OS(t,i))}}class Tw{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){dn(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return eP}();const u=e.mutations;for(let h=0;h<u.length;h++)a=a.insert(u[h].key,i[h].version);return new Tw(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mr,Xt;function gP(n){switch(n){case Ie.OK:return dt(64938);case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0;default:return dt(15467,{code:n})}}function ix(n){if(n===void 0)return Tl("GRPC error has no .code"),Ie.UNKNOWN;switch(n){case mr.OK:return Ie.OK;case mr.CANCELLED:return Ie.CANCELLED;case mr.UNKNOWN:return Ie.UNKNOWN;case mr.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case mr.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case mr.INTERNAL:return Ie.INTERNAL;case mr.UNAVAILABLE:return Ie.UNAVAILABLE;case mr.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case mr.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case mr.NOT_FOUND:return Ie.NOT_FOUND;case mr.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case mr.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case mr.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case mr.ABORTED:return Ie.ABORTED;case mr.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case mr.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case mr.DATA_LOSS:return Ie.DATA_LOSS;default:return dt(39323,{code:n})}}(Xt=mr||(mr={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=new Nu([4294967295,4294967295],0);function LS(n){const e=xR().encode(n),t=new _R;return t.update(e),new Uint8Array(t.digest())}function kS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Nu([t,i],0),new Nu([a,u],0)]}class ww{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new bp(`Invalid padding: ${t}`);if(i<0)throw new bp(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new bp(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new bp(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Nu.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(Nu.fromNumber(i)));return a.compare(yP)===1&&(a=new Nu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=LS(e),[i,a]=kS(t);for(let u=0;u<this.hashCount;u++){const h=this.we(i,a,u);if(!this.be(h))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new ww(u,a,t);return i.forEach(m=>h.insert(m)),h}insert(e){if(this.pe===0)return;const t=LS(e),[i,a]=kS(t);for(let u=0;u<this.hashCount;u++){const h=this.we(i,a,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class bp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,t,i,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,ug.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new F_(gt.min(),a,new Hn(It),wl(),qt())}}class ug{constructor(e,t,i,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ug(i,t,qt(),qt(),qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class sx{constructor(e,t){this.targetId=e,this.Ce=t}}class ax{constructor(e,t,i=Yr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class US{constructor(){this.Fe=0,this.Me=VS(),this.xe=Yr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=qt(),t=qt(),i=qt();return this.Me.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:dt(38017,{changeType:u})}}),new ug(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=VS()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,dn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class vP{constructor(e){this.ze=e,this.je=new Map,this.He=wl(),this.Je=bv(),this.Ye=bv(),this.Ze=new Hn(It)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:dt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const u=a.target;if(mT(u))if(i===0){const h=new tt(u.path);this.tt(t,h,_i.newNoDocument(h,gt.min()))}else dn(i===1,20013,{expectedCount:i});else{const h=this.ut(t);if(h!==i){const m=this.ct(e),g=m?this.lt(m,e,h):1;if(g!==0){this.st(t);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,v)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:u=0}=t;let h,m;try{h=ku(i).toUint8Array()}catch(g){if(g instanceof DR)return Ad("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new ww(h,a,u)}catch(g){return Ad(g instanceof bp?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.pe===0?null:m}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(u=>{const h=this.ze.Pt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(t,u,null),a++)}),a}It(e){const t=new Map;this.je.forEach((u,h)=>{const m=this._t(h);if(m){if(u.current&&mT(m.target)){const g=new tt(m.target.path);this.Et(g).has(h)||this.dt(h,g)||this.tt(h,g,_i.newNoDocument(g,e))}u.Le&&(t.set(h,u.qe()),u.Qe())}});let i=qt();this.Ye.forEach((u,h)=>{let m=!0;h.forEachWhile(g=>{const v=this._t(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(u))}),this.He.forEach((u,h)=>h.setReadTime(e));const a=new F_(e,t,this.Ze,this.He,i);return this.He=wl(),this.Je=bv(),this.Ye=bv(),this.Ze=new Hn(It),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new US,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new br(It),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new br(It),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||He("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new US),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function bv(){return new Hn(tt.comparator)}function VS(){return new Hn(tt.comparator)}const _P={asc:"ASCENDING",desc:"DESCENDING"},EP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TP={and:"AND",or:"OR"};class wP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yT(n,e){return n.useProto3Json||L_(e)?e:{value:e}}function c_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ox(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function bP(n,e){return c_(n,e.toTimestamp())}function Ao(n){return dn(!!n,49232),gt.fromTimestamp(function(t){const i=Lu(t);return new wr(i.seconds,i.nanos)}(n))}function bw(n,e){return vT(n,e).canonicalString()}function vT(n,e){const t=function(a){return new On(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function lx(n){const e=On.fromString(n);return dn(dx(e),10190,{key:e.toString()}),e}function _T(n,e){return bw(n.databaseId,e.path)}function CE(n,e){const t=lx(e);if(t.get(1)!==n.databaseId.projectId)throw new Ye(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ye(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tt(cx(t))}function ux(n,e){return bw(n.databaseId,e)}function SP(n){const e=lx(n);return e.length===4?On.emptyPath():cx(e)}function ET(n){return new On(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cx(n){return dn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function jS(n,e,t){return{name:_T(n,e),fields:t.value.mapValue.fields}}function AP(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:dt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=function(v,E){return v.useProto3Json?(dn(E===void 0||typeof E=="string",58123),Yr.fromBase64String(E||"")):(dn(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yr.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(v){const E=v.code===void 0?Ie.UNKNOWN:ix(v.code);return new Ye(E,v.message||"")}(h);t=new ax(i,a,u,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=CE(n,i.document.name),u=Ao(i.document.updateTime),h=i.document.createTime?Ao(i.document.createTime):gt.min(),m=new as({mapValue:{fields:i.document.fields}}),g=_i.newFoundDocument(a,u,h,m),v=i.targetIds||[],E=i.removedTargetIds||[];t=new Fv(v,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=CE(n,i.document),u=i.readTime?Ao(i.readTime):gt.min(),h=_i.newNoDocument(a,u),m=i.removedTargetIds||[];t=new Fv([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=CE(n,i.document),u=i.removedTargetIds||[];t=new Fv([],u,a,null)}else{if(!("filter"in e))return dt(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:u}=i,h=new pP(a,u),m=i.targetId;t=new sx(m,h)}}return t}function RP(n,e){let t;if(e instanceof lg)t={update:jS(n,e.key,e.value)};else if(e instanceof Ew)t={delete:_T(n,e.key)};else if(e instanceof Hu)t={update:jS(n,e.key,e.data),updateMask:LP(e.fieldMask)};else{if(!(e instanceof hP))return dt(16599,{ft:e.type});t={verify:_T(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(u,h){const m=h.transform;if(m instanceof qp)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Gp)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof $p)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof u_)return{fieldPath:h.field.canonicalString(),increment:m.Re};throw dt(20930,{transform:h.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,u){return u.updateTime!==void 0?{updateTime:bP(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:dt(27497)}(n,e.precondition)),t}function xP(n,e){return n&&n.length>0?(dn(e!==void 0,14353),n.map(t=>function(a,u){let h=a.updateTime?Ao(a.updateTime):Ao(u);return h.isEqual(gt.min())&&(h=Ao(u)),new uP(h,a.transformResults||[])}(t,e))):[]}function CP(n,e){return{documents:[ux(n,e.path)]}}function IP(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=ux(n,a);const u=function(v){if(v.length!==0)return hx(ka.create(v,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(v){if(v.length!==0)return v.map(E=>function(A){return{field:dd(A.field),direction:OP(A.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=yT(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{gt:t,parent:a}}function NP(n){let e=SP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){dn(i===1,65062);const E=t.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(S){const A=fx(S);return A instanceof ka&&FR(A)?A.getFilters():[A]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(A=>function(O){return new l_(md(O.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(A))}(t.orderBy));let m=null;t.limit&&(m=function(S){let A;return A=typeof S=="object"?S.value:S,L_(A)?null:A}(t.limit));let g=null;t.startAt&&(g=function(S){const A=!!S.before,N=S.values||[];return new o_(N,A)}(t.startAt));let v=null;return t.endAt&&(v=function(S){const A=!S.before,N=S.values||[];return new o_(N,A)}(t.endAt)),WM(e,a,h,u,m,"F",g,v)}function DP(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function fx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=md(t.unaryFilter.field);return pr.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=md(t.unaryFilter.field);return pr.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=md(t.unaryFilter.field);return pr.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=md(t.unaryFilter.field);return pr.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}}(n):n.fieldFilter!==void 0?function(t){return pr.create(md(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ka.create(t.compositeFilter.filters.map(i=>fx(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return dt(1026)}}(t.compositeFilter.op))}(n):dt(30097,{filter:n})}function OP(n){return _P[n]}function MP(n){return EP[n]}function PP(n){return TP[n]}function dd(n){return{fieldPath:n.canonicalString()}}function md(n){return Kr.fromServerFormat(n.fieldPath)}function hx(n){return n instanceof pr?function(t){if(t.op==="=="){if(RS(t.value))return{unaryFilter:{field:dd(t.field),op:"IS_NAN"}};if(AS(t.value))return{unaryFilter:{field:dd(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(RS(t.value))return{unaryFilter:{field:dd(t.field),op:"IS_NOT_NAN"}};if(AS(t.value))return{unaryFilter:{field:dd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dd(t.field),op:MP(t.op),value:t.value}}}(n):n instanceof ka?function(t){const i=t.getFilters().map(a=>hx(a));return i.length===1?i[0]:{compositeFilter:{op:PP(t.op),filters:i}}}(n):dt(54877,{filter:n})}function LP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t,i,a,u=gt.min(),h=gt.min(),m=Yr.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Au(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Au(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Au(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Au(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.wt=e}}function UP(n){const e=NP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?gT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(){this.Cn=new jP}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ce.resolve()}getCollectionParents(e,t){return Ce.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ce.resolve()}deleteFieldIndex(e,t){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,t){return Ce.resolve()}getDocumentsMatchingTarget(e,t){return Ce.resolve(null)}getIndexType(e,t){return Ce.resolve(0)}getFieldIndexes(e,t){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,t){return Ce.resolve(Pu.min())}getMinOffsetFromCollectionGroup(e,t){return Ce.resolve(Pu.min())}updateCollectionGroup(e,t,i){return Ce.resolve()}updateIndexEntries(e,t){return Ce.resolve()}}class jP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new br(On.comparator),u=!a.has(i);return this.index[t]=a.add(i),u}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new br(On.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mx=41943040;class ss{static withCacheSize(e){return new ss(e,ss.DEFAULT_COLLECTION_PERCENTILE,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ss.DEFAULT_COLLECTION_PERCENTILE=10,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ss.DEFAULT=new ss(mx,ss.DEFAULT_COLLECTION_PERCENTILE,ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ss.DISABLED=new ss(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Id(0)}static lr(){return new Id(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="LruGarbageCollector",BP=1048576;function zS([n,e],[t,i]){const a=It(n,t);return a===0?It(e,i):a}class FP{constructor(e){this.Er=e,this.buffer=new br(zS),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();zS(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class zP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){He(FS,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fd(t)?He(FS,"Ignoring IndexedDB error during garbage collection: ",t):await Bd(t)}await this.mr(3e5)})}}class HP{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Ce.resolve(P_.le);const i=new FP(t);return this.gr.forEachTarget(e,a=>i.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>i.Rr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(He("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(BS)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BS):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,a,u,h,m,g,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),a=this.params.maximumSequenceNumbersToCollect):a=S,h=Date.now(),this.nthSequenceNumber(e,a))).next(S=>(i=S,m=Date.now(),this.removeTargets(e,i,t))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(v=Date.now(),fd()<=Ht.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${a} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(v-g)+`ms
Total Duration: ${v-E}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:S})))}}function qP(n,e){return new HP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(){this.changes=new Pf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_i.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Ce.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&Lp(i.mutation,a,Cs.empty(),wr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,qt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=qt()){const a=gf();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(u=>{let h=wp();return u.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=gf();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,qt()))}populateOverlays(e,t,i){const a=[];return i.forEach(u=>{t.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,i,a){let u=wl();const h=Pp(),m=function(){return Pp()}();return t.forEach((g,v)=>{const E=i.get(v.key);a.has(v.key)&&(E===void 0||E.mutation instanceof Hu)?u=u.insert(v.key,v):E!==void 0?(h.set(v.key,E.mutation.getFieldMask()),Lp(E.mutation,v,E.mutation.getFieldMask(),wr.now())):h.set(v.key,Cs.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((v,E)=>h.set(v,E)),t.forEach((v,E)=>{var S;return m.set(v,new $P(E,(S=h.get(v))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,t){const i=Pp();let a=new Hn((h,m)=>h-m),u=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(g=>{const v=t.get(g);if(v===null)return;let E=i.get(g)||Cs.empty();E=m.applyToLocalView(v,E),i.set(g,E);const S=(a.get(m.batchId)||qt()).add(g);a=a.insert(m.batchId,S)})}).next(()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),v=g.key,E=g.value,S=QR();E.forEach(A=>{if(!u.has(A)){const N=nx(t.get(A),i.get(A));N!==null&&S.set(A,N),u=u.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,S))}return Ce.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(h){return tt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-u.size):Ce.resolve(gf());let m=Bp,g=u;return h.next(v=>Ce.forEach(v,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?Ce.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{g=g.insert(E,A)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,g,v,qt())).next(E=>({batchId:m,changes:WR(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tt(t)).next(i=>{let a=wp();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const u=t.collectionGroup;let h=wp();return this.indexManager.getCollectionParents(e,u).next(m=>Ce.forEach(m,g=>{const v=function(S,A){return new og(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,i,a).next(E=>{E.forEach((S,A)=>{h=h.insert(S,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,u,a))).next(h=>{u.forEach((g,v)=>{const E=v.getKey();h.get(E)===null&&(h=h.insert(E,_i.newInvalidDocument(E)))});let m=wp();return h.forEach((g,v)=>{const E=u.get(g);E!==void 0&&Lp(E.mutation,v,Cs.empty(),wr.now()),V_(t,v)&&(m=m.insert(g,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return Ce.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Ao(a.createTime)}}(t)),Ce.resolve()}getNamedQuery(e,t){return Ce.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:UP(a.bundledQuery),readTime:Ao(a.readTime)}}(t)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.overlays=new Hn(tt.comparator),this.Qr=new Map}getOverlay(e,t){return Ce.resolve(this.overlays.get(t))}getOverlays(e,t){const i=gf();return Ce.forEach(t,a=>this.getOverlay(e,a).next(u=>{u!==null&&i.set(a,u)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,u)=>{this.St(e,t,u)}),Ce.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Qr.get(i);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(i)),Ce.resolve()}getOverlaysForCollection(e,t,i){const a=gf(),u=t.length+1,h=new tt(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>i&&a.set(g.getKey(),g)}return Ce.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let u=new Hn((v,E)=>v-E);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let E=u.get(v.largestBatchId);E===null&&(E=gf(),u=u.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const m=gf(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,E)=>m.set(v,E)),!(m.size()>=a)););return Ce.resolve(m)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const h=this.Qr.get(a.largestBatchId).delete(i.key);this.Qr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new mP(t,i));let u=this.Qr.get(t);u===void 0&&(u=qt(),this.Qr.set(t,u)),this.Qr.set(t,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(){this.sessionToken=Yr.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.$r=new br(Mr.Ur),this.Kr=new br(Mr.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new Mr(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new Mr(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new tt(new On([])),i=new Mr(t,e),a=new Mr(t,e+1),u=[];return this.Kr.forEachInRange([i,a],h=>{this.zr(h),u.push(h.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new tt(new On([])),i=new Mr(t,e),a=new Mr(t,e+1);let u=qt();return this.Kr.forEachInRange([i,a],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Mr(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Mr{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return tt.comparator(e.key,t.key)||It(e.Zr,t.Zr)}static Wr(e,t){return It(e.Zr,t.Zr)||tt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new br(Mr.Ur)}checkEmpty(e){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new dP(u,t,i,a);this.mutationQueue.push(h);for(const m of a)this.Xr=this.Xr.add(new Mr(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Ce.resolve(h)}lookupMutationBatch(e,t){return Ce.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ti(i),u=a<0?0:a;return Ce.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?dw:this.nr-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Mr(t,0),a=new Mr(t,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([i,a],h=>{const m=this.ei(h.Zr);u.push(m)}),Ce.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new br(It);return t.forEach(a=>{const u=new Mr(a,0),h=new Mr(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,h],m=>{i=i.add(m.Zr)})}),Ce.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let u=i;tt.isDocumentKey(u)||(u=u.child(""));const h=new Mr(new tt(u),0);let m=new br(It);return this.Xr.forEachWhile(g=>{const v=g.key.path;return!!i.isPrefixOf(v)&&(v.length===a&&(m=m.add(g.Zr)),!0)},h),Ce.resolve(this.ni(m))}ni(e){const t=[];return e.forEach(i=>{const a=this.ei(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){dn(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return Ce.forEach(t.mutations,a=>{const u=new Mr(a.key,t.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new Mr(t,0),a=this.Xr.firstAfterOrEqual(i);return Ce.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e){this.ii=e,this.docs=function(){return new Hn(tt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),u=a?a.size:0,h=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Ce.resolve(i?i.document.mutableCopy():_i.newInvalidDocument(t))}getEntries(e,t){let i=wl();return t.forEach(a=>{const u=this.docs.get(a);i=i.insert(a,u?u.document.mutableCopy():_i.newInvalidDocument(a))}),Ce.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let u=wl();const h=t.path,m=new tt(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:v,value:{document:E}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||xM(RM(E),i)<=0||(a.has(E.key)||V_(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Ce.resolve(u)}getAllFromCollectionGroup(e,t,i,a){dt(9500)}si(e,t){return Ce.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new JP(this)}getSize(e){return Ce.resolve(this.size)}}class JP extends GP{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(i)}),Ce.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.persistence=e,this.oi=new Pf(t=>gw(t),yw),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this._i=0,this.ai=new Sw,this.targetCount=0,this.ui=Id.cr()}forEachTarget(e,t){return this.oi.forEach((i,a)=>t(a)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),Ce.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Id(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,Ce.resolve()}updateTargetData(e,t){return this.Tr(t),Ce.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,t,i){let a=0;const u=[];return this.oi.forEach((h,m)=>{m.sequenceNumber<=t&&i.get(m.targetId)===null&&(this.oi.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),Ce.waitFor(u).next(()=>a)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return Ce.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),Ce.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach(h=>{u.push(a.markPotentiallyOrphaned(e,h))}),Ce.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),Ce.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return Ce.resolve(i)}containsKey(e,t){return Ce.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,t){this.ci={},this.overlays={},this.li=new P_(0),this.hi=!1,this.hi=!0,this.Pi=new QP,this.referenceDelegate=e(this),this.Ti=new eL(this),this.indexManager=new VP,this.remoteDocumentCache=function(a){return new ZP(a)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new kP(t),this.Ei=new YP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new WP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new XP(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){He("MemoryPersistence","Starting transaction:",e);const a=new tL(this.li.next());return this.referenceDelegate.di(),i(a).next(u=>this.referenceDelegate.Ai(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Ri(e,t){return Ce.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class tL extends IM{constructor(e){super(),this.currentSequenceNumber=e}}class Aw{constructor(e){this.persistence=e,this.Vi=new Sw,this.mi=null}static fi(e){return new Aw(e)}get gi(){if(this.mi)return this.mi;throw dt(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),Ce.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),Ce.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),Ce.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(u=>this.gi.add(u.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.gi,i=>{const a=tt.fromPath(i);return this.pi(e,a).next(u=>{u||t.removeEntry(a,gt.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return Ce.or([()=>Ce.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class f_{constructor(e,t){this.persistence=e,this.yi=new Pf(i=>OM(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=qP(this,t)}static fi(e,t){return new f_(e,t)}di(){}Ai(e){return Ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return Ce.forEach(this.yi,(i,a)=>this.Dr(e,i,a).next(u=>u?Ce.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.si(e,h=>this.Dr(e,h,t).next(m=>{m||(i++,u.removeEntry(h,gt.min()))})).next(()=>u.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),Ce.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),Ce.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),Ce.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),Ce.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Vv(e.data.value)),t}Dr(e,t,i){return Ce.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return Ce.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ds=i,this.As=a}static Rs(e,t){let i=qt(),a=qt();for(const u of t.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new Rw(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return WN()?8:NM(wi())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,a){const u={result:null};return this.ws(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.bs(e,t,a,i).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new nL;return this.Ss(e,t,h).next(m=>{if(u.result=m,this.fs)return this.Ds(e,t,h,m.size)})}).next(()=>u.result)}Ds(e,t,i,a){return i.documentReadCount<this.gs?(fd()<=Ht.DEBUG&&He("QueryEngine","SDK will not create cache indexes for query:",hd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Ce.resolve()):(fd()<=Ht.DEBUG&&He("QueryEngine","Query:",hd(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ps*a?(fd()<=Ht.DEBUG&&He("QueryEngine","The SDK decides to create cache indexes for query:",hd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,So(t))):Ce.resolve())}ws(e,t){if(NS(t))return Ce.resolve(null);let i=So(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=gT(t,null,"F"),i=So(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(u=>{const h=qt(...u);return this.ys.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,i).next(g=>{const v=this.vs(t,m);return this.Cs(t,v,h,g.readTime)?this.ws(e,gT(t,null,"F")):this.Fs(e,v,t,g)}))})))}bs(e,t,i,a){return NS(t)||a.isEqual(gt.min())?Ce.resolve(null):this.ys.getDocuments(e,i).next(u=>{const h=this.vs(t,u);return this.Cs(t,h,i,a)?Ce.resolve(null):(fd()<=Ht.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),hd(t)),this.Fs(e,h,t,AM(a,Bp)).next(m=>m))})}vs(e,t){let i=new br(KR(e));return t.forEach((a,u)=>{V_(e,u)&&(i=i.add(u))}),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Ss(e,t,i){return fd()<=Ht.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",hd(t)),this.ys.getDocumentsMatchingQuery(e,t,Pu.min(),i)}Fs(e,t,i,a){return this.ys.getDocumentsMatchingQuery(e,i,a).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="LocalStore",iL=3e8;class sL{constructor(e,t,i,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new Hn(It),this.Os=new Pf(u=>gw(u),yw),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KP(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function aL(n,e,t,i){return new sL(n,e,t,i)}async function gx(n,e){const t=yt(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(u=>(a=u,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(u=>{const h=[],m=[];let g=qt();for(const v of a){h.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}for(const v of u){m.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(i,g).next(v=>({ks:v,removedBatchIds:h,addedBatchIds:m}))})})}function oL(n,e){const t=yt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),u=t.Bs.newChangeBuffer({trackRemovals:!0});return function(m,g,v,E){const S=v.batch,A=S.keys();let N=Ce.resolve();return A.forEach(O=>{N=N.next(()=>E.getEntry(g,O)).next(H=>{const V=v.docVersions.get(O);dn(V!==null,48541),H.version.compareTo(V)<0&&(S.applyToRemoteDocument(H,v),H.isValidDocument()&&(H.setReadTime(v.commitVersion),E.addEntry(H)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(g,S))}(t,i,e,u).next(()=>u.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let g=qt();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(g=g.add(m.batch.mutations[v].key));return g}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function yx(n){const e=yt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function lL(n,e){const t=yt(n),i=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const m=[];e.targetChanges.forEach((E,S)=>{const A=a.get(S);if(!A)return;m.push(t.Ti.removeMatchingKeys(u,E.removedDocuments,S).next(()=>t.Ti.addMatchingKeys(u,E.addedDocuments,S)));let N=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?N=N.withResumeToken(Yr.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,i)),a=a.insert(S,N),function(H,V,j){return H.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=iL?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(A,N,E)&&m.push(t.Ti.updateTargetData(u,N))});let g=wl(),v=qt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(uL(u,h,e.documentUpdates).next(E=>{g=E.qs,v=E.Qs})),!i.isEqual(gt.min())){const E=t.Ti.getLastRemoteSnapshotVersion(u).next(S=>t.Ti.setTargetsMetadata(u,u.currentSequenceNumber,i));m.push(E)}return Ce.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,v)).next(()=>g)}).then(u=>(t.xs=a,u))}function uL(n,e,t){let i=qt(),a=qt();return t.forEach(u=>i=i.add(u)),e.getEntries(n,i).next(u=>{let h=wl();return t.forEach((m,g)=>{const v=u.get(m);g.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(gt.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):He(xw,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",g.version)}),{qs:h,Qs:a}})}function cL(n,e){const t=yt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=dw),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function fL(n,e){const t=yt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Ti.getTargetData(i,e).next(u=>u?(a=u,Ce.resolve(a)):t.Ti.allocateTargetId(i).next(h=>(a=new Au(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.xs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function TT(n,e,t){const i=yt(n),a=i.xs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",u,h=>i.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!Fd(h))throw h;He(xw,`Failed to update sequence numbers for target ${e}: ${h}`)}i.xs=i.xs.remove(e),i.Os.delete(a.target)}function HS(n,e,t){const i=yt(n);let a=gt.min(),u=qt();return i.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,E){const S=yt(g),A=S.Os.get(E);return A!==void 0?Ce.resolve(S.xs.get(A)):S.Ti.getTargetData(v,E)}(i,h,So(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(h,m.targetId).next(g=>{u=g})}).next(()=>i.Ms.getDocumentsMatchingQuery(h,e,t?a:gt.min(),t?u:qt())).next(m=>(hL(i,XM(e),m),{documents:m,$s:u})))}function hL(n,e,t){let i=n.Ns.get(e)||gt.min();t.forEach((a,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),n.Ns.set(e,i)}class qS{constructor(){this.activeTargetIds=rP()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dL{constructor(){this.xo=new qS,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new qS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="ConnectivityMonitor";class $S{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){He(GS,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){He(GS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sv=null;function wT(){return Sv===null?Sv=function(){return 268435456+Math.round(2147483648*Math.random())}():Sv++,"0x"+Sv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="RestConnection",pL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gL{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${a}`,this.Go=this.databaseId.database===s_?`project_id=${i}`:`project_id=${i}&database_id=${a}`}zo(e,t,i,a,u){const h=wT(),m=this.jo(e,t.toUriEncodedString());He(IE,`Sending RPC '${e}' ${h}:`,m,i);const g={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(g,a,u);const{host:v}=new URL(m),E=kd(v);return this.Jo(e,m,g,i,E).then(S=>(He(IE,`Received RPC '${e}' ${h}: `,S),S),S=>{throw Ad(IE,`RPC '${e}' ${h} failed with error: `,S,"url: ",m,"request:",i),S})}Yo(e,t,i,a,u,h){return this.zo(e,t,i,a,u)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,u)=>e[u]=a),i&&i.headers.forEach((a,u)=>e[u]=a)}jo(e,t){const i=pL[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi="WebChannelConnection";class vL extends gL{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,u){const h=wT();return new Promise((m,g)=>{const v=new ER;v.setWithCredentials(!0),v.listenOnce(TR.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Uv.NO_ERROR:const S=v.getResponseJson();He(yi,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),m(S);break;case Uv.TIMEOUT:He(yi,`RPC '${e}' ${h} timed out`),g(new Ye(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case Uv.HTTP_ERROR:const A=v.getStatus();if(He(yi,`RPC '${e}' ${h} failed with status:`,A,"response text:",v.getResponseText()),A>0){let N=v.getResponseJson();Array.isArray(N)&&(N=N[0]);const O=N==null?void 0:N.error;if(O&&O.status&&O.message){const H=function(j){const ee=j.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(ee)>=0?ee:Ie.UNKNOWN}(O.status);g(new Ye(H,O.message))}else g(new Ye(Ie.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new Ye(Ie.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{h_:e,streamId:h,P_:v.getLastErrorCode(),T_:v.getLastError()})}}finally{He(yi,`RPC '${e}' ${h} completed.`)}});const E=JSON.stringify(a);He(yi,`RPC '${e}' ${h} sending request:`,a),v.send(t,"POST",E,i,15)})}I_(e,t,i){const a=wT(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=SR(),m=bR(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Ho(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const E=u.join("");He(yi,`Creating RPC '${e}' stream ${a}: ${E}`,g);const S=h.createWebChannel(E,g);this.E_(S);let A=!1,N=!1;const O=new yL({Zo:V=>{N?He(yi,`Not sending because RPC '${e}' stream ${a} is closed:`,V):(A||(He(yi,`Opening RPC '${e}' stream ${a} transport.`),S.open(),A=!0),He(yi,`RPC '${e}' stream ${a} sending:`,V),S.send(V))},Xo:()=>S.close()}),H=(V,j,ee)=>{V.listen(j,Z=>{try{ee(Z)}catch(he){setTimeout(()=>{throw he},0)}})};return H(S,Tp.EventType.OPEN,()=>{N||(He(yi,`RPC '${e}' stream ${a} transport opened.`),O.__())}),H(S,Tp.EventType.CLOSE,()=>{N||(N=!0,He(yi,`RPC '${e}' stream ${a} transport closed`),O.u_(),this.d_(S))}),H(S,Tp.EventType.ERROR,V=>{N||(N=!0,Ad(yi,`RPC '${e}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),O.u_(new Ye(Ie.UNAVAILABLE,"The operation could not be completed")))}),H(S,Tp.EventType.MESSAGE,V=>{var j;if(!N){const ee=V.data[0];dn(!!ee,16349);const Z=ee,he=(Z==null?void 0:Z.error)||((j=Z[0])===null||j===void 0?void 0:j.error);if(he){He(yi,`RPC '${e}' stream ${a} received error:`,he);const ne=he.status;let z=function(L){const q=mr[L];if(q!==void 0)return ix(q)}(ne),D=he.message;z===void 0&&(z=Ie.INTERNAL,D="Unknown error status: "+ne+" with message "+he.message),N=!0,O.u_(new Ye(z,D)),S.close()}else He(yi,`RPC '${e}' stream ${a} received:`,ee),O.c_(ee)}}),H(m,wR.STAT_EVENT,V=>{V.stat===uT.PROXY?He(yi,`RPC '${e}' stream ${a} detected buffering proxy`):V.stat===uT.NOPROXY&&He(yi,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{O.a_()},0),O}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function NE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(n){return new wP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,t,i=1e3,a=1.5,u=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=a,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-i);a>0&&He("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="PersistentStream";class _x{constructor(e,t,i,a,u,h,m,g){this.xi=e,this.S_=i,this.D_=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new vx(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===Ie.RESOURCE_EXHAUSTED?(Tl(t.toString()),Tl("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===Ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.v_===t&&this.z_(i,a)},i=>{e(()=>{const a=new Ye(Ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(a)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{i(()=>this.j_(a))}),this.stream.onMessage(a=>{i(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return He(KS,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(He(KS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _L extends _x{constructor(e,t,i,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,h),this.serializer=u}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=AP(this.serializer,e),i=function(u){if(!("targetChange"in u))return gt.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?gt.min():h.readTime?Ao(h.readTime):gt.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=ET(this.serializer),t.addTarget=function(u,h){let m;const g=h.target;if(m=mT(g)?{documents:CP(u,g)}:{query:IP(u,g).gt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=ox(u,h.resumeToken);const v=yT(u,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(gt.min())>0){m.readTime=c_(u,h.snapshotVersion.toTimestamp());const v=yT(u,h.expectedCount);v!==null&&(m.expectedCount=v)}return m}(this.serializer,e);const i=DP(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=ET(this.serializer),t.removeTarget=e,this.Q_(t)}}class EL extends _x{constructor(e,t,i,a,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,h),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return dn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dn(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){dn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=xP(e.writeResults,e.commitTime),i=Ao(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=ET(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>RP(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{}class wL extends TL{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new Ye(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.zo(e,vT(t,i),a,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ye(Ie.UNKNOWN,u.toString())})}Yo(e,t,i,a,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Yo(e,vT(t,i),a,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ye(Ie.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class bL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Tl(t),this.ua=!1):He("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="RemoteStore";class SL{constructor(e,t,i,a,u){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(h=>{i.enqueueAndForget(async()=>{Lf(this)&&(He(Nf,"Restarting streams for network reachability change."),await async function(g){const v=yt(g);v.da.add(4),await cg(v),v.Va.set("Unknown"),v.da.delete(4),await H_(v)}(this))})}),this.Va=new bL(i,a)}}async function H_(n){if(Lf(n))for(const e of n.Aa)await e(!0)}async function cg(n){for(const e of n.Aa)await e(!1)}function Ex(n,e){const t=yt(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Dw(t)?Nw(t):zd(t).N_()&&Iw(t,e))}function Cw(n,e){const t=yt(n),i=zd(t);t.Ea.delete(e),i.N_()&&Tx(t,e),t.Ea.size===0&&(i.N_()?i.k_():Lf(t)&&t.Va.set("Unknown"))}function Iw(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zd(n).Z_(e)}function Tx(n,e){n.ma.Ke(e),zd(n).X_(e)}function Nw(n){n.ma=new vP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),zd(n).start(),n.Va.ca()}function Dw(n){return Lf(n)&&!zd(n).O_()&&n.Ea.size>0}function Lf(n){return yt(n).da.size===0}function wx(n){n.ma=void 0}async function AL(n){n.Va.set("Online")}async function RL(n){n.Ea.forEach((e,t)=>{Iw(n,e)})}async function xL(n,e){wx(n),Dw(n)?(n.Va.Pa(e),Nw(n)):n.Va.set("Unknown")}async function CL(n,e,t){if(n.Va.set("Online"),e instanceof ax&&e.state===2&&e.cause)try{await async function(a,u){const h=u.cause;for(const m of u.targetIds)a.Ea.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.Ea.delete(m),a.ma.removeTarget(m))}(n,e)}catch(i){He(Nf,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await h_(n,i)}else if(e instanceof Fv?n.ma.Xe(e):e instanceof sx?n.ma.ot(e):n.ma.nt(e),!t.isEqual(gt.min()))try{const i=await yx(n.localStore);t.compareTo(i)>=0&&await function(u,h){const m=u.ma.It(h);return m.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ea.get(v);E&&u.Ea.set(v,E.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,v)=>{const E=u.Ea.get(g);if(!E)return;u.Ea.set(g,E.withResumeToken(Yr.EMPTY_BYTE_STRING,E.snapshotVersion)),Tx(u,g);const S=new Au(E.target,g,v,E.sequenceNumber);Iw(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(n,t)}catch(i){He(Nf,"Failed to raise snapshot:",i),await h_(n,i)}}async function h_(n,e,t){if(!Fd(e))throw e;n.da.add(1),await cg(n),n.Va.set("Offline"),t||(t=()=>yx(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{He(Nf,"Retrying IndexedDB access"),await t(),n.da.delete(1),await H_(n)})}function bx(n,e){return e().catch(t=>h_(n,t,e))}async function q_(n){const e=yt(n),t=Vu(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:dw;for(;IL(e);)try{const a=await cL(e.localStore,i);if(a===null){e.Ia.length===0&&t.k_();break}i=a.batchId,NL(e,a)}catch(a){await h_(e,a)}Sx(e)&&Ax(e)}function IL(n){return Lf(n)&&n.Ia.length<10}function NL(n,e){n.Ia.push(e);const t=Vu(n);t.N_()&&t.ea&&t.ta(e.mutations)}function Sx(n){return Lf(n)&&!Vu(n).O_()&&n.Ia.length>0}function Ax(n){Vu(n).start()}async function DL(n){Vu(n).ia()}async function OL(n){const e=Vu(n);for(const t of n.Ia)e.ta(t.mutations)}async function ML(n,e,t){const i=n.Ia.shift(),a=Tw.from(i,e,t);await bx(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await q_(n)}async function PL(n,e){e&&Vu(n).ea&&await async function(i,a){if(function(h){return gP(h)&&h!==Ie.ABORTED}(a.code)){const u=i.Ia.shift();Vu(i).L_(),await bx(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,a)),await q_(i)}}(n,e),Sx(n)&&Ax(n)}async function YS(n,e){const t=yt(n);t.asyncQueue.verifyOperationInProgress(),He(Nf,"RemoteStore received new credentials");const i=Lf(t);t.da.add(3),await cg(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await H_(t)}async function LL(n,e){const t=yt(n);e?(t.da.delete(2),await H_(t)):e||(t.da.add(2),await cg(t),t.Va.set("Unknown"))}function zd(n){return n.fa||(n.fa=function(t,i,a){const u=yt(t);return u.oa(),new _L(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(n.datastore,n.asyncQueue,{e_:AL.bind(null,n),n_:RL.bind(null,n),i_:xL.bind(null,n),Y_:CL.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),Dw(n)?Nw(n):n.Va.set("Unknown")):(await n.fa.stop(),wx(n))})),n.fa}function Vu(n){return n.ga||(n.ga=function(t,i,a){const u=yt(t);return u.oa(),new EL(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:DL.bind(null,n),i_:PL.bind(null,n),na:OL.bind(null,n),ra:ML.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await q_(n)):(await n.ga.stop(),n.Ia.length>0&&(He(Nf,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t,i,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=u,this.deferred=new Du,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,u){const h=Date.now()+i,m=new Ow(e,t,h,a,u);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ye(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mw(n,e){if(Tl("AsyncQueue",`${e}: ${n}`),Fd(n))return new Ye(Ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{static emptySet(e){return new Td(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||tt.comparator(t.key,i.key):(t,i)=>tt.comparator(t.key,i.key),this.keyedMap=wp(),this.sortedSet=new Hn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Td)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=i.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Td;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.pa=new Hn(tt.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):dt(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Nd{constructor(e,t,i,a,u,h,m,g,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,a,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Nd(e,t,Td.emptySet(t),h,i,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&U_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class UL{constructor(){this.queries=QS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=yt(t),u=a.queries;a.queries=QS(),u.forEach((h,m)=>{for(const g of m.Sa)g.onError(i)})})(this,new Ye(Ie.ABORTED,"Firestore shutting down"))}}function QS(){return new Pf(n=>$R(n),U_)}async function Rx(n,e){const t=yt(n);let i=3;const a=e.query;let u=t.queries.get(a);u?!u.Da()&&e.va()&&(i=2):(u=new kL,i=e.va()?0:1);try{switch(i){case 0:u.ba=await t.onListen(a,!0);break;case 1:u.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(h){const m=Mw(h,`Initialization of query '${hd(e.query)}' failed`);return void e.onError(m)}t.queries.set(a,u),u.Sa.push(e),e.Fa(t.onlineState),u.ba&&e.Ma(u.ba)&&Pw(t)}async function xx(n,e){const t=yt(n),i=e.query;let a=3;const u=t.queries.get(i);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?a=e.va()?0:1:!u.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function VL(n,e){const t=yt(n);let i=!1;for(const a of e){const u=a.query,h=t.queries.get(u);if(h){for(const m of h.Sa)m.Ma(a)&&(i=!0);h.ba=a}}i&&Pw(t)}function jL(n,e,t){const i=yt(n),a=i.queries.get(e);if(a)for(const u of a.Sa)u.onError(t);i.queries.delete(e)}function Pw(n){n.Ca.forEach(e=>{e.next()})}var bT,XS;(XS=bT||(bT={})).xa="default",XS.Cache="cache";class Cx{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Nd(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Nd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==bT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.key=e}}class Nx{constructor(e){this.key=e}}class BL{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qt(),this.mutatedKeys=qt(),this.Za=KR(e),this.Xa=new Td(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new WS,a=t?t.Xa:this.Xa;let u=t?t.mutatedKeys:this.mutatedKeys,h=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((E,S)=>{const A=a.get(E),N=V_(this.query,S)?S:null,O=!!A&&this.mutatedKeys.has(A.key),H=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let V=!1;A&&N?A.data.isEqual(N.data)?O!==H&&(i.track({type:3,doc:N}),V=!0):this.ru(A,N)||(i.track({type:2,doc:N}),V=!0,(g&&this.Za(N,g)>0||v&&this.Za(N,v)<0)&&(m=!0)):!A&&N?(i.track({type:0,doc:N}),V=!0):A&&!N&&(i.track({type:1,doc:A}),V=!0,(g||v)&&(m=!0)),V&&(N?(h=h.add(N),u=H?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),i.track({type:1,doc:E})}return{Xa:h,nu:i,Cs:m,mutatedKeys:u}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const h=e.nu.wa();h.sort((E,S)=>function(N,O){const H=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:V})}};return H(N)-H(O)}(E.type,S.type)||this.Za(E.doc,S.doc)),this.iu(i),a=a!=null&&a;const m=t&&!a?this.su():[],g=this.Ya.size===0&&this.current&&!a?1:0,v=g!==this.Ja;return this.Ja=g,h.length!==0||v?{snapshot:new Nd(this.query,e.Xa,u,h,e.mutatedKeys,g===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new WS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=qt(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new Nx(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new Ix(i))}),t}au(e){this.Ha=e.$s,this.Ya=qt();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Nd.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Lw="SyncEngine";class FL{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class zL{constructor(e){this.key=e,this.cu=!1}}class HL{constructor(e,t,i,a,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new Pf(m=>$R(m),U_),this.Pu=new Map,this.Tu=new Set,this.Iu=new Hn(tt.comparator),this.Eu=new Map,this.du=new Sw,this.Au={},this.Ru=new Map,this.Vu=Id.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function qL(n,e,t=!0){const i=kx(n);let a;const u=i.hu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.uu()):a=await Dx(i,e,t,!0),a}async function GL(n,e){const t=kx(n);await Dx(t,e,!0,!1)}async function Dx(n,e,t,i){const a=await fL(n.localStore,So(e)),u=a.targetId,h=n.sharedClientState.addLocalQueryTarget(u,t);let m;return i&&(m=await $L(n,e,u,h==="current",a.resumeToken)),n.isPrimaryClient&&t&&Ex(n.remoteStore,a),m}async function $L(n,e,t,i,a){n.fu=(S,A,N)=>async function(H,V,j,ee){let Z=V.view.tu(j);Z.Cs&&(Z=await HS(H.localStore,V.query,!1).then(({documents:D})=>V.view.tu(D,Z)));const he=ee&&ee.targetChanges.get(V.targetId),ne=ee&&ee.targetMismatches.get(V.targetId)!=null,z=V.view.applyChanges(Z,H.isPrimaryClient,he,ne);return JS(H,V.targetId,z.ou),z.snapshot}(n,S,A,N);const u=await HS(n.localStore,e,!0),h=new BL(e,u.$s),m=h.tu(u.documents),g=ug.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),v=h.applyChanges(m,n.isPrimaryClient,g);JS(n,t,v.ou);const E=new FL(e,t,h);return n.hu.set(e,E),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),v.snapshot}async function KL(n,e,t){const i=yt(n),a=i.hu.get(e),u=i.Pu.get(a.targetId);if(u.length>1)return i.Pu.set(a.targetId,u.filter(h=>!U_(h,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await TT(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Cw(i.remoteStore,a.targetId),ST(i,a.targetId)}).catch(Bd)):(ST(i,a.targetId),await TT(i.localStore,a.targetId,!0))}async function YL(n,e){const t=yt(n),i=t.hu.get(e),a=t.Pu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Cw(t.remoteStore,i.targetId))}async function WL(n,e,t){const i=n4(n);try{const a=await function(h,m){const g=yt(h),v=wr.now(),E=m.reduce((N,O)=>N.add(O.key),qt());let S,A;return g.persistence.runTransaction("Locally write mutations","readwrite",N=>{let O=wl(),H=qt();return g.Bs.getEntries(N,E).next(V=>{O=V,O.forEach((j,ee)=>{ee.isValidDocument()||(H=H.add(j))})}).next(()=>g.localDocuments.getOverlayedDocuments(N,O)).next(V=>{S=V;const j=[];for(const ee of m){const Z=fP(ee,S.get(ee.key).overlayedDocument);Z!=null&&j.push(new Hu(ee.key,Z,VR(Z.value.mapValue),na.exists(!0)))}return g.mutationQueue.addMutationBatch(N,v,j,m)}).next(V=>{A=V;const j=V.applyToLocalDocumentSet(S,H);return g.documentOverlayCache.saveOverlays(N,V.batchId,j)})}).then(()=>({batchId:A.batchId,changes:WR(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(h,m,g){let v=h.Au[h.currentUser.toKey()];v||(v=new Hn(It)),v=v.insert(m,g),h.Au[h.currentUser.toKey()]=v}(i,a.batchId,t),await fg(i,a.changes),await q_(i.remoteStore)}catch(a){const u=Mw(a,"Failed to persist write");t.reject(u)}}async function Ox(n,e){const t=yt(n);try{const i=await lL(t.localStore,e);e.targetChanges.forEach((a,u)=>{const h=t.Eu.get(u);h&&(dn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?h.cu=!0:a.modifiedDocuments.size>0?dn(h.cu,14607):a.removedDocuments.size>0&&(dn(h.cu,42227),h.cu=!1))}),await fg(t,i,e)}catch(i){await Bd(i)}}function ZS(n,e,t){const i=yt(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.hu.forEach((u,h)=>{const m=h.view.Fa(e);m.snapshot&&a.push(m.snapshot)}),function(h,m){const g=yt(h);g.onlineState=m;let v=!1;g.queries.forEach((E,S)=>{for(const A of S.Sa)A.Fa(m)&&(v=!0)}),v&&Pw(g)}(i.eventManager,e),a.length&&i.lu.Y_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function QL(n,e,t){const i=yt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Eu.get(e),u=a&&a.key;if(u){let h=new Hn(tt.comparator);h=h.insert(u,_i.newNoDocument(u,gt.min()));const m=qt().add(u),g=new F_(gt.min(),new Map,new Hn(It),h,m);await Ox(i,g),i.Iu=i.Iu.remove(u),i.Eu.delete(e),kw(i)}else await TT(i.localStore,e,!1).then(()=>ST(i,e,t)).catch(Bd)}async function XL(n,e){const t=yt(n),i=e.batch.batchId;try{const a=await oL(t.localStore,e);Px(t,i,null),Mx(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await fg(t,a)}catch(a){await Bd(a)}}async function ZL(n,e,t){const i=yt(n);try{const a=await function(h,m){const g=yt(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let E;return g.mutationQueue.lookupMutationBatch(v,m).next(S=>(dn(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(v,S))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E)).next(()=>g.localDocuments.getDocuments(v,E))})}(i.localStore,e);Px(i,e,t),Mx(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await fg(i,a)}catch(a){await Bd(a)}}function Mx(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function Px(n,e,t){const i=yt(n);let a=i.Au[i.currentUser.toKey()];if(a){const u=a.get(e);u&&(t?u.reject(t):u.resolve(),a=a.remove(e)),i.Au[i.currentUser.toKey()]=a}}function ST(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||Lx(n,i)})}function Lx(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(Cw(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),kw(n))}function JS(n,e,t){for(const i of t)i instanceof Ix?(n.du.addReference(i.key,e),JL(n,i)):i instanceof Nx?(He(Lw,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||Lx(n,i.key)):dt(19791,{pu:i})}function JL(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(He(Lw,"New document in limbo: "+t),n.Tu.add(i),kw(n))}function kw(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new tt(On.fromString(e)),i=n.Vu.next();n.Eu.set(i,new zL(t)),n.Iu=n.Iu.insert(t,i),Ex(n.remoteStore,new Au(So(vw(t.path)),i,"TargetPurposeLimboResolution",P_.le))}}async function fg(n,e,t){const i=yt(n),a=[],u=[],h=[];i.hu.isEmpty()||(i.hu.forEach((m,g)=>{h.push(i.fu(g,e,t).then(v=>{var E;if((v||t)&&i.isPrimaryClient){const S=v?!v.fromCache:(E=t==null?void 0:t.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;i.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(v){a.push(v);const S=Rw.Rs(g.targetId,v);u.push(S)}}))}),await Promise.all(h),i.lu.Y_(a),await async function(g,v){const E=yt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Ce.forEach(v,A=>Ce.forEach(A.ds,N=>E.persistence.referenceDelegate.addReference(S,A.targetId,N)).next(()=>Ce.forEach(A.As,N=>E.persistence.referenceDelegate.removeReference(S,A.targetId,N)))))}catch(S){if(!Fd(S))throw S;He(xw,"Failed to update sequence numbers: "+S)}for(const S of v){const A=S.targetId;if(!S.fromCache){const N=E.xs.get(A),O=N.snapshotVersion,H=N.withLastLimboFreeSnapshotVersion(O);E.xs=E.xs.insert(A,H)}}}(i.localStore,u))}async function e4(n,e){const t=yt(n);if(!t.currentUser.isEqual(e)){He(Lw,"User change. New user:",e.toKey());const i=await gx(t.localStore,e);t.currentUser=e,function(u,h){u.Ru.forEach(m=>{m.forEach(g=>{g.reject(new Ye(Ie.CANCELLED,h))})}),u.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await fg(t,i.ks)}}function t4(n,e){const t=yt(n),i=t.Eu.get(e);if(i&&i.cu)return qt().add(i.key);{let a=qt();const u=t.Pu.get(e);if(!u)return a;for(const h of u){const m=t.hu.get(h);a=a.unionWith(m.view.eu)}return a}}function kx(n){const e=yt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ox.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=t4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QL.bind(null,e),e.lu.Y_=VL.bind(null,e.eventManager),e.lu.gu=jL.bind(null,e.eventManager),e}function n4(n){const e=yt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZL.bind(null,e),e}class d_{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=z_(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return aL(this.persistence,new rL,e.initialUser,this.serializer)}Su(e){return new px(Aw.fi,this.serializer)}bu(e){return new dL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}d_.provider={build:()=>new d_};class r4 extends d_{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){dn(this.persistence.referenceDelegate instanceof f_,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new zP(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?ss.withCacheSize(this.cacheSizeBytes):ss.DEFAULT;return new px(i=>f_.fi(i,t),this.serializer)}}class AT{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ZS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=e4.bind(null,this.syncEngine),await LL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UL}()}createDatastore(e){const t=z_(e.databaseInfo.databaseId),i=function(u){return new vL(u)}(e.databaseInfo);return function(u,h,m,g){return new wL(u,h,m,g)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,u,h,m){return new SL(i,a,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>ZS(this.syncEngine,t,0),function(){return $S.C()?new $S:new mL}())}createSyncEngine(e,t){return function(a,u,h,m,g,v,E){const S=new HL(a,u,h,m,g,v);return E&&(S.mu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const u=yt(a);He(Nf,"RemoteStore shutting down."),u.da.add(5),await cg(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}AT.provider={build:()=>new AT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Tl("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju="FirestoreClient";class i4{constructor(e,t,i,a,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=vi.UNAUTHENTICATED,this.clientId=CR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async h=>{He(ju,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(He(ju,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Du;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Mw(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function DE(n,e){n.asyncQueue.verifyOperationInProgress(),He(ju,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await gx(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function e1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await s4(n);He(ju,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>YS(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>YS(e.remoteStore,a)),n._onlineComponents=e}async function s4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){He(ju,"Using user provided OfflineComponentProvider");try{await DE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===Ie.FAILED_PRECONDITION||a.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Ad("Error using user provided cache. Falling back to memory cache: "+t),await DE(n,new d_)}}else He(ju,"Using default OfflineComponentProvider"),await DE(n,new r4(void 0));return n._offlineComponents}async function Vx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(He(ju,"Using user provided OnlineComponentProvider"),await e1(n,n._uninitializedComponentsProvider._online)):(He(ju,"Using default OnlineComponentProvider"),await e1(n,new AT))),n._onlineComponents}function a4(n){return Vx(n).then(e=>e.syncEngine)}async function RT(n){const e=await Vx(n),t=e.eventManager;return t.onListen=qL.bind(null,e.syncEngine),t.onUnlisten=KL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=GL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=YL.bind(null,e.syncEngine),t}function o4(n,e,t={}){const i=new Du;return n.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,v){const E=new Ux({next:A=>{E.xu(),h.enqueueAndForget(()=>xx(u,S)),A.fromCache&&g.source==="server"?v.reject(new Ye(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(A)},error:A=>v.reject(A)}),S=new Cx(m,E,{includeMetadataChanges:!0,Qa:!0});return Rx(u,S)}(await RT(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(n,e,t){if(!t)throw new Ye(Ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function l4(n,e,t,i){if(e===!0&&i===!0)throw new Ye(Ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function n1(n){if(!tt.isDocumentKey(n))throw new Ye(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function r1(n){if(tt.isDocumentKey(n))throw new Ye(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function G_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":dt(12329,{type:typeof n})}function ra(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ye(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=G_(n);throw new Ye(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="firestore.googleapis.com",i1=!0;class s1{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ye(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Fx,this.ssl=i1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:i1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BP)throw new Ye(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}l4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jx((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Ye(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Ye(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Ye(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $_{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ye(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ye(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new gM;switch(i.type){case"firstParty":return new EM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ye(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=t1.get(t);i&&(He("ComponentProvider","Removing Datastore"),t1.delete(t),i.terminate())}(this),Promise.resolve()}}function u4(n,e,t,i={}){var a;n=ra(n,$_);const u=kd(e),h=n._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:n._getEmulatorOptions()}),g=`${e}:${t}`;u&&(PA(`https://${g}`),LA("Firestore",!0)),h.host!==Fx&&h.host!==g&&Ad("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},h),{host:g,ssl:u,emulatorOptions:i});if(!Rf(v,m)&&(n._setSettings(v),i.mockUserToken)){let E,S;if(typeof i.mockUserToken=="string")E=i.mockUserToken,S=vi.MOCK_USER;else{E=BN(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const A=i.mockUserToken.sub||i.mockUserToken.user_id;if(!A)throw new Ye(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new vi(A)}n._authCredentials=new yM(new RR(E,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new kf(this.firestore,e,this._query)}}class Ui{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ui(this.firestore,e,this._key)}}class Ou extends kf{constructor(e,t,i){super(e,t,vw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ui(this.firestore,null,new tt(e))}withConverter(e){return new Ou(this.firestore,e,this._path)}}function m_(n,e,...t){if(n=Sr(n),Bx("collection","path",e),n instanceof $_){const i=On.fromString(e,...t);return r1(i),new Ou(n,null,i)}{if(!(n instanceof Ui||n instanceof Ou))throw new Ye(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(On.fromString(e,...t));return r1(i),new Ou(n.firestore,null,i)}}function yf(n,e,...t){if(n=Sr(n),arguments.length===1&&(e=CR.newId()),Bx("doc","path",e),n instanceof $_){const i=On.fromString(e,...t);return n1(i),new Ui(n,null,new tt(i))}{if(!(n instanceof Ui||n instanceof Ou))throw new Ye(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(On.fromString(e,...t));return n1(i),new Ui(n.firestore,n instanceof Ou?n.converter:null,new tt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="AsyncQueue";class o1{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new vx(this,"async_queue_retry"),this.rc=()=>{const i=NE();i&&He(a1,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=NE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=NE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Du;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Fd(e))throw e;He(a1,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Tl("INTERNAL UNHANDLED ERROR: ",l1(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=Ow.createAndSchedule(this,e,t,i,u=>this.uc(u));return this.Zu.push(a),a}oc(){this.Xu&&dt(47125,{cc:l1(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function l1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const u of i)if(u in a&&typeof a[u]=="function")return!0;return!1}(n,["next","error","complete"])}class Bu extends $_{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new o1,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new o1(e),this._firestoreClient=void 0,await e}}}function c4(n,e){const t=typeof n=="object"?n:jA(),i=typeof n=="string"?n:s_,a=ew(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const u=VN("firestore");u&&u4(a,...u)}return a}function Uw(n){if(n._terminated)throw new Ye(Ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||f4(n),n._firestoreClient}function f4(n){var e,t,i;const a=n._freezeSettings(),u=function(m,g,v,E){return new LM(m,g,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,jx(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new i4(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dd(Yr.fromBase64String(e))}catch(t){throw new Ye(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dd(Yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ye(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ye(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ye(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==a[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=/^__.*__$/;class d4{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Hu(e,this.data,this.fieldMask,t,this.fieldTransforms):new lg(e,this.data,t,this.fieldTransforms)}}class zx{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Hu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Hx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ic:n})}}class Bw{constructor(e,t,i,a,u,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Bw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Vc(e),a}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:i,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return p_(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Hx(this.Ic)&&h4.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class m4{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||z_(e)}bc(e,t,i,a=!1){return new Bw({Ic:e,methodName:t,wc:i,path:Kr.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function W_(n){const e=n._freezeSettings(),t=z_(n._databaseId);return new m4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qx(n,e,t,i,a,u={}){const h=n.bc(u.merge||u.mergeFields?2:0,e,t,a);zw("Data must be an object, but it was:",h,i);const m=Gx(i,h);let g,v;if(u.merge)g=new Cs(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const A=xT(e,S,t);if(!h.contains(A))throw new Ye(Ie.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Kx(E,A)||E.push(A)}g=new Cs(E),v=h.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,v=h.fieldTransforms;return new d4(new as(m),g,v)}class Q_ extends Y_{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Q_}}class Fw extends Y_{_toFieldTransform(e){return new oP(e.path,new qp)}isEqual(e){return e instanceof Fw}}function p4(n,e,t,i){const a=n.bc(1,e,t);zw("Data must be an object, but it was:",a,i);const u=[],h=as.empty();zu(i,(g,v)=>{const E=Hw(e,g,t);v=Sr(v);const S=a.mc(E);if(v instanceof Q_)u.push(E);else{const A=hg(v,S);A!=null&&(u.push(E),h.set(E,A))}});const m=new Cs(u);return new zx(h,m,a.fieldTransforms)}function g4(n,e,t,i,a,u){const h=n.bc(1,e,t),m=[xT(e,i,t)],g=[a];if(u.length%2!=0)throw new Ye(Ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(xT(e,u[A])),g.push(u[A+1]);const v=[],E=as.empty();for(let A=m.length-1;A>=0;--A)if(!Kx(v,m[A])){const N=m[A];let O=g[A];O=Sr(O);const H=h.mc(N);if(O instanceof Q_)v.push(N);else{const V=hg(O,H);V!=null&&(v.push(N),E.set(N,V))}}const S=new Cs(v);return new zx(E,S,h.fieldTransforms)}function y4(n,e,t,i=!1){return hg(t,n.bc(i?4:3,e))}function hg(n,e){if($x(n=Sr(n)))return zw("Unsupported field value:",e,n),Gx(n,e);if(n instanceof Y_)return function(i,a){if(!Hx(a.Ic))throw a.gc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(a);u&&a.fieldTransforms.push(u)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,a){const u=[];let h=0;for(const m of i){let g=hg(m,a.fc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(n,e)}return function(i,a){if((i=Sr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return iP(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=wr.fromDate(i);return{timestampValue:c_(a.serializer,u)}}if(i instanceof wr){const u=new wr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:c_(a.serializer,u)}}if(i instanceof Vw)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Dd)return{bytesValue:ox(a.serializer,i._byteString)};if(i instanceof Ui){const u=a.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw a.gc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bw(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof jw)return function(h,m){return{mapValue:{fields:{[kR]:{stringValue:UR},[a_]:{arrayValue:{values:h.toArray().map(v=>{if(typeof v!="number")throw m.gc("VectorValues must only contain numeric values.");return _w(m.serializer,v)})}}}}}}(i,a);throw a.gc(`Unsupported field value: ${G_(i)}`)}(n,e)}function Gx(n,e){const t={};return NR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zu(n,(i,a)=>{const u=hg(a,e.Ac(i));u!=null&&(t[i]=u)}),{mapValue:{fields:t}}}function $x(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof wr||n instanceof Vw||n instanceof Dd||n instanceof Ui||n instanceof Y_||n instanceof jw)}function zw(n,e,t){if(!$x(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=G_(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function xT(n,e,t){if((e=Sr(e))instanceof K_)return e._internalPath;if(typeof e=="string")return Hw(n,e);throw p_("Field path arguments must be of type string or ",n,!1,void 0,t)}const v4=new RegExp("[~\\*/\\[\\]]");function Hw(n,e,t){if(e.search(v4)>=0)throw p_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new K_(...e.split("."))._internalPath}catch{throw p_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function p_(n,e,t,i,a){const u=i&&!i.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${i}`),h&&(g+=` in document ${a}`),g+=")"),new Ye(Ie.INVALID_ARGUMENT,m+n+g)}function Kx(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,t,i,a,u){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ui(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class _4 extends Yx{data(){return super.data()}}function qw(n,e){return typeof e=="string"?Hw(n,e):e instanceof K_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ye(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gw{}class E4 extends Gw{}function T4(n,e,...t){let i=[];e instanceof Gw&&i.push(e),i=i.concat(t),function(u){const h=u.filter(g=>g instanceof $w).length,m=u.filter(g=>g instanceof X_).length;if(h>1||h>0&&m>0)throw new Ye(Ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class X_ extends E4{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new X_(e,t,i)}_apply(e){const t=this._parse(e);return Qx(e._query,t),new kf(e.firestore,e.converter,pT(e._query,t))}_parse(e){const t=W_(e.firestore);return function(u,h,m,g,v,E,S){let A;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new Ye(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){f1(S,E);const O=[];for(const H of S)O.push(c1(g,u,H));A={arrayValue:{values:O}}}else A=c1(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||f1(S,E),A=y4(m,h,S,E==="in"||E==="not-in");return pr.create(v,E,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function w4(n,e,t){const i=e,a=qw("where",n);return X_._create(a,i,t)}class $w extends Gw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $w(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:ka.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,u){let h=a;const m=u.getFlattenedFilters();for(const g of m)Qx(h,g),h=pT(h,g)}(e._query,t),new kf(e.firestore,e.converter,pT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function c1(n,e,t){if(typeof(t=Sr(t))=="string"){if(t==="")throw new Ye(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GR(e)&&t.indexOf("/")!==-1)throw new Ye(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(On.fromString(t));if(!tt.isDocumentKey(i))throw new Ye(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return SS(n,new tt(i))}if(t instanceof Ui)return SS(n,t._key);throw new Ye(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${G_(t)}.`)}function f1(n,e){if(!Array.isArray(n)||n.length===0)throw new Ye(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Qx(n,e){const t=function(a,u){for(const h of a)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ye(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ye(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class b4{convertValue(e,t="none"){switch(Uu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ir(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ku(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return zu(e,(a,u)=>{i[a]=this.convertValue(u,t)}),i}convertVectorValue(e){var t,i,a;const u=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[a_].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(h=>ir(h.doubleValue));return new jw(u)}convertGeoPoint(e){return new Vw(ir(e.latitude),ir(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=k_(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Fp(e));default:return null}}convertTimestamp(e){const t=Lu(e);return new wr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=On.fromString(e);dn(dx(i),9688,{name:e});const a=new zp(i.get(1),i.get(3)),u=new tt(i.popFirst(5));return a.isEqual(t)||Tl(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zx extends Yx{constructor(e,t,i,a,u,h){super(e,t,i,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(qw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class zv extends Zx{data(e={}){return super.data(e)}}class Jx{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Sp(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new zv(this._firestore,this._userDataWriter,i.key,i,new Sp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ye(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(m=>{const g=new zv(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Sp(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new zv(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Sp(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,E=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:S4(m.type),doc:g,oldIndex:v,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function S4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:n})}}class Kw extends b4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ui(this.firestore,null,t)}}function A4(n){n=ra(n,kf);const e=ra(n.firestore,Bu),t=Uw(e),i=new Kw(e);return Wx(n._query),o4(t,n._query).then(a=>new Jx(e,i,n,a))}function R4(n,e,t){n=ra(n,Ui);const i=ra(n.firestore,Bu),a=Xx(n.converter,e);return Z_(i,[qx(W_(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,na.none())])}function eC(n,e,t,...i){n=ra(n,Ui);const a=ra(n.firestore,Bu),u=W_(a);let h;return h=typeof(e=Sr(e))=="string"||e instanceof K_?g4(u,"updateDoc",n._key,e,t,i):p4(u,"updateDoc",n._key,e),Z_(a,[h.toMutation(n._key,na.exists(!0))])}function OE(n){return Z_(ra(n.firestore,Bu),[new Ew(n._key,na.none())])}function x4(n,e){const t=ra(n.firestore,Bu),i=yf(n),a=Xx(n.converter,e);return Z_(t,[qx(W_(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,na.exists(!1))]).then(()=>i)}function g_(n,...e){var t,i,a;n=Sr(n);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||u1(e[h])||(u=e[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(u1(e[h])){const S=e[h];e[h]=(t=S.next)===null||t===void 0?void 0:t.bind(S),e[h+1]=(i=S.error)===null||i===void 0?void 0:i.bind(S),e[h+2]=(a=S.complete)===null||a===void 0?void 0:a.bind(S)}let g,v,E;if(n instanceof Ui)v=ra(n.firestore,Bu),E=vw(n._key.path),g={next:S=>{e[h]&&e[h](C4(v,n,S))},error:e[h+1],complete:e[h+2]};else{const S=ra(n,kf);v=ra(S.firestore,Bu),E=S._query;const A=new Kw(v);g={next:N=>{e[h]&&e[h](new Jx(v,A,S,N))},error:e[h+1],complete:e[h+2]},Wx(n._query)}return function(A,N,O,H){const V=new Ux(H),j=new Cx(N,V,O);return A.asyncQueue.enqueueAndForget(async()=>Rx(await RT(A),j)),()=>{V.xu(),A.asyncQueue.enqueueAndForget(async()=>xx(await RT(A),j))}}(Uw(v),E,m,g)}function Z_(n,e){return function(i,a){const u=new Du;return i.asyncQueue.enqueueAndForget(async()=>WL(await a4(i),a,u)),u.promise}(Uw(n),e)}function C4(n,e,t){const i=t.docs.get(e._key),a=new Kw(n);return new Zx(n,a,e._key,i,new Sp(t.hasPendingWrites,t.fromCache),e.converter)}function kp(){return new Fw("serverTimestamp")}(function(e,t=!0){(function(a){jd=a})(Ud),bd(new xf("firestore",(i,{instanceIdentifier:a,options:u})=>{const h=i.getProvider("app").getImmediate(),m=new Bu(new vM(i.getProvider("auth-internal")),new TM(h,i.getProvider("app-check-internal")),function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Ye(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zp(v.options.projectId,E)}(h,a),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Iu(hS,dS,e),Iu(hS,dS,"esm2017")})();const I4={apiKey:"AIzaSyCLA_RFXrPvBdN_vrApCUlj28a82ownuzg",authDomain:"fire-set.firebaseapp.com",databaseURL:"https://fire-set.firebaseio.com",projectId:"fire-set",storageBucket:"fire-set.firebasestorage.app",messagingSenderId:"958559518798",appId:"1:958559518798:web:ec451bbfb4ac03f30ec31f",measurementId:"G-FCHHM3FEZE"},tC=VA(I4),Od=mM(tC),vf=c4(tC);var gp={},h1;function N4(){if(h1)return gp;h1=1,Object.defineProperty(gp,"__esModule",{value:!0}),gp.parse=h,gp.serialize=v;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,N){const O=new u,H=A.length;if(H<2)return O;const V=(N==null?void 0:N.decode)||E;let j=0;do{const ee=A.indexOf("=",j);if(ee===-1)break;const Z=A.indexOf(";",j),he=Z===-1?H:Z;if(ee>he){j=A.lastIndexOf(";",ee-1)+1;continue}const ne=m(A,j,ee),z=g(A,ee,ne),D=A.slice(ne,z);if(O[D]===void 0){let I=m(A,ee+1,he),L=g(A,he,I);const q=V(A.slice(I,L));O[D]=q}j=he+1}while(j<H);return O}function m(A,N,O){do{const H=A.charCodeAt(N);if(H!==32&&H!==9)return N}while(++N<O);return O}function g(A,N,O){for(;N>O;){const H=A.charCodeAt(--N);if(H!==32&&H!==9)return N+1}return O}function v(A,N,O){const H=(O==null?void 0:O.encode)||encodeURIComponent;if(!n.test(A))throw new TypeError(`argument name is invalid: ${A}`);const V=H(N);if(!e.test(V))throw new TypeError(`argument val is invalid: ${N}`);let j=A+"="+V;if(!O)return j;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);j+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);j+="; Domain="+O.domain}if(O.path){if(!i.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);j+="; Path="+O.path}if(O.expires){if(!S(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);j+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(j+="; HttpOnly"),O.secure&&(j+="; Secure"),O.partitioned&&(j+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return j}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function S(A){return a.call(A)==="[object Date]"}return gp}N4();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nC=n=>{throw TypeError(n)},D4=(n,e,t)=>e.has(n)||nC("Cannot "+t),ME=(n,e,t)=>(D4(n,e,"read from private field"),t?t.call(n):e.get(n)),O4=(n,e,t)=>e.has(n)?nC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),d1="popstate";function M4(n={}){function e(i,a){let{pathname:u,search:h,hash:m}=i.location;return Kp("",{pathname:u,search:h,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Fu(a)}return L4(e,t,null,n)}function Bt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function gr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function P4(){return Math.random().toString(36).substring(2,10)}function m1(n,e){return{usr:n.state,key:n.key,idx:e}}function Kp(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?qu(e):e,state:t,key:e&&e.key||i||P4()}}function Fu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function qu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function L4(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:u=!1}=i,h=a.history,m="POP",g=null,v=E();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function E(){return(h.state||{idx:null}).idx}function S(){m="POP";let V=E(),j=V==null?null:V-v;v=V,g&&g({action:m,location:H.location,delta:j})}function A(V,j){m="PUSH";let ee=Kp(H.location,V,j);v=E()+1;let Z=m1(ee,v),he=H.createHref(ee);try{h.pushState(Z,"",he)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;a.location.assign(he)}u&&g&&g({action:m,location:H.location,delta:1})}function N(V,j){m="REPLACE";let ee=Kp(H.location,V,j);v=E();let Z=m1(ee,v),he=H.createHref(ee);h.replaceState(Z,"",he),u&&g&&g({action:m,location:H.location,delta:0})}function O(V){return rC(V)}let H={get action(){return m},get location(){return n(a,h)},listen(V){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(d1,S),g=V,()=>{a.removeEventListener(d1,S),g=null}},createHref(V){return e(a,V)},createURL:O,encodeLocation(V){let j=O(V);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:A,replace:N,go(V){return h.go(V)}};return H}function rC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Fu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}var Ap,p1=class{constructor(n){if(O4(this,Ap,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(ME(this,Ap).has(n))return ME(this,Ap).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){ME(this,Ap).set(n,e)}};Ap=new WeakMap;var k4=new Set(["lazy","caseSensitive","path","id","index","children"]);function U4(n){return k4.has(n)}var V4=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function j4(n){return V4.has(n)}function B4(n){return n.index===!0}function y_(n,e,t=[],i={}){return n.map((a,u)=>{let h=[...t,String(u)],m=typeof a.id=="string"?a.id:h.join("-");if(Bt(a.index!==!0||!a.children,"Cannot specify children on an index route"),Bt(!i[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),B4(a)){let g={...a,...e(a),id:m};return i[m]=g,g}else{let g={...a,...e(a),id:m,children:void 0};return i[m]=g,a.children&&(g.children=y_(a.children,e,h,i)),g}})}function Su(n,e,t="/"){return Hv(n,e,t,!1)}function Hv(n,e,t,i){let a=typeof e=="string"?qu(e):e,u=ia(a.pathname||"/",t);if(u==null)return null;let h=iC(n);z4(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let v=J4(u);m=X4(h[g],v,i)}return m}function F4(n,e){let{route:t,pathname:i,params:a}=n;return{id:t.id,pathname:i,params:a,data:e[t.id],handle:t.handle}}function iC(n,e=[],t=[],i=""){let a=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Bt(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let v=Ro([i,g.relativePath]),E=t.concat(g);u.children&&u.children.length>0&&(Bt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),iC(u.children,e,E,v)),!(u.path==null&&!u.index)&&e.push({path:v,score:W4(v,u.index),routesMeta:E})};return n.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))a(u,h);else for(let g of sC(u.path))a(u,h,g)}),e}function sC(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),u=t.replace(/\?$/,"");if(i.length===0)return a?[u,""]:[u];let h=sC(i.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),a&&m.push(...h),m.map(g=>n.startsWith("/")&&g===""?"/":g)}function z4(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Q4(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var H4=/^:[\w-]+$/,q4=3,G4=2,$4=1,K4=10,Y4=-2,g1=n=>n==="*";function W4(n,e){let t=n.split("/"),i=t.length;return t.some(g1)&&(i+=Y4),e&&(i+=G4),t.filter(a=>!g1(a)).reduce((a,u)=>a+(H4.test(u)?q4:u===""?$4:K4),i)}function Q4(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function X4(n,e,t=!1){let{routesMeta:i}=n,a={},u="/",h=[];for(let m=0;m<i.length;++m){let g=i[m],v=m===i.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=v_({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},E),A=g.route;if(!S&&v&&t&&!i[i.length-1].route.index&&(S=v_({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(a,S.params),h.push({params:a,pathname:Ro([u,S.pathname]),pathnameBase:n3(Ro([u,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(u=Ro([u,S.pathnameBase]))}return h}function v_(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Z4(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let u=a[0],h=u.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:i.reduce((v,{paramName:E,isOptional:S},A)=>{if(E==="*"){let O=m[A]||"";h=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const N=m[A];return S&&!N?v[E]=void 0:v[E]=(N||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:n}}function Z4(n,e=!1,t=!0){gr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(i.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function J4(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ia(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function e3(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?qu(n):n;return{pathname:t?t.startsWith("/")?t:t3(t,e):e,search:r3(i),hash:i3(a)}}function t3(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function PE(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Yw(n){let e=aC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Ww(n,e,t,i=!1){let a;typeof n=="string"?a=qu(n):(a={...n},Bt(!a.pathname||!a.pathname.includes("?"),PE("?","pathname","search",a)),Bt(!a.pathname||!a.pathname.includes("#"),PE("#","pathname","hash",a)),Bt(!a.search||!a.search.includes("#"),PE("#","search","hash",a)));let u=n===""||a.pathname==="",h=u?"/":a.pathname,m;if(h==null)m=t;else{let S=e.length-1;if(!i&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),S-=1;a.pathname=A.join("/")}m=S>=0?e[S]:"/"}let g=e3(a,m),v=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(v||E)&&(g.pathname+="/"),g}var Ro=n=>n.join("/").replace(/\/\/+/g,"/"),n3=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),r3=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,i3=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,__=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Yp(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var oC=["POST","PUT","PATCH","DELETE"],s3=new Set(oC),a3=["GET",...oC],o3=new Set(a3),l3=new Set([301,302,303,307,308]),u3=new Set([307,308]),LE={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},c3={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yp={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Qw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f3=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),lC="remix-router-transitions",uC=Symbol("ResetLoaderData");function h3(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Bt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.hydrationRouteProperties||[],a=n.mapRouteProperties||f3,u={},h=y_(n.routes,a,void 0,u),m,g=n.basename||"/",v=n.dataStrategy||y3,E={unstable_middleware:!1,...n.future},S=null,A=new Set,N=null,O=null,H=null,V=n.hydrationData!=null,j=Su(h,n.history.location,g),ee=!1,Z=null,he;if(j==null&&!n.patchRoutesOnNavigation){let W=ea(404,{pathname:n.history.location.pathname}),{matches:ae,route:ue}=C1(h);he=!0,j=ae,Z={[ue.id]:W}}else if(j&&!n.hydrationData&&Lr(j,h,n.history.location.pathname).active&&(j=null),j)if(j.some(W=>W.route.lazy))he=!1;else if(!j.some(W=>W.route.loader))he=!0;else{let W=n.hydrationData?n.hydrationData.loaderData:null,ae=n.hydrationData?n.hydrationData.errors:null;if(ae){let ue=j.findIndex(Se=>ae[Se.route.id]!==void 0);he=j.slice(0,ue+1).every(Se=>!IT(Se.route,W,ae))}else he=j.every(ue=>!IT(ue.route,W,ae))}else{he=!1,j=[];let W=Lr(null,h,n.history.location.pathname);W.active&&W.matches&&(ee=!0,j=W.matches)}let ne,z={historyAction:n.history.action,location:n.history.location,matches:j,initialized:he,navigation:LE,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||Z,fetchers:new Map,blockers:new Map},D="POP",I=!1,L,q=!1,K=new Map,Q=null,F=!1,Me=!1,ke=new Set,se=new Map,me=0,_e=-1,Pe=new Map,G=new Set,pe=new Map,Ne=new Map,we=new Set,je=new Map,We,qe=null;function mn(){if(S=n.history.listen(({action:W,location:ae,delta:ue})=>{if(We){We(),We=void 0;return}gr(je.size===0||ue!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Se=Fa({currentLocation:z.location,nextLocation:ae,historyAction:W});if(Se&&ue!=null){let Oe=new Promise(Be=>{We=Be});n.history.go(ue*-1),Zr(Se,{state:"blocked",location:ae,proceed(){Zr(Se,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),Oe.then(()=>n.history.go(ue))},reset(){let Be=new Map(z.blockers);Be.set(Se,yp),Zt({blockers:Be})}});return}return Wt(W,ae)}),t){C3(e,K);let W=()=>I3(e,K);e.addEventListener("pagehide",W),Q=()=>e.removeEventListener("pagehide",W)}return z.initialized||Wt("POP",z.location,{initialHydration:!0}),ne}function Nt(){S&&S(),Q&&Q(),A.clear(),L&&L.abort(),z.fetchers.forEach((W,ae)=>Pn(ae)),z.blockers.forEach((W,ae)=>fs(ae))}function Mn(W){return A.add(W),()=>A.delete(W)}function Zt(W,ae={}){z={...z,...W};let ue=[],Se=[];z.fetchers.forEach((Oe,Be)=>{Oe.state==="idle"&&(we.has(Be)?ue.push(Be):Se.push(Be))}),we.forEach(Oe=>{!z.fetchers.has(Oe)&&!se.has(Oe)&&ue.push(Oe)}),[...A].forEach(Oe=>Oe(z,{deletedFetchers:ue,viewTransitionOpts:ae.viewTransitionOpts,flushSync:ae.flushSync===!0})),ue.forEach(Oe=>Pn(Oe)),Se.forEach(Oe=>z.fetchers.delete(Oe))}function Sn(W,ae,{flushSync:ue}={}){var Xe,nt;let Se=z.actionData!=null&&z.navigation.formMethod!=null&&xs(z.navigation.formMethod)&&z.navigation.state==="loading"&&((Xe=W.state)==null?void 0:Xe._isRedirect)!==!0,Oe;ae.actionData?Object.keys(ae.actionData).length>0?Oe=ae.actionData:Oe=null:Se?Oe=z.actionData:Oe=null;let Be=ae.loaderData?R1(z.loaderData,ae.loaderData,ae.matches||[],ae.errors):z.loaderData,et=z.blockers;et.size>0&&(et=new Map(et),et.forEach((Ke,st)=>et.set(st,yp)));let Fe=I===!0||z.navigation.formMethod!=null&&xs(z.navigation.formMethod)&&((nt=W.state)==null?void 0:nt._isRedirect)!==!0;m&&(h=m,m=void 0),F||D==="POP"||(D==="PUSH"?n.history.push(W,W.state):D==="REPLACE"&&n.history.replace(W,W.state));let $e;if(D==="POP"){let Ke=K.get(z.location.pathname);Ke&&Ke.has(W.pathname)?$e={currentLocation:z.location,nextLocation:W}:K.has(W.pathname)&&($e={currentLocation:W,nextLocation:z.location})}else if(q){let Ke=K.get(z.location.pathname);Ke?Ke.add(W.pathname):(Ke=new Set([W.pathname]),K.set(z.location.pathname,Ke)),$e={currentLocation:z.location,nextLocation:W}}Zt({...ae,actionData:Oe,loaderData:Be,historyAction:D,location:W,initialized:!0,navigation:LE,revalidation:"idle",restoreScrollPosition:za(W,ae.matches||z.matches),preventScrollReset:Fe,blockers:et},{viewTransitionOpts:$e,flushSync:ue===!0}),D="POP",I=!1,q=!1,F=!1,Me=!1,qe==null||qe.resolve(),qe=null}async function qn(W,ae){if(typeof W=="number"){n.history.go(W);return}let ue=CT(z.location,z.matches,g,W,ae==null?void 0:ae.fromRouteId,ae==null?void 0:ae.relative),{path:Se,submission:Oe,error:Be}=y1(!1,ue,ae),et=z.location,Fe=Kp(z.location,Se,ae&&ae.state);Fe={...Fe,...n.history.encodeLocation(Fe)};let $e=ae&&ae.replace!=null?ae.replace:void 0,Xe="PUSH";$e===!0?Xe="REPLACE":$e===!1||Oe!=null&&xs(Oe.formMethod)&&Oe.formAction===z.location.pathname+z.location.search&&(Xe="REPLACE");let nt=ae&&"preventScrollReset"in ae?ae.preventScrollReset===!0:void 0,Ke=(ae&&ae.flushSync)===!0,st=Fa({currentLocation:et,nextLocation:Fe,historyAction:Xe});if(st){Zr(st,{state:"blocked",location:Fe,proceed(){Zr(st,{state:"proceeding",proceed:void 0,reset:void 0,location:Fe}),qn(W,ae)},reset(){let Rt=new Map(z.blockers);Rt.set(st,yp),Zt({blockers:Rt})}});return}await Wt(Xe,Fe,{submission:Oe,pendingError:Be,preventScrollReset:nt,replace:ae&&ae.replace,enableViewTransition:ae&&ae.viewTransition,flushSync:Ke})}function Ar(){qe||(qe=N3()),Qr(),Zt({revalidation:"loading"});let W=qe.promise;return z.navigation.state==="submitting"?W:z.navigation.state==="idle"?(Wt(z.historyAction,z.location,{startUninterruptedRevalidation:!0}),W):(Wt(D||z.historyAction,z.navigation.location,{overrideNavigation:z.navigation,enableViewTransition:q===!0}),W)}async function Wt(W,ae,ue){L&&L.abort(),L=null,D=W,F=(ue&&ue.startUninterruptedRevalidation)===!0,Fi(z.location,z.matches),I=(ue&&ue.preventScrollReset)===!0,q=(ue&&ue.enableViewTransition)===!0;let Se=m||h,Oe=ue&&ue.overrideNavigation,Be=ue!=null&&ue.initialHydration&&z.matches&&z.matches.length>0&&!ee?z.matches:Su(Se,ae,g),et=(ue&&ue.flushSync)===!0;if(Be&&z.initialized&&!Me&&b3(z.location,ae)&&!(ue&&ue.submission&&xs(ue.submission.formMethod))){Sn(ae,{matches:Be},{flushSync:et});return}let Fe=Lr(Be,Se,ae.pathname);if(Fe.active&&Fe.matches&&(Be=Fe.matches),!Be){let{error:Qt,notFoundMatches:Lt,route:wt}=aa(ae.pathname);Sn(ae,{matches:Lt,loaderData:{},errors:{[wt.id]:Qt}},{flushSync:et});return}L=new AbortController;let $e=pd(n.history,ae,L.signal,ue&&ue.submission),Xe=new p1(n.unstable_getContext?await n.unstable_getContext():void 0),nt;if(ue&&ue.pendingError)nt=[cf(Be).route.id,{type:"error",error:ue.pendingError}];else if(ue&&ue.submission&&xs(ue.submission.formMethod)){let Qt=await Dt($e,ae,ue.submission,Be,Xe,Fe.active,ue&&ue.initialHydration===!0,{replace:ue.replace,flushSync:et});if(Qt.shortCircuited)return;if(Qt.pendingActionResult){let[Lt,wt]=Qt.pendingActionResult;if(Rs(wt)&&Yp(wt.error)&&wt.error.status===404){L=null,Sn(ae,{matches:Qt.matches,loaderData:{},errors:{[Lt]:wt.error}});return}}Be=Qt.matches||Be,nt=Qt.pendingActionResult,Oe=kE(ae,ue.submission),et=!1,Fe.active=!1,$e=pd(n.history,$e.url,$e.signal)}let{shortCircuited:Ke,matches:st,loaderData:Rt,errors:Jt}=await us($e,ae,Be,Xe,Fe.active,Oe,ue&&ue.submission,ue&&ue.fetcherSubmission,ue&&ue.replace,ue&&ue.initialHydration===!0,et,nt);Ke||(L=null,Sn(ae,{matches:st||Be,...x1(nt),loaderData:Rt,errors:Jt}))}async function Dt(W,ae,ue,Se,Oe,Be,et,Fe={}){Qr();let $e=R3(ae,ue);if(Zt({navigation:$e},{flushSync:Fe.flushSync===!0}),Be){let Ke=await Os(Se,ae.pathname,W.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){let st=cf(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,pendingActionResult:[st,{type:"error",error:Ke.error}]}}else if(Ke.matches)Se=Ke.matches;else{let{notFoundMatches:st,error:Rt,route:Jt}=aa(ae.pathname);return{matches:st,pendingActionResult:[Jt.id,{type:"error",error:Rt}]}}}let Xe,nt=Rp(Se,ae);if(!nt.route.action&&!nt.route.lazy)Xe={type:"error",error:ea(405,{method:W.method,pathname:ae.pathname,routeId:nt.route.id})};else{let Ke=wd(a,u,W,Se,nt,et?[]:i,Oe),st=await vr(W,Ke,Oe,null);if(Xe=st[nt.route.id],!Xe){for(let Rt of Se)if(st[Rt.route.id]){Xe=st[Rt.route.id];break}}if(W.signal.aborted)return{shortCircuited:!0}}if(_f(Xe)){let Ke;return Fe&&Fe.replace!=null?Ke=Fe.replace:Ke=b1(Xe.response.headers.get("Location"),new URL(W.url),g)===z.location.pathname+z.location.search,await yr(W,Xe,!0,{submission:ue,replace:Ke}),{shortCircuited:!0}}if(Rs(Xe)){let Ke=cf(Se,nt.route.id);return(Fe&&Fe.replace)!==!0&&(D="PUSH"),{matches:Se,pendingActionResult:[Ke.route.id,Xe,nt.route.id]}}return{matches:Se,pendingActionResult:[nt.route.id,Xe]}}async function us(W,ae,ue,Se,Oe,Be,et,Fe,$e,Xe,nt,Ke){let st=Be||kE(ae,et),Rt=et||Fe||N1(st),Jt=!F&&!Xe;if(Oe){if(Jt){let Fn=an(Ke);Zt({navigation:st,...Fn!==void 0?{actionData:Fn}:{}},{flushSync:nt})}let ft=await Os(ue,ae.pathname,W.signal);if(ft.type==="aborted")return{shortCircuited:!0};if(ft.type==="error"){let Fn=cf(ft.partialMatches).route.id;return{matches:ft.partialMatches,loaderData:{},errors:{[Fn]:ft.error}}}else if(ft.matches)ue=ft.matches;else{let{error:Fn,notFoundMatches:Jr,route:ei}=aa(ae.pathname);return{matches:Jr,loaderData:{},errors:{[ei.id]:Fn}}}}let Qt=m||h,{dsMatches:Lt,revalidatingFetchers:wt}=v1(W,Se,a,u,n.history,z,ue,Rt,ae,Xe?[]:i,Xe===!0,Me,ke,we,pe,G,Qt,g,n.patchRoutesOnNavigation!=null,Ke);if(_e=++me,!n.dataStrategy&&!Lt.some(ft=>ft.shouldLoad)&&wt.length===0){let ft=ji();return Sn(ae,{matches:ue,loaderData:{},errors:Ke&&Rs(Ke[1])?{[Ke[0]]:Ke[1].error}:null,...x1(Ke),...ft?{fetchers:new Map(z.fetchers)}:{}},{flushSync:nt}),{shortCircuited:!0}}if(Jt){let ft={};if(!Oe){ft.navigation=st;let Fn=an(Ke);Fn!==void 0&&(ft.actionData=Fn)}wt.length>0&&(ft.fetchers=ja(wt)),Zt(ft,{flushSync:nt})}wt.forEach(ft=>{Xr(ft.key),ft.controller&&se.set(ft.key,ft.controller)});let zi=()=>wt.forEach(ft=>Xr(ft.key));L&&L.signal.addEventListener("abort",zi);let{loaderResults:Wn,fetcherResults:kr}=await cs(Lt,wt,W,Se);if(W.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",zi),wt.forEach(ft=>se.delete(ft.key));let Gn=Av(Wn);if(Gn)return await yr(W,Gn.result,!0,{replace:$e}),{shortCircuited:!0};if(Gn=Av(kr),Gn)return G.add(Gn.key),await yr(W,Gn.result,!0,{replace:$e}),{shortCircuited:!0};let{loaderData:Ps,errors:Rr}=A1(z,ue,Wn,Ke,wt,kr);Xe&&z.errors&&(Rr={...z.errors,...Rr});let Ha=ji(),xr=Bi(_e),Ur=Ha||xr||wt.length>0;return{matches:ue,loaderData:Ps,errors:Rr,...Ur?{fetchers:new Map(z.fetchers)}:{}}}function an(W){if(W&&!Rs(W[1]))return{[W[0]]:W[1].data};if(z.actionData)return Object.keys(z.actionData).length===0?null:z.actionData}function ja(W){return W.forEach(ae=>{let ue=z.fetchers.get(ae.key),Se=vp(void 0,ue?ue.data:void 0);z.fetchers.set(ae.key,Se)}),new Map(z.fetchers)}async function sa(W,ae,ue,Se){Xr(W);let Oe=(Se&&Se.flushSync)===!0,Be=m||h,et=CT(z.location,z.matches,g,ue,ae,Se==null?void 0:Se.relative),Fe=Su(Be,et,g),$e=Lr(Fe,Be,et);if($e.active&&$e.matches&&(Fe=$e.matches),!Fe){it(W,ae,ea(404,{pathname:et}),{flushSync:Oe});return}let{path:Xe,submission:nt,error:Ke}=y1(!0,et,Se);if(Ke){it(W,ae,Ke,{flushSync:Oe});return}let st=Rp(Fe,Xe),Rt=new p1(n.unstable_getContext?await n.unstable_getContext():void 0),Jt=(Se&&Se.preventScrollReset)===!0;if(nt&&xs(nt.formMethod)){await Wr(W,ae,Xe,st,Fe,Rt,$e.active,Oe,Jt,nt);return}pe.set(W,{routeId:ae,path:Xe}),await Bn(W,ae,Xe,st,Fe,Rt,$e.active,Oe,Jt,nt)}async function Wr(W,ae,ue,Se,Oe,Be,et,Fe,$e,Xe){Qr(),pe.delete(W);function nt(pn){if(!pn.route.action&&!pn.route.lazy){let Hi=ea(405,{method:Xe.formMethod,pathname:ue,routeId:ae});return it(W,ae,Hi,{flushSync:Fe}),!0}return!1}if(!et&&nt(Se))return;let Ke=z.fetchers.get(W);Ge(W,x3(Xe,Ke),{flushSync:Fe});let st=new AbortController,Rt=pd(n.history,ue,st.signal,Xe);if(et){let pn=await Os(Oe,ue,Rt.signal,W);if(pn.type==="aborted")return;if(pn.type==="error"){it(W,ae,pn.error,{flushSync:Fe});return}else if(pn.matches){if(Oe=pn.matches,Se=Rp(Oe,ue),nt(Se))return}else{it(W,ae,ea(404,{pathname:ue}),{flushSync:Fe});return}}se.set(W,st);let Jt=me,Qt=wd(a,u,Rt,Oe,Se,i,Be),wt=(await vr(Rt,Qt,Be,W))[Se.route.id];if(Rt.signal.aborted){se.get(W)===st&&se.delete(W);return}if(we.has(W)){if(_f(wt)||Rs(wt)){Ge(W,_u(void 0));return}}else{if(_f(wt))if(se.delete(W),_e>Jt){Ge(W,_u(void 0));return}else return G.add(W),Ge(W,vp(Xe)),yr(Rt,wt,!1,{fetcherSubmission:Xe,preventScrollReset:$e});if(Rs(wt)){it(W,ae,wt.error);return}}let zi=z.navigation.location||z.location,Wn=pd(n.history,zi,st.signal),kr=m||h,Gn=z.navigation.state!=="idle"?Su(kr,z.navigation.location,g):z.matches;Bt(Gn,"Didn't find any matches after fetcher action");let Ps=++me;Pe.set(W,Ps);let Rr=vp(Xe,wt.data);z.fetchers.set(W,Rr);let{dsMatches:Ha,revalidatingFetchers:xr}=v1(Wn,Be,a,u,n.history,z,Gn,Xe,zi,i,!1,Me,ke,we,pe,G,kr,g,n.patchRoutesOnNavigation!=null,[Se.route.id,wt]);xr.filter(pn=>pn.key!==W).forEach(pn=>{let Hi=pn.key,ks=z.fetchers.get(Hi),sr=vp(void 0,ks?ks.data:void 0);z.fetchers.set(Hi,sr),Xr(Hi),pn.controller&&se.set(Hi,pn.controller)}),Zt({fetchers:new Map(z.fetchers)});let Ur=()=>xr.forEach(pn=>Xr(pn.key));st.signal.addEventListener("abort",Ur);let{loaderResults:ft,fetcherResults:Fn}=await cs(Ha,xr,Wn,Be);if(st.signal.aborted)return;if(st.signal.removeEventListener("abort",Ur),Pe.delete(W),se.delete(W),xr.forEach(pn=>se.delete(pn.key)),z.fetchers.has(W)){let pn=_u(wt.data);z.fetchers.set(W,pn)}let Jr=Av(ft);if(Jr)return yr(Wn,Jr.result,!1,{preventScrollReset:$e});if(Jr=Av(Fn),Jr)return G.add(Jr.key),yr(Wn,Jr.result,!1,{preventScrollReset:$e});let{loaderData:ei,errors:Ls}=A1(z,Gn,ft,void 0,xr,Fn);Bi(Ps),z.navigation.state==="loading"&&Ps>_e?(Bt(D,"Expected pending action"),L&&L.abort(),Sn(z.navigation.location,{matches:Gn,loaderData:ei,errors:Ls,fetchers:new Map(z.fetchers)})):(Zt({errors:Ls,loaderData:R1(z.loaderData,ei,Gn,Ls),fetchers:new Map(z.fetchers)}),Me=!1)}async function Bn(W,ae,ue,Se,Oe,Be,et,Fe,$e,Xe){let nt=z.fetchers.get(W);Ge(W,vp(Xe,nt?nt.data:void 0),{flushSync:Fe});let Ke=new AbortController,st=pd(n.history,ue,Ke.signal);if(et){let wt=await Os(Oe,ue,st.signal,W);if(wt.type==="aborted")return;if(wt.type==="error"){it(W,ae,wt.error,{flushSync:Fe});return}else if(wt.matches)Oe=wt.matches,Se=Rp(Oe,ue);else{it(W,ae,ea(404,{pathname:ue}),{flushSync:Fe});return}}se.set(W,Ke);let Rt=me,Jt=wd(a,u,st,Oe,Se,i,Be),Lt=(await vr(st,Jt,Be,W))[Se.route.id];if(se.get(W)===Ke&&se.delete(W),!st.signal.aborted){if(we.has(W)){Ge(W,_u(void 0));return}if(_f(Lt))if(_e>Rt){Ge(W,_u(void 0));return}else{G.add(W),await yr(st,Lt,!1,{preventScrollReset:$e});return}if(Rs(Lt)){it(W,ae,Lt.error);return}Ge(W,_u(Lt.data))}}async function yr(W,ae,ue,{submission:Se,fetcherSubmission:Oe,preventScrollReset:Be,replace:et}={}){ae.response.headers.has("X-Remix-Revalidate")&&(Me=!0);let Fe=ae.response.headers.get("Location");Bt(Fe,"Expected a Location header on the redirect Response"),Fe=b1(Fe,new URL(W.url),g);let $e=Kp(z.location,Fe,{_isRedirect:!0});if(t){let Jt=!1;if(ae.response.headers.has("X-Remix-Reload-Document"))Jt=!0;else if(Qw.test(Fe)){const Qt=rC(Fe,!0);Jt=Qt.origin!==e.location.origin||ia(Qt.pathname,g)==null}if(Jt){et?e.location.replace(Fe):e.location.assign(Fe);return}}L=null;let Xe=et===!0||ae.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:nt,formAction:Ke,formEncType:st}=z.navigation;!Se&&!Oe&&nt&&Ke&&st&&(Se=N1(z.navigation));let Rt=Se||Oe;if(u3.has(ae.response.status)&&Rt&&xs(Rt.formMethod))await Wt(Xe,$e,{submission:{...Rt,formAction:Fe},preventScrollReset:Be||I,enableViewTransition:ue?q:void 0});else{let Jt=kE($e,Se);await Wt(Xe,$e,{overrideNavigation:Jt,fetcherSubmission:Oe,preventScrollReset:Be||I,enableViewTransition:ue?q:void 0})}}async function vr(W,ae,ue,Se){let Oe,Be={};try{Oe=await v3(v,W,ae,Se,ue,!1)}catch(et){return ae.filter(Fe=>Fe.shouldLoad).forEach(Fe=>{Be[Fe.route.id]={type:"error",error:et}}),Be}if(W.signal.aborted)return Be;for(let[et,Fe]of Object.entries(Oe))if(S3(Fe)){let $e=Fe.result;Be[et]={type:"redirect",response:T3($e,W,et,ae,g)}}else Be[et]=await E3(Fe);return Be}async function cs(W,ae,ue,Se){let Oe=vr(ue,W,Se,null),Be=Promise.all(ae.map(async $e=>{if($e.matches&&$e.match&&$e.request&&$e.controller){let nt=(await vr($e.request,$e.matches,Se,$e.key))[$e.match.route.id];return{[$e.key]:nt}}else return Promise.resolve({[$e.key]:{type:"error",error:ea(404,{pathname:$e.path})}})})),et=await Oe,Fe=(await Be).reduce(($e,Xe)=>Object.assign($e,Xe),{});return{loaderResults:et,fetcherResults:Fe}}function Qr(){Me=!0,pe.forEach((W,ae)=>{se.has(ae)&&ke.add(ae),Xr(ae)})}function Ge(W,ae,ue={}){z.fetchers.set(W,ae),Zt({fetchers:new Map(z.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function it(W,ae,ue,Se={}){let Oe=cf(z.matches,ae);Pn(W),Zt({errors:{[Oe.route.id]:ue},fetchers:new Map(z.fetchers)},{flushSync:(Se&&Se.flushSync)===!0})}function An(W){return Ne.set(W,(Ne.get(W)||0)+1),we.has(W)&&we.delete(W),z.fetchers.get(W)||c3}function Pn(W){let ae=z.fetchers.get(W);se.has(W)&&!(ae&&ae.state==="loading"&&Pe.has(W))&&Xr(W),pe.delete(W),Pe.delete(W),G.delete(W),we.delete(W),ke.delete(W),z.fetchers.delete(W)}function Ba(W){let ae=(Ne.get(W)||0)-1;ae<=0?(Ne.delete(W),we.add(W)):Ne.set(W,ae),Zt({fetchers:new Map(z.fetchers)})}function Xr(W){let ae=se.get(W);ae&&(ae.abort(),se.delete(W))}function Vi(W){for(let ae of W){let ue=An(ae),Se=_u(ue.data);z.fetchers.set(ae,Se)}}function ji(){let W=[],ae=!1;for(let ue of G){let Se=z.fetchers.get(ue);Bt(Se,`Expected fetcher: ${ue}`),Se.state==="loading"&&(G.delete(ue),W.push(ue),ae=!0)}return Vi(W),ae}function Bi(W){let ae=[];for(let[ue,Se]of Pe)if(Se<W){let Oe=z.fetchers.get(ue);Bt(Oe,`Expected fetcher: ${ue}`),Oe.state==="loading"&&(Xr(ue),Pe.delete(ue),ae.push(ue))}return Vi(ae),ae.length>0}function Pr(W,ae){let ue=z.blockers.get(W)||yp;return je.get(W)!==ae&&je.set(W,ae),ue}function fs(W){z.blockers.delete(W),je.delete(W)}function Zr(W,ae){let ue=z.blockers.get(W)||yp;Bt(ue.state==="unblocked"&&ae.state==="blocked"||ue.state==="blocked"&&ae.state==="blocked"||ue.state==="blocked"&&ae.state==="proceeding"||ue.state==="blocked"&&ae.state==="unblocked"||ue.state==="proceeding"&&ae.state==="unblocked",`Invalid blocker state transition: ${ue.state} -> ${ae.state}`);let Se=new Map(z.blockers);Se.set(W,ae),Zt({blockers:Se})}function Fa({currentLocation:W,nextLocation:ae,historyAction:ue}){if(je.size===0)return;je.size>1&&gr(!1,"A router only supports one blocker at a time");let Se=Array.from(je.entries()),[Oe,Be]=Se[Se.length-1],et=z.blockers.get(Oe);if(!(et&&et.state==="proceeding")&&Be({currentLocation:W,nextLocation:ae,historyAction:ue}))return Oe}function aa(W){let ae=ea(404,{pathname:W}),ue=m||h,{matches:Se,route:Oe}=C1(ue);return{notFoundMatches:Se,route:Oe,error:ae}}function Do(W,ae,ue){if(N=W,H=ae,O=ue||null,!V&&z.navigation===LE){V=!0;let Se=za(z.location,z.matches);Se!=null&&Zt({restoreScrollPosition:Se})}return()=>{N=null,H=null,O=null}}function bi(W,ae){return O&&O(W,ae.map(Se=>F4(Se,z.loaderData)))||W.key}function Fi(W,ae){if(N&&H){let ue=bi(W,ae);N[ue]=H()}}function za(W,ae){if(N){let ue=bi(W,ae),Se=N[ue];if(typeof Se=="number")return Se}return null}function Lr(W,ae,ue){if(n.patchRoutesOnNavigation)if(W){if(Object.keys(W[0].params).length>0)return{active:!0,matches:Hv(ae,ue,g,!0)}}else return{active:!0,matches:Hv(ae,ue,g,!0)||[]};return{active:!1,matches:null}}async function Os(W,ae,ue,Se){if(!n.patchRoutesOnNavigation)return{type:"success",matches:W};let Oe=W;for(;;){let Be=m==null,et=m||h,Fe=u;try{await n.patchRoutesOnNavigation({signal:ue,path:ae,matches:Oe,fetcherKey:Se,patch:(nt,Ke)=>{ue.aborted||_1(nt,Ke,et,Fe,a)}})}catch(nt){return{type:"error",error:nt,partialMatches:Oe}}finally{Be&&!ue.aborted&&(h=[...h])}if(ue.aborted)return{type:"aborted"};let $e=Su(et,ae,g);if($e)return{type:"success",matches:$e};let Xe=Hv(et,ae,g,!0);if(!Xe||Oe.length===Xe.length&&Oe.every((nt,Ke)=>nt.route.id===Xe[Ke].route.id))return{type:"success",matches:null};Oe=Xe}}function Ms(W){u={},m=y_(W,a,void 0,u)}function oa(W,ae){let ue=m==null;_1(W,ae,m||h,u,a),ue&&(h=[...h],Zt({}))}return ne={get basename(){return g},get future(){return E},get state(){return z},get routes(){return h},get window(){return e},initialize:mn,subscribe:Mn,enableScrollRestoration:Do,navigate:qn,fetch:sa,revalidate:Ar,createHref:W=>n.history.createHref(W),encodeLocation:W=>n.history.encodeLocation(W),getFetcher:An,deleteFetcher:Ba,dispose:Nt,getBlocker:Pr,deleteBlocker:fs,patchRoutes:oa,_internalFetchControllers:se,_internalSetRoutes:Ms},ne}function d3(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function CT(n,e,t,i,a,u){let h,m;if(a){h=[];for(let v of e)if(h.push(v),v.route.id===a){m=v;break}}else h=e,m=e[e.length-1];let g=Ww(i||".",Yw(h),ia(n.pathname,t)||n.pathname,u==="path");if(i==null&&(g.search=n.search,g.hash=n.hash),(i==null||i===""||i===".")&&m){let v=Xw(g.search);if(m.route.index&&!v)g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&v){let E=new URLSearchParams(g.search),S=E.getAll("index");E.delete("index"),S.filter(N=>N).forEach(N=>E.append("index",N));let A=E.toString();g.search=A?`?${A}`:""}}return t!=="/"&&(g.pathname=g.pathname==="/"?t:Ro([t,g.pathname])),Fu(g)}function y1(n,e,t){if(!t||!d3(t))return{path:e};if(t.formMethod&&!A3(t.formMethod))return{path:e,error:ea(405,{method:t.formMethod})};let i=()=>({path:e,error:ea(400,{type:"invalid-body"})}),u=(t.formMethod||"get").toUpperCase(),h=pC(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!xs(u))return i();let S=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((A,[N,O])=>`${A}${N}=${O}
`,""):String(t.body);return{path:e,submission:{formMethod:u,formAction:h,formEncType:t.formEncType,formData:void 0,json:void 0,text:S}}}else if(t.formEncType==="application/json"){if(!xs(u))return i();try{let S=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:u,formAction:h,formEncType:t.formEncType,formData:void 0,json:S,text:void 0}}}catch{return i()}}}Bt(typeof FormData=="function","FormData is not available in this environment");let m,g;if(t.formData)m=DT(t.formData),g=t.formData;else if(t.body instanceof FormData)m=DT(t.body),g=t.body;else if(t.body instanceof URLSearchParams)m=t.body,g=S1(m);else if(t.body==null)m=new URLSearchParams,g=new FormData;else try{m=new URLSearchParams(t.body),g=S1(m)}catch{return i()}let v={formMethod:u,formAction:h,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(xs(v.formMethod))return{path:e,submission:v};let E=qu(e);return n&&E.search&&Xw(E.search)&&m.append("index",""),E.search=`?${m}`,{path:Fu(E),submission:v}}function v1(n,e,t,i,a,u,h,m,g,v,E,S,A,N,O,H,V,j,ee,Z){var F;let he=Z?Rs(Z[1])?Z[1].error:Z[1].data:void 0,ne=a.createURL(u.location),z=a.createURL(g),D;if(E&&u.errors){let Me=Object.keys(u.errors)[0];D=h.findIndex(ke=>ke.route.id===Me)}else if(Z&&Rs(Z[1])){let Me=Z[0];D=h.findIndex(ke=>ke.route.id===Me)-1}let I=Z?Z[1].statusCode:void 0,L=I&&I>=400,q={currentUrl:ne,currentParams:((F=u.matches[0])==null?void 0:F.params)||{},nextUrl:z,nextParams:h[0].params,...m,actionResult:he,actionStatus:I},K=h.map((Me,ke)=>{let{route:se}=Me,me=null;if(D!=null&&ke>D?me=!1:se.lazy?me=!0:se.loader==null?me=!1:E?me=IT(se,u.loaderData,u.errors):m3(u.loaderData,u.matches[ke],Me)&&(me=!0),me!==null)return NT(t,i,n,Me,v,e,me);let _e=L?!1:S||ne.pathname+ne.search===z.pathname+z.search||ne.search!==z.search||p3(u.matches[ke],Me),Pe={...q,defaultShouldRevalidate:_e},G=E_(Me,Pe);return NT(t,i,n,Me,v,e,G,Pe)}),Q=[];return O.forEach((Me,ke)=>{if(E||!h.some(we=>we.route.id===Me.routeId)||N.has(ke))return;let se=u.fetchers.get(ke),me=se&&se.state!=="idle"&&se.data===void 0,_e=Su(V,Me.path,j);if(!_e){if(ee&&me)return;Q.push({key:ke,routeId:Me.routeId,path:Me.path,matches:null,match:null,request:null,controller:null});return}if(H.has(ke))return;let Pe=Rp(_e,Me.path),G=new AbortController,pe=pd(a,Me.path,G.signal),Ne=null;if(A.has(ke))A.delete(ke),Ne=wd(t,i,pe,_e,Pe,v,e);else if(me)S&&(Ne=wd(t,i,pe,_e,Pe,v,e));else{let we={...q,defaultShouldRevalidate:L?!1:S};E_(Pe,we)&&(Ne=wd(t,i,pe,_e,Pe,v,e,we))}Ne&&Q.push({key:ke,routeId:Me.routeId,path:Me.path,matches:Ne,match:Pe,request:pe,controller:G})}),{dsMatches:K,revalidatingFetchers:Q}}function IT(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&n.id in e,a=t!=null&&t[n.id]!==void 0;return!i&&a?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!a}function m3(n,e,t){let i=!e||t.route.id!==e.route.id,a=!n.hasOwnProperty(t.route.id);return i||a}function p3(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function E_(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function _1(n,e,t,i,a){let u;if(n){let g=i[n];Bt(g,`No route found to patch children into: routeId = ${n}`),g.children||(g.children=[]),u=g.children}else u=t;let h=e.filter(g=>!u.some(v=>cC(g,v))),m=y_(h,a,[n||"_","patch",String((u==null?void 0:u.length)||"0")],i);u.push(...m)}function cC(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var a;return(a=e.children)==null?void 0:a.some(u=>cC(t,u))}):!1}var E1=new WeakMap,fC=({key:n,route:e,manifest:t,mapRouteProperties:i})=>{let a=t[e.id];if(Bt(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let u=a.lazy[n];if(!u)return;let h=E1.get(a);h||(h={},E1.set(a,h));let m=h[n];if(m)return m;let g=(async()=>{let v=U4(n),S=a[n]!==void 0&&n!=="hasErrorBoundary";if(v)gr(!v,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),h[n]=Promise.resolve();else if(S)gr(!1,`Route "${a.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let A=await u();A!=null&&(Object.assign(a,{[n]:A}),Object.assign(a,i(a)))}typeof a.lazy=="object"&&(a.lazy[n]=void 0,Object.values(a.lazy).every(A=>A===void 0)&&(a.lazy=void 0))})();return h[n]=g,g},T1=new WeakMap;function g3(n,e,t,i,a){let u=t[n.id];if(Bt(u,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let E=T1.get(u);if(E)return{lazyRoutePromise:E,lazyHandlerPromise:E};let S=(async()=>{Bt(typeof n.lazy=="function","No lazy route function found");let A=await n.lazy(),N={};for(let O in A){let H=A[O];if(H===void 0)continue;let V=j4(O),ee=u[O]!==void 0&&O!=="hasErrorBoundary";V?gr(!V,"Route property "+O+" is not a supported property to be returned from a lazy route function. This property will be ignored."):ee?gr(!ee,`Route "${u.id}" has a static property "${O}" defined but its lazy function is also returning a value for this property. The lazy route property "${O}" will be ignored.`):N[O]=H}Object.assign(u,N),Object.assign(u,{...i(u),lazy:void 0})})();return T1.set(u,S),S.catch(()=>{}),{lazyRoutePromise:S,lazyHandlerPromise:S}}let h=Object.keys(n.lazy),m=[],g;for(let E of h){if(a&&a.includes(E))continue;let S=fC({key:E,route:n,manifest:t,mapRouteProperties:i});S&&(m.push(S),E===e&&(g=S))}let v=m.length>0?Promise.all(m).then(()=>{}):void 0;return v==null||v.catch(()=>{}),g==null||g.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:g}}async function w1(n){let e=n.matches.filter(a=>a.shouldLoad),t={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,u)=>{t[e[u].route.id]=a}),t}async function y3(n){return n.matches.some(e=>e.route.unstable_middleware)?hC(n,!1,()=>w1(n),(e,t)=>({[t]:{type:"error",result:e}})):w1(n)}async function hC(n,e,t,i){let{matches:a,request:u,params:h,context:m}=n,g={handlerResult:void 0};try{let v=a.flatMap(S=>S.route.unstable_middleware?S.route.unstable_middleware.map(A=>[S.route.id,A]):[]),E=await dC({request:u,params:h,context:m},v,e,g,t);return e?E:g.handlerResult}catch(v){if(!g.middlewareError)throw v;let E=await i(g.middlewareError.error,g.middlewareError.routeId);return g.handlerResult?Object.assign(g.handlerResult,E):E}}async function dC(n,e,t,i,a,u=0){let{request:h}=n;if(h.signal.aborted)throw h.signal.reason?h.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${h.method} ${h.url}`);let m=e[u];if(!m)return i.handlerResult=await a(),i.handlerResult;let[g,v]=m,E=!1,S,A=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");E=!0,await dC(n,e,t,i,a,u+1)};try{let N=await v({request:n.request,params:n.params,context:n.context},A);return E?N===void 0?S:N:A()}catch(N){throw i.middlewareError?i.middlewareError.error!==N&&(i.middlewareError={routeId:g,error:N}):i.middlewareError={routeId:g,error:N},N}}function mC(n,e,t,i,a){let u=fC({key:"unstable_middleware",route:i.route,manifest:e,mapRouteProperties:n}),h=g3(i.route,xs(t.method)?"action":"loader",e,n,a);return{middleware:u,route:h.lazyRoutePromise,handler:h.lazyHandlerPromise}}function NT(n,e,t,i,a,u,h,m=null){let g=!1,v=mC(n,e,t,i,a);return{...i,_lazyPromises:v,shouldLoad:h,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler(E){return g=!0,m?typeof E=="boolean"?E_(i,{...m,defaultShouldRevalidate:E}):E_(i,m):h},resolve(E){return g||h||E&&t.method==="GET"&&(i.route.lazy||i.route.loader)?_3({request:t,match:i,lazyHandlerPromise:v==null?void 0:v.handler,lazyRoutePromise:v==null?void 0:v.route,handlerOverride:E,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function wd(n,e,t,i,a,u,h,m=null){return i.map(g=>g.route.id!==a.route.id?{...g,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:mC(n,e,t,g,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:NT(n,e,t,g,u,h,!0,m))}async function v3(n,e,t,i,a,u){t.some(v=>{var E;return(E=v._lazyPromises)==null?void 0:E.middleware})&&await Promise.all(t.map(v=>{var E;return(E=v._lazyPromises)==null?void 0:E.middleware}));let h={request:e,params:t[0].params,context:a,matches:t},g=await n({...h,fetcherKey:i,unstable_runClientMiddleware:v=>{let E=h;return hC(E,!1,()=>v({...E,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(S,A)=>({[A]:{type:"error",result:S}}))}});try{await Promise.all(t.flatMap(v=>{var E,S;return[(E=v._lazyPromises)==null?void 0:E.handler,(S=v._lazyPromises)==null?void 0:S.route]}))}catch{}return g}async function _3({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:i,handlerOverride:a,scopedContext:u}){let h,m,g=xs(n.method),v=g?"action":"loader",E=S=>{let A,N=new Promise((V,j)=>A=j);m=()=>A(),n.signal.addEventListener("abort",m);let O=V=>typeof S!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${v}" [routeId: ${e.route.id}]`)):S({request:n,params:e.params,context:u},...V!==void 0?[V]:[]),H=(async()=>{try{return{type:"data",result:await(a?a(j=>O(j)):O())}}catch(V){return{type:"error",result:V}}})();return Promise.race([H,N])};try{let S=g?e.route.action:e.route.loader;if(t||i)if(S){let A,[N]=await Promise.all([E(S).catch(O=>{A=O}),t,i]);if(A!==void 0)throw A;h=N}else{await t;let A=g?e.route.action:e.route.loader;if(A)[h]=await Promise.all([E(A),i]);else if(v==="action"){let N=new URL(n.url),O=N.pathname+N.search;throw ea(405,{method:n.method,pathname:O,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(S)h=await E(S);else{let A=new URL(n.url),N=A.pathname+A.search;throw ea(404,{pathname:N})}}catch(S){return{type:"error",result:S}}finally{m&&n.signal.removeEventListener("abort",m)}return h}async function E3(n){var i,a,u,h,m,g;let{result:e,type:t}=n;if(gC(e)){let v;try{let E=e.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?e.body==null?v=null:v=await e.json():v=await e.text()}catch(E){return{type:"error",error:E}}return t==="error"?{type:"error",error:new __(e.status,e.statusText,v),statusCode:e.status,headers:e.headers}:{type:"data",data:v,statusCode:e.status,headers:e.headers}}return t==="error"?I1(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new __(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:Yp(e)?e.status:void 0,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Yp(e)?e.status:void 0}:I1(e)?{type:"data",data:e.data,statusCode:(m=e.init)==null?void 0:m.status,headers:(g=e.init)!=null&&g.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function T3(n,e,t,i,a){let u=n.headers.get("Location");if(Bt(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Qw.test(u)){let h=i.slice(0,i.findIndex(m=>m.route.id===t)+1);u=CT(new URL(e.url),h,a,u),n.headers.set("Location",u)}return n}function b1(n,e,t){if(Qw.test(n)){let i=n,a=i.startsWith("//")?new URL(e.protocol+i):new URL(i),u=ia(a.pathname,t)!=null;if(a.origin===e.origin&&u)return a.pathname+a.search+a.hash}return n}function pd(n,e,t,i){let a=n.createURL(pC(e)).toString(),u={signal:t};if(i&&xs(i.formMethod)){let{formMethod:h,formEncType:m}=i;u.method=h.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(i.json)):m==="text/plain"?u.body=i.text:m==="application/x-www-form-urlencoded"&&i.formData?u.body=DT(i.formData):u.body=i.formData}return new Request(a,u)}function DT(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function S1(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function w3(n,e,t,i=!1,a=!1){let u={},h=null,m,g=!1,v={},E=t&&Rs(t[1])?t[1].error:void 0;return n.forEach(S=>{if(!(S.route.id in e))return;let A=S.route.id,N=e[A];if(Bt(!_f(N),"Cannot handle redirect results in processLoaderData"),Rs(N)){let O=N.error;if(E!==void 0&&(O=E,E=void 0),h=h||{},a)h[A]=O;else{let H=cf(n,A);h[H.route.id]==null&&(h[H.route.id]=O)}i||(u[A]=uC),g||(g=!0,m=Yp(N.error)?N.error.status:500),N.headers&&(v[A]=N.headers)}else u[A]=N.data,N.statusCode&&N.statusCode!==200&&!g&&(m=N.statusCode),N.headers&&(v[A]=N.headers)}),E!==void 0&&t&&(h={[t[0]]:E},t[2]&&(u[t[2]]=void 0)),{loaderData:u,errors:h,statusCode:m||200,loaderHeaders:v}}function A1(n,e,t,i,a,u){let{loaderData:h,errors:m}=w3(e,t,i);return a.filter(g=>!g.matches||g.matches.some(v=>v.shouldLoad)).forEach(g=>{let{key:v,match:E,controller:S}=g,A=u[v];if(Bt(A,"Did not find corresponding fetcher result"),!(S&&S.signal.aborted))if(Rs(A)){let N=cf(n.matches,E==null?void 0:E.route.id);m&&m[N.route.id]||(m={...m,[N.route.id]:A.error}),n.fetchers.delete(v)}else if(_f(A))Bt(!1,"Unhandled fetcher revalidation redirect");else{let N=_u(A.data);n.fetchers.set(v,N)}}),{loaderData:h,errors:m}}function R1(n,e,t,i){let a=Object.entries(e).filter(([,u])=>u!==uC).reduce((u,[h,m])=>(u[h]=m,u),{});for(let u of t){let h=u.route.id;if(!e.hasOwnProperty(h)&&n.hasOwnProperty(h)&&u.route.loader&&(a[h]=n[h]),i&&i.hasOwnProperty(h))break}return a}function x1(n){return n?Rs(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function cf(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function C1(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ea(n,{pathname:e,routeId:t,method:i,type:a,message:u}={}){let h="Unknown Server Error",m="Unknown @remix-run/router error";return n===400?(h="Bad Request",i&&e&&t?m=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:a==="invalid-body"&&(m="Unable to encode submission body")):n===403?(h="Forbidden",m=`Route "${t}" does not match URL "${e}"`):n===404?(h="Not Found",m=`No route matches URL "${e}"`):n===405&&(h="Method Not Allowed",i&&e&&t?m=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(m=`Invalid request method "${i.toUpperCase()}"`)),new __(n||500,h,new Error(m),!0)}function Av(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,a]=e[t];if(_f(a))return{key:i,result:a}}}function pC(n){let e=typeof n=="string"?qu(n):n;return Fu({...e,hash:""})}function b3(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function S3(n){return gC(n.result)&&l3.has(n.result.status)}function Rs(n){return n.type==="error"}function _f(n){return(n&&n.type)==="redirect"}function I1(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function gC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function A3(n){return o3.has(n.toUpperCase())}function xs(n){return s3.has(n.toUpperCase())}function Xw(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Rp(n,e){let t=typeof e=="string"?qu(e).search:e.search;if(n[n.length-1].route.index&&Xw(t||""))return n[n.length-1];let i=aC(n);return i[i.length-1]}function N1(n){let{formMethod:e,formAction:t,formEncType:i,text:a,formData:u,json:h}=n;if(!(!e||!t||!i)){if(a!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:a};if(u!=null)return{formMethod:e,formAction:t,formEncType:i,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:h,text:void 0}}}function kE(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function R3(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function vp(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function x3(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function _u(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function C3(n,e){try{let t=n.sessionStorage.getItem(lC);if(t){let i=JSON.parse(t);for(let[a,u]of Object.entries(i||{}))u&&Array.isArray(u)&&e.set(a,new Set(u||[]))}}catch{}}function I3(n,e){if(e.size>0){let t={};for(let[i,a]of e)t[i]=[...a];try{n.sessionStorage.setItem(lC,JSON.stringify(t))}catch(i){gr(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function N3(){let n,e,t=new Promise((i,a)=>{n=async u=>{i(u);try{await t}catch{}},e=async u=>{a(u);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Uf=B.createContext(null);Uf.displayName="DataRouter";var dg=B.createContext(null);dg.displayName="DataRouterState";var Zw=B.createContext({isTransitioning:!1});Zw.displayName="ViewTransition";var yC=B.createContext(new Map);yC.displayName="Fetchers";var D3=B.createContext(null);D3.displayName="Await";var No=B.createContext(null);No.displayName="Navigation";var J_=B.createContext(null);J_.displayName="Location";var Ua=B.createContext({outlet:null,matches:[],isDataRoute:!1});Ua.displayName="Route";var Jw=B.createContext(null);Jw.displayName="RouteError";function O3(n,{relative:e}={}){Bt(mg(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=B.useContext(No),{hash:a,pathname:u,search:h}=pg(n,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:Ro([t,u])),i.createHref({pathname:m,search:h,hash:a})}function mg(){return B.useContext(J_)!=null}function Vf(){return Bt(mg(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(J_).location}var vC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _C(n){B.useContext(No).static||B.useLayoutEffect(n)}function EC(){let{isDataRoute:n}=B.useContext(Ua);return n?Y3():M3()}function M3(){Bt(mg(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(Uf),{basename:e,navigator:t}=B.useContext(No),{matches:i}=B.useContext(Ua),{pathname:a}=Vf(),u=JSON.stringify(Yw(i)),h=B.useRef(!1);return _C(()=>{h.current=!0}),B.useCallback((g,v={})=>{if(gr(h.current,vC),!h.current)return;if(typeof g=="number"){t.go(g);return}let E=Ww(g,JSON.parse(u),a,v.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ro([e,E.pathname])),(v.replace?t.replace:t.push)(E,v.state,v)},[e,t,u,a,n])}var P3=B.createContext(null);function L3(n){let e=B.useContext(Ua).outlet;return e&&B.createElement(P3.Provider,{value:n},e)}function k3(){let{matches:n}=B.useContext(Ua),e=n[n.length-1];return e?e.params:{}}function pg(n,{relative:e}={}){let{matches:t}=B.useContext(Ua),{pathname:i}=Vf(),a=JSON.stringify(Yw(t));return B.useMemo(()=>Ww(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function U3(n,e,t,i){Bt(mg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=B.useContext(No),{matches:u}=B.useContext(Ua),h=u[u.length-1],m=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",E=h&&h.route;{let j=E&&E.path||"";TC(g,!E||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let S=Vf(),A;A=S;let N=A.pathname||"/",O=N;if(v!=="/"){let j=v.replace(/^\//,"").split("/");O="/"+N.replace(/^\//,"").split("/").slice(j.length).join("/")}let H=Su(n,{pathname:O});return gr(E||H!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),gr(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),z3(H&&H.map(j=>Object.assign({},j,{params:Object.assign({},m,j.params),pathname:Ro([v,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?v:Ro([v,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),u,t,i)}function V3(){let n=K3(),e=Yp(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:a},t):null,h)}var j3=B.createElement(V3,null),B3=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?B.createElement(Ua.Provider,{value:this.props.routeContext},B.createElement(Jw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function F3({routeContext:n,match:e,children:t}){let i=B.useContext(Uf);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Ua.Provider,{value:n},t)}function z3(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,u=t==null?void 0:t.errors;if(u!=null){let g=a.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);Bt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,m=-1;if(t)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:E,errors:S}=t,A=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||A){h=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((g,v,E)=>{let S,A=!1,N=null,O=null;t&&(S=u&&v.route.id?u[v.route.id]:void 0,N=v.route.errorElement||j3,h&&(m<0&&E===0?(TC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,O=null):m===E&&(A=!0,O=v.route.hydrateFallbackElement||null)));let H=e.concat(a.slice(0,E+1)),V=()=>{let j;return S?j=N:A?j=O:v.route.Component?j=B.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=g,B.createElement(F3,{match:v,routeContext:{outlet:g,matches:H,isDataRoute:t!=null},children:j})};return t&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?B.createElement(B3,{location:t.location,revalidation:t.revalidation,component:N,error:S,children:V(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):V()},null)}function eb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H3(n){let e=B.useContext(Uf);return Bt(e,eb(n)),e}function q3(n){let e=B.useContext(dg);return Bt(e,eb(n)),e}function G3(n){let e=B.useContext(Ua);return Bt(e,eb(n)),e}function tb(n){let e=G3(n),t=e.matches[e.matches.length-1];return Bt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function $3(){return tb("useRouteId")}function K3(){var i;let n=B.useContext(Jw),e=q3("useRouteError"),t=tb("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function Y3(){let{router:n}=H3("useNavigate"),e=tb("useNavigate"),t=B.useRef(!1);return _C(()=>{t.current=!0}),B.useCallback(async(a,u={})=>{gr(t.current,vC),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...u}))},[n,e])}var D1={};function TC(n,e,t){!e&&!D1[n]&&(D1[n]=!0,gr(!1,t))}var O1={};function M1(n,e){!n&&!O1[e]&&(O1[e]=!0,console.warn(e))}function W3(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&gr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:B.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&gr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:B.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&gr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:B.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var Q3=["HydrateFallback","hydrateFallbackElement"],X3=class{constructor(){this.status="pending",this.promise=new Promise((n,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",n(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function Z3({router:n,flushSync:e}){let[t,i]=B.useState(n.state),[a,u]=B.useState(),[h,m]=B.useState({isTransitioning:!1}),[g,v]=B.useState(),[E,S]=B.useState(),[A,N]=B.useState(),O=B.useRef(new Map),H=B.useCallback((Z,{deletedFetchers:he,flushSync:ne,viewTransitionOpts:z})=>{Z.fetchers.forEach((I,L)=>{I.data!==void 0&&O.current.set(L,I.data)}),he.forEach(I=>O.current.delete(I)),M1(ne===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(M1(z==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!z||!D){e&&ne?e(()=>i(Z)):B.startTransition(()=>i(Z));return}if(e&&ne){e(()=>{E&&(g&&g.resolve(),E.skipTransition()),m({isTransitioning:!0,flushSync:!0,currentLocation:z.currentLocation,nextLocation:z.nextLocation})});let I=n.window.document.startViewTransition(()=>{e(()=>i(Z))});I.finished.finally(()=>{e(()=>{v(void 0),S(void 0),u(void 0),m({isTransitioning:!1})})}),e(()=>S(I));return}E?(g&&g.resolve(),E.skipTransition(),N({state:Z,currentLocation:z.currentLocation,nextLocation:z.nextLocation})):(u(Z),m({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}))},[n.window,e,E,g]);B.useLayoutEffect(()=>n.subscribe(H),[n,H]),B.useEffect(()=>{h.isTransitioning&&!h.flushSync&&v(new X3)},[h]),B.useEffect(()=>{if(g&&a&&n.window){let Z=a,he=g.promise,ne=n.window.document.startViewTransition(async()=>{B.startTransition(()=>i(Z)),await he});ne.finished.finally(()=>{v(void 0),S(void 0),u(void 0),m({isTransitioning:!1})}),S(ne)}},[a,g,n.window]),B.useEffect(()=>{g&&a&&t.location.key===a.location.key&&g.resolve()},[g,E,t.location,a]),B.useEffect(()=>{!h.isTransitioning&&A&&(u(A.state),m({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}),N(void 0))},[h.isTransitioning,A]);let V=B.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:Z=>n.navigate(Z),push:(Z,he,ne)=>n.navigate(Z,{state:he,preventScrollReset:ne==null?void 0:ne.preventScrollReset}),replace:(Z,he,ne)=>n.navigate(Z,{replace:!0,state:he,preventScrollReset:ne==null?void 0:ne.preventScrollReset})}),[n]),j=n.basename||"/",ee=B.useMemo(()=>({router:n,navigator:V,static:!1,basename:j}),[n,V,j]);return B.createElement(B.Fragment,null,B.createElement(Uf.Provider,{value:ee},B.createElement(dg.Provider,{value:t},B.createElement(yC.Provider,{value:O.current},B.createElement(Zw.Provider,{value:h},B.createElement(nk,{basename:j,location:t.location,navigationType:t.historyAction,navigator:V},B.createElement(J3,{routes:n.routes,future:n.future,state:t})))))),null)}var J3=B.memo(ek);function ek({routes:n,future:e,state:t}){return U3(n,void 0,t,e)}function tk(n){return L3(n.context)}function nk({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:u=!1}){Bt(!mg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:h,navigator:a,static:u,future:{}}),[h,a,u]);typeof t=="string"&&(t=qu(t));let{pathname:g="/",search:v="",hash:E="",state:S=null,key:A="default"}=t,N=B.useMemo(()=>{let O=ia(g,h);return O==null?null:{location:{pathname:O,search:v,hash:E,state:S,key:A},navigationType:i}},[h,g,v,E,S,A,i]);return gr(N!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:B.createElement(No.Provider,{value:m},B.createElement(J_.Provider,{children:e,value:N}))}var qv="get",Gv="application/x-www-form-urlencoded";function e0(n){return n!=null&&typeof n.tagName=="string"}function rk(n){return e0(n)&&n.tagName.toLowerCase()==="button"}function ik(n){return e0(n)&&n.tagName.toLowerCase()==="form"}function sk(n){return e0(n)&&n.tagName.toLowerCase()==="input"}function ak(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ok(n,e){return n.button===0&&(!e||e==="_self")&&!ak(n)}var Rv=null;function lk(){if(Rv===null)try{new FormData(document.createElement("form"),0),Rv=!1}catch{Rv=!0}return Rv}var uk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function UE(n){return n!=null&&!uk.has(n)?(gr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gv}"`),null):n}function ck(n,e){let t,i,a,u,h;if(ik(n)){let m=n.getAttribute("action");i=m?ia(m,e):null,t=n.getAttribute("method")||qv,a=UE(n.getAttribute("enctype"))||Gv,u=new FormData(n)}else if(rk(n)||sk(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||m.getAttribute("action");if(i=g?ia(g,e):null,t=n.getAttribute("formmethod")||m.getAttribute("method")||qv,a=UE(n.getAttribute("formenctype"))||UE(m.getAttribute("enctype"))||Gv,u=new FormData(m,n),!lk()){let{name:v,type:E,value:S}=n;if(E==="image"){let A=v?`${v}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else v&&u.append(v,S)}}else{if(e0(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qv,i=null,a=Gv,h=n}return u&&a==="text/plain"&&(h=u,u=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:u,body:h}}function nb(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function fk(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function dk(n,e,t){let i=await Promise.all(n.map(async a=>{let u=e.routes[a.route.id];if(u){let h=await fk(u,t);return h.links?h.links():[]}return[]}));return yk(i.flat(1).filter(hk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function P1(n,e,t,i,a,u){let h=(g,v)=>t[v]?g.route.id!==t[v].route.id:!0,m=(g,v)=>{var E;return t[v].pathname!==g.pathname||((E=t[v].route.path)==null?void 0:E.endsWith("*"))&&t[v].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,v)=>h(g,v)||m(g,v)):u==="data"?e.filter((g,v)=>{var S;let E=i.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,v)||m(g,v))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function mk(n,e,{includeHydrateFallback:t}={}){return pk(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let u=[a.module];return a.clientActionModule&&(u=u.concat(a.clientActionModule)),a.clientLoaderModule&&(u=u.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(u=u.concat(a.hydrateFallbackModule)),a.imports&&(u=u.concat(a.imports)),u}).flat(1))}function pk(n){return[...new Set(n)]}function gk(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function yk(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let u=JSON.stringify(gk(a));return t.has(u)||(t.add(u),i.push({key:u,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vk=new Set([100,101,204,205]);function _k(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ia(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function wC(){let n=B.useContext(Uf);return nb(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Ek(){let n=B.useContext(dg);return nb(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var rb=B.createContext(void 0);rb.displayName="FrameworkContext";function bC(){let n=B.useContext(rb);return nb(n,"You must render this element inside a <HydratedRouter> element"),n}function Tk(n,e){let t=B.useContext(rb),[i,a]=B.useState(!1),[u,h]=B.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:v,onMouseLeave:E,onTouchStart:S}=e,A=B.useRef(null);B.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let H=j=>{j.forEach(ee=>{h(ee.isIntersecting)})},V=new IntersectionObserver(H,{threshold:.5});return A.current&&V.observe(A.current),()=>{V.disconnect()}}},[n]),B.useEffect(()=>{if(i){let H=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(H)}}},[i]);let N=()=>{a(!0)},O=()=>{a(!1),h(!1)};return t?n!=="intent"?[u,A,{}]:[u,A,{onFocus:_p(m,N),onBlur:_p(g,O),onMouseEnter:_p(v,N),onMouseLeave:_p(E,O),onTouchStart:_p(S,N)}]:[!1,A,{}]}function _p(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function wk({page:n,...e}){let{router:t}=wC(),i=B.useMemo(()=>Su(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?B.createElement(Sk,{page:n,matches:i,...e}):null}function bk(n){let{manifest:e,routeModules:t}=bC(),[i,a]=B.useState([]);return B.useEffect(()=>{let u=!1;return dk(n,e,t).then(h=>{u||a(h)}),()=>{u=!0}},[n,e,t]),i}function Sk({page:n,matches:e,...t}){let i=Vf(),{manifest:a,routeModules:u}=bC(),{basename:h}=wC(),{loaderData:m,matches:g}=Ek(),v=B.useMemo(()=>P1(n,e,g,a,i,"data"),[n,e,g,a,i]),E=B.useMemo(()=>P1(n,e,g,a,i,"assets"),[n,e,g,a,i]),S=B.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let O=new Set,H=!1;if(e.forEach(j=>{var Z;let ee=a.routes[j.route.id];!ee||!ee.hasLoader||(!v.some(he=>he.route.id===j.route.id)&&j.route.id in m&&((Z=u[j.route.id])!=null&&Z.shouldRevalidate)||ee.hasClientLoader?H=!0:O.add(j.route.id))}),O.size===0)return[];let V=_k(n,h);return H&&O.size>0&&V.searchParams.set("_routes",e.filter(j=>O.has(j.route.id)).map(j=>j.route.id).join(",")),[V.pathname+V.search]},[h,m,i,a,v,e,n,u]),A=B.useMemo(()=>mk(E,a),[E,a]),N=bk(E);return B.createElement(B.Fragment,null,S.map(O=>B.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),A.map(O=>B.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),N.map(({key:O,link:H})=>B.createElement("link",{key:O,...H})))}function Ak(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var SC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{SC&&(window.__reactRouterVersion="7.6.2")}catch{}function Rk(n,e){return h3({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:M4({window:e==null?void 0:e.window}),hydrationData:xk(),routes:n,mapRouteProperties:W3,hydrationRouteProperties:Q3,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function xk(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:Ck(n.errors)}),n}function Ck(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,a]of e)if(a&&a.__type==="RouteErrorResponse")t[i]=new __(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let u=window[a.__subType];if(typeof u=="function")try{let h=new u(a.message);h.stack="",t[i]=h}catch{}}if(t[i]==null){let u=new Error(a.message);u.stack="",t[i]=u}}else t[i]=a;return t}var AC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tr=B.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:u,replace:h,state:m,target:g,to:v,preventScrollReset:E,viewTransition:S,...A},N){let{basename:O}=B.useContext(No),H=typeof v=="string"&&AC.test(v),V,j=!1;if(typeof v=="string"&&H&&(V=v,SC))try{let L=new URL(window.location.href),q=v.startsWith("//")?new URL(L.protocol+v):new URL(v),K=ia(q.pathname,O);q.origin===L.origin&&K!=null?v=K+q.search+q.hash:j=!0}catch{gr(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=O3(v,{relative:a}),[Z,he,ne]=Tk(i,A),z=Ok(v,{replace:h,state:m,target:g,preventScrollReset:E,relative:a,viewTransition:S});function D(L){e&&e(L),L.defaultPrevented||z(L)}let I=B.createElement("a",{...A,...ne,href:V||ee,onClick:j||u?e:D,ref:Ak(N,he),target:g,"data-discover":!H&&t==="render"?"true":void 0});return Z&&!H?B.createElement(B.Fragment,null,I,B.createElement(wk,{page:ee})):I});Tr.displayName="Link";var Ik=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:u,to:h,viewTransition:m,children:g,...v},E){let S=pg(h,{relative:v.relative}),A=Vf(),N=B.useContext(dg),{navigator:O,basename:H}=B.useContext(No),V=N!=null&&Uk(S)&&m===!0,j=O.encodeLocation?O.encodeLocation(S).pathname:S.pathname,ee=A.pathname,Z=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(ee=ee.toLowerCase(),Z=Z?Z.toLowerCase():null,j=j.toLowerCase()),Z&&H&&(Z=ia(Z,H)||Z);const he=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ne=ee===j||!a&&ee.startsWith(j)&&ee.charAt(he)==="/",z=Z!=null&&(Z===j||!a&&Z.startsWith(j)&&Z.charAt(j.length)==="/"),D={isActive:ne,isPending:z,isTransitioning:V},I=ne?e:void 0,L;typeof i=="function"?L=i(D):L=[i,ne?"active":null,z?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let q=typeof u=="function"?u(D):u;return B.createElement(Tr,{...v,"aria-current":I,className:L,ref:E,style:q,to:h,viewTransition:m},typeof g=="function"?g(D):g)});Ik.displayName="NavLink";var Nk=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:u,method:h=qv,action:m,onSubmit:g,relative:v,preventScrollReset:E,viewTransition:S,...A},N)=>{let O=Lk(),H=kk(m,{relative:v}),V=h.toLowerCase()==="get"?"get":"post",j=typeof m=="string"&&AC.test(m),ee=Z=>{if(g&&g(Z),Z.defaultPrevented)return;Z.preventDefault();let he=Z.nativeEvent.submitter,ne=(he==null?void 0:he.getAttribute("formmethod"))||h;O(he||Z.currentTarget,{fetcherKey:e,method:ne,navigate:t,replace:a,state:u,relative:v,preventScrollReset:E,viewTransition:S})};return B.createElement("form",{ref:N,method:V,action:H,onSubmit:i?g:ee,...A,"data-discover":!j&&n==="render"?"true":void 0})});Nk.displayName="Form";function Dk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RC(n){let e=B.useContext(Uf);return Bt(e,Dk(n)),e}function Ok(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:u,viewTransition:h}={}){let m=EC(),g=Vf(),v=pg(n,{relative:u});return B.useCallback(E=>{if(ok(E,e)){E.preventDefault();let S=t!==void 0?t:Fu(g)===Fu(v);m(n,{replace:S,state:i,preventScrollReset:a,relative:u,viewTransition:h})}},[g,m,v,t,i,e,n,a,u,h])}var Mk=0,Pk=()=>`__${String(++Mk)}__`;function Lk(){let{router:n}=RC("useSubmit"),{basename:e}=B.useContext(No),t=$3();return B.useCallback(async(i,a={})=>{let{action:u,method:h,encType:m,formData:g,body:v}=ck(i,e);if(a.navigate===!1){let E=a.fetcherKey||Pk();await n.fetch(E,t,a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||m,flushSync:a.flushSync})}else await n.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function kk(n,{relative:e}={}){let{basename:t}=B.useContext(No),i=B.useContext(Ua);Bt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),u={...pg(n||".",{relative:e})},h=Vf();if(n==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!n||n===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Ro([t,u.pathname])),Fu(u)}function Uk(n,e={}){let t=B.useContext(Zw);Bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=RC("useViewTransitionState"),a=pg(n,{relative:e.relative});if(!t.isTransitioning)return!1;let u=ia(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=ia(t.nextLocation.pathname,i)||t.nextLocation.pathname;return v_(a.pathname,h)!=null||v_(a.pathname,u)!=null}[...vk];var xC=AA();const yd=Pd(xC);/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vk(n){return B.createElement(Z3,{flushSync:xC.flushSync,...n})}function CC(n,e){return function(){return n.apply(e,arguments)}}const{toString:jk}=Object.prototype,{getPrototypeOf:ib}=Object,{iterator:t0,toStringTag:IC}=Symbol,n0=(n=>e=>{const t=jk.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Va=n=>(n=n.toLowerCase(),e=>n0(e)===n),r0=n=>e=>typeof e===n,{isArray:Hd}=Array,Wp=r0("undefined");function Bk(n){return n!==null&&!Wp(n)&&n.constructor!==null&&!Wp(n.constructor)&&os(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const NC=Va("ArrayBuffer");function Fk(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&NC(n.buffer),e}const zk=r0("string"),os=r0("function"),DC=r0("number"),i0=n=>n!==null&&typeof n=="object",Hk=n=>n===!0||n===!1,$v=n=>{if(n0(n)!=="object")return!1;const e=ib(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(IC in n)&&!(t0 in n)},qk=Va("Date"),Gk=Va("File"),$k=Va("Blob"),Kk=Va("FileList"),Yk=n=>i0(n)&&os(n.pipe),Wk=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||os(n.append)&&((e=n0(n))==="formdata"||e==="object"&&os(n.toString)&&n.toString()==="[object FormData]"))},Qk=Va("URLSearchParams"),[Xk,Zk,Jk,eU]=["ReadableStream","Request","Response","Headers"].map(Va),tU=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gg(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,a;if(typeof n!="object"&&(n=[n]),Hd(n))for(i=0,a=n.length;i<a;i++)e.call(null,n[i],i,n);else{const u=t?Object.getOwnPropertyNames(n):Object.keys(n),h=u.length;let m;for(i=0;i<h;i++)m=u[i],e.call(null,n[m],m,n)}}function OC(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,a;for(;i-- >0;)if(a=t[i],e===a.toLowerCase())return a;return null}const Ef=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,MC=n=>!Wp(n)&&n!==Ef;function OT(){const{caseless:n}=MC(this)&&this||{},e={},t=(i,a)=>{const u=n&&OC(e,a)||a;$v(e[u])&&$v(i)?e[u]=OT(e[u],i):$v(i)?e[u]=OT({},i):Hd(i)?e[u]=i.slice():e[u]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&gg(arguments[i],t);return e}const nU=(n,e,t,{allOwnKeys:i}={})=>(gg(e,(a,u)=>{t&&os(a)?n[u]=CC(a,t):n[u]=a},{allOwnKeys:i}),n),rU=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),iU=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},sU=(n,e,t,i)=>{let a,u,h;const m={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),u=a.length;u-- >0;)h=a[u],(!i||i(h,n,e))&&!m[h]&&(e[h]=n[h],m[h]=!0);n=t!==!1&&ib(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},aU=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},oU=n=>{if(!n)return null;if(Hd(n))return n;let e=n.length;if(!DC(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},lU=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&ib(Uint8Array)),uU=(n,e)=>{const i=(n&&n[t0]).call(n);let a;for(;(a=i.next())&&!a.done;){const u=a.value;e.call(n,u[0],u[1])}},cU=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},fU=Va("HTMLFormElement"),hU=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,a){return i.toUpperCase()+a}),L1=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),dU=Va("RegExp"),PC=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};gg(t,(a,u)=>{let h;(h=e(a,u,n))!==!1&&(i[u]=h||a)}),Object.defineProperties(n,i)},mU=n=>{PC(n,(e,t)=>{if(os(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(os(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},pU=(n,e)=>{const t={},i=a=>{a.forEach(u=>{t[u]=!0})};return Hd(n)?i(n):i(String(n).split(e)),t},gU=()=>{},yU=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function vU(n){return!!(n&&os(n.append)&&n[IC]==="FormData"&&n[t0])}const _U=n=>{const e=new Array(10),t=(i,a)=>{if(i0(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[a]=i;const u=Hd(i)?[]:{};return gg(i,(h,m)=>{const g=t(h,a+1);!Wp(g)&&(u[m]=g)}),e[a]=void 0,u}}return i};return t(n,0)},EU=Va("AsyncFunction"),TU=n=>n&&(i0(n)||os(n))&&os(n.then)&&os(n.catch),LC=((n,e)=>n?setImmediate:e?((t,i)=>(Ef.addEventListener("message",({source:a,data:u})=>{a===Ef&&u===t&&i.length&&i.shift()()},!1),a=>{i.push(a),Ef.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",os(Ef.postMessage)),wU=typeof queueMicrotask<"u"?queueMicrotask.bind(Ef):typeof process<"u"&&process.nextTick||LC,bU=n=>n!=null&&os(n[t0]),ve={isArray:Hd,isArrayBuffer:NC,isBuffer:Bk,isFormData:Wk,isArrayBufferView:Fk,isString:zk,isNumber:DC,isBoolean:Hk,isObject:i0,isPlainObject:$v,isReadableStream:Xk,isRequest:Zk,isResponse:Jk,isHeaders:eU,isUndefined:Wp,isDate:qk,isFile:Gk,isBlob:$k,isRegExp:dU,isFunction:os,isStream:Yk,isURLSearchParams:Qk,isTypedArray:lU,isFileList:Kk,forEach:gg,merge:OT,extend:nU,trim:tU,stripBOM:rU,inherits:iU,toFlatObject:sU,kindOf:n0,kindOfTest:Va,endsWith:aU,toArray:oU,forEachEntry:uU,matchAll:cU,isHTMLForm:fU,hasOwnProperty:L1,hasOwnProp:L1,reduceDescriptors:PC,freezeMethods:mU,toObjectSet:pU,toCamelCase:hU,noop:gU,toFiniteNumber:yU,findKey:OC,global:Ef,isContextDefined:MC,isSpecCompliantForm:vU,toJSONObject:_U,isAsyncFn:EU,isThenable:TU,setImmediate:LC,asap:wU,isIterable:bU};function _t(n,e,t,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}ve.inherits(_t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ve.toJSONObject(this.config),code:this.code,status:this.status}}});const kC=_t.prototype,UC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{UC[n]={value:n}});Object.defineProperties(_t,UC);Object.defineProperty(kC,"isAxiosError",{value:!0});_t.from=(n,e,t,i,a,u)=>{const h=Object.create(kC);return ve.toFlatObject(n,h,function(g){return g!==Error.prototype},m=>m!=="isAxiosError"),_t.call(h,n.message,e,t,i,a),h.cause=n,h.name=n.name,u&&Object.assign(h,u),h};const SU=null;function MT(n){return ve.isPlainObject(n)||ve.isArray(n)}function VC(n){return ve.endsWith(n,"[]")?n.slice(0,-2):n}function k1(n,e,t){return n?n.concat(e).map(function(a,u){return a=VC(a),!t&&u?"["+a+"]":a}).join(t?".":""):e}function AU(n){return ve.isArray(n)&&!n.some(MT)}const RU=ve.toFlatObject(ve,{},null,function(e){return/^is[A-Z]/.test(e)});function s0(n,e,t){if(!ve.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=ve.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(H,V){return!ve.isUndefined(V[H])});const i=t.metaTokens,a=t.visitor||E,u=t.dots,h=t.indexes,g=(t.Blob||typeof Blob<"u"&&Blob)&&ve.isSpecCompliantForm(e);if(!ve.isFunction(a))throw new TypeError("visitor must be a function");function v(O){if(O===null)return"";if(ve.isDate(O))return O.toISOString();if(ve.isBoolean(O))return O.toString();if(!g&&ve.isBlob(O))throw new _t("Blob is not supported. Use a Buffer instead.");return ve.isArrayBuffer(O)||ve.isTypedArray(O)?g&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function E(O,H,V){let j=O;if(O&&!V&&typeof O=="object"){if(ve.endsWith(H,"{}"))H=i?H:H.slice(0,-2),O=JSON.stringify(O);else if(ve.isArray(O)&&AU(O)||(ve.isFileList(O)||ve.endsWith(H,"[]"))&&(j=ve.toArray(O)))return H=VC(H),j.forEach(function(Z,he){!(ve.isUndefined(Z)||Z===null)&&e.append(h===!0?k1([H],he,u):h===null?H:H+"[]",v(Z))}),!1}return MT(O)?!0:(e.append(k1(V,H,u),v(O)),!1)}const S=[],A=Object.assign(RU,{defaultVisitor:E,convertValue:v,isVisitable:MT});function N(O,H){if(!ve.isUndefined(O)){if(S.indexOf(O)!==-1)throw Error("Circular reference detected in "+H.join("."));S.push(O),ve.forEach(O,function(j,ee){(!(ve.isUndefined(j)||j===null)&&a.call(e,j,ve.isString(ee)?ee.trim():ee,H,A))===!0&&N(j,H?H.concat(ee):[ee])}),S.pop()}}if(!ve.isObject(n))throw new TypeError("data must be an object");return N(n),e}function U1(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function sb(n,e){this._pairs=[],n&&s0(n,this,e)}const jC=sb.prototype;jC.append=function(e,t){this._pairs.push([e,t])};jC.toString=function(e){const t=e?function(i){return e.call(this,i,U1)}:U1;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function xU(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function BC(n,e,t){if(!e)return n;const i=t&&t.encode||xU;ve.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let u;if(a?u=a(e,t):u=ve.isURLSearchParams(e)?e.toString():new sb(e,t).toString(i),u){const h=n.indexOf("#");h!==-1&&(n=n.slice(0,h)),n+=(n.indexOf("?")===-1?"?":"&")+u}return n}class V1{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ve.forEach(this.handlers,function(i){i!==null&&e(i)})}}const FC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},CU=typeof URLSearchParams<"u"?URLSearchParams:sb,IU=typeof FormData<"u"?FormData:null,NU=typeof Blob<"u"?Blob:null,DU={isBrowser:!0,classes:{URLSearchParams:CU,FormData:IU,Blob:NU},protocols:["http","https","file","blob","url","data"]},ab=typeof window<"u"&&typeof document<"u",PT=typeof navigator=="object"&&navigator||void 0,OU=ab&&(!PT||["ReactNative","NativeScript","NS"].indexOf(PT.product)<0),MU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",PU=ab&&window.location.href||"http://localhost",LU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ab,hasStandardBrowserEnv:OU,hasStandardBrowserWebWorkerEnv:MU,navigator:PT,origin:PU},Symbol.toStringTag,{value:"Module"})),Ei={...LU,...DU};function kU(n,e){return s0(n,new Ei.classes.URLSearchParams,Object.assign({visitor:function(t,i,a,u){return Ei.isNode&&ve.isBuffer(t)?(this.append(i,t.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function UU(n){return ve.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function VU(n){const e={},t=Object.keys(n);let i;const a=t.length;let u;for(i=0;i<a;i++)u=t[i],e[u]=n[u];return e}function zC(n){function e(t,i,a,u){let h=t[u++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),g=u>=t.length;return h=!h&&ve.isArray(a)?a.length:h,g?(ve.hasOwnProp(a,h)?a[h]=[a[h],i]:a[h]=i,!m):((!a[h]||!ve.isObject(a[h]))&&(a[h]=[]),e(t,i,a[h],u)&&ve.isArray(a[h])&&(a[h]=VU(a[h])),!m)}if(ve.isFormData(n)&&ve.isFunction(n.entries)){const t={};return ve.forEachEntry(n,(i,a)=>{e(UU(i),a,t,0)}),t}return null}function jU(n,e,t){if(ve.isString(n))try{return(e||JSON.parse)(n),ve.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const yg={transitional:FC,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",a=i.indexOf("application/json")>-1,u=ve.isObject(e);if(u&&ve.isHTMLForm(e)&&(e=new FormData(e)),ve.isFormData(e))return a?JSON.stringify(zC(e)):e;if(ve.isArrayBuffer(e)||ve.isBuffer(e)||ve.isStream(e)||ve.isFile(e)||ve.isBlob(e)||ve.isReadableStream(e))return e;if(ve.isArrayBufferView(e))return e.buffer;if(ve.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(u){if(i.indexOf("application/x-www-form-urlencoded")>-1)return kU(e,this.formSerializer).toString();if((m=ve.isFileList(e))||i.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return s0(m?{"files[]":e}:e,g&&new g,this.formSerializer)}}return u||a?(t.setContentType("application/json",!1),jU(e)):e}],transformResponse:[function(e){const t=this.transitional||yg.transitional,i=t&&t.forcedJSONParsing,a=this.responseType==="json";if(ve.isResponse(e)||ve.isReadableStream(e))return e;if(e&&ve.isString(e)&&(i&&!this.responseType||a)){const h=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(m){if(h)throw m.name==="SyntaxError"?_t.from(m,_t.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ei.classes.FormData,Blob:Ei.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ve.forEach(["delete","get","head","post","put","patch"],n=>{yg.headers[n]={}});const BU=ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FU=n=>{const e={};let t,i,a;return n&&n.split(`
`).forEach(function(h){a=h.indexOf(":"),t=h.substring(0,a).trim().toLowerCase(),i=h.substring(a+1).trim(),!(!t||e[t]&&BU[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},j1=Symbol("internals");function Ep(n){return n&&String(n).trim().toLowerCase()}function Kv(n){return n===!1||n==null?n:ve.isArray(n)?n.map(Kv):String(n)}function zU(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const HU=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function VE(n,e,t,i,a){if(ve.isFunction(i))return i.call(this,e,t);if(a&&(e=t),!!ve.isString(e)){if(ve.isString(i))return e.indexOf(i)!==-1;if(ve.isRegExp(i))return i.test(e)}}function qU(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function GU(n,e){const t=ve.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(a,u,h){return this[i].call(this,e,a,u,h)},configurable:!0})})}let ls=class{constructor(e){e&&this.set(e)}set(e,t,i){const a=this;function u(m,g,v){const E=Ep(g);if(!E)throw new Error("header name must be a non-empty string");const S=ve.findKey(a,E);(!S||a[S]===void 0||v===!0||v===void 0&&a[S]!==!1)&&(a[S||g]=Kv(m))}const h=(m,g)=>ve.forEach(m,(v,E)=>u(v,E,g));if(ve.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if(ve.isString(e)&&(e=e.trim())&&!HU(e))h(FU(e),t);else if(ve.isObject(e)&&ve.isIterable(e)){let m={},g,v;for(const E of e){if(!ve.isArray(E))throw TypeError("Object iterator must return a key-value pair");m[v=E[0]]=(g=m[v])?ve.isArray(g)?[...g,E[1]]:[g,E[1]]:E[1]}h(m,t)}else e!=null&&u(t,e,i);return this}get(e,t){if(e=Ep(e),e){const i=ve.findKey(this,e);if(i){const a=this[i];if(!t)return a;if(t===!0)return zU(a);if(ve.isFunction(t))return t.call(this,a,i);if(ve.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ep(e),e){const i=ve.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||VE(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let a=!1;function u(h){if(h=Ep(h),h){const m=ve.findKey(i,h);m&&(!t||VE(i,i[m],m,t))&&(delete i[m],a=!0)}}return ve.isArray(e)?e.forEach(u):u(e),a}clear(e){const t=Object.keys(this);let i=t.length,a=!1;for(;i--;){const u=t[i];(!e||VE(this,this[u],u,e,!0))&&(delete this[u],a=!0)}return a}normalize(e){const t=this,i={};return ve.forEach(this,(a,u)=>{const h=ve.findKey(i,u);if(h){t[h]=Kv(a),delete t[u];return}const m=e?qU(u):String(u).trim();m!==u&&delete t[u],t[m]=Kv(a),i[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ve.forEach(this,(i,a)=>{i!=null&&i!==!1&&(t[a]=e&&ve.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[j1]=this[j1]={accessors:{}}).accessors,a=this.prototype;function u(h){const m=Ep(h);i[m]||(GU(a,h),i[m]=!0)}return ve.isArray(e)?e.forEach(u):u(e),this}};ls.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ve.reduceDescriptors(ls.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});ve.freezeMethods(ls);function jE(n,e){const t=this||yg,i=e||t,a=ls.from(i.headers);let u=i.data;return ve.forEach(n,function(m){u=m.call(t,u,a.normalize(),e?e.status:void 0)}),a.normalize(),u}function HC(n){return!!(n&&n.__CANCEL__)}function qd(n,e,t){_t.call(this,n??"canceled",_t.ERR_CANCELED,e,t),this.name="CanceledError"}ve.inherits(qd,_t,{__CANCEL__:!0});function qC(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new _t("Request failed with status code "+t.status,[_t.ERR_BAD_REQUEST,_t.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function $U(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function KU(n,e){n=n||10;const t=new Array(n),i=new Array(n);let a=0,u=0,h;return e=e!==void 0?e:1e3,function(g){const v=Date.now(),E=i[u];h||(h=v),t[a]=g,i[a]=v;let S=u,A=0;for(;S!==a;)A+=t[S++],S=S%n;if(a=(a+1)%n,a===u&&(u=(u+1)%n),v-h<e)return;const N=E&&v-E;return N?Math.round(A*1e3/N):void 0}}function YU(n,e){let t=0,i=1e3/e,a,u;const h=(v,E=Date.now())=>{t=E,a=null,u&&(clearTimeout(u),u=null),n.apply(null,v)};return[(...v)=>{const E=Date.now(),S=E-t;S>=i?h(v,E):(a=v,u||(u=setTimeout(()=>{u=null,h(a)},i-S)))},()=>a&&h(a)]}const T_=(n,e,t=3)=>{let i=0;const a=KU(50,250);return YU(u=>{const h=u.loaded,m=u.lengthComputable?u.total:void 0,g=h-i,v=a(g),E=h<=m;i=h;const S={loaded:h,total:m,progress:m?h/m:void 0,bytes:g,rate:v||void 0,estimated:v&&m&&E?(m-h)/v:void 0,event:u,lengthComputable:m!=null,[e?"download":"upload"]:!0};n(S)},t)},B1=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},F1=n=>(...e)=>ve.asap(()=>n(...e)),WU=Ei.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Ei.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Ei.origin),Ei.navigator&&/(msie|trident)/i.test(Ei.navigator.userAgent)):()=>!0,QU=Ei.hasStandardBrowserEnv?{write(n,e,t,i,a,u){const h=[n+"="+encodeURIComponent(e)];ve.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),ve.isString(i)&&h.push("path="+i),ve.isString(a)&&h.push("domain="+a),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function XU(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function ZU(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function GC(n,e,t){let i=!XU(e);return n&&(i||t==!1)?ZU(n,e):e}const z1=n=>n instanceof ls?{...n}:n;function Df(n,e){e=e||{};const t={};function i(v,E,S,A){return ve.isPlainObject(v)&&ve.isPlainObject(E)?ve.merge.call({caseless:A},v,E):ve.isPlainObject(E)?ve.merge({},E):ve.isArray(E)?E.slice():E}function a(v,E,S,A){if(ve.isUndefined(E)){if(!ve.isUndefined(v))return i(void 0,v,S,A)}else return i(v,E,S,A)}function u(v,E){if(!ve.isUndefined(E))return i(void 0,E)}function h(v,E){if(ve.isUndefined(E)){if(!ve.isUndefined(v))return i(void 0,v)}else return i(void 0,E)}function m(v,E,S){if(S in e)return i(v,E);if(S in n)return i(void 0,v)}const g={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(v,E,S)=>a(z1(v),z1(E),S,!0)};return ve.forEach(Object.keys(Object.assign({},n,e)),function(E){const S=g[E]||a,A=S(n[E],e[E],E);ve.isUndefined(A)&&S!==m||(t[E]=A)}),t}const $C=n=>{const e=Df({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:u,headers:h,auth:m}=e;e.headers=h=ls.from(h),e.url=BC(GC(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let g;if(ve.isFormData(t)){if(Ei.hasStandardBrowserEnv||Ei.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((g=h.getContentType())!==!1){const[v,...E]=g?g.split(";").map(S=>S.trim()).filter(Boolean):[];h.setContentType([v||"multipart/form-data",...E].join("; "))}}if(Ei.hasStandardBrowserEnv&&(i&&ve.isFunction(i)&&(i=i(e)),i||i!==!1&&WU(e.url))){const v=a&&u&&QU.read(u);v&&h.set(a,v)}return e},JU=typeof XMLHttpRequest<"u",eV=JU&&function(n){return new Promise(function(t,i){const a=$C(n);let u=a.data;const h=ls.from(a.headers).normalize();let{responseType:m,onUploadProgress:g,onDownloadProgress:v}=a,E,S,A,N,O;function H(){N&&N(),O&&O(),a.cancelToken&&a.cancelToken.unsubscribe(E),a.signal&&a.signal.removeEventListener("abort",E)}let V=new XMLHttpRequest;V.open(a.method.toUpperCase(),a.url,!0),V.timeout=a.timeout;function j(){if(!V)return;const Z=ls.from("getAllResponseHeaders"in V&&V.getAllResponseHeaders()),ne={data:!m||m==="text"||m==="json"?V.responseText:V.response,status:V.status,statusText:V.statusText,headers:Z,config:n,request:V};qC(function(D){t(D),H()},function(D){i(D),H()},ne),V=null}"onloadend"in V?V.onloadend=j:V.onreadystatechange=function(){!V||V.readyState!==4||V.status===0&&!(V.responseURL&&V.responseURL.indexOf("file:")===0)||setTimeout(j)},V.onabort=function(){V&&(i(new _t("Request aborted",_t.ECONNABORTED,n,V)),V=null)},V.onerror=function(){i(new _t("Network Error",_t.ERR_NETWORK,n,V)),V=null},V.ontimeout=function(){let he=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const ne=a.transitional||FC;a.timeoutErrorMessage&&(he=a.timeoutErrorMessage),i(new _t(he,ne.clarifyTimeoutError?_t.ETIMEDOUT:_t.ECONNABORTED,n,V)),V=null},u===void 0&&h.setContentType(null),"setRequestHeader"in V&&ve.forEach(h.toJSON(),function(he,ne){V.setRequestHeader(ne,he)}),ve.isUndefined(a.withCredentials)||(V.withCredentials=!!a.withCredentials),m&&m!=="json"&&(V.responseType=a.responseType),v&&([A,O]=T_(v,!0),V.addEventListener("progress",A)),g&&V.upload&&([S,N]=T_(g),V.upload.addEventListener("progress",S),V.upload.addEventListener("loadend",N)),(a.cancelToken||a.signal)&&(E=Z=>{V&&(i(!Z||Z.type?new qd(null,n,V):Z),V.abort(),V=null)},a.cancelToken&&a.cancelToken.subscribe(E),a.signal&&(a.signal.aborted?E():a.signal.addEventListener("abort",E)));const ee=$U(a.url);if(ee&&Ei.protocols.indexOf(ee)===-1){i(new _t("Unsupported protocol "+ee+":",_t.ERR_BAD_REQUEST,n));return}V.send(u||null)})},tV=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,a;const u=function(v){if(!a){a=!0,m();const E=v instanceof Error?v:this.reason;i.abort(E instanceof _t?E:new qd(E instanceof Error?E.message:E))}};let h=e&&setTimeout(()=>{h=null,u(new _t(`timeout ${e} of ms exceeded`,_t.ETIMEDOUT))},e);const m=()=>{n&&(h&&clearTimeout(h),h=null,n.forEach(v=>{v.unsubscribe?v.unsubscribe(u):v.removeEventListener("abort",u)}),n=null)};n.forEach(v=>v.addEventListener("abort",u));const{signal:g}=i;return g.unsubscribe=()=>ve.asap(m),g}},nV=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,a;for(;i<t;)a=i+e,yield n.slice(i,a),i=a},rV=async function*(n,e){for await(const t of iV(n))yield*nV(t,e)},iV=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},H1=(n,e,t,i)=>{const a=rV(n,e);let u=0,h,m=g=>{h||(h=!0,i&&i(g))};return new ReadableStream({async pull(g){try{const{done:v,value:E}=await a.next();if(v){m(),g.close();return}let S=E.byteLength;if(t){let A=u+=S;t(A)}g.enqueue(new Uint8Array(E))}catch(v){throw m(v),v}},cancel(g){return m(g),a.return()}},{highWaterMark:2})},a0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",KC=a0&&typeof ReadableStream=="function",sV=a0&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),YC=(n,...e)=>{try{return!!n(...e)}catch{return!1}},aV=KC&&YC(()=>{let n=!1;const e=new Request(Ei.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),q1=64*1024,LT=KC&&YC(()=>ve.isReadableStream(new Response("").body)),w_={stream:LT&&(n=>n.body)};a0&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!w_[e]&&(w_[e]=ve.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new _t(`Response type '${e}' is not supported`,_t.ERR_NOT_SUPPORT,i)})})})(new Response);const oV=async n=>{if(n==null)return 0;if(ve.isBlob(n))return n.size;if(ve.isSpecCompliantForm(n))return(await new Request(Ei.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(ve.isArrayBufferView(n)||ve.isArrayBuffer(n))return n.byteLength;if(ve.isURLSearchParams(n)&&(n=n+""),ve.isString(n))return(await sV(n)).byteLength},lV=async(n,e)=>{const t=ve.toFiniteNumber(n.getContentLength());return t??oV(e)},uV=a0&&(async n=>{let{url:e,method:t,data:i,signal:a,cancelToken:u,timeout:h,onDownloadProgress:m,onUploadProgress:g,responseType:v,headers:E,withCredentials:S="same-origin",fetchOptions:A}=$C(n);v=v?(v+"").toLowerCase():"text";let N=tV([a,u&&u.toAbortSignal()],h),O;const H=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let V;try{if(g&&aV&&t!=="get"&&t!=="head"&&(V=await lV(E,i))!==0){let ne=new Request(e,{method:"POST",body:i,duplex:"half"}),z;if(ve.isFormData(i)&&(z=ne.headers.get("content-type"))&&E.setContentType(z),ne.body){const[D,I]=B1(V,T_(F1(g)));i=H1(ne.body,q1,D,I)}}ve.isString(S)||(S=S?"include":"omit");const j="credentials"in Request.prototype;O=new Request(e,{...A,signal:N,method:t.toUpperCase(),headers:E.normalize().toJSON(),body:i,duplex:"half",credentials:j?S:void 0});let ee=await fetch(O,A);const Z=LT&&(v==="stream"||v==="response");if(LT&&(m||Z&&H)){const ne={};["status","statusText","headers"].forEach(L=>{ne[L]=ee[L]});const z=ve.toFiniteNumber(ee.headers.get("content-length")),[D,I]=m&&B1(z,T_(F1(m),!0))||[];ee=new Response(H1(ee.body,q1,D,()=>{I&&I(),H&&H()}),ne)}v=v||"text";let he=await w_[ve.findKey(w_,v)||"text"](ee,n);return!Z&&H&&H(),await new Promise((ne,z)=>{qC(ne,z,{data:he,headers:ls.from(ee.headers),status:ee.status,statusText:ee.statusText,config:n,request:O})})}catch(j){throw H&&H(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new _t("Network Error",_t.ERR_NETWORK,n,O),{cause:j.cause||j}):_t.from(j,j&&j.code,n,O)}}),kT={http:SU,xhr:eV,fetch:uV};ve.forEach(kT,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const G1=n=>`- ${n}`,cV=n=>ve.isFunction(n)||n===null||n===!1,WC={getAdapter:n=>{n=ve.isArray(n)?n:[n];const{length:e}=n;let t,i;const a={};for(let u=0;u<e;u++){t=n[u];let h;if(i=t,!cV(t)&&(i=kT[(h=String(t)).toLowerCase()],i===void 0))throw new _t(`Unknown adapter '${h}'`);if(i)break;a[h||"#"+u]=i}if(!i){const u=Object.entries(a).map(([m,g])=>`adapter ${m} `+(g===!1?"is not supported by the environment":"is not available in the build"));let h=e?u.length>1?`since :
`+u.map(G1).join(`
`):" "+G1(u[0]):"as no adapter specified";throw new _t("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return i},adapters:kT};function BE(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new qd(null,n)}function $1(n){return BE(n),n.headers=ls.from(n.headers),n.data=jE.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),WC.getAdapter(n.adapter||yg.adapter)(n).then(function(i){return BE(n),i.data=jE.call(n,n.transformResponse,i),i.headers=ls.from(i.headers),i},function(i){return HC(i)||(BE(n),i&&i.response&&(i.response.data=jE.call(n,n.transformResponse,i.response),i.response.headers=ls.from(i.response.headers))),Promise.reject(i)})}const QC="1.10.0",o0={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{o0[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const K1={};o0.transitional=function(e,t,i){function a(u,h){return"[Axios v"+QC+"] Transitional option '"+u+"'"+h+(i?". "+i:"")}return(u,h,m)=>{if(e===!1)throw new _t(a(h," has been removed"+(t?" in "+t:"")),_t.ERR_DEPRECATED);return t&&!K1[h]&&(K1[h]=!0,console.warn(a(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(u,h,m):!0}};o0.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function fV(n,e,t){if(typeof n!="object")throw new _t("options must be an object",_t.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let a=i.length;for(;a-- >0;){const u=i[a],h=e[u];if(h){const m=n[u],g=m===void 0||h(m,u,n);if(g!==!0)throw new _t("option "+u+" must be "+g,_t.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new _t("Unknown option "+u,_t.ERR_BAD_OPTION)}}const Yv={assertOptions:fV,validators:o0},Eo=Yv.validators;let bf=class{constructor(e){this.defaults=e||{},this.interceptors={request:new V1,response:new V1}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const u=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?u&&!String(i.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+u):i.stack=u}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Df(this.defaults,t);const{transitional:i,paramsSerializer:a,headers:u}=t;i!==void 0&&Yv.assertOptions(i,{silentJSONParsing:Eo.transitional(Eo.boolean),forcedJSONParsing:Eo.transitional(Eo.boolean),clarifyTimeoutError:Eo.transitional(Eo.boolean)},!1),a!=null&&(ve.isFunction(a)?t.paramsSerializer={serialize:a}:Yv.assertOptions(a,{encode:Eo.function,serialize:Eo.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Yv.assertOptions(t,{baseUrl:Eo.spelling("baseURL"),withXsrfToken:Eo.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=u&&ve.merge(u.common,u[t.method]);u&&ve.forEach(["delete","get","head","post","put","patch","common"],O=>{delete u[O]}),t.headers=ls.concat(h,u);const m=[];let g=!0;this.interceptors.request.forEach(function(H){typeof H.runWhen=="function"&&H.runWhen(t)===!1||(g=g&&H.synchronous,m.unshift(H.fulfilled,H.rejected))});const v=[];this.interceptors.response.forEach(function(H){v.push(H.fulfilled,H.rejected)});let E,S=0,A;if(!g){const O=[$1.bind(this),void 0];for(O.unshift.apply(O,m),O.push.apply(O,v),A=O.length,E=Promise.resolve(t);S<A;)E=E.then(O[S++],O[S++]);return E}A=m.length;let N=t;for(S=0;S<A;){const O=m[S++],H=m[S++];try{N=O(N)}catch(V){H.call(this,V);break}}try{E=$1.call(this,N)}catch(O){return Promise.reject(O)}for(S=0,A=v.length;S<A;)E=E.then(v[S++],v[S++]);return E}getUri(e){e=Df(this.defaults,e);const t=GC(e.baseURL,e.url,e.allowAbsoluteUrls);return BC(t,e.params,e.paramsSerializer)}};ve.forEach(["delete","get","head","options"],function(e){bf.prototype[e]=function(t,i){return this.request(Df(i||{},{method:e,url:t,data:(i||{}).data}))}});ve.forEach(["post","put","patch"],function(e){function t(i){return function(u,h,m){return this.request(Df(m||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}bf.prototype[e]=t(),bf.prototype[e+"Form"]=t(!0)});let hV=class XC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(u){t=u});const i=this;this.promise.then(a=>{if(!i._listeners)return;let u=i._listeners.length;for(;u-- >0;)i._listeners[u](a);i._listeners=null}),this.promise.then=a=>{let u;const h=new Promise(m=>{i.subscribe(m),u=m}).then(a);return h.cancel=function(){i.unsubscribe(u)},h},e(function(u,h,m){i.reason||(i.reason=new qd(u,h,m),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new XC(function(a){e=a}),cancel:e}}};function dV(n){return function(t){return n.apply(null,t)}}function mV(n){return ve.isObject(n)&&n.isAxiosError===!0}const UT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(UT).forEach(([n,e])=>{UT[e]=n});function ZC(n){const e=new bf(n),t=CC(bf.prototype.request,e);return ve.extend(t,bf.prototype,e,{allOwnKeys:!0}),ve.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return ZC(Df(n,a))},t}const jn=ZC(yg);jn.Axios=bf;jn.CanceledError=qd;jn.CancelToken=hV;jn.isCancel=HC;jn.VERSION=QC;jn.toFormData=s0;jn.AxiosError=_t;jn.Cancel=jn.CanceledError;jn.all=function(e){return Promise.all(e)};jn.spread=dV;jn.isAxiosError=mV;jn.mergeConfig=Df;jn.AxiosHeaders=ls;jn.formToJSON=n=>zC(ve.isHTMLForm(n)?new FormData(n):n);jn.getAdapter=WC.getAdapter;jn.HttpStatusCode=UT;jn.default=jn;const{Axios:L9,AxiosError:k9,CanceledError:U9,isCancel:V9,CancelToken:j9,VERSION:B9,all:F9,Cancel:z9,isAxiosError:H9,spread:q9,toFormData:G9,AxiosHeaders:$9,HttpStatusCode:K9,formToJSON:Y9,getAdapter:W9,mergeConfig:Q9}=jn;function Gr(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var pV=typeof Symbol=="function"&&Symbol.observable||"@@observable",Y1=pV,FE=()=>Math.random().toString(36).substring(7).split("").join("."),gV={INIT:`@@redux/INIT${FE()}`,REPLACE:`@@redux/REPLACE${FE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${FE()}`},b_=gV;function ob(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function JC(n,e,t){if(typeof n!="function")throw new Error(Gr(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Gr(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Gr(1));return t(JC)(n,e)}let i=n,a=e,u=new Map,h=u,m=0,g=!1;function v(){h===u&&(h=new Map,u.forEach((V,j)=>{h.set(j,V)}))}function E(){if(g)throw new Error(Gr(3));return a}function S(V){if(typeof V!="function")throw new Error(Gr(4));if(g)throw new Error(Gr(5));let j=!0;v();const ee=m++;return h.set(ee,V),function(){if(j){if(g)throw new Error(Gr(6));j=!1,v(),h.delete(ee),u=null}}}function A(V){if(!ob(V))throw new Error(Gr(7));if(typeof V.type>"u")throw new Error(Gr(8));if(typeof V.type!="string")throw new Error(Gr(17));if(g)throw new Error(Gr(9));try{g=!0,a=i(a,V)}finally{g=!1}return(u=h).forEach(ee=>{ee()}),V}function N(V){if(typeof V!="function")throw new Error(Gr(10));i=V,A({type:b_.REPLACE})}function O(){const V=S;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(Gr(11));function ee(){const he=j;he.next&&he.next(E())}return ee(),{unsubscribe:V(ee)}},[Y1](){return this}}}return A({type:b_.INIT}),{dispatch:A,subscribe:S,getState:E,replaceReducer:N,[Y1]:O}}function yV(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:b_.INIT})>"u")throw new Error(Gr(12));if(typeof t(void 0,{type:b_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Gr(13))})}function vV(n){const e=Object.keys(n),t={};for(let u=0;u<e.length;u++){const h=e[u];typeof n[h]=="function"&&(t[h]=n[h])}const i=Object.keys(t);let a;try{yV(t)}catch(u){a=u}return function(h={},m){if(a)throw a;let g=!1;const v={};for(let E=0;E<i.length;E++){const S=i[E],A=t[S],N=h[S],O=A(N,m);if(typeof O>"u")throw m&&m.type,new Error(Gr(14));v[S]=O,g=g||O!==N}return g=g||i.length!==Object.keys(h).length,g?v:h}}function S_(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function _V(...n){return e=>(t,i)=>{const a=e(t,i);let u=()=>{throw new Error(Gr(15))};const h={getState:a.getState,dispatch:(g,...v)=>u(g,...v)},m=n.map(g=>g(h));return u=S_(...m)(a.dispatch),{...a,dispatch:u}}}function EV(n){return ob(n)&&"type"in n&&typeof n.type=="string"}var eI=Symbol.for("immer-nothing"),W1=Symbol.for("immer-draftable"),Is=Symbol.for("immer-state");function Ma(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Md=Object.getPrototypeOf;function Of(n){return!!n&&!!n[Is]}function bl(n){var e;return n?tI(n)||Array.isArray(n)||!!n[W1]||!!((e=n.constructor)!=null&&e[W1])||u0(n)||c0(n):!1}var TV=Object.prototype.constructor.toString();function tI(n){if(!n||typeof n!="object")return!1;const e=Md(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===TV}function A_(n,e){l0(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,i)=>e(i,t,n))}function l0(n){const e=n[Is];return e?e.type_:Array.isArray(n)?1:u0(n)?2:c0(n)?3:0}function VT(n,e){return l0(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function nI(n,e,t){const i=l0(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function wV(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function u0(n){return n instanceof Map}function c0(n){return n instanceof Set}function of(n){return n.copy_||n.base_}function jT(n,e){if(u0(n))return new Map(n);if(c0(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=tI(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[Is];let a=Reflect.ownKeys(i);for(let u=0;u<a.length;u++){const h=a[u],m=i[h];m.writable===!1&&(m.writable=!0,m.configurable=!0),(m.get||m.set)&&(i[h]={configurable:!0,writable:!0,enumerable:m.enumerable,value:n[h]})}return Object.create(Md(n),i)}else{const i=Md(n);if(i!==null&&t)return{...n};const a=Object.create(i);return Object.assign(a,n)}}function lb(n,e=!1){return f0(n)||Of(n)||!bl(n)||(l0(n)>1&&(n.set=n.add=n.clear=n.delete=bV),Object.freeze(n),e&&Object.entries(n).forEach(([t,i])=>lb(i,!0))),n}function bV(){Ma(2)}function f0(n){return Object.isFrozen(n)}var SV={};function Mf(n){const e=SV[n];return e||Ma(0,n),e}var Qp;function rI(){return Qp}function AV(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Q1(n,e){e&&(Mf("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function BT(n){FT(n),n.drafts_.forEach(RV),n.drafts_=null}function FT(n){n===Qp&&(Qp=n.parent_)}function X1(n){return Qp=AV(Qp,n)}function RV(n){const e=n[Is];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Z1(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Is].modified_&&(BT(e),Ma(4)),bl(n)&&(n=R_(e,n),e.parent_||x_(e,n)),e.patches_&&Mf("Patches").generateReplacementPatches_(t[Is].base_,n,e.patches_,e.inversePatches_)):n=R_(e,t,[]),BT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==eI?n:void 0}function R_(n,e,t){if(f0(e))return e;const i=e[Is];if(!i)return A_(e,(a,u)=>J1(n,i,e,a,u,t)),e;if(i.scope_!==n)return e;if(!i.modified_)return x_(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let u=a,h=!1;i.type_===3&&(u=new Set(a),a.clear(),h=!0),A_(u,(m,g)=>J1(n,i,a,m,g,t,h)),x_(n,a,!1),t&&n.patches_&&Mf("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function J1(n,e,t,i,a,u,h){if(Of(a)){const m=u&&e&&e.type_!==3&&!VT(e.assigned_,i)?u.concat(i):void 0,g=R_(n,a,m);if(nI(t,i,g),Of(g))n.canAutoFreeze_=!1;else return}else h&&t.add(a);if(bl(a)&&!f0(a)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;R_(n,a),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,i)&&x_(n,a)}}function x_(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&lb(e,t)}function xV(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:rI(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=i,u=ub;t&&(a=[i],u=Xp);const{revoke:h,proxy:m}=Proxy.revocable(a,u);return i.draft_=m,i.revoke_=h,m}var ub={get(n,e){if(e===Is)return n;const t=of(n);if(!VT(t,e))return CV(n,t,e);const i=t[e];return n.finalized_||!bl(i)?i:i===zE(n.base_,e)?(HE(n),n.copy_[e]=HT(i,n)):i},has(n,e){return e in of(n)},ownKeys(n){return Reflect.ownKeys(of(n))},set(n,e,t){const i=iI(of(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const a=zE(of(n),e),u=a==null?void 0:a[Is];if(u&&u.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(wV(t,a)&&(t!==void 0||VT(n.base_,e)))return!0;HE(n),zT(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return zE(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,HE(n),zT(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=of(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){Ma(11)},getPrototypeOf(n){return Md(n.base_)},setPrototypeOf(){Ma(12)}},Xp={};A_(ub,(n,e)=>{Xp[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Xp.deleteProperty=function(n,e){return Xp.set.call(this,n,e,void 0)};Xp.set=function(n,e,t){return ub.set.call(this,n[0],e,t,n[0])};function zE(n,e){const t=n[Is];return(t?of(t):n)[e]}function CV(n,e,t){var a;const i=iI(e,t);return i?"value"in i?i.value:(a=i.get)==null?void 0:a.call(n.draft_):void 0}function iI(n,e){if(!(e in n))return;let t=Md(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Md(t)}}function zT(n){n.modified_||(n.modified_=!0,n.parent_&&zT(n.parent_))}function HE(n){n.copy_||(n.copy_=jT(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var IV=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const u=t;t=e;const h=this;return function(g=u,...v){return h.produce(g,E=>t.call(this,E,...v))}}typeof t!="function"&&Ma(6),i!==void 0&&typeof i!="function"&&Ma(7);let a;if(bl(e)){const u=X1(this),h=HT(e,void 0);let m=!0;try{a=t(h),m=!1}finally{m?BT(u):FT(u)}return Q1(u,i),Z1(a,u)}else if(!e||typeof e!="object"){if(a=t(e),a===void 0&&(a=e),a===eI&&(a=void 0),this.autoFreeze_&&lb(a,!0),i){const u=[],h=[];Mf("Patches").generateReplacementPatches_(e,a,u,h),i(u,h)}return a}else Ma(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(h,...m)=>this.produceWithPatches(h,g=>e(g,...m));let i,a;return[this.produce(e,t,(h,m)=>{i=h,a=m}),i,a]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){bl(n)||Ma(8),Of(n)&&(n=NV(n));const e=X1(this),t=HT(n,void 0);return t[Is].isManual_=!0,FT(e),t}finishDraft(n,e){const t=n&&n[Is];(!t||!t.isManual_)&&Ma(9);const{scope_:i}=t;return Q1(i,e),Z1(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const a=e[t];if(a.path.length===0&&a.op==="replace"){n=a.value;break}}t>-1&&(e=e.slice(t+1));const i=Mf("Patches").applyPatches_;return Of(n)?i(n,e):this.produce(n,a=>i(a,e))}};function HT(n,e){const t=u0(n)?Mf("MapSet").proxyMap_(n,e):c0(n)?Mf("MapSet").proxySet_(n,e):xV(n,e);return(e?e.scope_:rI()).drafts_.push(t),t}function NV(n){return Of(n)||Ma(10,n),sI(n)}function sI(n){if(!bl(n)||f0(n))return n;const e=n[Is];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=jT(n,e.scope_.immer_.useStrictShallowCopy_)}else t=jT(n,!0);return A_(t,(i,a)=>{nI(t,i,sI(a))}),e&&(e.finalized_=!1),t}var Ns=new IV,aI=Ns.produce;Ns.produceWithPatches.bind(Ns);Ns.setAutoFreeze.bind(Ns);Ns.setUseStrictShallowCopy.bind(Ns);Ns.applyPatches.bind(Ns);Ns.createDraft.bind(Ns);Ns.finishDraft.bind(Ns);function oI(n){return({dispatch:t,getState:i})=>a=>u=>typeof u=="function"?u(t,i,n):a(u)}var DV=oI(),OV=oI,MV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?S_:S_.apply(null,arguments)};function eA(n,e){function t(...i){if(e){let a=e(...i);if(!a)throw new Error(vl(0));return{type:n,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>EV(i)&&i.type===n,t}var lI=class xp extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,xp.prototype)}static get[Symbol.species](){return xp}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new xp(...e[0].concat(this)):new xp(...e.concat(this))}};function tA(n){return bl(n)?aI(n,()=>{}):n}function xv(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function PV(n){return typeof n=="boolean"}var LV=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:a=!0,actionCreatorCheck:u=!0}=e??{};let h=new lI;return t&&(PV(t)?h.push(DV):h.push(OV(t.extraArgument))),h},kV="RTK_autoBatch",nA=n=>e=>{setTimeout(e,n)},UV=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let a=!0,u=!1,h=!1;const m=new Set,g=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:nA(10):n.type==="callback"?n.queueNotification:nA(n.timeout),v=()=>{h=!1,u&&(u=!1,m.forEach(E=>E()))};return Object.assign({},i,{subscribe(E){const S=()=>a&&E(),A=i.subscribe(S);return m.add(E),()=>{A(),m.delete(E)}},dispatch(E){var S;try{return a=!((S=E==null?void 0:E.meta)!=null&&S[kV]),u=!a,u&&(h||(h=!0,g(v))),i.dispatch(E)}finally{a=!0}}})},VV=n=>function(t){const{autoBatch:i=!0}=t??{};let a=new lI(n);return i&&a.push(UV(typeof i=="object"?i:void 0)),a};function jV(n){const e=LV(),{reducer:t=void 0,middleware:i,devTools:a=!0,preloadedState:u=void 0,enhancers:h=void 0}=n||{};let m;if(typeof t=="function")m=t;else if(ob(t))m=vV(t);else throw new Error(vl(1));let g;typeof i=="function"?g=i(e):g=e();let v=S_;a&&(v=MV({trace:!1,...typeof a=="object"&&a}));const E=_V(...g),S=VV(E);let A=typeof h=="function"?h(S):S();const N=v(...A);return JC(m,u,N)}function uI(n){const e={},t=[];let i;const a={addCase(u,h){const m=typeof u=="string"?u:u.type;if(!m)throw new Error(vl(28));if(m in e)throw new Error(vl(29));return e[m]=h,a},addMatcher(u,h){return t.push({matcher:u,reducer:h}),a},addDefaultCase(u){return i=u,a}};return n(a),[e,t,i]}function BV(n){return typeof n=="function"}function FV(n,e){let[t,i,a]=uI(e),u;if(BV(n))u=()=>tA(n());else{const m=tA(n);u=()=>m}function h(m=u(),g){let v=[t[g.type],...i.filter(({matcher:E})=>E(g)).map(({reducer:E})=>E)];return v.filter(E=>!!E).length===0&&(v=[a]),v.reduce((E,S)=>{if(S)if(Of(E)){const N=S(E,g);return N===void 0?E:N}else{if(bl(E))return aI(E,A=>S(A,g));{const A=S(E,g);if(A===void 0){if(E===null)return E;throw Error("A case reducer on a non-draftable value must not return undefined")}return A}}return E},m)}return h.getInitialState=u,h}var zV=Symbol.for("rtk-slice-createasyncthunk");function HV(n,e){return`${n}/${e}`}function qV({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[zV];return function(a){const{name:u,reducerPath:h=u}=a;if(!u)throw new Error(vl(11));const m=(typeof a.reducers=="function"?a.reducers(KV()):a.reducers)||{},g=Object.keys(m),v={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},E={addCase(he,ne){const z=typeof he=="string"?he:he.type;if(!z)throw new Error(vl(12));if(z in v.sliceCaseReducersByType)throw new Error(vl(13));return v.sliceCaseReducersByType[z]=ne,E},addMatcher(he,ne){return v.sliceMatchers.push({matcher:he,reducer:ne}),E},exposeAction(he,ne){return v.actionCreators[he]=ne,E},exposeCaseReducer(he,ne){return v.sliceCaseReducersByName[he]=ne,E}};g.forEach(he=>{const ne=m[he],z={reducerName:he,type:HV(u,he),createNotation:typeof a.reducers=="function"};WV(ne)?XV(z,ne,E,e):YV(z,ne,E)});function S(){const[he={},ne=[],z=void 0]=typeof a.extraReducers=="function"?uI(a.extraReducers):[a.extraReducers],D={...he,...v.sliceCaseReducersByType};return FV(a.initialState,I=>{for(let L in D)I.addCase(L,D[L]);for(let L of v.sliceMatchers)I.addMatcher(L.matcher,L.reducer);for(let L of ne)I.addMatcher(L.matcher,L.reducer);z&&I.addDefaultCase(z)})}const A=he=>he,N=new Map,O=new WeakMap;let H;function V(he,ne){return H||(H=S()),H(he,ne)}function j(){return H||(H=S()),H.getInitialState()}function ee(he,ne=!1){function z(I){let L=I[he];return typeof L>"u"&&ne&&(L=xv(O,z,j)),L}function D(I=A){const L=xv(N,ne,()=>new WeakMap);return xv(L,I,()=>{const q={};for(const[K,Q]of Object.entries(a.selectors??{}))q[K]=GV(Q,I,()=>xv(O,I,j),ne);return q})}return{reducerPath:he,getSelectors:D,get selectors(){return D(z)},selectSlice:z}}const Z={name:u,reducer:V,actions:v.actionCreators,caseReducers:v.sliceCaseReducersByName,getInitialState:j,...ee(h),injectInto(he,{reducerPath:ne,...z}={}){const D=ne??h;return he.inject({reducerPath:D,reducer:V},z),{...Z,...ee(D,!0)}}};return Z}}function GV(n,e,t,i){function a(u,...h){let m=e(u);return typeof m>"u"&&i&&(m=t()),n(m,...h)}return a.unwrapped=n,a}var $V=qV();function KV(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function YV({type:n,reducerName:e,createNotation:t},i,a){let u,h;if("reducer"in i){if(t&&!QV(i))throw new Error(vl(17));u=i.reducer,h=i.prepare}else u=i;a.addCase(n,u).exposeCaseReducer(e,u).exposeAction(e,h?eA(n,h):eA(n))}function WV(n){return n._reducerDefinitionType==="asyncThunk"}function QV(n){return n._reducerDefinitionType==="reducerWithPrepare"}function XV({type:n,reducerName:e},t,i,a){if(!a)throw new Error(vl(18));const{payloadCreator:u,fulfilled:h,pending:m,rejected:g,settled:v,options:E}=t,S=a(n,u,E);i.exposeAction(e,S),h&&i.addCase(S.fulfilled,h),m&&i.addCase(S.pending,m),g&&i.addCase(S.rejected,g),v&&i.addMatcher(S.settled,v),i.exposeCaseReducer(e,{fulfilled:h||Cv,pending:m||Cv,rejected:g||Cv,settled:v||Cv})}function Cv(){}function vl(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Iv={exports:{}},rA;function ZV(){return rA||(rA=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});function t(D){return typeof D=="object"&&!("toString"in D)?Object.prototype.toString.call(D).slice(8,-1):D}var i=typeof process=="object"&&!0;function a(D,I){if(!D)throw i?new Error("Invariant failed"):new Error(I())}e.invariant=a;var u=Object.prototype.hasOwnProperty,h=Array.prototype.splice,m=Object.prototype.toString;function g(D){return m.call(D).slice(8,-1)}var v=Object.assign||function(D,I){return E(I).forEach(function(L){u.call(I,L)&&(D[L]=I[L])}),D},E=typeof Object.getOwnPropertySymbols=="function"?function(D){return Object.keys(D).concat(Object.getOwnPropertySymbols(D))}:function(D){return Object.keys(D)};function S(D){return Array.isArray(D)?v(D.constructor(D.length),D):g(D)==="Map"?new Map(D):g(D)==="Set"?new Set(D):D&&typeof D=="object"?v(Object.create(Object.getPrototypeOf(D)),D):D}var A=function(){function D(){this.commands=v({},N),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(I,L){return I===L},this.update.newContext=function(){return new D().update}}return Object.defineProperty(D.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(I){this.update.isEquals=I},enumerable:!0,configurable:!0}),D.prototype.extend=function(I,L){this.commands[I]=L},D.prototype.update=function(I,L){var q=this,K=typeof L=="function"?{$apply:L}:L;Array.isArray(I)&&Array.isArray(K)||a(!Array.isArray(K),function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."}),a(typeof K=="object"&&K!==null,function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the "+("following commands: "+Object.keys(q.commands).join(", ")+".")});var Q=I;return E(K).forEach(function(F){if(u.call(q.commands,F)){var Me=I===Q;Q=q.commands[F](K[F],Q,K,I),Me&&q.isEquals(Q,I)&&(Q=I)}else{var ke=g(I)==="Map"?q.update(I.get(F),K[F]):q.update(I[F],K[F]),se=g(Q)==="Map"?Q.get(F):Q[F];(!q.isEquals(ke,se)||typeof ke>"u"&&!u.call(I,F))&&(Q===I&&(Q=S(I)),g(Q)==="Map"?Q.set(F,ke):Q[F]=ke)}}),Q},D}();e.Context=A;var N={$push:function(D,I,L){return H(I,L,"$push"),D.length?I.concat(D):I},$unshift:function(D,I,L){return H(I,L,"$unshift"),D.length?D.concat(I):I},$splice:function(D,I,L,q){return j(I,L),D.forEach(function(K){ee(K),I===q&&K.length&&(I=S(q)),h.apply(I,K)}),I},$set:function(D,I,L){return he(L),D},$toggle:function(D,I){V(D,"$toggle");var L=D.length?S(I):I;return D.forEach(function(q){L[q]=!I[q]}),L},$unset:function(D,I,L,q){return V(D,"$unset"),D.forEach(function(K){Object.hasOwnProperty.call(I,K)&&(I===q&&(I=S(q)),delete I[K])}),I},$add:function(D,I,L,q){return z(I,"$add"),V(D,"$add"),g(I)==="Map"?D.forEach(function(K){var Q=K[0],F=K[1];I===q&&I.get(Q)!==F&&(I=S(q)),I.set(Q,F)}):D.forEach(function(K){I===q&&!I.has(K)&&(I=S(q)),I.add(K)}),I},$remove:function(D,I,L,q){return z(I,"$remove"),V(D,"$remove"),D.forEach(function(K){I===q&&I.has(K)&&(I=S(q)),I.delete(K)}),I},$merge:function(D,I,L,q){return ne(I,D),E(D).forEach(function(K){D[K]!==I[K]&&(I===q&&(I=S(q)),I[K]=D[K])}),I},$apply:function(D,I){return Z(D),D(I)}},O=new A;e.isEquals=O.update.isEquals,e.extend=O.extend,e.default=O.update,e.default.default=n.exports=v(e.default,e);function H(D,I,L){a(Array.isArray(D),function(){return"update(): expected target of "+t(L)+" to be an array; got "+t(D)+"."}),V(I[L],L)}function V(D,I){a(Array.isArray(D),function(){return"update(): expected spec of "+t(I)+" to be an array; got "+t(D)+". Did you forget to wrap your parameter in an array?"})}function j(D,I){a(Array.isArray(D),function(){return"Expected $splice target to be an array; got "+t(D)}),ee(I.$splice)}function ee(D){a(Array.isArray(D),function(){return"update(): expected spec of $splice to be an array of arrays; got "+t(D)+". Did you forget to wrap your parameters in an array?"})}function Z(D){a(typeof D=="function",function(){return"update(): expected spec of $apply to be a function; got "+t(D)+"."})}function he(D){a(Object.keys(D).length===1,function(){return"Cannot have more than one key in an object with $set"})}function ne(D,I){a(I&&typeof I=="object",function(){return"update(): $merge expects a spec of type 'object'; got "+t(I)}),a(D&&typeof D=="object",function(){return"update(): $merge expects a target of type 'object'; got "+t(D)})}function z(D,I){var L=g(D);a(L==="Map"||L==="Set",function(){return"update(): "+t(I)+" expects a target of type Set or Map; got "+t(L)})}}(Iv,Iv.exports)),Iv.exports}var JV=ZV();const cb=Pd(JV),ej={loading:!0,user:null},cI=$V({name:"user",initialState:ej,reducers:{updateUser:(n,e)=>({...n,...e.payload}),updateNickname:(n,e)=>cb(n,{user:{nickname:{$set:e.payload}}}),logOut:n=>{n.loading=!1,n.user=null}}}),{updateUser:Wv,updateNickname:fI,logOut:tj}=cI.actions,nj=cI.reducer;function rj(){const n=Ld();return B.useEffect(()=>{console.log("Layout: Starting authentication setup"),console.log("Layout: Current URL:",window.location.href),e2(Od,uR).then(()=>{console.log("Auth persistence set to LOCAL")}).catch(i=>{console.error("Error setting auth persistence:",i)});const e=localStorage.getItem("guestUser");if(e)try{const i=JSON.parse(e);console.log(" Found stored guest user:",i.nickname),n(Wv({loading:!1,user:i}))}catch(i){console.error("Error parsing stored guest user:",i),localStorage.removeItem("guestUser")}const t=r2(Od,i=>{var a;if(console.log(" Auth state changed:",i?`${i.displayName} (${i.uid})`:"No user"),i){console.log("User authenticated, updating Redux store"),i.isAnonymous||localStorage.removeItem("guestUser");const u=window.localStorage.getItem("nickname")||((a=i.displayName)==null?void 0:a.split(" ")[0]),h={displayName:i.displayName,email:i.email,emailVerified:i.emailVerified,photoURL:i.photoURL,isAnonymous:i.isAnonymous,uid:i.uid,providerData:i.providerData,nickname:u};n(Wv({loading:!1,user:h})),jn.get(`/api/user/${i.uid}`).then(m=>{console.log("User is registered")}).catch(m=>{console.log("API call failed (expected in development):",m.message),m.response&&m.response.status===404?(console.log("User not registered, attempting to register..."),jn.post("/api/user",{uid:i.uid,info:h}).then(()=>{console.log("User registered successfully")}).catch(g=>{console.log("Error registering user (expected in development):",g.message)})):console.log("API error (expected in development):",m.message)})}else console.log(" No user authenticated"),n(Wv({loading:!1,user:null}))});return()=>{t()}},[n]),b.jsxs("div",{children:[b.jsx(tk,{})," "]})}var Cp={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var ij=Cp.exports,iA;function sj(){return iA||(iA=1,function(n,e){(function(){var t,i="4.17.21",a=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",h="Expected a function",m="Invalid `variable` option passed into `_.template`",g="__lodash_hash_undefined__",v=500,E="__lodash_placeholder__",S=1,A=2,N=4,O=1,H=2,V=1,j=2,ee=4,Z=8,he=16,ne=32,z=64,D=128,I=256,L=512,q=30,K="...",Q=800,F=16,Me=1,ke=2,se=3,me=1/0,_e=9007199254740991,Pe=17976931348623157e292,G=NaN,pe=4294967295,Ne=pe-1,we=pe>>>1,je=[["ary",D],["bind",V],["bindKey",j],["curry",Z],["curryRight",he],["flip",L],["partial",ne],["partialRight",z],["rearg",I]],We="[object Arguments]",qe="[object Array]",mn="[object AsyncFunction]",Nt="[object Boolean]",Mn="[object Date]",Zt="[object DOMException]",Sn="[object Error]",qn="[object Function]",Ar="[object GeneratorFunction]",Wt="[object Map]",Dt="[object Number]",us="[object Null]",an="[object Object]",ja="[object Promise]",sa="[object Proxy]",Wr="[object RegExp]",Bn="[object Set]",yr="[object String]",vr="[object Symbol]",cs="[object Undefined]",Qr="[object WeakMap]",Ge="[object WeakSet]",it="[object ArrayBuffer]",An="[object DataView]",Pn="[object Float32Array]",Ba="[object Float64Array]",Xr="[object Int8Array]",Vi="[object Int16Array]",ji="[object Int32Array]",Bi="[object Uint8Array]",Pr="[object Uint8ClampedArray]",fs="[object Uint16Array]",Zr="[object Uint32Array]",Fa=/\b__p \+= '';/g,aa=/\b(__p \+=) '' \+/g,Do=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bi=/&(?:amp|lt|gt|quot|#39);/g,Fi=/[&<>"']/g,za=RegExp(bi.source),Lr=RegExp(Fi.source),Os=/<%-([\s\S]+?)%>/g,Ms=/<%([\s\S]+?)%>/g,oa=/<%=([\s\S]+?)%>/g,W=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ae=/^\w*$/,ue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Se=/[\\^$.*+?()[\]{}|]/g,Oe=RegExp(Se.source),Be=/^\s+/,et=/\s/,Fe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$e=/\{\n\/\* \[wrapped with (.+)\] \*/,Xe=/,? & /,nt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ke=/[()=,{}\[\]\/\s]/,st=/\\(\\)?/g,Rt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Jt=/\w*$/,Qt=/^[-+]0x[0-9a-f]+$/i,Lt=/^0b[01]+$/i,wt=/^\[object .+?Constructor\]$/,zi=/^0o[0-7]+$/i,Wn=/^(?:0|[1-9]\d*)$/,kr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Gn=/($^)/,Ps=/['\n\r\u2028\u2029\\]/g,Rr="\\ud800-\\udfff",Ha="\\u0300-\\u036f",xr="\\ufe20-\\ufe2f",Ur="\\u20d0-\\u20ff",ft=Ha+xr+Ur,Fn="\\u2700-\\u27bf",Jr="a-z\\xdf-\\xf6\\xf8-\\xff",ei="\\xac\\xb1\\xd7\\xf7",Ls="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",pn="\\u2000-\\u206f",Hi=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ks="A-Z\\xc0-\\xd6\\xd8-\\xde",sr="\\ufe0e\\ufe0f",Rl=ei+Ls+pn+Hi,$u="[']",xl="["+Rr+"]",Cl="["+Rl+"]",Us="["+ft+"]",jf="\\d+",$n="["+Fn+"]",ti="["+Jr+"]",qa="[^"+Rr+Rl+jf+Fn+Jr+ks+"]",Vs="\\ud83c[\\udffb-\\udfff]",la="(?:"+Us+"|"+Vs+")",on="[^"+Rr+"]",ua="(?:\\ud83c[\\udde6-\\uddff]){2}",ni="[\\ud800-\\udbff][\\udc00-\\udfff]",qi="["+ks+"]",Ku="\\u200d",Il="(?:"+ti+"|"+qa+")",Yu="(?:"+qi+"|"+qa+")",Bf="(?:"+$u+"(?:d|ll|m|re|s|t|ve))?",Ff="(?:"+$u+"(?:D|LL|M|RE|S|T|VE))?",Oo=la+"?",js="["+sr+"]?",Gi="(?:"+Ku+"(?:"+[on,ua,ni].join("|")+")"+js+Oo+")*",ca="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",fa="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Nl=js+Oo+Gi,Bs="(?:"+[$n,ua,ni].join("|")+")"+Nl,zf="(?:"+[on+Us+"?",Us,ua,ni,xl].join("|")+")",Mo=RegExp($u,"g"),hs=RegExp(Us,"g"),ri=RegExp(Vs+"(?="+Vs+")|"+zf+Nl,"g"),Po=RegExp([qi+"?"+ti+"+"+Bf+"(?="+[Cl,qi,"$"].join("|")+")",Yu+"+"+Ff+"(?="+[Cl,qi+Il,"$"].join("|")+")",qi+"?"+Il+"+"+Bf,qi+"+"+Ff,fa,ca,jf,Bs].join("|"),"g"),Fs=RegExp("["+Ku+Rr+ft+sr+"]"),Ga=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ha=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Wu=-1,Ft={};Ft[Pn]=Ft[Ba]=Ft[Xr]=Ft[Vi]=Ft[ji]=Ft[Bi]=Ft[Pr]=Ft[fs]=Ft[Zr]=!0,Ft[We]=Ft[qe]=Ft[it]=Ft[Nt]=Ft[An]=Ft[Mn]=Ft[Sn]=Ft[qn]=Ft[Wt]=Ft[Dt]=Ft[an]=Ft[Wr]=Ft[Bn]=Ft[yr]=Ft[Qr]=!1;var kt={};kt[We]=kt[qe]=kt[it]=kt[An]=kt[Nt]=kt[Mn]=kt[Pn]=kt[Ba]=kt[Xr]=kt[Vi]=kt[ji]=kt[Wt]=kt[Dt]=kt[an]=kt[Wr]=kt[Bn]=kt[yr]=kt[vr]=kt[Bi]=kt[Pr]=kt[fs]=kt[Zr]=!0,kt[Sn]=kt[qn]=kt[Qr]=!1;var Qu={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},ar={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},nn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Dl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Lo=parseFloat,Hf=parseInt,ko=typeof vv=="object"&&vv&&vv.Object===Object&&vv,Ol=typeof self=="object"&&self&&self.Object===Object&&self,En=ko||Ol||Function("return this")(),da=e&&!e.nodeType&&e,or=da&&!0&&n&&!n.nodeType&&n,Xu=or&&or.exports===da,Zu=Xu&&ko.process,lr=function(){try{var te=or&&or.require&&or.require("util").types;return te||Zu&&Zu.binding&&Zu.binding("util")}catch{}}(),Uo=lr&&lr.isArrayBuffer,Ml=lr&&lr.isDate,Vo=lr&&lr.isMap,Ju=lr&&lr.isRegExp,jo=lr&&lr.isSet,qf=lr&&lr.isTypedArray;function _r(te,Ee,ge){switch(ge.length){case 0:return te.call(Ee);case 1:return te.call(Ee,ge[0]);case 2:return te.call(Ee,ge[0],ge[1]);case 3:return te.call(Ee,ge[0],ge[1],ge[2])}return te.apply(Ee,ge)}function Bo(te,Ee,ge,Ue){for(var lt=-1,Gt=te==null?0:te.length;++lt<Gt;){var Kn=te[lt];Ee(Ue,Kn,ge(Kn),te)}return Ue}function Vr(te,Ee){for(var ge=-1,Ue=te==null?0:te.length;++ge<Ue&&Ee(te[ge],ge,te)!==!1;);return te}function Gf(te,Ee){for(var ge=te==null?0:te.length;ge--&&Ee(te[ge],ge,te)!==!1;);return te}function Pl(te,Ee){for(var ge=-1,Ue=te==null?0:te.length;++ge<Ue;)if(!Ee(te[ge],ge,te))return!1;return!0}function ii(te,Ee){for(var ge=-1,Ue=te==null?0:te.length,lt=0,Gt=[];++ge<Ue;){var Kn=te[ge];Ee(Kn,ge,te)&&(Gt[lt++]=Kn)}return Gt}function Fo(te,Ee){var ge=te==null?0:te.length;return!!ge&&ma(te,Ee,0)>-1}function $a(te,Ee,ge){for(var Ue=-1,lt=te==null?0:te.length;++Ue<lt;)if(ge(Ee,te[Ue]))return!0;return!1}function gn(te,Ee){for(var ge=-1,Ue=te==null?0:te.length,lt=Array(Ue);++ge<Ue;)lt[ge]=Ee(te[ge],ge,te);return lt}function $i(te,Ee){for(var ge=-1,Ue=Ee.length,lt=te.length;++ge<Ue;)te[lt+ge]=Ee[ge];return te}function ds(te,Ee,ge,Ue){var lt=-1,Gt=te==null?0:te.length;for(Ue&&Gt&&(ge=te[++lt]);++lt<Gt;)ge=Ee(ge,te[lt],lt,te);return ge}function $f(te,Ee,ge,Ue){var lt=te==null?0:te.length;for(Ue&&lt&&(ge=te[--lt]);lt--;)ge=Ee(ge,te[lt],lt,te);return ge}function Ll(te,Ee){for(var ge=-1,Ue=te==null?0:te.length;++ge<Ue;)if(Ee(te[ge],ge,te))return!0;return!1}var Kf=R("length");function Yf(te){return te.split("")}function kl(te){return te.match(nt)||[]}function Cr(te,Ee,ge){var Ue;return ge(te,function(lt,Gt,Kn){if(Ee(lt,Gt,Kn))return Ue=Gt,!1}),Ue}function zo(te,Ee,ge,Ue){for(var lt=te.length,Gt=ge+(Ue?1:-1);Ue?Gt--:++Gt<lt;)if(Ee(te[Gt],Gt,te))return Gt;return-1}function ma(te,Ee,ge){return Ee===Ee?v0(te,Ee,ge):zo(te,d,ge)}function zs(te,Ee,ge,Ue){for(var lt=ge-1,Gt=te.length;++lt<Gt;)if(Ue(te[lt],Ee))return lt;return-1}function d(te){return te!==te}function T(te,Ee){var ge=te==null?0:te.length;return ge?Le(te,Ee)/ge:G}function R(te){return function(Ee){return Ee==null?t:Ee[te]}}function k(te){return function(Ee){return te==null?t:te[Ee]}}function oe(te,Ee,ge,Ue,lt){return lt(te,function(Gt,Kn,$t){ge=Ue?(Ue=!1,Gt):Ee(ge,Gt,Kn,$t)}),ge}function ye(te,Ee){var ge=te.length;for(te.sort(Ee);ge--;)te[ge]=te[ge].value;return te}function Le(te,Ee){for(var ge,Ue=-1,lt=te.length;++Ue<lt;){var Gt=Ee(te[Ue]);Gt!==t&&(ge=ge===t?Gt:ge+Gt)}return ge}function Ot(te,Ee){for(var ge=-1,Ue=Array(te);++ge<te;)Ue[ge]=Ee(ge);return Ue}function Qn(te,Ee){return gn(Ee,function(ge){return[ge,te[ge]]})}function Ut(te){return te&&te.slice(0,Kd(te)+1).replace(Be,"")}function rn(te){return function(Ee){return te(Ee)}}function zn(te,Ee){return gn(Ee,function(ge){return te[ge]})}function Si(te,Ee){return te.has(Ee)}function ur(te,Ee){for(var ge=-1,Ue=te.length;++ge<Ue&&ma(Ee,te[ge],0)>-1;);return ge}function ms(te,Ee){for(var ge=te.length;ge--&&ma(Ee,te[ge],0)>-1;);return ge}function ec(te,Ee){for(var ge=te.length,Ue=0;ge--;)te[ge]===Ee&&++Ue;return Ue}var Wf=k(Qu),vg=k(ar);function _g(te){return"\\"+Dl[te]}function $d(te,Ee){return te==null?t:te[Ee]}function Ka(te){return Fs.test(te)}function Eg(te){return Ga.test(te)}function Tg(te){for(var Ee,ge=[];!(Ee=te.next()).done;)ge.push(Ee.value);return ge}function Qf(te){var Ee=-1,ge=Array(te.size);return te.forEach(function(Ue,lt){ge[++Ee]=[lt,Ue]}),ge}function wg(te,Ee){return function(ge){return te(Ee(ge))}}function Ya(te,Ee){for(var ge=-1,Ue=te.length,lt=0,Gt=[];++ge<Ue;){var Kn=te[ge];(Kn===Ee||Kn===E)&&(te[ge]=E,Gt[lt++]=ge)}return Gt}function Xf(te){var Ee=-1,ge=Array(te.size);return te.forEach(function(Ue){ge[++Ee]=Ue}),ge}function y0(te){var Ee=-1,ge=Array(te.size);return te.forEach(function(Ue){ge[++Ee]=[Ue,Ue]}),ge}function v0(te,Ee,ge){for(var Ue=ge-1,lt=te.length;++Ue<lt;)if(te[Ue]===Ee)return Ue;return-1}function Ai(te,Ee,ge){for(var Ue=ge+1;Ue--;)if(te[Ue]===Ee)return Ue;return Ue}function Hs(te){return Ka(te)?Sg(te):Kf(te)}function Ki(te){return Ka(te)?Yd(te):Yf(te)}function Kd(te){for(var Ee=te.length;Ee--&&et.test(te.charAt(Ee)););return Ee}var bg=k(nn);function Sg(te){for(var Ee=ri.lastIndex=0;ri.test(te);)++Ee;return Ee}function Yd(te){return te.match(ri)||[]}function _0(te){return te.match(Po)||[]}var Ul=function te(Ee){Ee=Ee==null?En:Wa.defaults(En.Object(),Ee,Wa.pick(En,ha));var ge=Ee.Array,Ue=Ee.Date,lt=Ee.Error,Gt=Ee.Function,Kn=Ee.Math,$t=Ee.Object,Zf=Ee.RegExp,Ag=Ee.String,Ri=Ee.TypeError,Jf=ge.prototype,E0=Gt.prototype,Vl=$t.prototype,tc=Ee["__core-js_shared__"],nc=E0.toString,en=Vl.hasOwnProperty,ps=0,Wd=function(){var l=/[^.]+$/.exec(tc&&tc.keys&&tc.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),jr=Vl.toString,Yi=nc.call($t),jl=En._,Qd=Zf("^"+nc.call(en).replace(Se,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ho=Xu?Ee.Buffer:t,gs=Ee.Symbol,Bl=Ee.Uint8Array,qo=Ho?Ho.allocUnsafe:t,rc=wg($t.getPrototypeOf,$t),ic=$t.create,Go=Vl.propertyIsEnumerable,eh=Jf.splice,si=gs?gs.isConcatSpreadable:t,$o=gs?gs.iterator:t,Br=gs?gs.toStringTag:t,sc=function(){try{var l=io($t,"defineProperty");return l({},"",{}),l}catch{}}(),th=Ee.clearTimeout!==En.clearTimeout&&Ee.clearTimeout,Ko=Ue&&Ue.now!==En.Date.now&&Ue.now,Xd=Ee.setTimeout!==En.setTimeout&&Ee.setTimeout,Fl=Kn.ceil,pa=Kn.floor,Qa=$t.getOwnPropertySymbols,nh=Ho?Ho.isBuffer:t,ac=Ee.isFinite,Wi=Jf.join,Qi=wg($t.keys,$t),wn=Kn.max,Rn=Kn.min,ga=Ue.now,Yo=Ee.parseInt,Zd=Kn.random,Jd=Jf.reverse,oc=io(Ee,"DataView"),Xn=io(Ee,"Map"),xn=io(Ee,"Promise"),Mt=io(Ee,"Set"),ys=io(Ee,"WeakMap"),ai=io($t,"create"),zl=ys&&new ys,Xi={},Rg=Aa(oc),xg=Aa(Xn),lc=Aa(xn),uc=Aa(Mt),Cg=Aa(ys),Xa=gs?gs.prototype:t,Wo=Xa?Xa.valueOf:t,Za=Xa?Xa.toString:t;function M(l){if(Dn(l)&&!ht(l)&&!(l instanceof bt)){if(l instanceof oi)return l;if(en.call(l,"__wrapped__"))return Jn(l)}return new oi(l)}var xi=function(){function l(){}return function(c){if(!In(c))return{};if(ic)return ic(c);l.prototype=c;var y=new l;return l.prototype=t,y}}();function Zi(){}function oi(l,c){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=t}M.templateSettings={escape:Os,evaluate:Ms,interpolate:oa,variable:"",imports:{_:M}},M.prototype=Zi.prototype,M.prototype.constructor=M,oi.prototype=xi(Zi.prototype),oi.prototype.constructor=oi;function bt(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pe,this.__views__=[]}function cc(){var l=new bt(this.__wrapped__);return l.__actions__=Zn(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Zn(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Zn(this.__views__),l}function rh(){if(this.__filtered__){var l=new bt(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function Qo(){var l=this.__wrapped__.value(),c=this.__dir__,y=ht(l),w=c<0,C=y?l.length:0,U=oy(0,C,this.__views__),$=U.start,X=U.end,ie=X-$,Ae=w?X:$-1,xe=this.__iteratees__,De=xe.length,Ve=0,Qe=Rn(ie,this.__takeCount__);if(!y||!w&&C==ie&&Qe==ie)return Kg(l,this.__actions__);var ut=[];e:for(;ie--&&Ve<Qe;){Ae+=c;for(var At=-1,ct=l[Ae];++At<De;){var jt=xe[At],Yt=jt.iteratee,Ss=jt.type,Pi=Yt(ct);if(Ss==ke)ct=Pi;else if(!Pi){if(Ss==Me)continue e;break e}}ut[Ve++]=ct}return ut}bt.prototype=xi(Zi.prototype),bt.prototype.constructor=bt;function Ln(l){var c=-1,y=l==null?0:l.length;for(this.clear();++c<y;){var w=l[c];this.set(w[0],w[1])}}function ih(){this.__data__=ai?ai(null):{},this.size=0}function Ig(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}function T0(l){var c=this.__data__;if(ai){var y=c[l];return y===g?t:y}return en.call(c,l)?c[l]:t}function w0(l){var c=this.__data__;return ai?c[l]!==t:en.call(c,l)}function b0(l,c){var y=this.__data__;return this.size+=this.has(l)?0:1,y[l]=ai&&c===t?g:c,this}Ln.prototype.clear=ih,Ln.prototype.delete=Ig,Ln.prototype.get=T0,Ln.prototype.has=w0,Ln.prototype.set=b0;function yn(l){var c=-1,y=l==null?0:l.length;for(this.clear();++c<y;){var w=l[c];this.set(w[0],w[1])}}function em(){this.__data__=[],this.size=0}function fc(l){var c=this.__data__,y=Gl(c,l);if(y<0)return!1;var w=c.length-1;return y==w?c.pop():eh.call(c,y,1),--this.size,!0}function hc(l){var c=this.__data__,y=Gl(c,l);return y<0?t:c[y][1]}function tm(l){return Gl(this.__data__,l)>-1}function Hl(l,c){var y=this.__data__,w=Gl(y,l);return w<0?(++this.size,y.push([l,c])):y[w][1]=c,this}yn.prototype.clear=em,yn.prototype.delete=fc,yn.prototype.get=hc,yn.prototype.has=tm,yn.prototype.set=Hl;function li(l){var c=-1,y=l==null?0:l.length;for(this.clear();++c<y;){var w=l[c];this.set(w[0],w[1])}}function S0(){this.size=0,this.__data__={hash:new Ln,map:new(Xn||yn),string:new Ln}}function Ng(l){var c=Xl(this,l).delete(l);return this.size-=c?1:0,c}function A0(l){return Xl(this,l).get(l)}function Dg(l){return Xl(this,l).has(l)}function Xo(l,c){var y=Xl(this,l),w=y.size;return y.set(l,c),this.size+=y.size==w?0:1,this}li.prototype.clear=S0,li.prototype.delete=Ng,li.prototype.get=A0,li.prototype.has=Dg,li.prototype.set=Xo;function ya(l){var c=-1,y=l==null?0:l.length;for(this.__data__=new li;++c<y;)this.add(l[c])}function sh(l){return this.__data__.set(l,g),this}function Og(l){return this.__data__.has(l)}ya.prototype.add=ya.prototype.push=sh,ya.prototype.has=Og;function Fr(l){var c=this.__data__=new yn(l);this.size=c.size}function Mg(){this.__data__=new yn,this.size=0}function ah(l){var c=this.__data__,y=c.delete(l);return this.size=c.size,y}function nm(l){return this.__data__.get(l)}function Pg(l){return this.__data__.has(l)}function oh(l,c){var y=this.__data__;if(y instanceof yn){var w=y.__data__;if(!Xn||w.length<a-1)return w.push([l,c]),this.size=++y.size,this;y=this.__data__=new li(w)}return y.set(l,c),this.size=y.size,this}Fr.prototype.clear=Mg,Fr.prototype.delete=ah,Fr.prototype.get=nm,Fr.prototype.has=Pg,Fr.prototype.set=oh;function rm(l,c){var y=ht(l),w=!y&&Ia(l),C=!y&&!w&&po(l),U=!y&&!w&&!C&&fu(l),$=y||w||C||U,X=$?Ot(l.length,Ag):[],ie=X.length;for(var Ae in l)(c||en.call(l,Ae))&&!($&&(Ae=="length"||C&&(Ae=="offset"||Ae=="parent")||U&&(Ae=="buffer"||Ae=="byteLength"||Ae=="byteOffset")||Ts(Ae,ie)))&&X.push(Ae);return X}function ql(l){var c=l.length;return c?l[yh(0,c-1)]:t}function Lg(l,c){return jc(Zn(l),_s(c,0,l.length))}function kg(l){return jc(Zn(l))}function qs(l,c,y){(y!==t&&!pi(l[c],y)||y===t&&!(c in l))&&vs(l,c,y)}function Zo(l,c,y){var w=l[c];(!(en.call(l,c)&&pi(w,y))||y===t&&!(c in l))&&vs(l,c,y)}function Gl(l,c){for(var y=l.length;y--;)if(pi(l[y][0],c))return y;return-1}function Ja(l,c,y,w){return _a(l,function(C,U,$){c(w,C,y(C),$)}),w}function va(l,c){return l&&fi(c,nr(c),l)}function dc(l,c){return l&&fi(c,hr(c),l)}function vs(l,c,y){c=="__proto__"&&sc?sc(l,c,{configurable:!0,enumerable:!0,value:y,writable:!0}):l[c]=y}function mc(l,c){for(var y=-1,w=c.length,C=ge(w),U=l==null;++y<w;)C[y]=U?t:Jc(l,c[y]);return C}function _s(l,c,y){return l===l&&(y!==t&&(l=l<=y?l:y),c!==t&&(l=l>=c?l:c)),l}function Ir(l,c,y,w,C,U){var $,X=c&S,ie=c&A,Ae=c&N;if(y&&($=C?y(l,w,C,U):y(l)),$!==t)return $;if(!In(l))return l;var xe=ht(l);if(xe){if($=Im(l),!X)return Zn(l,$)}else{var De=fr(l),Ve=De==qn||De==Ar;if(po(l))return Tm(l,X);if(De==an||De==We||Ve&&!C){if($=ie||Ve?{}:Nm(l),!X)return ie?xc(l,dc($,l)):bh(l,va($,l))}else{if(!kt[De])return C?l:{};$=Dm(l,De,X)}}U||(U=new Fr);var Qe=U.get(l);if(Qe)return Qe;U.set(l,$),Jy(l)?l.forEach(function(ct){$.add(Ir(ct,c,y,ct,l,U))}):Yh(l)&&l.forEach(function(ct,jt){$.set(jt,Ir(ct,c,y,jt,l,U))});var ut=Ae?ie?xh:Rh:ie?hr:nr,At=xe?t:ut(l);return Vr(At||l,function(ct,jt){At&&(jt=ct,ct=l[jt]),Zo($,jt,Ir(ct,c,y,jt,l,U))}),$}function Ug(l){var c=nr(l);return function(y){return im(y,l,c)}}function im(l,c,y){var w=y.length;if(l==null)return!w;for(l=$t(l);w--;){var C=y[w],U=c[C],$=l[C];if($===t&&!(C in l)||!U($))return!1}return!0}function Jo(l,c,y){if(typeof l!="function")throw new Ri(h);return Jl(function(){l.apply(t,y)},c)}function eo(l,c,y,w){var C=-1,U=Fo,$=!0,X=l.length,ie=[],Ae=c.length;if(!X)return ie;y&&(c=gn(c,rn(y))),w?(U=$a,$=!1):c.length>=a&&(U=Si,$=!1,c=new ya(c));e:for(;++C<X;){var xe=l[C],De=y==null?xe:y(xe);if(xe=w||xe!==0?xe:0,$&&De===De){for(var Ve=Ae;Ve--;)if(c[Ve]===De)continue e;ie.push(xe)}else U(c,De,w)||ie.push(xe)}return ie}var _a=Am(Nr),lh=Am(Kl,!0);function sm(l,c){var y=!0;return _a(l,function(w,C,U){return y=!!c(w,C,U),y}),y}function Es(l,c,y){for(var w=-1,C=l.length;++w<C;){var U=l[w],$=c(U);if($!=null&&(X===t?$===$&&!qr($):y($,X)))var X=$,ie=U}return ie}function Et(l,c,y,w){var C=l.length;for(y=pt(y),y<0&&(y=-y>C?0:C+y),w=w===t||w>C?C:pt(w),w<0&&(w+=C),w=y>w?0:Js(w);y<w;)l[y++]=c;return l}function ln(l,c){var y=[];return _a(l,function(w,C,U){c(w,C,U)&&y.push(w)}),y}function Pt(l,c,y,w,C){var U=-1,$=l.length;for(y||(y=ba),C||(C=[]);++U<$;){var X=l[U];c>0&&y(X)?c>1?Pt(X,c-1,y,w,C):$i(C,X):w||(C[C.length]=X)}return C}var $l=al(),el=al(!0);function Nr(l,c){return l&&$l(l,c,nr)}function Kl(l,c){return l&&el(l,c,nr)}function to(l,c){return ii(c,function(y){return ws(l[y])})}function Ji(l,c){c=Ta(c,l);for(var y=0,w=c.length;l!=null&&y<w;)l=l[sn(c[y++])];return y&&y==w?l:t}function Vg(l,c,y){var w=c(l);return ht(l)?w:$i(w,y(l))}function Vt(l){return l==null?l===t?cs:us:Br&&Br in $t(l)?ay(l):hy(l)}function pc(l,c){return l>c}function am(l,c){return l!=null&&en.call(l,c)}function jg(l,c){return l!=null&&c in $t(l)}function Bg(l,c,y){return l>=Rn(c,y)&&l<wn(c,y)}function om(l,c,y){for(var w=y?$a:Fo,C=l[0].length,U=l.length,$=U,X=ge(U),ie=1/0,Ae=[];$--;){var xe=l[$];$&&c&&(xe=gn(xe,rn(c))),ie=Rn(xe.length,ie),X[$]=!y&&(c||C>=120&&xe.length>=120)?new ya($&&xe):t}xe=l[0];var De=-1,Ve=X[0];e:for(;++De<C&&Ae.length<ie;){var Qe=xe[De],ut=c?c(Qe):Qe;if(Qe=y||Qe!==0?Qe:0,!(Ve?Si(Ve,ut):w(Ae,ut,y))){for($=U;--$;){var At=X[$];if(!(At?Si(At,ut):w(l[$],ut,y)))continue e}Ve&&Ve.push(ut),Ae.push(Qe)}}return Ae}function lm(l,c,y,w){return Nr(l,function(C,U,$){c(w,y(C),U,$)}),w}function tl(l,c,y){c=Ta(c,l),l=Zl(l,c);var w=l==null?l:l[sn(Dr(c))];return w==null?t:_r(w,l,y)}function uh(l){return Dn(l)&&Vt(l)==We}function ui(l){return Dn(l)&&Vt(l)==it}function Yn(l){return Dn(l)&&Vt(l)==Mn}function nl(l,c,y,w,C){return l===c?!0:l==null||c==null||!Dn(l)&&!Dn(c)?l!==l&&c!==c:gc(l,c,y,w,nl,C)}function gc(l,c,y,w,C,U){var $=ht(l),X=ht(c),ie=$?qe:fr(l),Ae=X?qe:fr(c);ie=ie==We?an:ie,Ae=Ae==We?an:Ae;var xe=ie==an,De=Ae==an,Ve=ie==Ae;if(Ve&&po(l)){if(!po(c))return!1;$=!0,xe=!1}if(Ve&&!xe)return U||(U=new Fr),$||fu(l)?iy(l,c,y,w,C,U):sy(l,c,ie,y,w,C,U);if(!(y&O)){var Qe=xe&&en.call(l,"__wrapped__"),ut=De&&en.call(c,"__wrapped__");if(Qe||ut){var At=Qe?l.value():l,ct=ut?c.value():c;return U||(U=new Fr),C(At,ct,y,w,U)}}return Ve?(U||(U=new Fr),cr(l,c,y,w,C,U)):!1}function ch(l){return Dn(l)&&fr(l)==Wt}function yc(l,c,y,w){var C=y.length,U=C,$=!w;if(l==null)return!U;for(l=$t(l);C--;){var X=y[C];if($&&X[2]?X[1]!==l[X[0]]:!(X[0]in l))return!1}for(;++C<U;){X=y[C];var ie=X[0],Ae=l[ie],xe=X[1];if($&&X[2]){if(Ae===t&&!(ie in l))return!1}else{var De=new Fr;if(w)var Ve=w(Ae,xe,ie,l,c,De);if(!(Ve===t?nl(xe,Ae,O|H,w,De):Ve))return!1}}return!0}function Gs(l){if(!In(l)||Mh(l))return!1;var c=ws(l)?Qd:wt;return c.test(Aa(l))}function fh(l){return Dn(l)&&Vt(l)==Wr}function um(l){return Dn(l)&&fr(l)==Bn}function cm(l){return Dn(l)&&fl(l.length)&&!!Ft[Vt(l)]}function fm(l){return typeof l=="function"?l:l==null?fe:typeof l=="object"?ht(l)?mh(l[0],l[1]):dm(l):Kt(l)}function hh(l){if(!vn(l))return Qi(l);var c=[];for(var y in $t(l))en.call(l,y)&&y!="constructor"&&c.push(y);return c}function Fg(l){if(!In(l))return so(l);var c=vn(l),y=[];for(var w in l)w=="constructor"&&(c||!en.call(l,w))||y.push(w);return y}function dh(l,c){return l<c}function hm(l,c){var y=-1,w=er(l)?ge(l.length):[];return _a(l,function(C,U,$){w[++y]=c(C,U,$)}),w}function dm(l){var c=Ih(l);return c.length==1&&c[0][2]?cy(c[0][0],c[0][1]):function(y){return y===l||yc(y,l,c)}}function mh(l,c){return Dh(l)&&uy(c)?cy(sn(l),c):function(y){var w=Jc(y,l);return w===t&&w===c?pu(y,l):nl(c,w,O|H)}}function vc(l,c,y,w,C){l!==c&&$l(c,function(U,$){if(C||(C=new Fr),In(U))R0(l,c,$,y,vc,w,C);else{var X=w?w(Ph(l,$),U,$+"",l,c,C):t;X===t&&(X=U),qs(l,$,X)}},hr)}function R0(l,c,y,w,C,U,$){var X=Ph(l,y),ie=Ph(c,y),Ae=$.get(ie);if(Ae){qs(l,y,Ae);return}var xe=U?U(X,ie,y+"",l,c,$):t,De=xe===t;if(De){var Ve=ht(ie),Qe=!Ve&&po(ie),ut=!Ve&&!Qe&&fu(ie);xe=ie,Ve||Qe||ut?ht(X)?xe=X:Vn(X)?xe=Zn(X):Qe?(De=!1,xe=Tm(ie,!0)):ut?(De=!1,xe=bm(ie,!0)):xe=[]:rs(ie)||Ia(ie)?(xe=X,Ia(X)?xe=nv(X):(!In(X)||ws(X))&&(xe=Nm(ie))):De=!1}De&&($.set(ie,xe),C(xe,ie,w,U,$),$.delete(ie)),qs(l,y,xe)}function mm(l,c){var y=l.length;if(y)return c+=c<0?y:0,Ts(c,y)?l[c]:t}function pm(l,c,y){c.length?c=gn(c,function(U){return ht(U)?function($){return Ji($,U.length===1?U[0]:U)}:U}):c=[fe];var w=-1;c=gn(c,rn(Je()));var C=hm(l,function(U,$,X){var ie=gn(c,function(Ae){return Ae(U)});return{criteria:ie,index:++w,value:U}});return ye(C,function(U,$){return Xg(U,$,y)})}function zg(l,c){return ph(l,c,function(y,w){return pu(l,w)})}function ph(l,c,y){for(var w=-1,C=c.length,U={};++w<C;){var $=c[w],X=Ji(l,$);y(X,$)&&Wl(U,Ta($,l),X)}return U}function Hg(l){return function(c){return Ji(c,l)}}function gh(l,c,y,w){var C=w?zs:ma,U=-1,$=c.length,X=l;for(l===c&&(c=Zn(c)),y&&(X=gn(l,rn(y)));++U<$;)for(var ie=0,Ae=c[U],xe=y?y(Ae):Ae;(ie=C(X,xe,ie,w))>-1;)X!==l&&eh.call(X,ie,1),eh.call(l,ie,1);return l}function gm(l,c){for(var y=l?c.length:0,w=y-1;y--;){var C=c[y];if(y==w||C!==U){var U=C;Ts(C)?eh.call(l,C,1):wc(l,C)}}return l}function yh(l,c){return l+pa(Zd()*(c-l+1))}function qg(l,c,y,w){for(var C=-1,U=wn(Fl((c-l)/(y||1)),0),$=ge(U);U--;)$[w?U:++C]=l,l+=y;return $}function ym(l,c){var y="";if(!l||c<1||c>_e)return y;do c%2&&(y+=l),c=pa(c/2),c&&(l+=l);while(c);return y}function vt(l,c){return Uc(Om(l,c,fe),l+"")}function Yl(l){return ql(yu(l))}function vh(l,c){var y=yu(l);return jc(y,_s(c,0,y.length))}function Wl(l,c,y,w){if(!In(l))return l;c=Ta(c,l);for(var C=-1,U=c.length,$=U-1,X=l;X!=null&&++C<U;){var ie=sn(c[C]),Ae=y;if(ie==="__proto__"||ie==="constructor"||ie==="prototype")return l;if(C!=$){var xe=X[ie];Ae=w?w(xe,ie,X):t,Ae===t&&(Ae=In(xe)?xe:Ts(c[C+1])?[]:{})}Zo(X,ie,Ae),X=X[ie]}return l}var _c=zl?function(l,c){return zl.set(l,c),l}:fe,Ec=sc?function(l,c){return sc(l,"toString",{configurable:!0,enumerable:!1,value:ce(c),writable:!0})}:fe;function Gg(l){return jc(yu(l))}function Ci(l,c,y){var w=-1,C=l.length;c<0&&(c=-c>C?0:C+c),y=y>C?C:y,y<0&&(y+=C),C=c>y?0:y-c>>>0,c>>>=0;for(var U=ge(C);++w<C;)U[w]=l[w+c];return U}function $g(l,c){var y;return _a(l,function(w,C,U){return y=c(w,C,U),!y}),!!y}function Tc(l,c,y){var w=0,C=l==null?w:l.length;if(typeof c=="number"&&c===c&&C<=we){for(;w<C;){var U=w+C>>>1,$=l[U];$!==null&&!qr($)&&(y?$<=c:$<c)?w=U+1:C=U}return C}return _h(l,c,fe,y)}function _h(l,c,y,w){var C=0,U=l==null?0:l.length;if(U===0)return 0;c=y(c);for(var $=c!==c,X=c===null,ie=qr(c),Ae=c===t;C<U;){var xe=pa((C+U)/2),De=y(l[xe]),Ve=De!==t,Qe=De===null,ut=De===De,At=qr(De);if($)var ct=w||ut;else Ae?ct=ut&&(w||Ve):X?ct=ut&&Ve&&(w||!Qe):ie?ct=ut&&Ve&&!Qe&&(w||!At):Qe||At?ct=!1:ct=w?De<=c:De<c;ct?C=xe+1:U=xe}return Rn(U,Ne)}function vm(l,c){for(var y=-1,w=l.length,C=0,U=[];++y<w;){var $=l[y],X=c?c($):$;if(!y||!pi(X,ie)){var ie=X;U[C++]=$===0?0:$}}return U}function Eh(l){return typeof l=="number"?l:qr(l)?G:+l}function ci(l){if(typeof l=="string")return l;if(ht(l))return gn(l,ci)+"";if(qr(l))return Za?Za.call(l):"";var c=l+"";return c=="0"&&1/l==-me?"-0":c}function Ea(l,c,y){var w=-1,C=Fo,U=l.length,$=!0,X=[],ie=X;if(y)$=!1,C=$a;else if(U>=a){var Ae=c?null:ny(l);if(Ae)return Xf(Ae);$=!1,C=Si,ie=new ya}else ie=c?[]:X;e:for(;++w<U;){var xe=l[w],De=c?c(xe):xe;if(xe=y||xe!==0?xe:0,$&&De===De){for(var Ve=ie.length;Ve--;)if(ie[Ve]===De)continue e;c&&ie.push(De),X.push(xe)}else C(ie,De,y)||(ie!==X&&ie.push(De),X.push(xe))}return X}function wc(l,c){return c=Ta(c,l),l=Zl(l,c),l==null||delete l[sn(Dr(c))]}function _m(l,c,y,w){return Wl(l,c,y(Ji(l,c)),w)}function bc(l,c,y,w){for(var C=l.length,U=w?C:-1;(w?U--:++U<C)&&c(l[U],U,l););return y?Ci(l,w?0:U,w?U+1:C):Ci(l,w?U+1:0,w?C:U)}function Kg(l,c){var y=l;return y instanceof bt&&(y=y.value()),ds(c,function(w,C){return C.func.apply(C.thisArg,$i([w],C.args))},y)}function Sc(l,c,y){var w=l.length;if(w<2)return w?Ea(l[0]):[];for(var C=-1,U=ge(w);++C<w;)for(var $=l[C],X=-1;++X<w;)X!=C&&(U[C]=eo(U[C]||$,l[X],c,y));return Ea(Pt(U,1),c,y)}function Em(l,c,y){for(var w=-1,C=l.length,U=c.length,$={};++w<C;){var X=w<U?c[w]:t;y($,l[w],X)}return $}function Th(l){return Vn(l)?l:[]}function Ac(l){return typeof l=="function"?l:fe}function Ta(l,c){return ht(l)?l:Dh(l,c)?[l]:Ws(tn(l))}var Yg=vt;function no(l,c,y){var w=l.length;return y=y===t?w:y,!c&&y>=w?l:Ci(l,c,y)}var Wg=th||function(l){return En.clearTimeout(l)};function Tm(l,c){if(c)return l.slice();var y=l.length,w=qo?qo(y):new l.constructor(y);return l.copy(w),w}function rl(l){var c=new l.constructor(l.byteLength);return new Bl(c).set(new Bl(l)),c}function wm(l,c){var y=c?rl(l.buffer):l.buffer;return new l.constructor(y,l.byteOffset,l.byteLength)}function wh(l){var c=new l.constructor(l.source,Jt.exec(l));return c.lastIndex=l.lastIndex,c}function Qg(l){return Wo?$t(Wo.call(l)):{}}function bm(l,c){var y=c?rl(l.buffer):l.buffer;return new l.constructor(y,l.byteOffset,l.length)}function Rc(l,c){if(l!==c){var y=l!==t,w=l===null,C=l===l,U=qr(l),$=c!==t,X=c===null,ie=c===c,Ae=qr(c);if(!X&&!Ae&&!U&&l>c||U&&$&&ie&&!X&&!Ae||w&&$&&ie||!y&&ie||!C)return 1;if(!w&&!U&&!Ae&&l<c||Ae&&y&&C&&!w&&!U||X&&y&&C||!$&&C||!ie)return-1}return 0}function Xg(l,c,y){for(var w=-1,C=l.criteria,U=c.criteria,$=C.length,X=y.length;++w<$;){var ie=Rc(C[w],U[w]);if(ie){if(w>=X)return ie;var Ae=y[w];return ie*(Ae=="desc"?-1:1)}}return l.index-c.index}function Sm(l,c,y,w){for(var C=-1,U=l.length,$=y.length,X=-1,ie=c.length,Ae=wn(U-$,0),xe=ge(ie+Ae),De=!w;++X<ie;)xe[X]=c[X];for(;++C<$;)(De||C<U)&&(xe[y[C]]=l[C]);for(;Ae--;)xe[X++]=l[C++];return xe}function Zg(l,c,y,w){for(var C=-1,U=l.length,$=-1,X=y.length,ie=-1,Ae=c.length,xe=wn(U-X,0),De=ge(xe+Ae),Ve=!w;++C<xe;)De[C]=l[C];for(var Qe=C;++ie<Ae;)De[Qe+ie]=c[ie];for(;++$<X;)(Ve||C<U)&&(De[Qe+y[$]]=l[C++]);return De}function Zn(l,c){var y=-1,w=l.length;for(c||(c=ge(w));++y<w;)c[y]=l[y];return c}function fi(l,c,y,w){var C=!y;y||(y={});for(var U=-1,$=c.length;++U<$;){var X=c[U],ie=w?w(y[X],l[X],X,y,l):t;ie===t&&(ie=l[X]),C?vs(y,X,ie):Zo(y,X,ie)}return y}function bh(l,c){return fi(l,Mc(l),c)}function xc(l,c){return fi(l,Nh(l),c)}function il(l,c){return function(y,w){var C=ht(y)?Bo:Ja,U=c?c():{};return C(y,l,Je(w,2),U)}}function sl(l){return vt(function(c,y){var w=-1,C=y.length,U=C>1?y[C-1]:t,$=C>2?y[2]:t;for(U=l.length>3&&typeof U=="function"?(C--,U):t,$&&Hr(y[0],y[1],$)&&(U=C<3?t:U,C=1),c=$t(c);++w<C;){var X=y[w];X&&l(c,X,w,U)}return c})}function Am(l,c){return function(y,w){if(y==null)return y;if(!er(y))return l(y,w);for(var C=y.length,U=c?C:-1,$=$t(y);(c?U--:++U<C)&&w($[U],U,$)!==!1;);return y}}function al(l){return function(c,y,w){for(var C=-1,U=$t(c),$=w(c),X=$.length;X--;){var ie=$[l?X:++C];if(y(U[ie],ie,U)===!1)break}return c}}function Jg(l,c,y){var w=c&V,C=es(l);function U(){var $=this&&this!==En&&this instanceof U?C:l;return $.apply(w?y:this,arguments)}return U}function Ii(l){return function(c){c=tn(c);var y=Ka(c)?Ki(c):t,w=y?y[0]:c.charAt(0),C=y?no(y,1).join(""):c.slice(1);return w[l]()+C}}function zr(l){return function(c){return ds(p(Na(c).replace(Mo,"")),l,"")}}function es(l){return function(){var c=arguments;switch(c.length){case 0:return new l;case 1:return new l(c[0]);case 2:return new l(c[0],c[1]);case 3:return new l(c[0],c[1],c[2]);case 4:return new l(c[0],c[1],c[2],c[3]);case 5:return new l(c[0],c[1],c[2],c[3],c[4]);case 6:return new l(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new l(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var y=xi(l.prototype),w=l.apply(y,c);return In(w)?w:y}}function ey(l,c,y){var w=es(l);function C(){for(var U=arguments.length,$=ge(U),X=U,ie=ll(C);X--;)$[X]=arguments[X];var Ae=U<3&&$[0]!==ie&&$[U-1]!==ie?[]:Ya($,ie);if(U-=Ae.length,U<y)return Rm(l,c,kn,C.placeholder,t,$,Ae,t,t,y-U);var xe=this&&this!==En&&this instanceof C?w:l;return _r(xe,this,$)}return C}function wa(l){return function(c,y,w){var C=$t(c);if(!er(c)){var U=Je(y,3);c=nr(c),y=function(X){return U(C[X],X,C)}}var $=l(c,y,w);return $>-1?C[U?c[$]:$]:t}}function $s(l){return bn(function(c){var y=c.length,w=y,C=oi.prototype.thru;for(l&&c.reverse();w--;){var U=c[w];if(typeof U!="function")throw new Ri(h);if(C&&!$&&Oc(U)=="wrapper")var $=new oi([],!0)}for(w=$?w:y;++w<y;){U=c[w];var X=Oc(U),ie=X=="wrapper"?Ch(U):t;ie&&Oh(ie[0])&&ie[1]==(D|Z|ne|I)&&!ie[4].length&&ie[9]==1?$=$[Oc(ie[0])].apply($,ie[3]):$=U.length==1&&Oh(U)?$[X]():$.thru(U)}return function(){var Ae=arguments,xe=Ae[0];if($&&Ae.length==1&&ht(xe))return $.plant(xe).value();for(var De=0,Ve=y?c[De].apply(this,Ae):xe;++De<y;)Ve=c[De].call(this,Ve);return Ve}})}function kn(l,c,y,w,C,U,$,X,ie,Ae){var xe=c&D,De=c&V,Ve=c&j,Qe=c&(Z|he),ut=c&L,At=Ve?t:es(l);function ct(){for(var jt=arguments.length,Yt=ge(jt),Ss=jt;Ss--;)Yt[Ss]=arguments[Ss];if(Qe)var Pi=ll(ct),As=ec(Yt,Pi);if(w&&(Yt=Sm(Yt,w,C,Qe)),U&&(Yt=Zg(Yt,U,$,Qe)),jt-=As,Qe&&jt<Ae){var rr=Ya(Yt,Pi);return Rm(l,c,kn,ct.placeholder,y,Yt,rr,X,ie,Ae-jt)}var Da=De?y:this,hl=Ve?Da[l]:l;return jt=Yt.length,X?Yt=Ys(Yt,X):ut&&jt>1&&Yt.reverse(),xe&&ie<jt&&(Yt.length=ie),this&&this!==En&&this instanceof ct&&(hl=At||es(hl)),hl.apply(Da,Yt)}return ct}function Cc(l,c){return function(y,w){return lm(y,l,c(w),{})}}function Ql(l,c){return function(y,w){var C;if(y===t&&w===t)return c;if(y!==t&&(C=y),w!==t){if(C===t)return w;typeof y=="string"||typeof w=="string"?(y=ci(y),w=ci(w)):(y=Eh(y),w=Eh(w)),C=l(y,w)}return C}}function Ic(l){return bn(function(c){return c=gn(c,rn(Je())),vt(function(y){var w=this;return l(c,function(C){return _r(C,w,y)})})})}function Nc(l,c){c=c===t?" ":ci(c);var y=c.length;if(y<2)return y?ym(c,l):c;var w=ym(c,Fl(l/Hs(c)));return Ka(c)?no(Ki(w),0,l).join(""):w.slice(0,l)}function ty(l,c,y,w){var C=c&V,U=es(l);function $(){for(var X=-1,ie=arguments.length,Ae=-1,xe=w.length,De=ge(xe+ie),Ve=this&&this!==En&&this instanceof $?U:l;++Ae<xe;)De[Ae]=w[Ae];for(;ie--;)De[Ae++]=arguments[++X];return _r(Ve,C?y:this,De)}return $}function ro(l){return function(c,y,w){return w&&typeof w!="number"&&Hr(c,y,w)&&(y=w=t),c=Zs(c),y===t?(y=c,c=0):y=Zs(y),w=w===t?c<y?1:-1:Zs(w),qg(c,y,w,l)}}function ol(l){return function(c,y){return typeof c=="string"&&typeof y=="string"||(c=is(c),y=is(y)),l(c,y)}}function Rm(l,c,y,w,C,U,$,X,ie,Ae){var xe=c&Z,De=xe?$:t,Ve=xe?t:$,Qe=xe?U:t,ut=xe?t:U;c|=xe?ne:z,c&=~(xe?z:ne),c&ee||(c&=-4);var At=[l,c,C,Qe,De,ut,Ve,X,ie,Ae],ct=y.apply(t,At);return Oh(l)&&Lh(ct,At),ct.placeholder=w,kh(ct,l,c)}function Sh(l){var c=Kn[l];return function(y,w){if(y=is(y),w=w==null?0:Rn(pt(w),292),w&&ac(y)){var C=(tn(y)+"e").split("e"),U=c(C[0]+"e"+(+C[1]+w));return C=(tn(U)+"e").split("e"),+(C[0]+"e"+(+C[1]-w))}return c(y)}}var ny=Mt&&1/Xf(new Mt([,-0]))[1]==me?function(l){return new Mt(l)}:ze;function Dc(l){return function(c){var y=fr(c);return y==Wt?Qf(c):y==Bn?y0(c):Qn(c,l(c))}}function Ks(l,c,y,w,C,U,$,X){var ie=c&j;if(!ie&&typeof l!="function")throw new Ri(h);var Ae=w?w.length:0;if(Ae||(c&=-97,w=C=t),$=$===t?$:wn(pt($),0),X=X===t?X:pt(X),Ae-=C?C.length:0,c&z){var xe=w,De=C;w=C=t}var Ve=ie?t:Ch(l),Qe=[l,c,y,w,C,xe,De,U,$,X];if(Ve&&kc(Qe,Ve),l=Qe[0],c=Qe[1],y=Qe[2],w=Qe[3],C=Qe[4],X=Qe[9]=Qe[9]===t?ie?0:l.length:wn(Qe[9]-Ae,0),!X&&c&(Z|he)&&(c&=-25),!c||c==V)var ut=Jg(l,c,y);else c==Z||c==he?ut=ey(l,c,X):(c==ne||c==(V|ne))&&!C.length?ut=ty(l,c,y,w):ut=kn.apply(t,Qe);var At=Ve?_c:Lh;return kh(At(ut,Qe),l,c)}function Ah(l,c,y,w){return l===t||pi(l,Vl[y])&&!en.call(w,y)?c:l}function xm(l,c,y,w,C,U){return In(l)&&In(c)&&(U.set(c,l),vc(l,c,t,xm,U),U.delete(c)),l}function ry(l){return rs(l)?t:l}function iy(l,c,y,w,C,U){var $=y&O,X=l.length,ie=c.length;if(X!=ie&&!($&&ie>X))return!1;var Ae=U.get(l),xe=U.get(c);if(Ae&&xe)return Ae==c&&xe==l;var De=-1,Ve=!0,Qe=y&H?new ya:t;for(U.set(l,c),U.set(c,l);++De<X;){var ut=l[De],At=c[De];if(w)var ct=$?w(At,ut,De,c,l,U):w(ut,At,De,l,c,U);if(ct!==t){if(ct)continue;Ve=!1;break}if(Qe){if(!Ll(c,function(jt,Yt){if(!Si(Qe,Yt)&&(ut===jt||C(ut,jt,y,w,U)))return Qe.push(Yt)})){Ve=!1;break}}else if(!(ut===At||C(ut,At,y,w,U))){Ve=!1;break}}return U.delete(l),U.delete(c),Ve}function sy(l,c,y,w,C,U,$){switch(y){case An:if(l.byteLength!=c.byteLength||l.byteOffset!=c.byteOffset)return!1;l=l.buffer,c=c.buffer;case it:return!(l.byteLength!=c.byteLength||!U(new Bl(l),new Bl(c)));case Nt:case Mn:case Dt:return pi(+l,+c);case Sn:return l.name==c.name&&l.message==c.message;case Wr:case yr:return l==c+"";case Wt:var X=Qf;case Bn:var ie=w&O;if(X||(X=Xf),l.size!=c.size&&!ie)return!1;var Ae=$.get(l);if(Ae)return Ae==c;w|=H,$.set(l,c);var xe=iy(X(l),X(c),w,C,U,$);return $.delete(l),xe;case vr:if(Wo)return Wo.call(l)==Wo.call(c)}return!1}function cr(l,c,y,w,C,U){var $=y&O,X=Rh(l),ie=X.length,Ae=Rh(c),xe=Ae.length;if(ie!=xe&&!$)return!1;for(var De=ie;De--;){var Ve=X[De];if(!($?Ve in c:en.call(c,Ve)))return!1}var Qe=U.get(l),ut=U.get(c);if(Qe&&ut)return Qe==c&&ut==l;var At=!0;U.set(l,c),U.set(c,l);for(var ct=$;++De<ie;){Ve=X[De];var jt=l[Ve],Yt=c[Ve];if(w)var Ss=$?w(Yt,jt,Ve,c,l,U):w(jt,Yt,Ve,l,c,U);if(!(Ss===t?jt===Yt||C(jt,Yt,y,w,U):Ss)){At=!1;break}ct||(ct=Ve=="constructor")}if(At&&!ct){var Pi=l.constructor,As=c.constructor;Pi!=As&&"constructor"in l&&"constructor"in c&&!(typeof Pi=="function"&&Pi instanceof Pi&&typeof As=="function"&&As instanceof As)&&(At=!1)}return U.delete(l),U.delete(c),At}function bn(l){return Uc(Om(l,t,di),l+"")}function Rh(l){return Vg(l,nr,Mc)}function xh(l){return Vg(l,hr,Nh)}var Ch=zl?function(l){return zl.get(l)}:ze;function Oc(l){for(var c=l.name+"",y=Xi[c],w=en.call(Xi,c)?y.length:0;w--;){var C=y[w],U=C.func;if(U==null||U==l)return C.name}return c}function ll(l){var c=en.call(M,"placeholder")?M:l;return c.placeholder}function Je(){var l=M.iteratee||at;return l=l===at?fm:l,arguments.length?l(arguments[0],arguments[1]):l}function Xl(l,c){var y=l.__data__;return Sa(c)?y[typeof c=="string"?"string":"hash"]:y.map}function Ih(l){for(var c=nr(l),y=c.length;y--;){var w=c[y],C=l[w];c[y]=[w,C,uy(C)]}return c}function io(l,c){var y=$d(l,c);return Gs(y)?y:t}function ay(l){var c=en.call(l,Br),y=l[Br];try{l[Br]=t;var w=!0}catch{}var C=jr.call(l);return w&&(c?l[Br]=y:delete l[Br]),C}var Mc=Qa?function(l){return l==null?[]:(l=$t(l),ii(Qa(l),function(c){return Go.call(l,c)}))}:uE,Nh=Qa?function(l){for(var c=[];l;)$i(c,Mc(l)),l=rc(l);return c}:uE,fr=Vt;(oc&&fr(new oc(new ArrayBuffer(1)))!=An||Xn&&fr(new Xn)!=Wt||xn&&fr(xn.resolve())!=ja||Mt&&fr(new Mt)!=Bn||ys&&fr(new ys)!=Qr)&&(fr=function(l){var c=Vt(l),y=c==an?l.constructor:t,w=y?Aa(y):"";if(w)switch(w){case Rg:return An;case xg:return Wt;case lc:return ja;case uc:return Bn;case Cg:return Qr}return c});function oy(l,c,y){for(var w=-1,C=y.length;++w<C;){var U=y[w],$=U.size;switch(U.type){case"drop":l+=$;break;case"dropRight":c-=$;break;case"take":c=Rn(c,l+$);break;case"takeRight":l=wn(l,c-$);break}}return{start:l,end:c}}function Cm(l){var c=l.match($e);return c?c[1].split(Xe):[]}function Pc(l,c,y){c=Ta(c,l);for(var w=-1,C=c.length,U=!1;++w<C;){var $=sn(c[w]);if(!(U=l!=null&&y(l,$)))break;l=l[$]}return U||++w!=C?U:(C=l==null?0:l.length,!!C&&fl(C)&&Ts($,C)&&(ht(l)||Ia(l)))}function Im(l){var c=l.length,y=new l.constructor(c);return c&&typeof l[0]=="string"&&en.call(l,"index")&&(y.index=l.index,y.input=l.input),y}function Nm(l){return typeof l.constructor=="function"&&!vn(l)?xi(rc(l)):{}}function Dm(l,c,y){var w=l.constructor;switch(c){case it:return rl(l);case Nt:case Mn:return new w(+l);case An:return wm(l,y);case Pn:case Ba:case Xr:case Vi:case ji:case Bi:case Pr:case fs:case Zr:return bm(l,y);case Wt:return new w;case Dt:case yr:return new w(l);case Wr:return wh(l);case Bn:return new w;case vr:return Qg(l)}}function ly(l,c){var y=c.length;if(!y)return l;var w=y-1;return c[w]=(y>1?"& ":"")+c[w],c=c.join(y>2?", ":" "),l.replace(Fe,`{
/* [wrapped with `+c+`] */
`)}function ba(l){return ht(l)||Ia(l)||!!(si&&l&&l[si])}function Ts(l,c){var y=typeof l;return c=c??_e,!!c&&(y=="number"||y!="symbol"&&Wn.test(l))&&l>-1&&l%1==0&&l<c}function Hr(l,c,y){if(!In(y))return!1;var w=typeof c;return(w=="number"?er(y)&&Ts(c,y.length):w=="string"&&c in y)?pi(y[c],l):!1}function Dh(l,c){if(ht(l))return!1;var y=typeof l;return y=="number"||y=="symbol"||y=="boolean"||l==null||qr(l)?!0:ae.test(l)||!W.test(l)||c!=null&&l in $t(c)}function Sa(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}function Oh(l){var c=Oc(l),y=M[c];if(typeof y!="function"||!(c in bt.prototype))return!1;if(l===y)return!0;var w=Ch(y);return!!w&&l===w[0]}function Mh(l){return!!Wd&&Wd in l}var Lc=tc?ws:cE;function vn(l){var c=l&&l.constructor,y=typeof c=="function"&&c.prototype||Vl;return l===y}function uy(l){return l===l&&!In(l)}function cy(l,c){return function(y){return y==null?!1:y[l]===c&&(c!==t||l in $t(y))}}function fy(l){var c=Kc(l,function(w){return y.size===v&&y.clear(),w}),y=c.cache;return c}function kc(l,c){var y=l[1],w=c[1],C=y|w,U=C<(V|j|D),$=w==D&&y==Z||w==D&&y==I&&l[7].length<=c[8]||w==(D|I)&&c[7].length<=c[8]&&y==Z;if(!(U||$))return l;w&V&&(l[2]=c[2],C|=y&V?0:ee);var X=c[3];if(X){var ie=l[3];l[3]=ie?Sm(ie,X,c[4]):X,l[4]=ie?Ya(l[3],E):c[4]}return X=c[5],X&&(ie=l[5],l[5]=ie?Zg(ie,X,c[6]):X,l[6]=ie?Ya(l[5],E):c[6]),X=c[7],X&&(l[7]=X),w&D&&(l[8]=l[8]==null?c[8]:Rn(l[8],c[8])),l[9]==null&&(l[9]=c[9]),l[0]=c[0],l[1]=C,l}function so(l){var c=[];if(l!=null)for(var y in $t(l))c.push(y);return c}function hy(l){return jr.call(l)}function Om(l,c,y){return c=wn(c===t?l.length-1:c,0),function(){for(var w=arguments,C=-1,U=wn(w.length-c,0),$=ge(U);++C<U;)$[C]=w[c+C];C=-1;for(var X=ge(c+1);++C<c;)X[C]=w[C];return X[c]=y($),_r(l,this,X)}}function Zl(l,c){return c.length<2?l:Ji(l,Ci(c,0,-1))}function Ys(l,c){for(var y=l.length,w=Rn(c.length,y),C=Zn(l);w--;){var U=c[w];l[w]=Ts(U,y)?C[U]:t}return l}function Ph(l,c){if(!(c==="constructor"&&typeof l[c]=="function")&&c!="__proto__")return l[c]}var Lh=Vc(_c),Jl=Xd||function(l,c){return En.setTimeout(l,c)},Uc=Vc(Ec);function kh(l,c,y){var w=c+"";return Uc(l,ly(w,dy(Cm(w),y)))}function Vc(l){var c=0,y=0;return function(){var w=ga(),C=F-(w-y);if(y=w,C>0){if(++c>=Q)return arguments[0]}else c=0;return l.apply(t,arguments)}}function jc(l,c){var y=-1,w=l.length,C=w-1;for(c=c===t?w:c;++y<c;){var U=yh(y,C),$=l[U];l[U]=l[y],l[y]=$}return l.length=c,l}var Ws=fy(function(l){var c=[];return l.charCodeAt(0)===46&&c.push(""),l.replace(ue,function(y,w,C,U){c.push(C?U.replace(st,"$1"):w||y)}),c});function sn(l){if(typeof l=="string"||qr(l))return l;var c=l+"";return c=="0"&&1/l==-me?"-0":c}function Aa(l){if(l!=null){try{return nc.call(l)}catch{}try{return l+""}catch{}}return""}function dy(l,c){return Vr(je,function(y){var w="_."+y[0];c&y[1]&&!Fo(l,w)&&l.push(w)}),l.sort()}function Jn(l){if(l instanceof bt)return l.clone();var c=new oi(l.__wrapped__,l.__chain__);return c.__actions__=Zn(l.__actions__),c.__index__=l.__index__,c.__values__=l.__values__,c}function x0(l,c,y){(y?Hr(l,c,y):c===t)?c=1:c=wn(pt(c),0);var w=l==null?0:l.length;if(!w||c<1)return[];for(var C=0,U=0,$=ge(Fl(w/c));C<w;)$[U++]=Ci(l,C,C+=c);return $}function my(l){for(var c=-1,y=l==null?0:l.length,w=0,C=[];++c<y;){var U=l[c];U&&(C[w++]=U)}return C}function py(){var l=arguments.length;if(!l)return[];for(var c=ge(l-1),y=arguments[0],w=l;w--;)c[w-1]=arguments[w];return $i(ht(y)?Zn(y):[y],Pt(c,1))}var Cn=vt(function(l,c){return Vn(l)?eo(l,Pt(c,1,Vn,!0)):[]}),hi=vt(function(l,c){var y=Dr(c);return Vn(y)&&(y=t),Vn(l)?eo(l,Pt(c,1,Vn,!0),Je(y,2)):[]}),Ra=vt(function(l,c){var y=Dr(c);return Vn(y)&&(y=t),Vn(l)?eo(l,Pt(c,1,Vn,!0),t,y):[]});function gy(l,c,y){var w=l==null?0:l.length;return w?(c=y||c===t?1:pt(c),Ci(l,c<0?0:c,w)):[]}function yy(l,c,y){var w=l==null?0:l.length;return w?(c=y||c===t?1:pt(c),c=w-c,Ci(l,0,c<0?0:c)):[]}function C0(l,c){return l&&l.length?bc(l,Je(c,3),!0,!0):[]}function Mm(l,c){return l&&l.length?bc(l,Je(c,3),!0):[]}function Ni(l,c,y,w){var C=l==null?0:l.length;return C?(y&&typeof y!="number"&&Hr(l,c,y)&&(y=0,w=C),Et(l,c,y,w)):[]}function ts(l,c,y){var w=l==null?0:l.length;if(!w)return-1;var C=y==null?0:pt(y);return C<0&&(C=wn(w+C,0)),zo(l,Je(c,3),C)}function Pm(l,c,y){var w=l==null?0:l.length;if(!w)return-1;var C=w-1;return y!==t&&(C=pt(y),C=y<0?wn(w+C,0):Rn(C,w-1)),zo(l,Je(c,3),C,!0)}function di(l){var c=l==null?0:l.length;return c?Pt(l,1):[]}function vy(l){var c=l==null?0:l.length;return c?Pt(l,me):[]}function ao(l,c){var y=l==null?0:l.length;return y?(c=c===t?1:pt(c),Pt(l,c)):[]}function ul(l){for(var c=-1,y=l==null?0:l.length,w={};++c<y;){var C=l[c];w[C[0]]=C[1]}return w}function xa(l){return l&&l.length?l[0]:t}function Lm(l,c,y){var w=l==null?0:l.length;if(!w)return-1;var C=y==null?0:pt(y);return C<0&&(C=wn(w+C,0)),ma(l,c,C)}function km(l){var c=l==null?0:l.length;return c?Ci(l,0,-1):[]}var Qs=vt(function(l){var c=gn(l,Th);return c.length&&c[0]===l[0]?om(c):[]}),_y=vt(function(l){var c=Dr(l),y=gn(l,Th);return c===Dr(y)?c=t:y.pop(),y.length&&y[0]===l[0]?om(y,Je(c,2)):[]}),eu=vt(function(l){var c=Dr(l),y=gn(l,Th);return c=typeof c=="function"?c:t,c&&y.pop(),y.length&&y[0]===l[0]?om(y,t,c):[]});function Bc(l,c){return l==null?"":Wi.call(l,c)}function Dr(l){var c=l==null?0:l.length;return c?l[c-1]:t}function tu(l,c,y){var w=l==null?0:l.length;if(!w)return-1;var C=w;return y!==t&&(C=pt(y),C=C<0?wn(w+C,0):Rn(C,w-1)),c===c?Ai(l,c,C):zo(l,d,C,!0)}function Ey(l,c){return l&&l.length?mm(l,pt(c)):t}var Ty=vt(nu);function nu(l,c){return l&&l.length&&c&&c.length?gh(l,c):l}function wy(l,c,y){return l&&l.length&&c&&c.length?gh(l,c,Je(y,2)):l}function Uh(l,c,y){return l&&l.length&&c&&c.length?gh(l,c,t,y):l}var by=bn(function(l,c){var y=l==null?0:l.length,w=mc(l,c);return gm(l,gn(c,function(C){return Ts(C,y)?+C:C}).sort(Rc)),w});function I0(l,c){var y=[];if(!(l&&l.length))return y;var w=-1,C=[],U=l.length;for(c=Je(c,3);++w<U;){var $=l[w];c($,w,l)&&(y.push($),C.push(w))}return gm(l,C),y}function Um(l){return l==null?l:Jd.call(l)}function un(l,c,y){var w=l==null?0:l.length;return w?(y&&typeof y!="number"&&Hr(l,c,y)?(c=0,y=w):(c=c==null?0:pt(c),y=y===t?w:pt(y)),Ci(l,c,y)):[]}function Tn(l,c){return Tc(l,c)}function xt(l,c,y){return _h(l,c,Je(y,2))}function zt(l,c){var y=l==null?0:l.length;if(y){var w=Tc(l,c);if(w<y&&pi(l[w],c))return w}return-1}function cn(l,c){return Tc(l,c,!0)}function Di(l,c,y){return _h(l,c,Je(y,2),!0)}function oo(l,c){var y=l==null?0:l.length;if(y){var w=Tc(l,c,!0)-1;if(pi(l[w],c))return w}return-1}function ru(l){return l&&l.length?vm(l):[]}function Vm(l,c){return l&&l.length?vm(l,Je(c,2)):[]}function Ca(l){var c=l==null?0:l.length;return c?Ci(l,1,c):[]}function Un(l,c,y){return l&&l.length?(c=y||c===t?1:pt(c),Ci(l,0,c<0?0:c)):[]}function lo(l,c,y){var w=l==null?0:l.length;return w?(c=y||c===t?1:pt(c),c=w-c,Ci(l,c<0?0:c,w)):[]}function cl(l,c){return l&&l.length?bc(l,Je(c,3),!1,!0):[]}function jm(l,c){return l&&l.length?bc(l,Je(c,3)):[]}var ns=vt(function(l){return Ea(Pt(l,1,Vn,!0))}),iu=vt(function(l){var c=Dr(l);return Vn(c)&&(c=t),Ea(Pt(l,1,Vn,!0),Je(c,2))}),Fc=vt(function(l){var c=Dr(l);return c=typeof c=="function"?c:t,Ea(Pt(l,1,Vn,!0),t,c)});function mi(l){return l&&l.length?Ea(l):[]}function Bm(l,c){return l&&l.length?Ea(l,Je(c,2)):[]}function Fm(l,c){return c=typeof c=="function"?c:t,l&&l.length?Ea(l,t,c):[]}function su(l){if(!(l&&l.length))return[];var c=0;return l=ii(l,function(y){if(Vn(y))return c=wn(y.length,c),!0}),Ot(c,function(y){return gn(l,R(y))})}function zc(l,c){if(!(l&&l.length))return[];var y=su(l);return c==null?y:gn(y,function(w){return _r(c,t,w)})}var uo=vt(function(l,c){return Vn(l)?eo(l,c):[]}),Er=vt(function(l){return Sc(ii(l,Vn))}),co=vt(function(l){var c=Dr(l);return Vn(c)&&(c=t),Sc(ii(l,Vn),Je(c,2))}),au=vt(function(l){var c=Dr(l);return c=typeof c=="function"?c:t,Sc(ii(l,Vn),t,c)}),ou=vt(su);function zm(l,c){return Em(l||[],c||[],Zo)}function Hm(l,c){return Em(l||[],c||[],Wl)}var Sy=vt(function(l){var c=l.length,y=c>1?l[c-1]:t;return y=typeof y=="function"?(l.pop(),y):t,zc(l,y)});function lu(l){var c=M(l);return c.__chain__=!0,c}function qm(l,c){return c(l),l}function Or(l,c){return c(l)}var Ay=bn(function(l){var c=l.length,y=c?l[0]:0,w=this.__wrapped__,C=function(U){return mc(U,l)};return c>1||this.__actions__.length||!(w instanceof bt)||!Ts(y)?this.thru(C):(w=w.slice(y,+y+(c?1:0)),w.__actions__.push({func:Or,args:[C],thisArg:t}),new oi(w,this.__chain__).thru(function(U){return c&&!U.length&&U.push(t),U}))});function Oi(){return lu(this)}function Ry(){return new oi(this.value(),this.__chain__)}function xy(){this.__values__===t&&(this.__values__=Mi(this.value()));var l=this.__index__>=this.__values__.length,c=l?t:this.__values__[this.__index__++];return{done:l,value:c}}function N0(){return this}function fo(l){for(var c,y=this;y instanceof Zi;){var w=Jn(y);w.__index__=0,w.__values__=t,c?C.__wrapped__=w:c=w;var C=w;y=y.__wrapped__}return C.__wrapped__=l,c}function Vh(){var l=this.__wrapped__;if(l instanceof bt){var c=l;return this.__actions__.length&&(c=new bt(this)),c=c.reverse(),c.__actions__.push({func:Or,args:[Um],thisArg:t}),new oi(c,this.__chain__)}return this.thru(Um)}function Gm(){return Kg(this.__wrapped__,this.__actions__)}var uu=il(function(l,c,y){en.call(l,y)?++l[y]:vs(l,y,1)});function Cy(l,c,y){var w=ht(l)?Pl:sm;return y&&Hr(l,c,y)&&(c=t),w(l,Je(c,3))}function Iy(l,c){var y=ht(l)?ii:ln;return y(l,Je(c,3))}var Ny=wa(ts),$m=wa(Pm);function Km(l,c){return Pt(Hc(l,c),1)}function D0(l,c){return Pt(Hc(l,c),me)}function O0(l,c,y){return y=y===t?1:pt(y),Pt(Hc(l,c),y)}function Dy(l,c){var y=ht(l)?Vr:_a;return y(l,Je(c,3))}function Ym(l,c){var y=ht(l)?Gf:lh;return y(l,Je(c,3))}var Oy=il(function(l,c,y){en.call(l,y)?l[y].push(c):vs(l,y,[c])});function cu(l,c,y,w){l=er(l)?l:yu(l),y=y&&!w?pt(y):0;var C=l.length;return y<0&&(y=wn(C+y,0)),Qh(l)?y<=C&&l.indexOf(c,y)>-1:!!C&&ma(l,c,y)>-1}var jh=vt(function(l,c,y){var w=-1,C=typeof c=="function",U=er(l)?ge(l.length):[];return _a(l,function($){U[++w]=C?_r(c,$,y):tl($,c,y)}),U}),My=il(function(l,c,y){vs(l,y,c)});function Hc(l,c){var y=ht(l)?gn:hm;return y(l,Je(c,3))}function Py(l,c,y,w){return l==null?[]:(ht(c)||(c=c==null?[]:[c]),y=w?t:y,ht(y)||(y=y==null?[]:[y]),pm(l,c,y))}var Ly=il(function(l,c,y){l[y?0:1].push(c)},function(){return[[],[]]});function ky(l,c,y){var w=ht(l)?ds:oe,C=arguments.length<3;return w(l,Je(c,4),y,C,_a)}function Uy(l,c,y){var w=ht(l)?$f:oe,C=arguments.length<3;return w(l,Je(c,4),y,C,lh)}function Bh(l,c){var y=ht(l)?ii:ln;return y(l,Yc(Je(c,3)))}function Vy(l){var c=ht(l)?ql:Yl;return c(l)}function jy(l,c,y){(y?Hr(l,c,y):c===t)?c=1:c=pt(c);var w=ht(l)?Lg:vh;return w(l,c)}function _n(l){var c=ht(l)?kg:Gg;return c(l)}function Wm(l){if(l==null)return 0;if(er(l))return Qh(l)?Hs(l):l.length;var c=fr(l);return c==Wt||c==Bn?l.size:hh(l).length}function M0(l,c,y){var w=ht(l)?Ll:$g;return y&&Hr(l,c,y)&&(c=t),w(l,Je(c,3))}var By=vt(function(l,c){if(l==null)return[];var y=c.length;return y>1&&Hr(l,c[0],c[1])?c=[]:y>2&&Hr(c[0],c[1],c[2])&&(c=[c[0]]),pm(l,Pt(c,1),[])}),Fh=Ko||function(){return En.Date.now()};function P0(l,c){if(typeof c!="function")throw new Ri(h);return l=pt(l),function(){if(--l<1)return c.apply(this,arguments)}}function Fy(l,c,y){return c=y?t:c,c=l&&c==null?l.length:c,Ks(l,D,t,t,t,t,c)}function qc(l,c){var y;if(typeof c!="function")throw new Ri(h);return l=pt(l),function(){return--l>0&&(y=c.apply(this,arguments)),l<=1&&(c=t),y}}var ho=vt(function(l,c,y){var w=V;if(y.length){var C=Ya(y,ll(ho));w|=ne}return Ks(l,w,c,y,C)}),zh=vt(function(l,c,y){var w=V|j;if(y.length){var C=Ya(y,ll(zh));w|=ne}return Ks(c,w,l,y,C)});function Gc(l,c,y){c=y?t:c;var w=Ks(l,Z,t,t,t,t,t,c);return w.placeholder=Gc.placeholder,w}function Hh(l,c,y){c=y?t:c;var w=Ks(l,he,t,t,t,t,t,c);return w.placeholder=Hh.placeholder,w}function mo(l,c,y){var w,C,U,$,X,ie,Ae=0,xe=!1,De=!1,Ve=!0;if(typeof l!="function")throw new Ri(h);c=is(c)||0,In(y)&&(xe=!!y.leading,De="maxWait"in y,U=De?wn(is(y.maxWait)||0,c):U,Ve="trailing"in y?!!y.trailing:Ve);function Qe(rr){var Da=w,hl=C;return w=C=t,Ae=rr,$=l.apply(hl,Da),$}function ut(rr){return Ae=rr,X=Jl(jt,c),xe?Qe(rr):$}function At(rr){var Da=rr-ie,hl=rr-Ae,bb=c-Da;return De?Rn(bb,U-hl):bb}function ct(rr){var Da=rr-ie,hl=rr-Ae;return ie===t||Da>=c||Da<0||De&&hl>=U}function jt(){var rr=Fh();if(ct(rr))return Yt(rr);X=Jl(jt,At(rr))}function Yt(rr){return X=t,Ve&&w?Qe(rr):(w=C=t,$)}function Ss(){X!==t&&Wg(X),Ae=0,w=ie=C=X=t}function Pi(){return X===t?$:Yt(Fh())}function As(){var rr=Fh(),Da=ct(rr);if(w=arguments,C=this,ie=rr,Da){if(X===t)return ut(ie);if(De)return Wg(X),X=Jl(jt,c),Qe(ie)}return X===t&&(X=Jl(jt,c)),$}return As.cancel=Ss,As.flush=Pi,As}var Xs=vt(function(l,c){return Jo(l,1,c)}),$c=vt(function(l,c,y){return Jo(l,is(c)||0,y)});function L0(l){return Ks(l,L)}function Kc(l,c){if(typeof l!="function"||c!=null&&typeof c!="function")throw new Ri(h);var y=function(){var w=arguments,C=c?c.apply(this,w):w[0],U=y.cache;if(U.has(C))return U.get(C);var $=l.apply(this,w);return y.cache=U.set(C,$)||U,$};return y.cache=new(Kc.Cache||li),y}Kc.Cache=li;function Yc(l){if(typeof l!="function")throw new Ri(h);return function(){var c=arguments;switch(c.length){case 0:return!l.call(this);case 1:return!l.call(this,c[0]);case 2:return!l.call(this,c[0],c[1]);case 3:return!l.call(this,c[0],c[1],c[2])}return!l.apply(this,c)}}function zy(l){return qc(2,l)}var Hy=Yg(function(l,c){c=c.length==1&&ht(c[0])?gn(c[0],rn(Je())):gn(Pt(c,1),rn(Je()));var y=c.length;return vt(function(w){for(var C=-1,U=Rn(w.length,y);++C<U;)w[C]=c[C].call(this,w[C]);return _r(l,this,w)})}),Qm=vt(function(l,c){var y=Ya(c,ll(Qm));return Ks(l,ne,t,c,y)}),qh=vt(function(l,c){var y=Ya(c,ll(qh));return Ks(l,z,t,c,y)}),qy=bn(function(l,c){return Ks(l,I,t,t,t,c)});function Gy(l,c){if(typeof l!="function")throw new Ri(h);return c=c===t?c:pt(c),vt(l,c)}function k0(l,c){if(typeof l!="function")throw new Ri(h);return c=c==null?0:wn(pt(c),0),vt(function(y){var w=y[c],C=no(y,0,c);return w&&$i(C,w),_r(l,this,C)})}function Xm(l,c,y){var w=!0,C=!0;if(typeof l!="function")throw new Ri(h);return In(y)&&(w="leading"in y?!!y.leading:w,C="trailing"in y?!!y.trailing:C),mo(l,c,{leading:w,maxWait:c,trailing:C})}function Zm(l){return Fy(l,1)}function U0(l,c){return Qm(Ac(c),l)}function V0(){if(!arguments.length)return[];var l=arguments[0];return ht(l)?l:[l]}function Wc(l){return Ir(l,N)}function j0(l,c){return c=typeof c=="function"?c:t,Ir(l,N,c)}function $y(l){return Ir(l,S|N)}function Ct(l,c){return c=typeof c=="function"?c:t,Ir(l,S|N,c)}function Jm(l,c){return c==null||im(l,c,nr(c))}function pi(l,c){return l===c||l!==l&&c!==c}var ep=ol(pc),Ky=ol(function(l,c){return l>=c}),Ia=uh(function(){return arguments}())?uh:function(l){return Dn(l)&&en.call(l,"callee")&&!Go.call(l,"callee")},ht=ge.isArray,Gh=Uo?rn(Uo):ui;function er(l){return l!=null&&fl(l.length)&&!ws(l)}function Vn(l){return Dn(l)&&er(l)}function B0(l){return l===!0||l===!1||Dn(l)&&Vt(l)==Nt}var po=nh||cE,Yy=Ml?rn(Ml):Yn;function Wy(l){return Dn(l)&&l.nodeType===1&&!rs(l)}function $h(l){if(l==null)return!0;if(er(l)&&(ht(l)||typeof l=="string"||typeof l.splice=="function"||po(l)||fu(l)||Ia(l)))return!l.length;var c=fr(l);if(c==Wt||c==Bn)return!l.size;if(vn(l))return!hh(l).length;for(var y in l)if(en.call(l,y))return!1;return!0}function fn(l,c){return nl(l,c)}function tp(l,c,y){y=typeof y=="function"?y:t;var w=y?y(l,c):t;return w===t?nl(l,c,t,y):!!w}function tr(l){if(!Dn(l))return!1;var c=Vt(l);return c==Sn||c==Zt||typeof l.message=="string"&&typeof l.name=="string"&&!rs(l)}function F0(l){return typeof l=="number"&&ac(l)}function ws(l){if(!In(l))return!1;var c=Vt(l);return c==qn||c==Ar||c==mn||c==sa}function Kh(l){return typeof l=="number"&&l==pt(l)}function fl(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=_e}function In(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}function Dn(l){return l!=null&&typeof l=="object"}var Yh=Vo?rn(Vo):ch;function np(l,c){return l===c||yc(l,c,Ih(c))}function z0(l,c,y){return y=typeof y=="function"?y:t,yc(l,c,Ih(c),y)}function Qy(l){return Zy(l)&&l!=+l}function H0(l){if(Lc(l))throw new lt(u);return Gs(l)}function Xy(l){return l===null}function q0(l){return l==null}function Zy(l){return typeof l=="number"||Dn(l)&&Vt(l)==Dt}function rs(l){if(!Dn(l)||Vt(l)!=an)return!1;var c=rc(l);if(c===null)return!0;var y=en.call(c,"constructor")&&c.constructor;return typeof y=="function"&&y instanceof y&&nc.call(y)==Yi}var Wh=Ju?rn(Ju):fh;function rp(l){return Kh(l)&&l>=-_e&&l<=_e}var Jy=jo?rn(jo):um;function Qh(l){return typeof l=="string"||!ht(l)&&Dn(l)&&Vt(l)==yr}function qr(l){return typeof l=="symbol"||Dn(l)&&Vt(l)==vr}var fu=qf?rn(qf):cm;function bs(l){return l===t}function ip(l){return Dn(l)&&fr(l)==Qr}function ev(l){return Dn(l)&&Vt(l)==Ge}var tv=ol(dh),Qc=ol(function(l,c){return l<=c});function Mi(l){if(!l)return[];if(er(l))return Qh(l)?Ki(l):Zn(l);if($o&&l[$o])return Tg(l[$o]());var c=fr(l),y=c==Wt?Qf:c==Bn?Xf:yu;return y(l)}function Zs(l){if(!l)return l===0?l:0;if(l=is(l),l===me||l===-me){var c=l<0?-1:1;return c*Pe}return l===l?l:0}function pt(l){var c=Zs(l),y=c%1;return c===c?y?c-y:c:0}function Js(l){return l?_s(pt(l),0,pe):0}function is(l){if(typeof l=="number")return l;if(qr(l))return G;if(In(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=In(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=Ut(l);var y=Lt.test(l);return y||zi.test(l)?Hf(l.slice(2),y?2:8):Qt.test(l)?G:+l}function nv(l){return fi(l,hr(l))}function hu(l){return l?_s(pt(l),-_e,_e):l===0?l:0}function tn(l){return l==null?"":ci(l)}var G0=sl(function(l,c){if(vn(c)||er(c)){fi(c,nr(c),l);return}for(var y in c)en.call(c,y)&&Zo(l,y,c[y])}),rv=sl(function(l,c){fi(c,hr(c),l)}),Xh=sl(function(l,c,y,w){fi(c,hr(c),l,w)}),$0=sl(function(l,c,y,w){fi(c,nr(c),l,w)}),K0=bn(mc);function Y0(l,c){var y=xi(l);return c==null?y:va(y,c)}var W0=vt(function(l,c){l=$t(l);var y=-1,w=c.length,C=w>2?c[2]:t;for(C&&Hr(c[0],c[1],C)&&(w=1);++y<w;)for(var U=c[y],$=hr(U),X=-1,ie=$.length;++X<ie;){var Ae=$[X],xe=l[Ae];(xe===t||pi(xe,Vl[Ae])&&!en.call(l,Ae))&&(l[Ae]=U[Ae])}return l}),iv=vt(function(l){return l.push(t,xm),_r(ef,t,l)});function du(l,c){return Cr(l,Je(c,3),Nr)}function Xc(l,c){return Cr(l,Je(c,3),Kl)}function sv(l,c){return l==null?l:$l(l,Je(c,3),hr)}function Q0(l,c){return l==null?l:el(l,Je(c,3),hr)}function mu(l,c){return l&&Nr(l,Je(c,3))}function Zc(l,c){return l&&Kl(l,Je(c,3))}function av(l){return l==null?[]:to(l,nr(l))}function Zh(l){return l==null?[]:to(l,hr(l))}function Jc(l,c,y){var w=l==null?t:Ji(l,c);return w===t?y:w}function sp(l,c){return l!=null&&Pc(l,c,am)}function pu(l,c){return l!=null&&Pc(l,c,jg)}var ov=Cc(function(l,c,y){c!=null&&typeof c.toString!="function"&&(c=jr.call(c)),l[c]=y},ce(fe)),lv=Cc(function(l,c,y){c!=null&&typeof c.toString!="function"&&(c=jr.call(c)),en.call(l,c)?l[c].push(y):l[c]=[y]},Je),X0=vt(tl);function nr(l){return er(l)?rm(l):hh(l)}function hr(l){return er(l)?rm(l,!0):Fg(l)}function Z0(l,c){var y={};return c=Je(c,3),Nr(l,function(w,C,U){vs(y,c(w,C,U),w)}),y}function J0(l,c){var y={};return c=Je(c,3),Nr(l,function(w,C,U){vs(y,C,c(w,C,U))}),y}var eE=sl(function(l,c,y){vc(l,c,y)}),ef=sl(function(l,c,y,w){vc(l,c,y,w)}),Jh=bn(function(l,c){var y={};if(l==null)return y;var w=!1;c=gn(c,function(U){return U=Ta(U,l),w||(w=U.length>1),U}),fi(l,xh(l),y),w&&(y=Ir(y,S|A|N,ry));for(var C=c.length;C--;)wc(y,c[C]);return y});function ap(l,c){return gu(l,Yc(Je(c)))}var tE=bn(function(l,c){return l==null?{}:zg(l,c)});function gu(l,c){if(l==null)return{};var y=gn(xh(l),function(w){return[w]});return c=Je(c),ph(l,y,function(w,C){return c(w,C[0])})}function nE(l,c,y){c=Ta(c,l);var w=-1,C=c.length;for(C||(C=1,l=t);++w<C;){var U=l==null?t:l[sn(c[w])];U===t&&(w=C,U=y),l=ws(U)?U.call(l):U}return l}function uv(l,c,y){return l==null?l:Wl(l,c,y)}function cv(l,c,y,w){return w=typeof w=="function"?w:t,l==null?l:Wl(l,c,y,w)}var op=Dc(nr),lp=Dc(hr);function up(l,c,y){var w=ht(l),C=w||po(l)||fu(l);if(c=Je(c,4),y==null){var U=l&&l.constructor;C?y=w?new U:[]:In(l)?y=ws(U)?xi(rc(l)):{}:y={}}return(C?Vr:Nr)(l,function($,X,ie){return c(y,$,X,ie)}),y}function fv(l,c){return l==null?!0:wc(l,c)}function ed(l,c,y){return l==null?l:_m(l,c,Ac(y))}function rE(l,c,y,w){return w=typeof w=="function"?w:t,l==null?l:_m(l,c,Ac(y),w)}function yu(l){return l==null?[]:zn(l,nr(l))}function cp(l){return l==null?[]:zn(l,hr(l))}function fp(l,c,y){return y===t&&(y=c,c=t),y!==t&&(y=is(y),y=y===y?y:0),c!==t&&(c=is(c),c=c===c?c:0),_s(is(l),c,y)}function td(l,c,y){return c=Zs(c),y===t?(y=c,c=0):y=Zs(y),l=is(l),Bg(l,c,y)}function hp(l,c,y){if(y&&typeof y!="boolean"&&Hr(l,c,y)&&(c=y=t),y===t&&(typeof c=="boolean"?(y=c,c=t):typeof l=="boolean"&&(y=l,l=t)),l===t&&c===t?(l=0,c=1):(l=Zs(l),c===t?(c=l,l=0):c=Zs(c)),l>c){var w=l;l=c,c=w}if(y||l%1||c%1){var C=Zd();return Rn(l+C*(c-l+Lo("1e-"+((C+"").length-1))),c)}return yh(l,c)}var hv=zr(function(l,c,y){return c=c.toLowerCase(),l+(y?nd(c):c)});function nd(l){return f(tn(l).toLowerCase())}function Na(l){return l=tn(l),l&&l.replace(kr,Wf).replace(hs,"")}function go(l,c,y){l=tn(l),c=ci(c);var w=l.length;y=y===t?w:_s(pt(y),0,w);var C=y;return y-=c.length,y>=0&&l.slice(y,C)==c}function yo(l){return l=tn(l),l&&Lr.test(l)?l.replace(Fi,vg):l}function tf(l){return l=tn(l),l&&Oe.test(l)?l.replace(Se,"\\$&"):l}var nf=zr(function(l,c,y){return l+(y?"-":"")+c.toLowerCase()}),vo=zr(function(l,c,y){return l+(y?" ":"")+c.toLowerCase()}),iE=Ii("toLowerCase");function dv(l,c,y){l=tn(l),c=pt(c);var w=c?Hs(l):0;if(!c||w>=c)return l;var C=(c-w)/2;return Nc(pa(C),y)+l+Nc(Fl(C),y)}function rf(l,c,y){l=tn(l),c=pt(c);var w=c?Hs(l):0;return c&&w<c?l+Nc(c-w,y):l}function sE(l,c,y){l=tn(l),c=pt(c);var w=c?Hs(l):0;return c&&w<c?Nc(c-w,y)+l:l}function mv(l,c,y){return y||c==null?c=0:c&&(c=+c),Yo(tn(l).replace(Be,""),c||0)}function rd(l,c,y){return(y?Hr(l,c,y):c===t)?c=1:c=pt(c),ym(tn(l),c)}function pv(){var l=arguments,c=tn(l[0]);return l.length<3?c:c.replace(l[1],l[2])}var aE=zr(function(l,c,y){return l+(y?"_":"")+c.toLowerCase()});function id(l,c,y){return y&&typeof y!="number"&&Hr(l,c,y)&&(c=y=t),y=y===t?pe:y>>>0,y?(l=tn(l),l&&(typeof c=="string"||c!=null&&!Wh(c))&&(c=ci(c),!c&&Ka(l))?no(Ki(l),0,y):l.split(c,y)):[]}var sd=zr(function(l,c,y){return l+(y?" ":"")+f(c)});function gv(l,c,y){return l=tn(l),y=y==null?0:_s(pt(y),0,l.length),c=ci(c),l.slice(y,y+c.length)==c}function sf(l,c,y){var w=M.templateSettings;y&&Hr(l,c,y)&&(c=t),l=tn(l),c=Xh({},c,w,Ah);var C=Xh({},c.imports,w.imports,Ah),U=nr(C),$=zn(C,U),X,ie,Ae=0,xe=c.interpolate||Gn,De="__p += '",Ve=Zf((c.escape||Gn).source+"|"+xe.source+"|"+(xe===oa?Rt:Gn).source+"|"+(c.evaluate||Gn).source+"|$","g"),Qe="//# sourceURL="+(en.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Wu+"]")+`
`;l.replace(Ve,function(ct,jt,Yt,Ss,Pi,As){return Yt||(Yt=Ss),De+=l.slice(Ae,As).replace(Ps,_g),jt&&(X=!0,De+=`' +
__e(`+jt+`) +
'`),Pi&&(ie=!0,De+=`';
`+Pi+`;
__p += '`),Yt&&(De+=`' +
((__t = (`+Yt+`)) == null ? '' : __t) +
'`),Ae=As+ct.length,ct}),De+=`';
`;var ut=en.call(c,"variable")&&c.variable;if(!ut)De=`with (obj) {
`+De+`
}
`;else if(Ke.test(ut))throw new lt(m);De=(ie?De.replace(Fa,""):De).replace(aa,"$1").replace(Do,"$1;"),De="function("+(ut||"obj")+`) {
`+(ut?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(X?", __e = _.escape":"")+(ie?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+De+`return __p
}`;var At=_(function(){return Gt(U,Qe+"return "+De).apply(t,$)});if(At.source=De,tr(At))throw At;return At}function dp(l){return tn(l).toLowerCase()}function ad(l){return tn(l).toUpperCase()}function yv(l,c,y){if(l=tn(l),l&&(y||c===t))return Ut(l);if(!l||!(c=ci(c)))return l;var w=Ki(l),C=Ki(c),U=ur(w,C),$=ms(w,C)+1;return no(w,U,$).join("")}function oE(l,c,y){if(l=tn(l),l&&(y||c===t))return l.slice(0,Kd(l)+1);if(!l||!(c=ci(c)))return l;var w=Ki(l),C=ms(w,Ki(c))+1;return no(w,0,C).join("")}function od(l,c,y){if(l=tn(l),l&&(y||c===t))return l.replace(Be,"");if(!l||!(c=ci(c)))return l;var w=Ki(l),C=ur(w,Ki(c));return no(w,C).join("")}function r(l,c){var y=q,w=K;if(In(c)){var C="separator"in c?c.separator:C;y="length"in c?pt(c.length):y,w="omission"in c?ci(c.omission):w}l=tn(l);var U=l.length;if(Ka(l)){var $=Ki(l);U=$.length}if(y>=U)return l;var X=y-Hs(w);if(X<1)return w;var ie=$?no($,0,X).join(""):l.slice(0,X);if(C===t)return ie+w;if($&&(X+=ie.length-X),Wh(C)){if(l.slice(X).search(C)){var Ae,xe=ie;for(C.global||(C=Zf(C.source,tn(Jt.exec(C))+"g")),C.lastIndex=0;Ae=C.exec(xe);)var De=Ae.index;ie=ie.slice(0,De===t?X:De)}}else if(l.indexOf(ci(C),X)!=X){var Ve=ie.lastIndexOf(C);Ve>-1&&(ie=ie.slice(0,Ve))}return ie+w}function s(l){return l=tn(l),l&&za.test(l)?l.replace(bi,bg):l}var o=zr(function(l,c,y){return l+(y?" ":"")+c.toUpperCase()}),f=Ii("toUpperCase");function p(l,c,y){return l=tn(l),c=y?t:c,c===t?Eg(l)?_0(l):kl(l):l.match(c)||[]}var _=vt(function(l,c){try{return _r(l,t,c)}catch(y){return tr(y)?y:new lt(y)}}),x=bn(function(l,c){return Vr(c,function(y){y=sn(y),vs(l,y,ho(l[y],l))}),l});function P(l){var c=l==null?0:l.length,y=Je();return l=c?gn(l,function(w){if(typeof w[1]!="function")throw new Ri(h);return[y(w[0]),w[1]]}):[],vt(function(w){for(var C=-1;++C<c;){var U=l[C];if(_r(U[0],this,w))return _r(U[1],this,w)}})}function Y(l){return Ug(Ir(l,S))}function ce(l){return function(){return l}}function Te(l,c){return l==null||l!==l?c:l}var Re=$s(),de=$s(!0);function fe(l){return l}function at(l){return fm(typeof l=="function"?l:Ir(l,S))}function rt(l){return dm(Ir(l,S))}function hn(l,c){return mh(l,Ir(c,S))}var re=vt(function(l,c){return function(y){return tl(y,l,c)}}),J=vt(function(l,c){return function(y){return tl(l,y,c)}});function le(l,c,y){var w=nr(c),C=to(c,w);y==null&&!(In(c)&&(C.length||!w.length))&&(y=c,c=l,l=this,C=to(c,nr(c)));var U=!(In(y)&&"chain"in y)||!!y.chain,$=ws(l);return Vr(C,function(X){var ie=c[X];l[X]=ie,$&&(l.prototype[X]=function(){var Ae=this.__chain__;if(U||Ae){var xe=l(this.__wrapped__),De=xe.__actions__=Zn(this.__actions__);return De.push({func:ie,args:arguments,thisArg:l}),xe.__chain__=Ae,xe}return ie.apply(l,$i([this.value()],arguments))})}),l}function be(){return En._===this&&(En._=jl),this}function ze(){}function St(l){return l=pt(l),vt(function(c){return mm(c,l)})}var Ze=Ic(gn),ot=Ic(Pl),dr=Ic(Ll);function Kt(l){return Dh(l)?R(sn(l)):Hg(l)}function _o(l){return function(c){return l==null?t:Ji(l,c)}}var lE=ro(),PI=ro(!0);function uE(){return[]}function cE(){return!1}function LI(){return{}}function kI(){return""}function UI(){return!0}function VI(l,c){if(l=pt(l),l<1||l>_e)return[];var y=pe,w=Rn(l,pe);c=Je(c),l-=pe;for(var C=Ot(w,c);++y<l;)c(y);return C}function jI(l){return ht(l)?gn(l,sn):qr(l)?[l]:Zn(Ws(tn(l)))}function BI(l){var c=++ps;return tn(l)+c}var FI=Ql(function(l,c){return l+c},0),zI=Sh("ceil"),HI=Ql(function(l,c){return l/c},1),qI=Sh("floor");function GI(l){return l&&l.length?Es(l,fe,pc):t}function $I(l,c){return l&&l.length?Es(l,Je(c,2),pc):t}function KI(l){return T(l,fe)}function YI(l,c){return T(l,Je(c,2))}function WI(l){return l&&l.length?Es(l,fe,dh):t}function QI(l,c){return l&&l.length?Es(l,Je(c,2),dh):t}var XI=Ql(function(l,c){return l*c},1),ZI=Sh("round"),JI=Ql(function(l,c){return l-c},0);function eN(l){return l&&l.length?Le(l,fe):0}function tN(l,c){return l&&l.length?Le(l,Je(c,2)):0}return M.after=P0,M.ary=Fy,M.assign=G0,M.assignIn=rv,M.assignInWith=Xh,M.assignWith=$0,M.at=K0,M.before=qc,M.bind=ho,M.bindAll=x,M.bindKey=zh,M.castArray=V0,M.chain=lu,M.chunk=x0,M.compact=my,M.concat=py,M.cond=P,M.conforms=Y,M.constant=ce,M.countBy=uu,M.create=Y0,M.curry=Gc,M.curryRight=Hh,M.debounce=mo,M.defaults=W0,M.defaultsDeep=iv,M.defer=Xs,M.delay=$c,M.difference=Cn,M.differenceBy=hi,M.differenceWith=Ra,M.drop=gy,M.dropRight=yy,M.dropRightWhile=C0,M.dropWhile=Mm,M.fill=Ni,M.filter=Iy,M.flatMap=Km,M.flatMapDeep=D0,M.flatMapDepth=O0,M.flatten=di,M.flattenDeep=vy,M.flattenDepth=ao,M.flip=L0,M.flow=Re,M.flowRight=de,M.fromPairs=ul,M.functions=av,M.functionsIn=Zh,M.groupBy=Oy,M.initial=km,M.intersection=Qs,M.intersectionBy=_y,M.intersectionWith=eu,M.invert=ov,M.invertBy=lv,M.invokeMap=jh,M.iteratee=at,M.keyBy=My,M.keys=nr,M.keysIn=hr,M.map=Hc,M.mapKeys=Z0,M.mapValues=J0,M.matches=rt,M.matchesProperty=hn,M.memoize=Kc,M.merge=eE,M.mergeWith=ef,M.method=re,M.methodOf=J,M.mixin=le,M.negate=Yc,M.nthArg=St,M.omit=Jh,M.omitBy=ap,M.once=zy,M.orderBy=Py,M.over=Ze,M.overArgs=Hy,M.overEvery=ot,M.overSome=dr,M.partial=Qm,M.partialRight=qh,M.partition=Ly,M.pick=tE,M.pickBy=gu,M.property=Kt,M.propertyOf=_o,M.pull=Ty,M.pullAll=nu,M.pullAllBy=wy,M.pullAllWith=Uh,M.pullAt=by,M.range=lE,M.rangeRight=PI,M.rearg=qy,M.reject=Bh,M.remove=I0,M.rest=Gy,M.reverse=Um,M.sampleSize=jy,M.set=uv,M.setWith=cv,M.shuffle=_n,M.slice=un,M.sortBy=By,M.sortedUniq=ru,M.sortedUniqBy=Vm,M.split=id,M.spread=k0,M.tail=Ca,M.take=Un,M.takeRight=lo,M.takeRightWhile=cl,M.takeWhile=jm,M.tap=qm,M.throttle=Xm,M.thru=Or,M.toArray=Mi,M.toPairs=op,M.toPairsIn=lp,M.toPath=jI,M.toPlainObject=nv,M.transform=up,M.unary=Zm,M.union=ns,M.unionBy=iu,M.unionWith=Fc,M.uniq=mi,M.uniqBy=Bm,M.uniqWith=Fm,M.unset=fv,M.unzip=su,M.unzipWith=zc,M.update=ed,M.updateWith=rE,M.values=yu,M.valuesIn=cp,M.without=uo,M.words=p,M.wrap=U0,M.xor=Er,M.xorBy=co,M.xorWith=au,M.zip=ou,M.zipObject=zm,M.zipObjectDeep=Hm,M.zipWith=Sy,M.entries=op,M.entriesIn=lp,M.extend=rv,M.extendWith=Xh,le(M,M),M.add=FI,M.attempt=_,M.camelCase=hv,M.capitalize=nd,M.ceil=zI,M.clamp=fp,M.clone=Wc,M.cloneDeep=$y,M.cloneDeepWith=Ct,M.cloneWith=j0,M.conformsTo=Jm,M.deburr=Na,M.defaultTo=Te,M.divide=HI,M.endsWith=go,M.eq=pi,M.escape=yo,M.escapeRegExp=tf,M.every=Cy,M.find=Ny,M.findIndex=ts,M.findKey=du,M.findLast=$m,M.findLastIndex=Pm,M.findLastKey=Xc,M.floor=qI,M.forEach=Dy,M.forEachRight=Ym,M.forIn=sv,M.forInRight=Q0,M.forOwn=mu,M.forOwnRight=Zc,M.get=Jc,M.gt=ep,M.gte=Ky,M.has=sp,M.hasIn=pu,M.head=xa,M.identity=fe,M.includes=cu,M.indexOf=Lm,M.inRange=td,M.invoke=X0,M.isArguments=Ia,M.isArray=ht,M.isArrayBuffer=Gh,M.isArrayLike=er,M.isArrayLikeObject=Vn,M.isBoolean=B0,M.isBuffer=po,M.isDate=Yy,M.isElement=Wy,M.isEmpty=$h,M.isEqual=fn,M.isEqualWith=tp,M.isError=tr,M.isFinite=F0,M.isFunction=ws,M.isInteger=Kh,M.isLength=fl,M.isMap=Yh,M.isMatch=np,M.isMatchWith=z0,M.isNaN=Qy,M.isNative=H0,M.isNil=q0,M.isNull=Xy,M.isNumber=Zy,M.isObject=In,M.isObjectLike=Dn,M.isPlainObject=rs,M.isRegExp=Wh,M.isSafeInteger=rp,M.isSet=Jy,M.isString=Qh,M.isSymbol=qr,M.isTypedArray=fu,M.isUndefined=bs,M.isWeakMap=ip,M.isWeakSet=ev,M.join=Bc,M.kebabCase=nf,M.last=Dr,M.lastIndexOf=tu,M.lowerCase=vo,M.lowerFirst=iE,M.lt=tv,M.lte=Qc,M.max=GI,M.maxBy=$I,M.mean=KI,M.meanBy=YI,M.min=WI,M.minBy=QI,M.stubArray=uE,M.stubFalse=cE,M.stubObject=LI,M.stubString=kI,M.stubTrue=UI,M.multiply=XI,M.nth=Ey,M.noConflict=be,M.noop=ze,M.now=Fh,M.pad=dv,M.padEnd=rf,M.padStart=sE,M.parseInt=mv,M.random=hp,M.reduce=ky,M.reduceRight=Uy,M.repeat=rd,M.replace=pv,M.result=nE,M.round=ZI,M.runInContext=te,M.sample=Vy,M.size=Wm,M.snakeCase=aE,M.some=M0,M.sortedIndex=Tn,M.sortedIndexBy=xt,M.sortedIndexOf=zt,M.sortedLastIndex=cn,M.sortedLastIndexBy=Di,M.sortedLastIndexOf=oo,M.startCase=sd,M.startsWith=gv,M.subtract=JI,M.sum=eN,M.sumBy=tN,M.template=sf,M.times=VI,M.toFinite=Zs,M.toInteger=pt,M.toLength=Js,M.toLower=dp,M.toNumber=is,M.toSafeInteger=hu,M.toString=tn,M.toUpper=ad,M.trim=yv,M.trimEnd=oE,M.trimStart=od,M.truncate=r,M.unescape=s,M.uniqueId=BI,M.upperCase=o,M.upperFirst=f,M.each=Dy,M.eachRight=Ym,M.first=xa,le(M,function(){var l={};return Nr(M,function(c,y){en.call(M.prototype,y)||(l[y]=c)}),l}(),{chain:!1}),M.VERSION=i,Vr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){M[l].placeholder=M}),Vr(["drop","take"],function(l,c){bt.prototype[l]=function(y){y=y===t?1:wn(pt(y),0);var w=this.__filtered__&&!c?new bt(this):this.clone();return w.__filtered__?w.__takeCount__=Rn(y,w.__takeCount__):w.__views__.push({size:Rn(y,pe),type:l+(w.__dir__<0?"Right":"")}),w},bt.prototype[l+"Right"]=function(y){return this.reverse()[l](y).reverse()}}),Vr(["filter","map","takeWhile"],function(l,c){var y=c+1,w=y==Me||y==se;bt.prototype[l]=function(C){var U=this.clone();return U.__iteratees__.push({iteratee:Je(C,3),type:y}),U.__filtered__=U.__filtered__||w,U}}),Vr(["head","last"],function(l,c){var y="take"+(c?"Right":"");bt.prototype[l]=function(){return this[y](1).value()[0]}}),Vr(["initial","tail"],function(l,c){var y="drop"+(c?"":"Right");bt.prototype[l]=function(){return this.__filtered__?new bt(this):this[y](1)}}),bt.prototype.compact=function(){return this.filter(fe)},bt.prototype.find=function(l){return this.filter(l).head()},bt.prototype.findLast=function(l){return this.reverse().find(l)},bt.prototype.invokeMap=vt(function(l,c){return typeof l=="function"?new bt(this):this.map(function(y){return tl(y,l,c)})}),bt.prototype.reject=function(l){return this.filter(Yc(Je(l)))},bt.prototype.slice=function(l,c){l=pt(l);var y=this;return y.__filtered__&&(l>0||c<0)?new bt(y):(l<0?y=y.takeRight(-l):l&&(y=y.drop(l)),c!==t&&(c=pt(c),y=c<0?y.dropRight(-c):y.take(c-l)),y)},bt.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},bt.prototype.toArray=function(){return this.take(pe)},Nr(bt.prototype,function(l,c){var y=/^(?:filter|find|map|reject)|While$/.test(c),w=/^(?:head|last)$/.test(c),C=M[w?"take"+(c=="last"?"Right":""):c],U=w||/^find/.test(c);C&&(M.prototype[c]=function(){var $=this.__wrapped__,X=w?[1]:arguments,ie=$ instanceof bt,Ae=X[0],xe=ie||ht($),De=function(jt){var Yt=C.apply(M,$i([jt],X));return w&&Ve?Yt[0]:Yt};xe&&y&&typeof Ae=="function"&&Ae.length!=1&&(ie=xe=!1);var Ve=this.__chain__,Qe=!!this.__actions__.length,ut=U&&!Ve,At=ie&&!Qe;if(!U&&xe){$=At?$:new bt(this);var ct=l.apply($,X);return ct.__actions__.push({func:Or,args:[De],thisArg:t}),new oi(ct,Ve)}return ut&&At?l.apply(this,X):(ct=this.thru(De),ut?w?ct.value()[0]:ct.value():ct)})}),Vr(["pop","push","shift","sort","splice","unshift"],function(l){var c=Jf[l],y=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",w=/^(?:pop|shift)$/.test(l);M.prototype[l]=function(){var C=arguments;if(w&&!this.__chain__){var U=this.value();return c.apply(ht(U)?U:[],C)}return this[y](function($){return c.apply(ht($)?$:[],C)})}}),Nr(bt.prototype,function(l,c){var y=M[c];if(y){var w=y.name+"";en.call(Xi,w)||(Xi[w]=[]),Xi[w].push({name:c,func:y})}}),Xi[kn(t,j).name]=[{name:"wrapper",func:t}],bt.prototype.clone=cc,bt.prototype.reverse=rh,bt.prototype.value=Qo,M.prototype.at=Ay,M.prototype.chain=Oi,M.prototype.commit=Ry,M.prototype.next=xy,M.prototype.plant=fo,M.prototype.reverse=Vh,M.prototype.toJSON=M.prototype.valueOf=M.prototype.value=Gm,M.prototype.first=M.prototype.head,$o&&(M.prototype[$o]=N0),M},Wa=Ul();or?((or.exports=Wa)._=Wa,da._=Wa):En._=Wa}).call(ij)}(Cp,Cp.exports)),Cp.exports}var Nn=sj();const Tf=Pd(Nn),yl=n=>[...Array(n).keys()],aj=(n,e=3)=>{let t;e===4?t=yl(3).map(i=>yl(4).map(u=>n.includes(4*i+u)?"x":"o").join("")):t=yl(4).map(i=>yl(3).map(u=>n.includes(3*i+u)?"x":"o").join("")),console.log(t.join(`
`))},Zp=(n,{debug:e=!1,returnWhenFound:t=!1}={})=>{let i=0,a=[];for(let u=0;u<n.length-2;u++)for(let h=u+1;h<n.length-1;h++)for(let m=h+1;m<n.length;m++)if(a=[n[u],n[h],n[m]],ki(a)&&(e&&aj([u,h,m]),i++,t))return i;return i},h0=()=>{const n=[];return yl(3).forEach(e=>{yl(3).forEach(t=>{yl(3).forEach(i=>{yl(3).forEach(a=>{const u=""+e+i+t+a;n.push(u)})})})}),n},ki=n=>{if(n.length!==3)return!1;const[e,t,i]=n;for(let a=0;a<4;a++)if((Number(e[a])+Number(t[a])+Number(i[a]))%3!==0)return!1;return!0},ff=(n,e)=>{let t="";for(let i=0;i<4;i++)if(n[i]===e[i])t=t+n[i];else{const u=(3-(Number(n[i])+Number(e[i]))).toString();t=t+u}return t.trim()},fb=(n,e)=>e.includes(n)?e.filter(t=>t!==n):[...e,n],Jp=({board:n=[],deck:e},t=12,i=1)=>{let a=Nn.shuffle([...n,...e]);for(;Zp(a.slice(0,t))<i&&Zp(a,{returnWhenFound:!0})>0;)a=Nn.shuffle(a);return{deck:a.slice(t),board:a.slice(0,t)}},oj=(n=null)=>{if(n===null){const u=[...Tf.shuffle(h0()).slice(0,2)],h=ff(u[0],u[1]);return[u[0],u[1],h]}const e=["","",""],t=[!1,!1,!1,!1];return Tf.sampleSize(Tf.range(4),n).forEach(a=>{t[a]=Math.floor(Math.random()*3).toString()}),t.forEach((a,u)=>{const h=Tf.shuffle(["0","1","2"]);for(let m=0;m<3;m++)a===!1?e[m]=e[m]+h[m].toString():e[m]=e[m]+a}),e},lj=({startingSetCards:n=2,boardSize:e=12,commonTraits:t}={})=>{let i=Tf.shuffle(h0());const a=Tf.shuffle(oj(t));let u=a.slice(0,2);const h=a[2];i=i.filter(g=>!a.includes(g));const m=Tf.shuffle([h,...i.slice(0,e-3)]);return u=[...u,...m],i=i.slice(e-3),{board:u,deck:i}},hI=n=>{const{board:e,deck:t,selected:i}=n,a=t.slice(0,3);let u=[...e],h=t.slice(3);for(i.forEach((m,g)=>{const v=u.indexOf(m);u[v]=a[g]});Zp(u)===0;)({deck:h,board:u}=Jp({board:u,deck:h}));return{deck:h,board:u,selected:[]}},eg=()=>(console.log(" Using popup authentication"),uj()),uj=()=>{console.log(" handleGooglePopup called");const n=new ml;return n.addScope("email"),n.addScope("profile"),b2(Od,n).then(function(e){return console.log(" Popup sign-in successful:",e.user.displayName),console.log(" User UID:",e.user.uid),console.log(" User email:",e.user.email),e}).catch(function(e){throw console.error(" Popup sign-in error:",e),console.error(" Error code:",e.code),console.error(" Error message:",e.message),e})},sA=(n,e)=>{let t;typeof n=="string"?t=yf(vf,"games",n):t=n,eC(t,{...e,lastUpdate:kp()})},wo={width:120,height:200,strokeWidth:4,padding:25},cj=({fill:n,color:e})=>{const{strokeWidth:t}=wo;return b.jsxs("svg",{width:"120",height:"200",xmlns:"http://www.w3.org/2000/svg",children:[b.jsxs("g",{children:[b.jsx("rect",{fill:"#fff",id:"canvas_background",height:"202",width:"122",y:"-1",x:"-1"}),b.jsx("g",{display:"none",overflow:"visible",y:"0",x:"0",height:"100%",width:"100%",id:"canvasGrid",children:b.jsx("rect",{fill:"#fff",strokeWidth:"0",y:"0",x:"0",height:"100%",width:"100%"})})]}),b.jsx("g",{children:b.jsx("path",{stroke:e,transform:`
          rotate(270,58.8,98)
          scale(0.8 1)
          translate(10 0)
          `,id:"svg_5",d:`
          m-17.49,66
          c50.83,-35.45 101.7,35.45
          152.5,0
          c30,-10 30,43.8
          0,63.8
          c-50.8,35.45 -101.6,-35.45
          -152.5,0
          c-30,15 -30,-45
          0,-63.59
          z
          `,fillOpacity:"null",strokeOpacity:"null",strokeWidth:t,fill:n})})]})},fj=({shape:n,fill:e,color:t,num:i})=>{let{padding:a,height:u,width:h}=wo;return n==="0"?(a=a+1,b.jsx(cj,{fill:e,color:t})):n==="1"?b.jsx("g",{children:b.jsx("ellipse",{stroke:t,ry:(u-2*a)/2,rx:(h-2*a)/2,cy:u/2,cx:h/2,fillOpacity:"null",strokeOpacity:"null",strokeWidth:wo.strokeWidth,fill:e})}):n==="2"?b.jsx("g",{children:b.jsx("polygon",{points:`${a},${u/2}
          ${h/2},${a}
          ${h-a},${u/2}
          ${h/2},${u-a}`,style:{fill:e,stroke:t,strokeWidth:wo.strokeWidth}})}):null},Li=({desc:n})=>{if(n==="0333")return b.jsx("div",{className:"game-card d-flex justify-content-center",children:b.jsx("svg",{className:"shape blank-card",viewBox:`0 0 ${wo.width} ${wo.height}`,xmlns:"http://www.w3.org/2000/svg",children:b.jsx("rect",{x:"2",y:"2",width:wo.width-4,height:wo.height-4,fill:"#f8f9fa",stroke:"#dee2e6",strokeWidth:"2",strokeDasharray:"5,5",rx:"8"})})});const e={0:"#61d020",1:"#1b2f92",2:"#FF0000",white:"#fff"},t=(m,g)=>g==="1"?`url(#card-${m}-${g})`:g==="2"?e[m]:e.white,i=()=>{const[m,g,v,E]=n.split("");return b.jsxs(B.Fragment,{children:[b.jsxs("g",{children:[b.jsx("title",{children:"background"}),b.jsx("rect",{fill:e.white,id:"canvas_background",y:"-1",x:"-1"}),b.jsx("g",{display:"none",overflow:"visible",y:"0",x:"0",height:"100%",width:"100%",id:"canvasGrid",children:b.jsx("rect",{strokeWidth:"0",y:"0",x:"0",height:"100%",width:"100%"})})]}),b.jsx(fj,{shape:v,num:m,fill:t(g,E),color:e[g]})]})},[a,u,,h]=n.split("");return b.jsxs("div",{className:"game-card d-flex justify-content-center",children:[b.jsx("svg",{width:"0",height:"0",children:b.jsx("pattern",{id:`card-${u}-${h}`,width:120/12,height:"10",patternTransform:"rotate(45 0 0)",patternUnits:"userSpaceOnUse",children:b.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"10",style:{stroke:e[u],strokeWidth:"5"}})})}),yl(Number(a)+1).map(m=>b.jsx("svg",{className:`shape ${a==="1"?"double":""}`,viewBox:`0 0 ${wo.width} ${wo.height}`,xmlns:"http://www.w3.org/2000/svg",children:i()},m))]})};function hj(n){const{url:e,cardName:t,description:i}=n;return b.jsxs("div",{className:"col-9 col-md-4",children:[b.jsx(Tr,{to:e,children:b.jsx("div",{className:"card shadow-sm mb-3 mb-md-4",children:b.jsx(Li,{desc:t})})}),b.jsx("p",{className:"text-center",children:i})]})}function dj(){const n=[{url:"/solo",cardName:"0012",description:"Solo/Local"},{url:"/lobby",cardName:"1121",description:"Join Game"},{url:"/host",cardName:"2200",description:"Host Game"}];return b.jsxs("div",{className:"container mt-3 mt-md-5",children:[b.jsx("h1",{className:"d-none d-md-block text-center mb-3 mb-md-5",children:"Main Menu"}),b.jsx("div",{className:"row justify-content-center",children:n.map((e,t)=>b.jsx(hj,{...e},`card-${t}`))}),b.jsxs("div",{className:"d-none d-md-block",children:[b.jsx("hr",{}),b.jsx("p",{children:b.jsx(Tr,{to:"/rules",children:"Rules"})}),b.jsx("p",{children:b.jsx(Tr,{to:"/stats",children:"View Statistics"})})]})]})}function mj(n){const{gameOver:e,myName:t,solo:i,finalScore:a,reset:u}=n,h=tg(g=>g.user),{user:m}=h;return b.jsx("div",{className:"game-over container mt-5",children:b.jsx("div",{className:"row justify-content-center",children:b.jsx("div",{className:"col col-md-6",children:b.jsxs("div",{className:"card shadow",children:[b.jsx("h3",{className:"text-center mt-3",children:"GAME OVER!"}),isNaN(a)?b.jsxs("p",{className:"text-center mb-4",children:["Winner: ",e," "]}):b.jsxs("div",{className:"d-flex flex-column justify-content-center",children:[b.jsxs("p",{className:"text-center my-2",children:["Final Score: ",a," "]}),b.jsx("div",{className:"d-flex flex-row justify-content-center",children:b.jsx("button",{className:"btn btn-primary my-2",onClick:()=>u&&u(),children:"Reset"})})]}),b.jsxs("div",{className:"row justify-content-center",children:[b.jsx("div",{className:"col-4",children:b.jsx("p",{className:"text-center",children:b.jsx(Tr,{to:"/",children:"Main"})})}),i&&m&&m.uid&&b.jsx("div",{className:"col-4",children:b.jsx("p",{className:"text-center",children:b.jsx(Tr,{to:"/stats",children:"Stats"})})})]})]})})})})}var qE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var aA;function pj(){return aA||(aA=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var u="",h=0;h<arguments.length;h++){var m=arguments[h];m&&(u=a(u,i(m)))}return u}function i(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return t.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var h="";for(var m in u)e.call(u,m)&&u[m]&&(h=a(h,m));return h}function a(u,h){return h?u?u+" "+h:u+h:u}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(qE)),qE.exports}var gj=pj();const Ds=Pd(gj);function yj(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function qT(n,e){return qT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},qT(n,e)}function vj(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,qT(n,e)}const _j=["xxl","xl","lg","md","sm","xs"],Ej="xs",hb=B.createContext({prefixes:{},breakpoints:_j,minBreakpoint:Ej}),{Consumer:X9,Provider:Z9}=hb;function Gu(n,e){const{prefixes:t}=B.useContext(hb);return n||t[e]||e}function Tj(){const{dir:n}=B.useContext(hb);return n==="rtl"}function d0(n){return n&&n.ownerDocument||document}function wj(n){var e=d0(n);return e&&e.defaultView||window}function bj(n,e){return wj(n).getComputedStyle(n,e)}var Sj=/([A-Z])/g;function Aj(n){return n.replace(Sj,"-$1").toLowerCase()}var Rj=/^ms-/;function Nv(n){return Aj(n).replace(Rj,"-ms-")}var xj=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Cj(n){return!!(n&&xj.test(n))}function Sf(n,e){var t="",i="";if(typeof e=="string")return n.style.getPropertyValue(Nv(e))||bj(n).getPropertyValue(Nv(e));Object.keys(e).forEach(function(a){var u=e[a];!u&&u!==0?n.style.removeProperty(Nv(a)):Cj(a)?i+=a+"("+u+") ":t+=Nv(a)+": "+u+";"}),i&&(t+="transform: "+i+";"),n.style.cssText+=";"+t}var GE={exports:{}},$E,oA;function Ij(){if(oA)return $E;oA=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $E=n,$E}var KE,lA;function Nj(){if(lA)return KE;lA=1;var n=Ij();function e(){}function t(){}return t.resetWarningCache=e,KE=function(){function i(h,m,g,v,E,S){if(S!==n){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}i.isRequired=i;function a(){return i}var u={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return u.PropTypes=u,u},KE}var uA;function Dj(){return uA||(uA=1,GE.exports=Nj()()),GE.exports}var Oj=Dj();const YE=Pd(Oj),cA={disabled:!1},dI=mf.createContext(null);var Mj=function(e){return e.scrollTop},Ip="unmounted",lf="exited",Eu="entering",hf="entered",GT="exiting",Al=function(n){vj(e,n);function e(i,a){var u;u=n.call(this,i,a)||this;var h=a,m=h&&!h.isMounting?i.enter:i.appear,g;return u.appearStatus=null,i.in?m?(g=lf,u.appearStatus=Eu):g=hf:i.unmountOnExit||i.mountOnEnter?g=Ip:g=lf,u.state={status:g},u.nextCallback=null,u}e.getDerivedStateFromProps=function(a,u){var h=a.in;return h&&u.status===Ip?{status:lf}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(a){var u=null;if(a!==this.props){var h=this.state.status;this.props.in?h!==Eu&&h!==hf&&(u=Eu):(h===Eu||h===hf)&&(u=GT)}this.updateStatus(!1,u)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var a=this.props.timeout,u,h,m;return u=h=m=a,a!=null&&typeof a!="number"&&(u=a.exit,h=a.enter,m=a.appear!==void 0?a.appear:h),{exit:u,enter:h,appear:m}},t.updateStatus=function(a,u){if(a===void 0&&(a=!1),u!==null)if(this.cancelNextCallback(),u===Eu){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:yd.findDOMNode(this);h&&Mj(h)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===lf&&this.setState({status:Ip})},t.performEnter=function(a){var u=this,h=this.props.enter,m=this.context?this.context.isMounting:a,g=this.props.nodeRef?[m]:[yd.findDOMNode(this),m],v=g[0],E=g[1],S=this.getTimeouts(),A=m?S.appear:S.enter;if(!a&&!h||cA.disabled){this.safeSetState({status:hf},function(){u.props.onEntered(v)});return}this.props.onEnter(v,E),this.safeSetState({status:Eu},function(){u.props.onEntering(v,E),u.onTransitionEnd(A,function(){u.safeSetState({status:hf},function(){u.props.onEntered(v,E)})})})},t.performExit=function(){var a=this,u=this.props.exit,h=this.getTimeouts(),m=this.props.nodeRef?void 0:yd.findDOMNode(this);if(!u||cA.disabled){this.safeSetState({status:lf},function(){a.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:GT},function(){a.props.onExiting(m),a.onTransitionEnd(h.exit,function(){a.safeSetState({status:lf},function(){a.props.onExited(m)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(a,u){u=this.setNextCallback(u),this.setState(a,u)},t.setNextCallback=function(a){var u=this,h=!0;return this.nextCallback=function(m){h&&(h=!1,u.nextCallback=null,a(m))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},t.onTransitionEnd=function(a,u){this.setNextCallback(u);var h=this.props.nodeRef?this.props.nodeRef.current:yd.findDOMNode(this),m=a==null&&!this.props.addEndListener;if(!h||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var g=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],v=g[0],E=g[1];this.props.addEndListener(v,E)}a!=null&&setTimeout(this.nextCallback,a)},t.render=function(){var a=this.state.status;if(a===Ip)return null;var u=this.props,h=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var m=yj(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return mf.createElement(dI.Provider,{value:null},typeof h=="function"?h(a,m):mf.cloneElement(mf.Children.only(h),m))},e}(mf.Component);Al.contextType=dI;Al.propTypes={};function ld(){}Al.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ld,onEntering:ld,onEntered:ld,onExit:ld,onExiting:ld,onExited:ld};Al.UNMOUNTED=Ip;Al.EXITED=lf;Al.ENTERING=Eu;Al.ENTERED=hf;Al.EXITING=GT;function Pj(n){return n.code==="Escape"||n.keyCode===27}function Lj(){const n=B.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function m0(n){if(!n||typeof n=="function")return null;const{major:e}=Lj();return e>=19?n.props.ref:n.ref}const Gd=!!(typeof window<"u"&&window.document&&window.document.createElement);var $T=!1,KT=!1;try{var WE={get passive(){return $T=!0},get once(){return KT=$T=!0}};Gd&&(window.addEventListener("test",WE,WE),window.removeEventListener("test",WE,!0))}catch{}function mI(n,e,t,i){if(i&&typeof i!="boolean"&&!KT){var a=i.once,u=i.capture,h=t;!KT&&a&&(h=t.__once||function m(g){this.removeEventListener(e,m,u),t.call(this,g)},t.__once=h),n.addEventListener(e,h,$T?i:u)}n.addEventListener(e,t,i)}function YT(n,e,t,i){var a=i&&typeof i!="boolean"?i.capture:i;n.removeEventListener(e,t,a),t.__once&&n.removeEventListener(e,t.__once,a)}function C_(n,e,t,i){return mI(n,e,t,i),function(){YT(n,e,t,i)}}function kj(n,e,t,i){if(i===void 0&&(i=!0),n){var a=document.createEvent("HTMLEvents");a.initEvent(e,t,i),n.dispatchEvent(a)}}function Uj(n){var e=Sf(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function Vj(n,e,t){t===void 0&&(t=5);var i=!1,a=setTimeout(function(){i||kj(n,"transitionend",!0)},e+t),u=C_(n,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(a),u()}}function pI(n,e,t,i){t==null&&(t=Uj(n)||0);var a=Vj(n,t,i),u=C_(n,"transitionend",e);return function(){a(),u()}}function fA(n,e){const t=Sf(n,e)||"",i=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*i}function jj(n,e){const t=fA(n,"transitionDuration"),i=fA(n,"transitionDelay"),a=pI(n,u=>{u.target===n&&(a(),e(u))},t+i)}function Bj(n){n.offsetHeight}const hA=n=>!n||typeof n=="function"?n:e=>{n.current=e};function Fj(n,e){const t=hA(n),i=hA(e);return a=>{t&&t(a),i&&i(a)}}function gI(n,e){return B.useMemo(()=>Fj(n,e),[n,e])}function zj(n){return n&&"setState"in n?yd.findDOMNode(n):n??null}const yI=mf.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:a,onExited:u,addEndListener:h,children:m,childRef:g,...v},E)=>{const S=B.useRef(null),A=gI(S,g),N=z=>{A(zj(z))},O=z=>D=>{z&&S.current&&z(S.current,D)},H=B.useCallback(O(n),[n]),V=B.useCallback(O(e),[e]),j=B.useCallback(O(t),[t]),ee=B.useCallback(O(i),[i]),Z=B.useCallback(O(a),[a]),he=B.useCallback(O(u),[u]),ne=B.useCallback(O(h),[h]);return b.jsx(Al,{ref:E,...v,onEnter:H,onEntered:j,onEntering:V,onExit:ee,onExited:he,onExiting:Z,addEndListener:ne,nodeRef:S,children:typeof m=="function"?(z,D)=>m(z,{...D,ref:N}):mf.cloneElement(m,{ref:N})})});yI.displayName="TransitionWrapper";function Hj(n){const e=B.useRef(n);return B.useEffect(()=>{e.current=n},[n]),e}function WT(n){const e=Hj(n);return B.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const qj=n=>B.forwardRef((e,t)=>b.jsx("div",{...e,ref:t,className:Ds(e.className,n)}));function Gj(n){const e=B.useRef(n);return B.useEffect(()=>{e.current=n},[n]),e}function df(n){const e=Gj(n);return B.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function $j(){const n=B.useRef(!0),e=B.useRef(()=>n.current);return B.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function Kj(n){const e=B.useRef(null);return B.useEffect(()=>{e.current=n}),e.current}const Yj=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Wj=typeof document<"u",dA=Wj||Yj?B.useLayoutEffect:B.useEffect,Qj=["as","disabled"];function Xj(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Zj(n){return!n||n.trim()==="#"}function vI({tagName:n,disabled:e,href:t,target:i,rel:a,role:u,onClick:h,tabIndex:m=0,type:g}){n||(t!=null||i!=null||a!=null?n="a":n="button");const v={tagName:n};if(n==="button")return[{type:g||"button",disabled:e},v];const E=A=>{if((e||n==="a"&&Zj(t))&&A.preventDefault(),e){A.stopPropagation();return}h==null||h(A)},S=A=>{A.key===" "&&(A.preventDefault(),E(A))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:u??"button",disabled:void 0,tabIndex:e?void 0:m,href:t,target:n==="a"?i:void 0,"aria-disabled":e||void 0,rel:n==="a"?a:void 0,onClick:E,onKeyDown:S},v]}const Jj=B.forwardRef((n,e)=>{let{as:t,disabled:i}=n,a=Xj(n,Qj);const[u,{tagName:h}]=vI(Object.assign({tagName:t,disabled:i},a));return b.jsx(h,Object.assign({},a,u,{ref:e}))});Jj.displayName="Button";const e6={[Eu]:"show",[hf]:"show"},db=B.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:i,...a},u)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},m=B.useCallback((g,v)=>{Bj(g),i==null||i(g,v)},[i]);return b.jsx(yI,{ref:u,addEndListener:jj,...h,onEnter:m,childRef:m0(e),children:(g,v)=>B.cloneElement(e,{...v,className:Ds("fade",n,e.props.className,e6[g],t[g])})})});db.displayName="Fade";const t6={"aria-label":YE.string,onClick:YE.func,variant:YE.oneOf(["white"])},mb=B.forwardRef(({className:n,variant:e,"aria-label":t="Close",...i},a)=>b.jsx("button",{ref:a,type:"button",className:Ds("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...i}));mb.displayName="CloseButton";mb.propTypes=t6;const pb=B.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:i,active:a=!1,disabled:u=!1,className:h,...m},g)=>{const v=Gu(e,"btn"),[E,{tagName:S}]=vI({tagName:n,disabled:u,...m}),A=S;return b.jsx(A,{...E,...m,ref:g,disabled:u,className:Ds(h,v,a&&"active",t&&`${v}-${t}`,i&&`${v}-${i}`,m.href&&u&&"disabled")})});pb.displayName="Button";function n6(n){const e=B.useRef(n);return e.current=n,e}function r6(n){const e=n6(n);B.useEffect(()=>()=>e.current(),[])}var i6=Function.prototype.bind.call(Function.prototype.call,[].slice);function ud(n,e){return i6(n.querySelectorAll(e))}function mA(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const s6="data-rr-ui-";function a6(n){return`${s6}${n}`}const _I=B.createContext(Gd?window:void 0);_I.Provider;function gb(){return B.useContext(_I)}const pA=n=>!n||typeof n=="function"?n:e=>{n.current=e};function o6(n,e){const t=pA(n),i=pA(e);return a=>{t&&t(a),i&&i(a)}}function yb(n,e){return B.useMemo(()=>o6(n,e),[n,e])}var Dv;function gA(n){if((!Dv&&Dv!==0||n)&&Gd){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Dv=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Dv}function l6(){return B.useState(null)}function QE(n){n===void 0&&(n=d0());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function u6(n){const e=B.useRef(n);return e.current=n,e}function c6(n){const e=u6(n);B.useEffect(()=>()=>e.current(),[])}function f6(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const yA=a6("modal-open");class vb{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:i=!1}={}){this.handleContainerOverflow=t,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return f6(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();e.style={overflow:a.style.overflow,[i]:a.style[i]},e.scrollBarWidth&&(t[i]=`${parseInt(Sf(a,i)||"0",10)+e.scrollBarWidth}px`),a.setAttribute(yA,""),Sf(a,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(yA),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const XE=(n,e)=>Gd?n==null?(e||d0()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function h6(n,e){const t=gb(),[i,a]=B.useState(()=>XE(n,t==null?void 0:t.document));if(!i){const u=XE(n);u&&a(u)}return B.useEffect(()=>{},[e,i]),B.useEffect(()=>{const u=XE(n);u!==i&&a(u)},[n,i]),i}function d6({children:n,in:e,onExited:t,mountOnEnter:i,unmountOnExit:a}){const u=B.useRef(null),h=B.useRef(e),m=df(t);B.useEffect(()=>{e?h.current=!0:m(u.current)},[e,m]);const g=yb(u,m0(n)),v=B.cloneElement(n,{ref:g});return e?v:a||!h.current&&i?null:v}const m6=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function p6(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function g6(n){let{onEnter:e,onEntering:t,onEntered:i,onExit:a,onExiting:u,onExited:h,addEndListener:m,children:g}=n,v=p6(n,m6);const E=B.useRef(null),S=yb(E,m0(g)),A=he=>ne=>{he&&E.current&&he(E.current,ne)},N=B.useCallback(A(e),[e]),O=B.useCallback(A(t),[t]),H=B.useCallback(A(i),[i]),V=B.useCallback(A(a),[a]),j=B.useCallback(A(u),[u]),ee=B.useCallback(A(h),[h]),Z=B.useCallback(A(m),[m]);return Object.assign({},v,{nodeRef:E},e&&{onEnter:N},t&&{onEntering:O},i&&{onEntered:H},a&&{onExit:V},u&&{onExiting:j},h&&{onExited:ee},m&&{addEndListener:Z},{children:typeof g=="function"?(he,ne)=>g(he,Object.assign({},ne,{ref:S})):B.cloneElement(g,{ref:S})})}const y6=["component"];function v6(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const _6=B.forwardRef((n,e)=>{let{component:t}=n,i=v6(n,y6);const a=g6(i);return b.jsx(t,Object.assign({ref:e},a))});function E6({in:n,onTransition:e}){const t=B.useRef(null),i=B.useRef(!0),a=df(e);return dA(()=>{if(!t.current)return;let u=!1;return a({in:n,element:t.current,initial:i.current,isStale:()=>u}),()=>{u=!0}},[n,a]),dA(()=>(i.current=!1,()=>{i.current=!0}),[]),t}function T6({children:n,in:e,onExited:t,onEntered:i,transition:a}){const[u,h]=B.useState(!e);e&&u&&h(!1);const m=E6({in:!!e,onTransition:v=>{const E=()=>{v.isStale()||(v.in?i==null||i(v.element,v.initial):(h(!0),t==null||t(v.element)))};Promise.resolve(a(v)).then(E,S=>{throw v.in||h(!0),S})}}),g=yb(m,m0(n));return u&&!e?null:B.cloneElement(n,{ref:g})}function vA(n,e,t){return n?b.jsx(_6,Object.assign({},t,{component:n})):e?b.jsx(T6,Object.assign({},t,{transition:e})):b.jsx(d6,Object.assign({},t))}const w6=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function b6(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}let ZE;function S6(n){return ZE||(ZE=new vb({ownerDocument:n==null?void 0:n.document})),ZE}function A6(n){const e=gb(),t=n||S6(e),i=B.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>t.add(i.current),remove:()=>t.remove(i.current),isTopModal:()=>t.isTopModal(i.current),setDialogRef:B.useCallback(a=>{i.current.dialog=a},[]),setBackdropRef:B.useCallback(a=>{i.current.backdrop=a},[])})}const EI=B.forwardRef((n,e)=>{let{show:t=!1,role:i="dialog",className:a,style:u,children:h,backdrop:m=!0,keyboard:g=!0,onBackdropClick:v,onEscapeKeyDown:E,transition:S,runTransition:A,backdropTransition:N,runBackdropTransition:O,autoFocus:H=!0,enforceFocus:V=!0,restoreFocus:j=!0,restoreFocusOptions:ee,renderDialog:Z,renderBackdrop:he=Dt=>b.jsx("div",Object.assign({},Dt)),manager:ne,container:z,onShow:D,onHide:I=()=>{},onExit:L,onExited:q,onExiting:K,onEnter:Q,onEntering:F,onEntered:Me}=n,ke=b6(n,w6);const se=gb(),me=h6(z),_e=A6(ne),Pe=$j(),G=Kj(t),[pe,Ne]=B.useState(!t),we=B.useRef(null);B.useImperativeHandle(e,()=>_e,[_e]),Gd&&!G&&t&&(we.current=QE(se==null?void 0:se.document)),t&&pe&&Ne(!1);const je=df(()=>{if(_e.add(),Zt.current=C_(document,"keydown",Nt),Mn.current=C_(document,"focus",()=>setTimeout(qe),!0),D&&D(),H){var Dt,us;const an=QE((Dt=(us=_e.dialog)==null?void 0:us.ownerDocument)!=null?Dt:se==null?void 0:se.document);_e.dialog&&an&&!mA(_e.dialog,an)&&(we.current=an,_e.dialog.focus())}}),We=df(()=>{if(_e.remove(),Zt.current==null||Zt.current(),Mn.current==null||Mn.current(),j){var Dt;(Dt=we.current)==null||Dt.focus==null||Dt.focus(ee),we.current=null}});B.useEffect(()=>{!t||!me||je()},[t,me,je]),B.useEffect(()=>{pe&&We()},[pe,We]),c6(()=>{We()});const qe=df(()=>{if(!V||!Pe()||!_e.isTopModal())return;const Dt=QE(se==null?void 0:se.document);_e.dialog&&Dt&&!mA(_e.dialog,Dt)&&_e.dialog.focus()}),mn=df(Dt=>{Dt.target===Dt.currentTarget&&(v==null||v(Dt),m===!0&&I())}),Nt=df(Dt=>{g&&Pj(Dt)&&_e.isTopModal()&&(E==null||E(Dt),Dt.defaultPrevented||I())}),Mn=B.useRef(),Zt=B.useRef(),Sn=(...Dt)=>{Ne(!0),q==null||q(...Dt)};if(!me)return null;const qn=Object.assign({role:i,ref:_e.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},ke,{style:u,className:a,tabIndex:-1});let Ar=Z?Z(qn):b.jsx("div",Object.assign({},qn,{children:B.cloneElement(h,{role:"document"})}));Ar=vA(S,A,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:L,onExiting:K,onExited:Sn,onEnter:Q,onEntering:F,onEntered:Me,children:Ar});let Wt=null;return m&&(Wt=he({ref:_e.setBackdropRef,onClick:mn}),Wt=vA(N,O,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Wt})),b.jsx(b.Fragment,{children:yd.createPortal(b.jsxs(b.Fragment,{children:[Wt,Ar]}),me)})});EI.displayName="Modal";const R6=Object.assign(EI,{Manager:vb});function x6(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function C6(n,e){n.classList?n.classList.add(e):x6(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function _A(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function I6(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=_A(n.className,e):n.setAttribute("class",_A(n.className&&n.className.baseVal||"",e))}const cd={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class N6 extends vb{adjustAndStore(e,t,i){const a=t.style[e];t.dataset[e]=a,Sf(t,{[e]:`${parseFloat(Sf(t,e))+i}px`})}restore(e,t){const i=t.dataset[e];i!==void 0&&(delete t.dataset[e],Sf(t,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(C6(t,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";ud(t,cd.FIXED_CONTENT).forEach(u=>this.adjustAndStore(i,u,e.scrollBarWidth)),ud(t,cd.STICKY_CONTENT).forEach(u=>this.adjustAndStore(a,u,-e.scrollBarWidth)),ud(t,cd.NAVBAR_TOGGLER).forEach(u=>this.adjustAndStore(a,u,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();I6(t,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";ud(t,cd.FIXED_CONTENT).forEach(u=>this.restore(i,u)),ud(t,cd.STICKY_CONTENT).forEach(u=>this.restore(a,u)),ud(t,cd.NAVBAR_TOGGLER).forEach(u=>this.restore(a,u))}}let JE;function D6(n){return JE||(JE=new N6(n)),JE}const TI=B.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Gu(e,"modal-body"),b.jsx(t,{ref:a,className:Ds(n,e),...i})));TI.displayName="ModalBody";const wI=B.createContext({onHide(){}}),_b=B.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:i,size:a,fullscreen:u,children:h,scrollable:m,...g},v)=>{n=Gu(n,"modal");const E=`${n}-dialog`,S=typeof u=="string"?`${n}-fullscreen-${u}`:`${n}-fullscreen`;return b.jsx("div",{...g,ref:v,className:Ds(E,e,a&&`${n}-${a}`,i&&`${E}-centered`,m&&`${E}-scrollable`,u&&S),children:b.jsx("div",{className:Ds(`${n}-content`,t),children:h})})});_b.displayName="ModalDialog";const bI=B.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Gu(e,"modal-footer"),b.jsx(t,{ref:a,className:Ds(n,e),...i})));bI.displayName="ModalFooter";const SI=B.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:i,children:a,...u},h)=>{const m=B.useContext(wI),g=WT(()=>{m==null||m.onHide(),i==null||i()});return b.jsxs("div",{ref:h,...u,children:[a,t&&b.jsx(mb,{"aria-label":n,variant:e,onClick:g})]})});SI.displayName="AbstractModalHeader";const AI=B.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:i=!1,...a},u)=>(n=Gu(n,"modal-header"),b.jsx(SI,{ref:u,...a,className:Ds(e,n),closeLabel:t,closeButton:i})));AI.displayName="ModalHeader";const O6=qj("h4"),RI=B.forwardRef(({className:n,bsPrefix:e,as:t=O6,...i},a)=>(e=Gu(e,"modal-title"),b.jsx(t,{ref:a,className:Ds(n,e),...i})));RI.displayName="ModalTitle";function M6(n){return b.jsx(db,{...n,timeout:null})}function P6(n){return b.jsx(db,{...n,timeout:null})}const xI=B.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:i,contentClassName:a,children:u,dialogAs:h=_b,"data-bs-theme":m,"aria-labelledby":g,"aria-describedby":v,"aria-label":E,show:S=!1,animation:A=!0,backdrop:N=!0,keyboard:O=!0,onEscapeKeyDown:H,onShow:V,onHide:j,container:ee,autoFocus:Z=!0,enforceFocus:he=!0,restoreFocus:ne=!0,restoreFocusOptions:z,onEntered:D,onExit:I,onExiting:L,onEnter:q,onEntering:K,onExited:Q,backdropClassName:F,manager:Me,...ke},se)=>{const[me,_e]=B.useState({}),[Pe,G]=B.useState(!1),pe=B.useRef(!1),Ne=B.useRef(!1),we=B.useRef(null),[je,We]=l6(),qe=gI(se,We),mn=WT(j),Nt=Tj();n=Gu(n,"modal");const Mn=B.useMemo(()=>({onHide:mn}),[mn]);function Zt(){return Me||D6({isRTL:Nt})}function Sn(Ge){if(!Gd)return;const it=Zt().getScrollbarWidth()>0,An=Ge.scrollHeight>d0(Ge).documentElement.clientHeight;_e({paddingRight:it&&!An?gA():void 0,paddingLeft:!it&&An?gA():void 0})}const qn=WT(()=>{je&&Sn(je.dialog)});r6(()=>{YT(window,"resize",qn),we.current==null||we.current()});const Ar=()=>{pe.current=!0},Wt=Ge=>{pe.current&&je&&Ge.target===je.dialog&&(Ne.current=!0),pe.current=!1},Dt=()=>{G(!0),we.current=pI(je.dialog,()=>{G(!1)})},us=Ge=>{Ge.target===Ge.currentTarget&&Dt()},an=Ge=>{if(N==="static"){us(Ge);return}if(Ne.current||Ge.target!==Ge.currentTarget){Ne.current=!1;return}j==null||j()},ja=Ge=>{O?H==null||H(Ge):(Ge.preventDefault(),N==="static"&&Dt())},sa=(Ge,it)=>{Ge&&Sn(Ge),q==null||q(Ge,it)},Wr=Ge=>{we.current==null||we.current(),I==null||I(Ge)},Bn=(Ge,it)=>{K==null||K(Ge,it),mI(window,"resize",qn)},yr=Ge=>{Ge&&(Ge.style.display=""),Q==null||Q(Ge),YT(window,"resize",qn)},vr=B.useCallback(Ge=>b.jsx("div",{...Ge,className:Ds(`${n}-backdrop`,F,!A&&"show")}),[A,F,n]),cs={...t,...me};cs.display="block";const Qr=Ge=>b.jsx("div",{role:"dialog",...Ge,style:cs,className:Ds(e,n,Pe&&`${n}-static`,!A&&"show"),onClick:N?an:void 0,onMouseUp:Wt,"data-bs-theme":m,"aria-label":E,"aria-labelledby":g,"aria-describedby":v,children:b.jsx(h,{...ke,onMouseDown:Ar,className:i,contentClassName:a,children:u})});return b.jsx(wI.Provider,{value:Mn,children:b.jsx(R6,{show:S,ref:qe,backdrop:N,container:ee,keyboard:!0,autoFocus:Z,enforceFocus:he,restoreFocus:ne,restoreFocusOptions:z,onEscapeKeyDown:ja,onShow:V,onHide:j,onEnter:sa,onEntering:Bn,onEntered:D,onExit:Wr,onExiting:L,onExited:yr,manager:Zt(),transition:A?M6:void 0,backdropTransition:A?P6:void 0,renderBackdrop:vr,renderDialog:Qr})})});xI.displayName="Modal";const Ti=Object.assign(xI,{Body:TI,Header:AI,Title:RI,Footer:bI,Dialog:_b,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),CI=B.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:i,as:a="div",className:u,...h},m)=>{n=Gu(n,"spinner");const g=`${n}-${t}`;return b.jsx(a,{ref:m,...h,className:Ds(u,g,i&&`${g}-${i}`,e&&`text-${e}`)})});CI.displayName="Spinner";const EA=n=>{const e=a=>{const u="00";return(u+a).slice(-u.length)},t=Math.floor(n/60),i=n-60*t;return`${t}:${e(i)}`};function L6({gameMode:n,deck:e,board:t,declarer:i,setsFound:a,players:u,elapsedTime:h,timeLeft:m}){const g=Zp(t);switch(n){case"shared-device":return null;case"versus":return b.jsx("div",{className:`topbar py-2 bg-${i?"light":"dark"}-orange`,children:b.jsx("nav",{className:"text-white",children:b.jsxs("div",{className:"d-flex justify-content-around text-center",children:[b.jsxs("div",{children:["Sets: ",b.jsx("span",{className:"mono-font",children:g})]}),b.jsx("div",{children:i&&b.jsxs(b.Fragment,{children:["SET! ",i]})})]})})});case"puzzle":return b.jsx("div",{className:"navbar-fixed",children:b.jsx("nav",{children:b.jsxs("div",{className:"nav-wrapper",style:{display:"flex",justifyContent:"space-between"},children:[b.jsxs("div",{children:["Total Sets: ",b.jsx("span",{className:"mono-font",children:g})]}),b.jsxs("div",{children:["Remaining:"," ",b.jsx("span",{className:"mono-font",children:a?g-a.length:g})]}),b.jsxs("div",{children:["Time:"," ",b.jsx("span",{className:"mono-font",children:h!==void 0?EA(h):"0:00"})]})]})})});case"training":return b.jsx("div",{className:"topbar py-2 bg-dark-orange navbar-fixed",children:b.jsx("nav",{children:b.jsxs("div",{className:"nav-wrapper d-flex justify-content-around",children:[b.jsxs("div",{children:["Time:"," ",b.jsx("span",{className:"mono-font",children:h!==void 0?EA(h):"0:00"})]}),b.jsxs("div",{children:["Score: ",b.jsx("span",{className:"mono-font",children:u.you.score})]}),b.jsxs("div",{children:["Remaining:"," ",b.jsx("span",{className:"mono-font",children:typeof m=="number"&&m>0?m.toFixed(1):"0.0"})]})]})})});default:return null}}function TA({players:n,declarer:e,handlePlayerClick:t}){return b.jsx("div",{className:"row my-4 text-center justify-content-between",children:n.map(i=>b.jsx("div",{className:`col-2 bg-${i.color} ${i.name===e?"active-player":""}`,onClick:()=>{t(i.name)},children:b.jsx("p",{className:"my-2 align-middle",children:i.name===e?"SET!":i.score})},i.name))})}function p0(n){const[e,t]=B.useState(null),[i,a]=B.useState(window.innerHeight),{board:u,selected:h,deck:m,declarer:g,players:v,gameOver:E,myName:S,setFound:A,solo:N,gameMode:O}=n,H=O==="shared-device";B.useEffect(()=>{const z=Nn.debounce(()=>{a(window.innerHeight)},150);return window.addEventListener("resize",z),function(){window.removeEventListener("resize",z)}},[]),B.useEffect(()=>{t(Zp(u,{debug:!1}))},[u]);const j=(({declarer:z,players:D})=>z?Nn.get(D,`${z}.color`,""):Nn.get(D,`${S}.color`,""))(n);if(!Nn.isEmpty(E))return b.jsx(mj,{gameOver:E,myName:S,solo:N,reset:n.resetGame});const ee=Nn.map(v,(z,D)=>({name:D,...z})),Z=Math.ceil(ee.length/2),he=ee.slice(0,Z),ne=ee.slice(Z);return b.jsxs(B.Fragment,{children:[(Nn.isEmpty(v)||!Object.keys(v).includes(S))&&b.jsxs(Ti,{show:!0,children:[b.jsx(Ti.Header,{children:b.jsx(Ti.Title,{children:"Waiting to join..."})}),b.jsxs(Ti.Body,{children:[b.jsx("h4",{children:"Players:"}),b.jsx("ul",{className:"collection",children:Nn.map(v,(z,D)=>b.jsx("li",{className:"collection-item",children:b.jsxs("span",{className:"player-name",children:[D," ",z.host&&"(host)"]})},D))})]})]}),b.jsx(L6,{...n}),b.jsxs("div",{className:"container",children:[H&&b.jsx(TA,{players:he,declarer:g,handlePlayerClick:n.handleCardClick}),b.jsxs("div",{className:"board d-flex flex-column align-items-center",children:[b.jsx("div",{className:"board-main-container",children:u.map((z,D)=>{const L=h.includes(z)?{backgroundColor:j}:{};return b.jsx("div",{className:"card-wrapper",onClick:()=>{n.handleCardClick(z)},children:b.jsx("div",{className:"card-holder",style:L,children:b.jsx("div",{className:`card ${A&&h.length===3&&!h.includes(z)?"blurry":""}`,children:b.jsx(Li,{desc:z})})})},`${z}-${D}`)})}),!H&&!["puzzle","training"].includes(O)&&b.jsx("div",{className:"row my-1 text-center fixed-bottom",children:Nn.map(v,(z,D)=>b.jsx("div",{className:"col s4 m3",children:b.jsxs("span",{className:`player-name bg-${z.color}`,children:[D,": ",z.score]})},D))}),n.handleRedeal&&b.jsx("div",{className:"row mt-3",children:b.jsx("div",{className:"col mt-3 mt-md-4",children:b.jsx("button",{onClick:n.handleRedeal,className:"btn btn-primary",children:"Shuffle"})})})]}),H&&b.jsx(TA,{players:ne,declarer:g,handlePlayerClick:n.handleCardClick})]})]})}function II({isHost:n,players:e,setState:t,setAndSendState:i}){return Nn.findKey(e,a=>a.host),b.jsxs("div",{className:"container mt-4",children:[b.jsx("h4",{children:"Players:"}),b.jsx("ul",{className:"collection",children:Nn.map(e,(a,u)=>b.jsx("li",{className:"collection-item",children:b.jsxs("span",{className:"player-name",children:[u," ",a.host&&"(host)"]})},u))}),n?b.jsx("button",{className:"btn btn-primary",onClick:()=>{const a={gameStarted:!0};i?i(a):t(a)},children:"Start Game"}):b.jsx("p",{children:"Waiting for host to start game..."})]})}const k6="#4fc3f7",U6="#f48fb1",V6="#ffd740",j6="#8e24aa",B6="#9ccc65",F6="#f44336",z6="#fb8c00",dl={lightBlue:k6,pink:U6,amber:V6,purple:j6,lightGreen:B6,errorRed:F6,orange:z6},NI=[dl.lightBlue,dl.pink,dl.amber,dl.lightGreen,dl.purple,dl.orange,dl.errorRed],H6={colors:NI,playingTo:6},eT=H6,q6=n=>{Ld();const t=B.useRef({}).current,i=h0(),a={...Jp({deck:i.slice(12),board:i.slice(0,12)}),selected:[]},[u,h]=B.useState(void 0),[m,g]=B.useState(""),[v,E]=B.useState(void 0),[S,A]=B.useState(void 0),[N,O]=B.useState(void 0),[H,V]=B.useState({gameTitle:"",players:{},created:!1,gameStarted:!1,myName:"",setFound:!1,declarer:null,gameOver:"",...a}),j=B.useRef(H);j.current=H;const ee=me=>{V(_e=>{const Pe={..._e,...me};return j.current=Pe,Pe})};B.useEffect(()=>{if(n&&!Nn.isEmpty(n.uid)){const me=T4(m_(vf,"games"),w4("creator_uid","==",n.uid));A4(me).then(function(_e){_e.forEach(function(Pe){console.log(Pe.id);const G={...Pe.data(),gameTitle:Pe.id};console.log("Old game: ",G),h(G)})}).catch(function(_e){console.log("Error getting documents: ",_e)})}},[n]),B.useEffect(()=>()=>{N&&N(),S&&S(),v!==void 0&&window.clearInterval(v)},[S,N,v]);const Z=me=>{const _e=m_(me,"actions");return g_(_e,G=>{G.docChanges().forEach(pe=>{if(pe.type==="added"){const Ne=pe.doc.data();D(Ne),OE(yf(_e,pe.doc.id))}pe.type==="removed"&&console.log("Removed action: ",pe.doc.data())})})},he=async me=>{t.game=yf(vf,"games",me);const _e=window.setInterval(()=>{sA(t.game,{})},3e4);E(_e);const Pe=Z(t.game);O(()=>Pe)},ne=me=>{if(!me)return{};const{players:_e}=j.current,Pe=_e[me].score+1,G=cb(_e,{[me]:{$merge:{score:Pe}}}),pe=Pe>=eT.playingTo?me:"";return pe&&window.setTimeout(()=>{t.game&&OE(t.game),v!==void 0&&clearInterval(v)},3e3),{players:G,gameOver:pe}},z=(me,_e)=>{for(let Pe=0;Pe<_e.length;Pe++)if(!me.includes(_e[Pe]))return!1;return!0},D=me=>{const{type:_e,payload:Pe}=me,{players:G,declarer:pe,board:Ne}=j.current;switch(_e){case"join":if(Object.keys(G).includes(Pe.name))return;const we={...G,[Pe.name]:{host:!1,uid:Pe.uid,score:0,color:eT.colors[Object.keys(G).length]}};L({players:we});break;case"found":!pe&&z(Ne,Pe.selected)&&q(Pe.selected,Pe.name);break;default:return}},I=(me,_e)=>{if(ki(me)){const Pe=ne(_e),G={...j.current,setFound:!1,declarer:null,...Pe,...hI(j.current)};L(G)}},L=me=>{console.log("updating",j.current.gameTitle),ee(me),sA(t.game,me)},q=(me,_e)=>{const Pe={setFound:ki(me),selected:me,declarer:_e};L(Pe),Pe.setFound&&setTimeout(()=>{I(me,_e)},4e3)};return{state:H,gameInProgress:u,handlers:{handleCardClick:me=>{const{myName:_e}=j.current;if(!j.current.declarer){const Pe=fb(me,j.current.selected);ki(Pe)&&q(Pe,_e),ee({selected:Pe})}},handleRedeal:()=>{const me=Jp(j.current);L(me)},handleCreateGame:me=>{me.preventDefault();const{myName:_e,board:Pe,deck:G,selected:pe,players:Ne,gameOver:we,gameStarted:je}=j.current,We=Nn.isEmpty(m)?`${_e}'s game`:m;g(We),t.game=yf(vf,"games",We),R4(t.game,{creator_uid:n==null?void 0:n.uid,players:Ne,board:Pe,deck:G,selected:pe,gameOver:we,gameStarted:je,lastUpdate:kp()});const qe=window.setInterval(()=>{t.game&&eC(t.game,{lastUpdate:kp()})},3e4);E(qe);const mn=Z(t.game);O(()=>mn),ee({created:!0,gameTitle:We})},handleSetName:me=>{me.preventDefault(),n!=null&&n.nickname&&ee({myName:n.nickname,players:{[n.nickname]:{name:n.nickname,host:!0,uid:n.uid,score:0,color:eT.colors[0]}}})},handleRejectResume:()=>{const{gameTitle:me}=u,_e=yf(vf,"games",me);OE(_e).then(()=>{console.log("Deleted old game"),h(void 0)})},reloadGame:()=>{const me=Nn.findKey(u.players,Pe=>Pe.host),{gameTitle:_e}=u;ee({gameTitle:_e}),he(_e),ee({myName:me,created:!0,...u,lastUpdate:kp()})},setGameTitle:g,setState:ee,setAndSendState:L}}},g0=({children:n,title:e})=>b.jsx("div",{className:"container mt-5",children:b.jsx("div",{className:"row justify-content-center",children:b.jsx("div",{className:"col-md-6",children:b.jsx("div",{className:"card shadow",children:b.jsxs("div",{className:"card-body text-center p-4",children:[e&&b.jsx("h4",{className:"card-title mb-4",children:e}),n]})})})})}),G6=()=>b.jsxs(g0,{title:"Sign In Required",children:[b.jsx("p",{className:"mb-4",children:"To host a game, sign in with your Google account."}),b.jsx("button",{onClick:eg,className:"btn btn-info btn-lg",children:"Sign in"})]}),$6=({onResumeGame:n,onDeleteGame:e})=>b.jsxs(g0,{title:"Existing Game Found",children:[b.jsx("p",{className:"mb-4",children:"You are already hosting a game. Would you like to return to it?"}),b.jsxs("div",{className:"d-flex gap-3 justify-content-center",children:[b.jsx("button",{className:"btn btn-primary",onClick:n,children:"Yes, Resume Game"}),b.jsx("button",{className:"btn btn-danger",onClick:e,children:"No, Delete Game"})]})]}),Eb=({user:n})=>{const e=Ld(),t=EC(),i=()=>{i2(Od).then(()=>{e(tj()),localStorage.removeItem("guestUser"),localStorage.removeItem("nickname"),console.log("Signed out."),t("/")})};return!n||!n.uid?null:b.jsx("div",{className:"user-info-section",children:b.jsxs("div",{className:"d-flex justify-content-between align-items-center flex-wrap gap-2",children:[b.jsxs("div",{className:"flex-grow-1 min-width-0",children:[b.jsxs("div",{className:"user-display-name text-truncate",children:["Signed in as ",n.displayName||"User"]}),n.email&&b.jsx("div",{className:"user-email text-truncate small text-muted",children:n.email})]}),b.jsx("button",{className:"btn btn-danger btn-sm flex-shrink-0",onClick:i,style:{minWidth:"auto",fontSize:"0.75rem",padding:"0.25rem 0.5rem"},children:"Sign Out"})]})})},K6=({user:n,onSetName:e})=>{const t=Ld();return b.jsxs(g0,{title:"Enter Your Nickname",children:[b.jsx(Eb,{user:n}),b.jsxs("form",{onSubmit:e,children:[b.jsx("div",{className:"mb-4",children:b.jsx("input",{autoFocus:!0,placeholder:"Enter your nickname",className:"form-control form-control-lg text-center",value:(n==null?void 0:n.nickname)||"",onChange:i=>{t(fI(i.target.value)),window.localStorage.setItem("nickname",i.target.value)}})}),b.jsx("div",{className:"mb-4",children:b.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",children:"Set Nickname"})})]}),b.jsx("div",{className:"mt-4",children:b.jsx(Tr,{to:"/",className:"btn btn-outline-secondary",children:" Back to Main Menu"})})]})},Y6=({myName:n,gameTitle:e,onGameTitleChange:t,onCreateGame:i})=>b.jsx(g0,{title:"Create Your Game",children:b.jsxs("form",{onSubmit:i,children:[b.jsx("div",{className:"mb-4",children:b.jsx("input",{autoFocus:!0,placeholder:`${n}'s game`,className:"form-control form-control-lg text-center",onChange:a=>t(a.target.value),value:e})}),b.jsx("div",{children:b.jsx("button",{type:"submit",className:"btn btn-primary btn-lg",children:"Create Game"})})]})});function W6(){const n=tg(q=>q.user),{user:e,loading:t}=n,{state:i,gameInProgress:a,handlers:u}=q6(e),{board:h,deck:m,selected:g,declarer:v,players:E,created:S,gameStarted:A,myName:N,gameTitle:O,setFound:H,gameOver:V}=i,{handleCardClick:j,handleRedeal:ee,handleCreateGame:Z,handleSetName:he,handleRejectResume:ne,reloadGame:z,setGameTitle:D,setState:I,setAndSendState:L}=u;return t?"Loading...":Nn.isEmpty(e)?b.jsx(G6,{}):a&&!S?b.jsx($6,{onResumeGame:z,onDeleteGame:ne}):N===""?b.jsx(K6,{user:e,onSetName:he}):S?A?b.jsx(p0,{board:h,deck:m,selected:g,declarer:v,handleCardClick:j,handleDeclare:()=>{},handleRedeal:ee,players:E,setFound:H,gameOver:V,myName:N,resetGame:()=>{},solo:!1,gameMode:"versus"}):b.jsx(II,{isHost:!0,players:E,setState:I,setAndSendState:L}):b.jsx(Y6,{myName:N,gameTitle:O,onGameTitleChange:D,onCreateGame:Z})}function Q6(){const[n,e]=B.useState([]),[t,i]=B.useState(!1);B.useEffect(()=>{const u=m_(vf,"games"),h=g_(u,m=>{const g=[];m.forEach(v=>{g.push({name:v.id,lastUpdate:v.data().lastUpdate,...v.data()})}),i(!0),e(g)});return()=>{h()}},[]);const a=n.filter(u=>{const{lastUpdate:h}=u;if(!h)return!1;const m=h.toMillis(),g=new Date().getTime();return Math.round((g-m)/1e3)<40});return t?b.jsx("div",{className:"container",style:{height:"100vh"},children:a.length===0?b.jsx(B.Fragment,{children:b.jsx("div",{className:"row",children:b.jsxs("div",{className:"col-8 col-md-6",children:[b.jsx("div",{className:"card-panel teal",style:{marginTop:window.innerHeight*.2},children:b.jsx("span",{className:"white-text",children:"There are currently no active games."})}),b.jsxs("p",{children:["Click ",b.jsx(Tr,{to:"/host",children:"here"})," to host one"]}),b.jsx("p",{children:b.jsx(Tr,{className:"btn btn-primary",to:"/",children:"Back"})})]})})}):b.jsxs(B.Fragment,{children:[b.jsx("h4",{className:"text-center my-4",children:"Available games"}),b.jsx("div",{className:"row align-content-center",children:a.map((u,h)=>b.jsx("div",{className:"col-6 col-md-4",children:b.jsx("div",{className:"card available-game",children:b.jsx("div",{className:"my-auto text-center",children:b.jsx(Tr,{to:`/guest/${u.name}`,children:u.name})})})},u.name))}),b.jsx("div",{className:"row",children:b.jsx("div",{className:"col mt-4",children:b.jsx(Tr,{className:"btn btn-primary",to:"/",children:"Back"})})})]})}):null}function X6(){const n=tg(F=>F.user),{user:e,loading:t}=n,i=Ld(),{gameName:a}=k3(),[u,h]=B.useState({popupVisible:!1,setFound:!1,displayAnimation:!1,animatedSet:[],declarer:"",deck:[],board:[],selected:[],pending:null,gameStarted:!1,gameOver:""}),[m,g]=B.useState(""),[v,E]=B.useState(void 0),A=B.useRef({}).current,N=B.useRef(u);N.current=u;const O=F=>{h(Me=>{const ke={...Me,...F};return N.current=ke,ke})},H=()=>{const{declarer:F,selected:Me}=N.current;Nn.isEmpty(F)&&Me.length===3&&!ki(Me)&&O({selected:[]})},V=async F=>{if(!A.actions){console.error("Firebase actions reference not set.");return}console.log("Creating action on",A.actions);try{const Me=await x4(A.actions,{...F,created:kp()});if(F.type==="found"){const ke=Me.id;console.log("Document written with ID: ",ke),O({pending:ke})}}catch(Me){console.error("Error sending action:",Me),(Me.code==="permission-denied"||Me.code==="unauthenticated")&&(console.log("Firebase requires authentication for write operations. Guest functionality may be limited."),O({pending:null}))}},j=async F=>{const{declarer:Me,selected:ke}=N.current;if(Me)return;const se=fb(F,ke);if(se.length>3)return;const me={};if(se.length===3)if(ki(se)){const _e={type:"found",payload:{selected:se,name:m}};console.log("Found set, sending..."),await V(_e),me.popupVisible=!0}else console.log("Bad set selected!"),window.setTimeout(H,1e3);O({...me,selected:se})},ee=async F=>{F.preventDefault();const Me=e==null?void 0:e.nickname;if(Nn.isEmpty(Me))return;g(Me);const ke={type:"join",payload:{name:Me,uid:e==null?void 0:e.uid}};await V(ke)},Z=F=>{const Me={...F.data()},{selected:ke}=N.current;if(Nn.isEmpty(Me))return;console.log("Updating guest state with:",Me),Me.gameStarted!==N.current.gameStarted&&console.log(`Game started status changed: ${N.current.gameStarted} -> ${Me.gameStarted}`);const se=ke.length<3&&Nn.isEmpty(Me.declarer)?ke:Me.selected;console.log("New selected",se),O({...Me,selected:se,popupVisible:!1})};B.useEffect(()=>{if(!a){console.error("Game name is undefined.");return}console.log("Setting up Firebase listeners for game:",a),console.log("Current Firebase auth state:",Od.currentUser),A.game=yf(vf,"games",a);const F=g_(A.game,ke=>{console.log("Successfully received game update"),Z(ke)},ke=>{console.error("Error listening to game updates:",ke),ke.code==="permission-denied"&&console.log("Read access denied. Firebase security rules may require authentication.")});A.actions=m_(A.game,"actions");const Me=g_(A.actions,ke=>{console.log("Successfully received actions update"),ke.docChanges().forEach(se=>{if(se.type==="removed"){const{pending:me}=N.current;me===se.doc.id&&(console.log("Pending action removed!"),O({pending:null}))}})},ke=>{console.error("Error listening to actions:",ke),ke.code==="permission-denied"&&console.log("Actions access denied. Firebase security rules may require authentication.")});return function(){A.game&&F(),A.actions&&Me()}},[a]);const{board:he,deck:ne,selected:z,declarer:D,players:I,popupVisible:L}=u;if(t)return"Loading profile...";if(Nn.isEmpty(e))return b.jsxs("div",{className:"container",children:[b.jsx("h4",{className:"mb-3",children:"Join as guest:"}),b.jsxs("form",{onSubmit:F=>{F.preventDefault();const Me=F.target.nickname.value;if(Nn.isEmpty(Me))return;const ke={uid:`guest_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,nickname:Me,displayName:Me,isGuest:!0};localStorage.setItem("guestUser",JSON.stringify(ke)),localStorage.setItem("nickname",Me),i(Wv({user:ke,loading:!1}))},children:[b.jsx("div",{className:"col-12 col-md-4",children:b.jsx("input",{autoFocus:!0,type:"text",name:"nickname",placeholder:"Enter your nickname",required:!0})}),b.jsx("div",{className:"col-12 col-md-4",children:b.jsx("input",{className:"btn btn-primary mt-3 ml-md-3",type:"submit",value:"Join as Guest"})})]}),b.jsx("hr",{className:"my-4"}),b.jsx("p",{children:"Or sign in with your Google account for a persistent profile:"}),b.jsx("p",{children:b.jsx("button",{onClick:()=>{localStorage.removeItem("guestUser"),eg()},className:"btn btn-outline-info",children:"Sign in with Google"})}),b.jsx("p",{children:b.jsx(Tr,{to:"/lobby",children:"Back"})})]});if(!m)return b.jsxs("div",{className:"container",children:[b.jsx(Eb,{user:e}),b.jsx("h4",{className:"mb-3",children:"Choose your nickname:"}),(e==null?void 0:e.isGuest)&&b.jsx("div",{className:"alert alert-info mb-3",children:b.jsxs("small",{children:[" Welcome back, ",e.nickname,"! You're playing as a guest.",b.jsx("button",{className:"btn btn-link btn-sm p-0 ms-2",onClick:()=>{localStorage.removeItem("guestUser"),eg()},children:"Sign in with Google"}),"for a permanent profile."]})}),b.jsxs("form",{onSubmit:ee,children:[b.jsx("div",{className:"col-12 col-md-4",children:b.jsx("input",{autoFocus:!0,type:"text",placeholder:"your name",value:(e==null?void 0:e.nickname)||"",onChange:F=>{if(i(fI(F.target.value)),e!=null&&e.isGuest){const Me={...e,nickname:F.target.value,displayName:F.target.value};localStorage.setItem("guestUser",JSON.stringify(Me))}window.localStorage.setItem("nickname",F.target.value)}})}),b.jsx("div",{className:"col-12 col-md-4",children:b.jsx("input",{className:"btn btn-primary mt-3 ml-md-3",type:"submit",value:"Join"})})]})]});const{setFound:q,gameOver:K,gameStarted:Q}=N.current;return Q?b.jsxs(B.Fragment,{children:[b.jsxs(Ti,{show:u.pending&&L,children:[b.jsx(Ti.Header,{children:b.jsx(Ti.Title,{children:"Submitting action..."})}),b.jsxs(Ti.Body,{children:[b.jsx("p",{className:"text-center",children:"SET!"}),b.jsx("div",{className:"text-center",children:b.jsx(CI,{animation:"border"})})]})]}),b.jsx(p0,{board:he,deck:ne,selected:z,declarer:D,handleCardClick:j,handleDeclare:()=>{},players:I||{},setFound:q,gameOver:K,myName:m,gameMode:"versus",resetGame:()=>{},solo:!1})]}):b.jsx(II,{players:I||{},isHost:!1,setState:O})}const Af={turnTime:4e3,colors:NI,playingTo:6,cpuDelay:1200,setDisplayTime:2e3},xo={min:1,max:8,step:1,default:2},uf=[{setsOnBoard:1,averageAttempts:21.85,medianAttempts:16,percentiles:{p25:7,p75:30,p90:50},range:{min:1,max:136}},{setsOnBoard:2,averageAttempts:10.25,medianAttempts:7,percentiles:{p25:3,p75:14,p90:23},range:{min:1,max:72}},{setsOnBoard:3,averageAttempts:7.19,medianAttempts:5,percentiles:{p25:2,p75:10,p90:16},range:{min:1,max:54}},{setsOnBoard:4,averageAttempts:5.43,medianAttempts:4,percentiles:{p25:2,p75:8,p90:12},range:{min:1,max:35}},{setsOnBoard:5,averageAttempts:4.5,medianAttempts:3,percentiles:{p25:2,p75:6,p90:9},range:{min:1,max:25}},{setsOnBoard:6,averageAttempts:3.51,medianAttempts:3,percentiles:{p25:1,p75:5,p90:7},range:{min:1,max:21}}],Z6=n=>{if(n<=1)return uf[0];if(n>=6)return uf[5];const e=uf.find(m=>m.setsOnBoard===n);if(e)return e;const t=Math.floor(n)-1,i=Math.ceil(n)-1,a=uf[t],u=uf[i];if(!a||!u)return uf[2];const h=n-a.setsOnBoard;return{setsOnBoard:n,averageAttempts:a.averageAttempts+h*(u.averageAttempts-a.averageAttempts),medianAttempts:Math.round(a.medianAttempts+h*(u.medianAttempts-a.medianAttempts)),percentiles:{p25:Math.round(a.percentiles.p25+h*(u.percentiles.p25-a.percentiles.p25)),p75:Math.round(a.percentiles.p75+h*(u.percentiles.p75-a.percentiles.p75)),p90:Math.round(a.percentiles.p90+h*(u.percentiles.p90-a.percentiles.p90))},range:{min:Math.round(a.range.min+h*(u.range.min-a.range.min)),max:Math.round(a.range.max+h*(u.range.max-a.range.max))}}},Tb=(n,e=3)=>{const t={1:1.1,2:1.4,3:1.7,4:2.3,5:3.3,6:4,7:6,8:8},a=24e3/(5*(t[n]||t[2])),u=Z6(e),h=u.averageAttempts*a,m=u.medianAttempts*a,g={fast:u.percentiles.p25*a,slow:u.percentiles.p75*a};return{cpuTurnInterval:a,averageAttempts:u.averageAttempts,medianAttempts:u.medianAttempts,averageTimeSeconds:Math.round(h/1e3),medianTimeSeconds:Math.round(m/1e3),typicalRangeSeconds:{fast:Math.round(g.fast/1e3),slow:Math.round(g.slow/1e3)},performanceData:u}},Ru=n=>{if(n<60)return`${n}s`;const e=Math.floor(n/60),t=n%60;return t===0?`${e}m`:`${e}m ${t}s`},J6=({currentDifficulty:n,isOpen:e,onClose:t})=>{const[i,a]=B.useState(n),[u,h]=B.useState(3);if(!e)return null;const m=Tb(i,u),{cpuTurnInterval:g,averageAttempts:v,medianAttempts:E,averageTimeSeconds:S,medianTimeSeconds:A,typicalRangeSeconds:N,performanceData:O}=m;return b.jsx("div",{className:"modal fade show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:b.jsx("div",{className:"modal-dialog modal-lg",children:b.jsxs("div",{className:"modal-content",children:[b.jsxs("div",{className:"modal-header",children:[b.jsxs("h5",{className:"modal-title",children:[b.jsx("i",{className:"bi bi-cpu me-2"}),"CPU Performance Analysis"]}),b.jsx("button",{type:"button",className:"btn-close",onClick:t})]}),b.jsxs("div",{className:"modal-body",children:[b.jsxs("div",{className:"row mb-4",children:[b.jsxs("div",{className:"col-md-6",children:[b.jsx("label",{className:"form-label fw-bold",children:"Difficulty Level"}),b.jsx("input",{type:"range",min:xo.min,max:xo.max,step:xo.step,value:i,onChange:H=>a(Number(H.target.value)),className:"form-range"}),b.jsx("div",{className:"text-center",children:b.jsx("span",{className:"badge bg-primary",children:i})})]}),b.jsxs("div",{className:"col-md-6",children:[b.jsx("label",{className:"form-label fw-bold",children:"Sets on Board"}),b.jsx("input",{type:"range",min:1,max:6,step:1,value:u,onChange:H=>h(Number(H.target.value)),className:"form-range"}),b.jsx("div",{className:"text-center",children:b.jsxs("span",{className:"badge bg-success",children:[u," set",u!==1?"s":""]})})]})]}),b.jsxs("div",{className:"card mb-4",children:[b.jsx("div",{className:"card-header bg-primary text-white",children:b.jsxs("h6",{className:"mb-0",children:["Analysis: Difficulty ",i," with ",u," set",u!==1?"s":""," on board"]})}),b.jsxs("div",{className:"card-body",children:[b.jsxs("div",{className:"row text-center",children:[b.jsx("div",{className:"col-md-3",children:b.jsxs("div",{className:"border rounded p-2 mb-2",children:[b.jsxs("div",{className:"fw-bold text-primary fs-5",children:[(g/1e3).toFixed(1),"s"]}),b.jsx("small",{className:"text-muted",children:"Per Attempt"})]})}),b.jsx("div",{className:"col-md-3",children:b.jsxs("div",{className:"border rounded p-2 mb-2",children:[b.jsx("div",{className:"fw-bold text-info fs-5",children:v.toFixed(1)}),b.jsx("small",{className:"text-muted",children:"Avg Attempts"})]})}),b.jsx("div",{className:"col-md-3",children:b.jsxs("div",{className:"border rounded p-2 mb-2",children:[b.jsx("div",{className:"fw-bold text-success fs-5",children:Ru(S)}),b.jsx("small",{className:"text-muted",children:"Avg Time"})]})}),b.jsx("div",{className:"col-md-3",children:b.jsxs("div",{className:"border rounded p-2 mb-2",children:[b.jsxs("div",{className:"fw-bold text-warning fs-5",children:[Ru(N.fast),"-",Ru(N.slow)]}),b.jsx("small",{className:"text-muted",children:"Typical Range"})]})})]}),b.jsx("div",{className:"mt-3 p-2 bg-light rounded",children:b.jsxs("small",{className:"text-muted",children:[b.jsx("strong",{children:"Interpretation:"})," At difficulty ",i,", the CPU attempts to find a set every ",(g/1e3).toFixed(1)," seconds. With ",u," set",u!==1?"s":""," available, it takes an average of ",v.toFixed(1)," attempts (",Ru(S)," total) to successfully find one."]})})]})]}),b.jsx(e9,{selectedDifficulty:i}),b.jsx(t9,{performanceData:O})]}),b.jsxs("div",{className:"modal-footer",children:[b.jsx("small",{className:"text-muted me-auto",children:"Data based on 1000-trial simulations per scenario"}),b.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,children:"Close"})]})]})})})},e9=({selectedDifficulty:n})=>b.jsxs("div",{className:"card mb-4",children:[b.jsx("div",{className:"card-header",children:b.jsxs("h6",{className:"mb-0",children:["Performance Matrix: Difficulty ",n," vs Sets on Board"]})}),b.jsx("div",{className:"card-body",children:b.jsx("div",{className:"table-responsive",children:b.jsxs("table",{className:"table table-sm table-hover",children:[b.jsx("thead",{className:"table-light",children:b.jsxs("tr",{children:[b.jsx("th",{children:"Sets on Board"}),b.jsx("th",{children:"Avg Attempts"}),b.jsx("th",{children:"Time per Attempt"}),b.jsx("th",{children:"Total Avg Time"}),b.jsx("th",{children:"Typical Range"})]})}),b.jsx("tbody",{children:uf.map(e=>{const t=Tb(n,e.setsOnBoard);return b.jsxs("tr",{children:[b.jsx("td",{children:b.jsx("span",{className:"badge bg-secondary",children:e.setsOnBoard})}),b.jsx("td",{children:t.averageAttempts.toFixed(1)}),b.jsxs("td",{children:[(t.cpuTurnInterval/1e3).toFixed(1),"s"]}),b.jsx("td",{children:b.jsx("span",{className:"fw-bold text-primary",children:Ru(t.averageTimeSeconds)})}),b.jsx("td",{children:b.jsxs("small",{className:"text-muted",children:[Ru(t.typicalRangeSeconds.fast)," -"," ",Ru(t.typicalRangeSeconds.slow)]})})]},e.setsOnBoard)})})]})})})]}),t9=({performanceData:n})=>b.jsxs("div",{className:"card",children:[b.jsx("div",{className:"card-header",children:b.jsx("h6",{className:"mb-0",children:"Detailed Statistics"})}),b.jsxs("div",{className:"card-body",children:[b.jsxs("div",{className:"row",children:[b.jsxs("div",{className:"col-md-6",children:[b.jsx("h6",{className:"text-muted",children:"Attempt Distribution"}),b.jsxs("ul",{className:"list-unstyled",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Average:"})," ",n.averageAttempts.toFixed(1)," attempts"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Median:"})," ",n.medianAttempts," attempts"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"25th percentile:"})," ",n.percentiles.p25," attempts"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"75th percentile:"})," ",n.percentiles.p75," attempts"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"90th percentile:"})," ",n.percentiles.p90," attempts"]})]})]}),b.jsxs("div",{className:"col-md-6",children:[b.jsx("h6",{className:"text-muted",children:"Performance Insights"}),b.jsxs("ul",{className:"list-unstyled",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Best case:"})," ",n.range.min," attempt",n.range.min!==1?"s":""]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Worst case:"})," ",n.range.max," attempts"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Success rate:"})," 100% (CPU always finds available sets)"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Strategy:"})," Random 2-card selection"]})]})]})]}),b.jsxs("div",{className:"mt-3 p-3 bg-info bg-opacity-10 rounded",children:[b.jsx("h6",{className:"text-info",children:"How CPU Strategy Works"}),b.jsx("small",{className:"text-muted",children:"The CPU randomly selects 2 cards from the board, calculates what the 3rd card would need to be to complete a set, then checks if that card exists on the board. If yes, it finds the set. If no, it tries again with 2 different cards. This process repeats until a set is found."})]})]})]}),n9=({cpuPerformance:n,onShowDetails:e})=>{const{averageTimeSeconds:t}=n,a=(u=>u<=10?{text:"Very Fast",color:"danger"}:u<=20?{text:"Fast",color:"warning"}:u<=40?{text:"Moderate",color:"info"}:u<=60?{text:"Slow",color:"secondary"}:{text:"Very Slow",color:"dark"})(t);return b.jsx("div",{className:"mt-3 p-3 border rounded bg-light",children:b.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-between align-items-center gap-3",children:[b.jsxs("div",{className:"text-center flex-grow-1",children:[b.jsx("div",{className:"mb-2",children:b.jsx("small",{className:"text-muted",children:"Opponent Set-Finding Time:"})}),b.jsx("div",{className:"text-center",children:b.jsxs("div",{className:"d-flex justify-content-center align-items-center gap-2 mb-1",children:[b.jsx("span",{className:"fw-bold text-primary fs-5",children:Ru(t)}),b.jsx("span",{className:`badge bg-${a.color} fs-6`,title:"CPU difficulty level based on average response time",children:a.text})]})}),b.jsx("div",{className:"mt-2",children:b.jsx("small",{className:"text-muted",children:"Average based on board showing 3 sets"})})]}),b.jsx("div",{className:"flex-shrink-0",children:b.jsxs("button",{type:"button",onClick:e,className:"btn btn-outline-info btn-sm",title:"View detailed CPU performance analysis",children:[b.jsx("i",{className:"bi bi-graph-up me-1"}),b.jsx("span",{className:"d-none d-sm-inline",children:"Detailed Analysis"}),b.jsx("span",{className:"d-inline d-sm-none",children:"Details"})]})})]})})},r9=({user:n,difficulty:e,onDifficultyChange:t,onStartGame:i})=>{const a=Tb(e),[u,h]=B.useState(!1);return b.jsxs("div",{className:"container main-content",children:[b.jsx(Eb,{user:n}),b.jsxs("div",{className:"text-center mb-4",children:[b.jsx("h3",{className:"mb-3",children:"Solo Play vs. Computer"}),b.jsx("h4",{className:"mb-4",children:"Choose difficulty level:"})]}),b.jsx("div",{className:"row justify-content-center",children:b.jsxs("div",{className:"col-12 col-md-8",children:[b.jsxs("form",{onSubmit:i,className:"mb-4",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("input",{type:"range",min:xo.min,max:xo.max,step:xo.step,value:e,onChange:m=>t(Number(m.target.value)),className:"form-range"}),b.jsx("div",{className:"text-center mt-2",children:b.jsxs("span",{className:"badge bg-primary fs-6",children:["Difficulty: ",e]})}),b.jsx(n9,{cpuPerformance:a,onShowDetails:()=>h(!0)})]}),b.jsxs("div",{className:"text-center",children:[b.jsx("button",{type:"submit",className:"btn btn-primary btn-lg px-5",children:"Start Game"}),b.jsxs("p",{className:"mt-3 text-muted",children:["First to ",Af.playingTo," points is the winner"]})]})]}),b.jsx(i9,{})]})}),(!n||!n.uid)&&b.jsx(s9,{}),b.jsx(J6,{currentDifficulty:e,isOpen:u,onClose:()=>h(!1)})]})},i9=()=>b.jsxs("div",{className:"mt-5",children:[b.jsx("h5",{className:"mb-3",children:"Other Game Options:"}),b.jsx("div",{className:"row",children:b.jsx("div",{className:"col-md-6",children:b.jsxs("div",{className:"d-grid gap-2",children:[b.jsx(Tr,{to:"/local",className:"btn btn-outline-primary",children:"Local Multiplayer"}),b.jsx(Tr,{to:"/training",className:"btn btn-outline-primary",children:"Training Mode"})]})})}),b.jsx("hr",{className:"my-4"}),b.jsx("div",{className:"text-center",children:b.jsx(Tr,{to:"/",className:"btn btn-outline-secondary",children:" Back to Main Menu"})})]}),s9=()=>b.jsx("div",{className:"row justify-content-center mt-5",children:b.jsx("div",{className:"col-12 col-md-8",children:b.jsx("div",{className:"card border-info",children:b.jsxs("div",{className:"card-body text-center",children:[b.jsx("h5",{className:"card-title",children:"Save Your Progress"}),b.jsx("p",{className:"card-text",children:"Sign in with your Google account to track your game statistics and progress."}),b.jsx("button",{onClick:()=>{const n=eg();n&&typeof n.catch=="function"&&n.catch(console.error)},className:"btn btn-info btn-lg",children:"Sign in with Google"})]})})})}),a9="_errorFlash_1v44u_1",o9="_successFlash_1v44u_1",l9="_userFlash_1v44u_1",u9="_cpuFlash_1v44u_1",Ov={errorFlash:a9,successFlash:o9,userFlash:l9,cpuFlash:u9},DI=({showCpuFlash:n=!1,showUserFlash:e=!1,showSuccessFlash:t=!1,showErrorFlash:i=!1})=>b.jsxs(b.Fragment,{children:[n&&b.jsx("div",{className:Ov.cpuFlash}),e&&b.jsx("div",{className:Ov.userFlash}),t&&b.jsx("div",{className:Ov.successFlash}),i&&b.jsx("div",{className:Ov.errorFlash})]}),QT=n=>{const e=Number.isNaN(n)?xo.default:n,t={1:1.1,2:1.4,3:1.7,4:2.3,5:3.3,6:4,7:6,8:8};return 24e3/(5*(t[e]||t[xo.default]))},wA=()=>{const n=h0(),e=[];return{...Jp({deck:n.slice(12),board:n.slice(0,12)}),selected:e}},bA=()=>({players:{you:{score:0,color:Af.colors[0],name:"you"},cpu:{score:0,color:Af.colors[1],name:"cpu"}},gameStarted:!1,myName:"you",setFound:!1,declarer:null,gameOver:null,cpuTurnInterval:QT(xo.default),startTime:new Date,deck:[],board:[],selected:[],cpuFound:[]}),SA=()=>{const n=window.localStorage.getItem("soloDifficulty");return n?Number(n):xo.default},c9=n=>{window.localStorage.setItem("soloDifficulty",n.toString())},OI=(n,e,t)=>{var u;const i=(((u=n[e])==null?void 0:u.score)||0)+t;return[cb(n,{[e]:{$merge:{score:i}}}),i]},f9=()=>({startCpuTimer:(a,u,h)=>window.setInterval(()=>{u(m=>{const{board:g,declarer:v,gameOver:E}=m;if(v||E)return m;const[S,A]=Nn.shuffle(g).slice(0,2),N=ff(S,A);return g.includes(N)?(h(),{...m,declarer:"cpu",selected:[S],cpuFound:[A,N],setFound:!0}):m})},a.cpuTurnInterval),startCpuAnimation:(a,u)=>window.setInterval(()=>{u(h=>{const{selected:m,cpuFound:g}=h;if(!g||g.length===0)return h;const v=[...g],E=[...m,v.pop()];return E.length===3?{...h,cpuFound:v,selected:E,setFound:!0}:{...h,cpuFound:v,selected:E}})},Af.cpuDelay),startSetFoundTimer:(a,u)=>window.setTimeout(()=>{u(a.selected,a.declarer)},Af.setDisplayTime),startDeclarationTimer:(a,u)=>window.setTimeout(()=>{u(h=>{if(h.declarer&&!ki(h.selected)){const[m]=OI(h.players,h.declarer,-.5);return{...h,players:m,declarer:null,timeDeclared:void 0,selected:[]}}return h})},Af.turnTime)}),MI=()=>{const[n,e]=B.useState(!1),[t,i]=B.useState(!1),[a,u]=B.useState(!1),[h,m]=B.useState(!1);return{showCpuFlash:n,showUserFlash:t,showSuccessFlash:a,showErrorFlash:h,triggerCpuFlash:()=>{e(!0),setTimeout(()=>e(!1),800)},triggerUserFlash:()=>{i(!0),setTimeout(()=>i(!1),800)},triggerSuccessFlash:()=>{u(!0),setTimeout(()=>u(!1),500)},triggerErrorFlash:()=>{m(!0),setTimeout(()=>m(!1),800)}}},h9=n=>{const[e,t]=B.useState(()=>({...Nn.cloneDeep(bA()),...wA(),difficulty:SA()})),{showCpuFlash:i,showUserFlash:a,triggerCpuFlash:u,triggerUserFlash:h}=MI(),{startCpuTimer:m,startCpuAnimation:g,startSetFoundTimer:v,startDeclarationTimer:E}=f9();B.useEffect(()=>{const j=SA(),ee=QT(j);t(Z=>({...Z,difficulty:j,cpuTurnInterval:ee}))},[]),B.useEffect(()=>{let j=null;return e.gameStarted&&!e.gameOver&&!e.declarer&&!e.setFound&&(j=m(e,t,u)),()=>{j!==null&&clearInterval(j)}},[e.gameStarted,e.gameOver,e.declarer,e.setFound,e.cpuTurnInterval]),B.useEffect(()=>{let j=null;return e.declarer==="cpu"&&e.cpuFound&&e.cpuFound.length>0&&(j=g(e,t)),()=>{j!==null&&clearInterval(j)}},[e.declarer,e.cpuFound]),B.useEffect(()=>{let j=null;return e.setFound&&e.selected.length===3&&ki(e.selected)&&(j=v(e,S)),()=>{j!==null&&clearTimeout(j)}},[e.setFound,e.selected]),B.useEffect(()=>{let j=null;return e.declarer&&e.timeDeclared&&!e.setFound&&(j=E(e,t)),()=>{j!==null&&clearTimeout(j)}},[e.declarer,e.timeDeclared,e.setFound]);const S=(j,ee)=>{t(Z=>{if(!Z.setFound)return Z;const[he,ne]=OI(Z.players,ee,1),z=ne>=Af.playingTo?ee:"";if(z){const I=n&&n.uid||"anonymous",L=ee==="you"?1:0,q=Math.round((new Date().getTime()-Z.startTime.getTime())/1e3);setTimeout(()=>{jn.post("/api/game",{uid:I,total_time:q,player_won:L,difficulty_level:Z.difficulty,winning_score:ne}).catch(()=>{})},0)}const D=hI({board:Z.board,deck:Z.deck,selected:j});return{...Z,...D,players:he,gameOver:z,setFound:!1,declarer:null,timeDeclared:void 0,selected:[]}})};return{state:e,flashState:{showCpuFlash:i,showUserFlash:a},handlers:{handleCardClick:j=>{t(ee=>{const{setFound:Z,declarer:he,myName:ne,selected:z}=ee;if(Z||he==="cpu")return ee;const D=fb(j,z);let I=he,L=ee.timeDeclared;he||(I=ne,L=new Date().getTime());const q=ki(D);return q&&I===ne&&h(),{...ee,selected:D,declarer:I,timeDeclared:L,setFound:q}})},handleRedeal:()=>{t(j=>({...j,...Jp(j)}))},resetGame:()=>{t(j=>({...Nn.cloneDeep(bA()),...wA(),difficulty:j.difficulty,cpuTurnInterval:j.cpuTurnInterval}))},handleStartGame:j=>{j.preventDefault(),t(ee=>({...ee,gameStarted:!0,startTime:new Date}))},handleDifficultyChange:j=>{const ee=QT(j);c9(j),t(Z=>({...Z,cpuTurnInterval:ee,difficulty:j}))}}}};function d9(){const n=tg(z=>z.user),{user:e}=n,{state:t,flashState:i,handlers:a}=h9(e);B.useEffect(()=>{console.log("Solo component - user state:",e?`${e.displayName} (${e.uid})`:"No user")},[e]);const{board:u,deck:h,selected:m,declarer:g,players:v,gameStarted:E,setFound:S,gameOver:A,myName:N,difficulty:O}=t,{showCpuFlash:H,showUserFlash:V}=i,{handleCardClick:j,handleRedeal:ee,resetGame:Z,handleStartGame:he,handleDifficultyChange:ne}=a;return n.loading?"Loading...":E?b.jsxs(b.Fragment,{children:[b.jsx(DI,{showCpuFlash:H,showUserFlash:V}),b.jsx(p0,{board:u,deck:h,selected:m,declarer:g,handleCardClick:j,handleDeclare:()=>{},handleRedeal:ee,players:v,setFound:S,gameOver:A,myName:N,resetGame:Z,solo:!0,gameMode:"versus"})]}):b.jsx(r9,{user:e,difficulty:O,onDifficultyChange:ne,onStartGame:he})}const wb=({name:n})=>b.jsxs("div",{children:[b.jsxs("h1",{children:[n," Component (Placeholder)"]}),b.jsx("p",{children:"This component will be migrated from the old app."})]}),m9=()=>b.jsx(wb,{name:"SharedDevice"});function p9({desc:n}){return b.jsx("div",{className:"col-4 my-2",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:n})})})}function g9(){const n=["0000","1210","0022","2101","0120","2011"];return b.jsxs("div",{className:"rules container",children:[b.jsx("h2",{children:"Rules of the Game"}),b.jsx("p",{children:"The object of the same is to find sets of three cards that are either the same or different along each of four dimensions."}),b.jsx("p",{children:"If that makes perfect sense to you, then go ahead and start playing. Otherwise, I will explain a bit more."}),b.jsx("p",{children:"The game starts by laying out a board with twelve cards. Here are some example cards: "}),b.jsx("div",{className:"row",children:n.map((e,t)=>b.jsx(p9,{desc:e},t))}),b.jsx("p",{children:"You'll notice that every card has four different characteristics:"}),b.jsxs("ul",{className:"browser-default",children:[b.jsx("li",{children:"color"}),b.jsx("li",{children:"number"}),b.jsx("li",{children:"shape"}),b.jsx("li",{children:"fill"})]}),b.jsx("p",{children:"and each of those characteristics has three different possibilities."}),b.jsxs("p",{children:["Three cards form a set if, for each of those four characteristics, the three cards are either ",b.jsx("em",{children:"all the same"})," or ",b.jsx("em",{children:"all different."})]}),b.jsx("p",{children:"It is easier to understand with examples, so here is an example set:"}),b.jsxs("div",{className:"row my-3",children:[b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"0112"})})})," ",b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"1111"})})}),b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"2110"})})})]}),b.jsx("p",{children:"Which you can describe as follows:"}),b.jsxs("ul",{className:"browser-default",children:[b.jsx("li",{children:"color - SAME"}),b.jsx("li",{children:"shape - SAME"}),b.jsx("li",{children:"number - DIFFERENT"}),b.jsx("li",{children:"fill - DIFFERENT"})]}),b.jsx("p",{children:"Therefore, the three cards form a set."}),b.jsx("p",{children:"Here is another set:"}),b.jsxs("div",{className:"row my-3",children:[b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"2022"})})}),b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"1112"})})}),b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"0202"})})})]}),b.jsxs("ul",{className:"browser-default",children:[b.jsx("li",{children:"color - DIFFERENT"}),b.jsx("li",{children:"shape - DIFFERENT"}),b.jsx("li",{children:"number - DIFFERENT"}),b.jsx("li",{children:"fill - SAME"})]}),b.jsx("p",{children:"This is not a set:"}),b.jsxs("div",{className:"row my-3",children:[b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"1220"})})}),b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"1110"})})}),b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"2000"})})})]}),b.jsxs("ul",{className:"browser-default",children:[b.jsx("li",{children:"fill - SAME"}),b.jsx("li",{children:"color - DIFFERENT"}),b.jsx("li",{children:"shape - DIFFERENT"}),b.jsx("li",{children:"number - NOT THE SAME OR DIFFERENT!"})]}),b.jsxs("p",{children:["Even though the cards have the same fill, different colors, and different shapes, the numbers are neither ",b.jsx("em",{children:"all the same"})," nor ",b.jsx("em",{children:"all different"}),", so it's not a set."]}),b.jsxs("p",{children:["It doesn't matter how many of the characteristics are the same, and how many are different, as long as for ",b.jsx("em",{children:"each"})," characteristic, the cards are all the same or all different. Here's one last example:"]}),b.jsxs("div",{className:"row my-3",children:[b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"1122"})})}),b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"0201"})})}),b.jsx("div",{className:"col-4",children:b.jsx("div",{className:"card",children:b.jsx(Li,{desc:"2010"})})})]}),b.jsxs("ul",{className:"browser-default",children:[b.jsx("li",{children:"color - DIFFERENT"}),b.jsx("li",{children:"shape - DIFFERENT"}),b.jsx("li",{children:"number - DIFFERENT"}),b.jsx("li",{children:"fill - DIFFERENT"})]}),b.jsx("p",{children:"Each characteristic is different for all three cards, so this is a set."}),b.jsx("p",{children:b.jsx(Tr,{to:"/",children:"Back Home"})})]})}const y9=()=>b.jsx(wb,{name:"Login"});function v9(){const n=tg(a=>a.user),{user:e}=n,[t,i]=B.useState(null);return Ld(),B.useEffect(()=>{const a=async()=>{e!=null&&e.uid&&jn.get(`/api/user/stats/${e.uid}`).then(u=>{i(u.data)})};!n.loading&&e!==null&&a()},[n.loading,e]),n.loading?"Loading...":e===null?b.jsxs("div",{className:"container mt-4",children:[b.jsx("p",{children:"Sign in to view stats"}),b.jsx("p",{children:b.jsx("button",{onClick:eg,className:"btn btn-info",children:"Sign in"})})]}):b.jsxs("div",{className:"container mt-2 mt-md-4",children:[b.jsx("h3",{children:"Statistics"}),b.jsxs("table",{className:"table table-striped",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{children:"Difficulty"}),b.jsx("th",{children:"Games Played"}),b.jsx("th",{children:"Winning Percentage"})]})}),b.jsx("tbody",{children:t&&t.map((a,u)=>b.jsxs("tr",{children:[b.jsx("td",{children:a.difficulty_level}),b.jsx("td",{children:a.games_played}),b.jsxs("td",{children:[Math.round(100*(a.games_won/a.games_played)),"%"]})]},`stats-${u}`))})]}),b.jsx("p",{children:b.jsx(Tr,{to:"/",children:"Main Menu"})})]})}const _9=()=>b.jsx(wb,{name:"Puzzle"}),E9=({show:n,onClose:e})=>{const[t,i]=B.useState("two-card-hint"),a=()=>{e(t)};return b.jsxs(Ti,{show:n,onHide:()=>e("two-card-hint"),children:[b.jsx(Ti.Header,{className:"justify-content-center",children:b.jsx(Ti.Title,{children:"Training Mode"})}),b.jsx(Ti.Body,{children:b.jsxs("div",{className:"d-flex flex-column justify-content-center",children:[b.jsx("p",{className:"my-2",children:"Choose your training mode:"}),b.jsxs("div",{className:"my-3",children:[b.jsxs("div",{className:"form-check mb-3",children:[b.jsx("input",{className:"form-check-input",type:"radio",name:"trainingMode",id:"twoCardHint",checked:t==="two-card-hint",onChange:()=>i("two-card-hint")}),b.jsxs("label",{className:"form-check-label",htmlFor:"twoCardHint",children:[b.jsx("strong",{children:"Two Card Hint (Easier)"}),b.jsx("br",{}),b.jsx("small",{children:"Find the one card that completes a set with the two highlighted cards."})]})]}),b.jsxs("div",{className:"form-check",children:[b.jsx("input",{className:"form-check-input",type:"radio",name:"trainingMode",id:"oneCardHint",checked:t==="one-card-hint",onChange:()=>i("one-card-hint")}),b.jsxs("label",{className:"form-check-label",htmlFor:"oneCardHint",children:[b.jsx("strong",{children:"One Card Hint (Harder)"}),b.jsx("br",{}),b.jsx("small",{children:"Find the two cards that complete a set with the one highlighted card."})]})]})]}),b.jsx("p",{className:"my-2",children:"Try to keep finding SETs for as long as you can!"})]})}),b.jsx(Ti.Footer,{children:b.jsx("div",{className:"d-flex justify-content-center",children:b.jsx(pb,{onClick:a,variant:"primary",children:"Let's Go!"})})})]})},ta={initialTurnTime:7e3,oneCardHintInitialTurnTime:12e3,minimumTurnTime:1600,oneCardHintMinimumTurnTime:3e3,boardSize:8,timerUpdateInterval:100,gameOverDelay:2500,setFoundDelay:650},Up={highScore:"highScoreTraining",twoCardHintHighScore:"highScoreTraining_twoCardHint",oneCardHintHighScore:"highScoreTraining_oneCardHint"},gd=n=>n==="two-card-hint"?Up.twoCardHintHighScore:Up.oneCardHintHighScore,T9=()=>{const n=localStorage.getItem(Up.highScore),e=localStorage.getItem(Up.twoCardHintHighScore);n&&!e&&localStorage.setItem(Up.twoCardHintHighScore,n)},w9=({show:n,finalScore:e,mode:t,onRestart:i})=>{const a=gd(t),u=localStorage.getItem(a)||"0",h=t==="two-card-hint"?"Two Card Hint":"One Card Hint";return b.jsxs(Ti,{show:n,onHide:i,children:[b.jsxs(Ti.Body,{children:[b.jsx("h3",{className:"text-center mt-3",children:"GAME OVER!"}),b.jsxs("div",{className:"d-flex flex-column justify-content-center",children:[b.jsxs("p",{className:"text-center my-1",children:["Mode: ",h]}),b.jsxs("p",{className:"text-center my-2",children:["Final Score: ",e]}),b.jsxs("p",{className:"text-center my-2",children:["Best Score (",h,"): ",u]})]})]}),b.jsxs(Ti.Footer,{children:[b.jsx("button",{className:"btn btn-primary",onClick:i,children:b.jsx(Tr,{style:{color:"white",textDecoration:"none"},to:"/",children:"Main Menu"})}),b.jsx(pb,{onClick:i,variant:"secondary",children:"Restart"})]})]})},b9=()=>{const[n,e]=B.useState({board:[],selected:[],score:0,gameStartTime:Date.now(),turnStartTime:Date.now(),gameOver:!0,showModal:!1,setFound:!1,initialized:!1,mode:"two-card-hint"}),t=B.useCallback(({select:E=!0,mode:S="two-card-hint"}={})=>{const{board:A}=lj({boardSize:ta.boardSize,commonTraits:null});if(S==="two-card-hint"){const N=[...A.slice(0,2),"0333",...A.slice(2,8)],O=E?A.slice(0,2):[];return{board:N,selected:O}}else{const N=A[0],O=A[1],H=ff(N,O),ee=A.slice(1).filter(D=>D!==O&&D!==H).slice(0,4),he=[...[O,H,...ee]].sort(()=>Math.random()-.5),ne=[N,"0333","0333",...he],z=E?[N]:[];return(!he.includes(O)||!he.includes(H))&&console.error("Generated board does not contain the complete set!"),{board:ne,selected:z}}},[]),i=B.useCallback(()=>{T9();const{board:E,selected:S}=t({select:!1}),A=Date.now();e({board:E,selected:S,score:0,gameStartTime:A,turnStartTime:A,gameOver:!0,showModal:!1,setFound:!1,initialized:!1,mode:"two-card-hint"})},[t]),a=B.useCallback(E=>{e(S=>({...S,turnStartTime:Date.now(),setFound:!1}))},[]),u=B.useCallback((E,S,A)=>{e(N=>{if(N.selected.length===3||N.gameOver||E==="0333"||N.selected.includes(E))return N;const O=[...N.selected,E];if(N.mode==="one-card-hint"&&N.selected.length===1){const H=ff(N.selected[0],E),V=N.board.filter(j=>j!=="0333");if(!V.includes(H)){A();const j=N.board[0];let ee=[j];for(let z=1;z<V.length;z++){for(let D=z+1;D<V.length;D++){const I=V[z],L=V[D],q=[j,I,L];if(ki(q)){ee=q;break}}if(ee.length===3)break}const Z=gd(N.mode);Number(localStorage.getItem(Z)||"0")<N.score&&localStorage.setItem(Z,N.score.toString());const ne={...N,gameOver:!0,selected:ee};return setTimeout(()=>{e(z=>({...z,showModal:!0}))},ta.gameOverDelay),ne}}if(ki(O)){S();const H=N.score+1,V={...N,selected:O,score:H,setFound:!0};return setTimeout(()=>{const{board:j,selected:ee}=t({mode:N.mode});e(Z=>({...Z,board:j,selected:ee,setFound:!1,turnStartTime:Date.now()}))},ta.setFoundDelay),V}else if(N.mode==="two-card-hint"&&O.length===3){A();const H=ff(N.selected[0],N.selected[1]),V=gd(N.mode);Number(localStorage.getItem(V)||"0")<N.score&&localStorage.setItem(V,N.score.toString());const ee={...N,gameOver:!0,selected:[...N.selected,H]};return setTimeout(()=>{e(Z=>({...Z,showModal:!0}))},ta.gameOverDelay),ee}else if(N.mode==="one-card-hint"&&O.length>=2){if(O.length===2){const H=ff(O[0],O[1]),V=N.board.filter(j=>j!=="0333");if(V.includes(H))return{...N,selected:O};{A();const j=N.board[0];let ee=[j];for(let z=1;z<V.length;z++){for(let D=z+1;D<V.length;D++){const I=V[z],L=V[D],q=[j,I,L];if(ki(q)){ee=q;break}}if(ee.length===3)break}const Z=gd(N.mode);Number(localStorage.getItem(Z)||"0")<N.score&&localStorage.setItem(Z,N.score.toString());const ne={...N,gameOver:!0,selected:ee};return setTimeout(()=>{e(z=>({...z,showModal:!0}))},ta.gameOverDelay),ne}}else if(O.length===3){if(ki(O))return{...N,selected:O};{A();const H=N.board[0],V=N.board.filter(ne=>ne!=="0333");let j=[H];for(let ne=1;ne<V.length;ne++){for(let z=ne+1;z<V.length;z++){const D=V[ne],I=V[z],L=[H,D,I];if(ki(L)){j=L;break}}if(j.length===3)break}const ee=gd(N.mode);Number(localStorage.getItem(ee)||"0")<N.score&&localStorage.setItem(ee,N.score.toString());const he={...N,gameOver:!0,selected:j};return setTimeout(()=>{e(ne=>({...ne,showModal:!0}))},ta.gameOverDelay),he}}}else return{...N,selected:O}})},[t]),h=B.useCallback(()=>{e(E=>{let S=E.selected;if(E.mode==="two-card-hint")if(E.selected.length>=2){const H=ff(E.selected[0],E.selected[1]);S=[...E.selected,H]}else S=E.selected;else{const H=E.board[0],V=E.board.filter(ee=>ee!=="0333");let j=[H];for(let ee=1;ee<V.length;ee++){for(let Z=ee+1;Z<V.length;Z++){const he=V[ee],ne=V[Z],z=[H,he,ne];if(ki(z)){j=z;break}}if(j.length===3)break}S=j}const A=gd(E.mode);Number(localStorage.getItem(A)||"0")<E.score&&localStorage.setItem(A,E.score.toString());const O={...E,gameOver:!0,selected:S};return setTimeout(()=>{e(H=>({...H,showModal:!0}))},ta.gameOverDelay),O})},[]),m=B.useCallback(()=>{e(E=>{const{board:S,selected:A}=t({mode:E.mode}),N=Date.now();return{board:S,selected:A,score:0,gameStartTime:N,turnStartTime:N,gameOver:!1,showModal:!1,setFound:!1,initialized:!0,mode:E.mode}})},[t]),g=B.useCallback(E=>{const{board:S,selected:A}=t({mode:E}),N=Date.now();e(O=>({...O,board:S,selected:A,gameOver:!1,initialized:!0,gameStartTime:N,turnStartTime:N,mode:E}))},[t]),v=B.useMemo(()=>({initializeGame:i,handleCardClick:u,handleGameOver:h,resetGame:m,startInitialGame:g,startTurn:a}),[i,u,h,m,g,a]);return{gameState:n,actions:v}},S9=({gameStartTime:n,turnStartTime:e,score:t,gameOver:i,setFound:a,initialized:u,mode:h,onTimeUp:m})=>{const[g,v]=B.useState(0),[E,S]=B.useState(0),A=(N,O)=>{const H=O==="one-card-hint"?{initial:ta.oneCardHintInitialTurnTime,minimum:ta.oneCardHintMinimumTurnTime}:{initial:ta.initialTurnTime,minimum:ta.minimumTurnTime},V=Math.round(H.initial-1100*Math.log2(N+1));return Math.max(V,H.minimum)};return B.useEffect(()=>{let N=null;return!i&&!a&&u&&(N=window.setInterval(()=>{const O=Date.now(),H=Math.round((O-n)/1e3),V=O-e,j=A(t,h)-V;v(H),S(Math.max(0,Math.round(j/1e3*10)/10)),j<=0&&!a&&m()},ta.timerUpdateInterval)),()=>{N!==null&&clearInterval(N)}},[i,a,u,n,e,t,h,m]),{elapsedTime:g,timeRemaining:E,calculateTurnTime:A}},A9=()=>{const{gameState:n,actions:e}=b9(),{showSuccessFlash:t,showErrorFlash:i,triggerSuccessFlash:a,triggerErrorFlash:u}=MI(),h=()=>{e.handleGameOver(),u()},{elapsedTime:m,timeRemaining:g}=S9({gameStartTime:n.gameStartTime,turnStartTime:n.turnStartTime,score:n.score,gameOver:n.gameOver,setFound:n.setFound,initialized:n.initialized,mode:n.mode,onTimeUp:h});B.useEffect(()=>{e.initializeGame()},[]);const v=S=>{n.gameOver||n.mode==="two-card-hint"&&n.selected.length===3||n.mode==="one-card-hint"&&n.selected.length===3||e.handleCardClick(S,()=>a(),()=>u())},E={you:{name:"you",score:n.score,color:n.gameOver?dl.errorRed:dl.lightBlue}};return b.jsxs(B.Fragment,{children:[b.jsx(DI,{showSuccessFlash:t,showErrorFlash:i}),b.jsx("div",{className:"d-flex flex-column justify-content-between",children:b.jsx("div",{children:b.jsx(p0,{board:n.board,deck:[],selected:n.selected,declarer:null,handleCardClick:v,handleDeclare:()=>{},players:E,setFound:!1,gameOver:n.gameOver,myName:"you",resetGame:()=>{},solo:!0,gameMode:"training",elapsedTime:m,timeLeft:g})})}),b.jsx(E9,{show:!n.initialized,onClose:e.startInitialGame}),b.jsx(w9,{show:n.initialized&&n.gameOver&&n.showModal,finalScore:n.score,mode:n.mode,onRestart:e.resetGame})]})},R9=Rk([{element:b.jsx(rj,{}),children:[{path:"/",element:b.jsx(dj,{})},{path:"/host",element:b.jsx(W6,{})},{path:"/lobby",element:b.jsx(Q6,{})},{path:"/guest/:gameName",element:b.jsx(X6,{})},{path:"/solo",element:b.jsx(d9,{})},{path:"/local",element:b.jsx(m9,{})},{path:"/rules",element:b.jsx(g9,{})},{path:"/login",element:b.jsx(y9,{})},{path:"/stats",element:b.jsx(v9,{})},{path:"/puzzle",element:b.jsx(_9,{})},{path:"/training",element:b.jsx(A9,{})}]}]);function x9(){return b.jsx(Vk,{router:R9})}const C9=jV({reducer:{user:nj}});async function I9(){console.log(" Initializing app...");try{await new Promise(n=>setTimeout(n,100)),localStorage.removeItem("redirectInitiated"),localStorage.removeItem("preRedirectUrl"),localStorage.removeItem("authError"),console.log(" Current auth user:",Od.currentUser),console.log(" Firebase initialized and ready")}catch(n){console.error(" App initialization error:",n)}cN.createRoot(document.getElementById("root")).render(b.jsx(AN,{store:C9,children:b.jsx(x9,{})}))}I9();
