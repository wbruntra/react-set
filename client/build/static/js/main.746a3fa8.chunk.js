(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{32:function(e,t,a){e.exports=a.p+"static/media/sad_trombone.baad2ca9.mp3"},33:function(e,t,a){e.exports=a.p+"static/media/applause.c2030d5b.mp3"},37:function(e,t,a){e.exports=a(56)},42:function(e,t,a){},44:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),l=a.n(c),o=(a(42),a(1)),s=a(2),i=a(4),u=a(3),m=a(5),d=a(9),p=a(16),f=a(10),h=a(7),v=a(14),b=a(11),g=function(e){return Object(b.a)(Array(e).keys())},y=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;t=4===a?g(3).map((function(t){return g(4).map((function(a){return e.includes(4*t+a)?"x":"o"})).join("")})):g(4).map((function(t){return g(3).map((function(a){return e.includes(3*t+a)?"x":"o"})).join("")})),console.log(t.join("\n"))},O=function(e,t,a){for(var n=0,r=[],c=0;c<e.length-2;c++)for(var l=c+1;l<e.length-1;l++)for(var o=l+1;o<e.length;o++)if(r=[e[c],e[l],e[o]],j(r)&&(t&&y([c,l,o]),n++,a))return n;return n},E=function(){var e=[];return g(3).forEach((function(t){g(3).forEach((function(a){g(3).forEach((function(n){g(3).forEach((function(r){var c=""+t+n+a+r;e.push(c)}))}))}))})),e},j=function(e){if(3!==e.length)return!1;for(var t=Object(v.a)(e,3),a=t[0],n=t[1],r=t[2],c=0;c<4;c++){if((Number(a[c])+Number(n[c])+Number(r[c]))%3!==0)return!1}return!0},S=function(e,t){for(var a="",n=0;n<4;n++)e[n]===t[n]?a+=e[n]:a+=(3-(Number(e[n])+Number(t[n]))).toString();return a.trim()},w=function(e,t){return t.includes(e)?t.filter((function(t){return t!==e})):[].concat(Object(b.a)(t),[e])},N=function(e){for(var t=e.board,a=e.deck,n=Object(h.shuffle)([].concat(Object(b.a)(t),Object(b.a)(a)));0===O(n.slice(0,12),!1,!0)&&O(n,!1,!0)>0;)n=Object(h.shuffle)(n);return{deck:n.slice(12),board:n.slice(0,12)}},k=function(e){var t=e.board,a=e.deck,n=e.selected,r=a.slice(0,3),c=Object(b.a)(t),l=a.slice(3);for(n.forEach((function(e,t){var a=c.indexOf(e);c[a]=r[t]}));0===O(c);){var o=N({board:c,deck:l});l=o.deck,c=o.board}return{deck:l,board:c,selected:[]}},D=(a(44),120),T=200,C=4,F=25,P=function(e){var t=e.fill,a=e.color,n=C;return r.a.createElement("svg",{width:"120",height:"200",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",null,r.a.createElement("rect",{fill:"#fff",id:"canvas_background",height:"202",width:"122",y:"-1",x:"-1"}),r.a.createElement("g",{display:"none",overflow:"visible",y:"0",x:"0",height:"100%",width:"100%",id:"canvasGrid"},r.a.createElement("rect",{fill:"#fff",strokeWidth:"0",y:"0",x:"0",height:"100%",width:"100%"}))),r.a.createElement("g",null,r.a.createElement("path",{stroke:a,transform:" rotate(270,58.8,98) scale(0.8 1) translate(10 0) ",id:"svg_5",d:" m-17.49,66 c50.83,-35.45 101.7,35.45 152.5,0 c30,-10 30,43.8 0,63.8 c-50.8,35.45 -101.6,-35.45 -152.5,0 c-30,15 -30,-45 0,-63.59 z ",fillOpacity:"null",strokeOpacity:"null",strokeWidth:n,fill:t})))},R=function(e){var t=e.shape,a=e.fill,n=e.color,c=F,l=T,o=D;return"0"===t?(c+=1,r.a.createElement(P,{fill:a,color:n})):"1"===t?r.a.createElement("g",null,r.a.createElement("ellipse",{stroke:n,ry:(l-2*c)/2,rx:(o-2*c)/2,cy:l/2,cx:o/2,fillOpacity:"null",strokeOpacity:"null",strokeWidth:C,fill:a})):"2"===t?r.a.createElement("g",null,r.a.createElement("polygon",{points:"".concat(c,",").concat(l/2,"\n          ").concat(o/2,",").concat(c,"\n          ").concat(o-c,",").concat(l/2,"\n          ").concat(o/2,",").concat(l-c),style:{fill:a,stroke:n,strokeWidth:C}})):void 0},I=function(e){function t(){var e,a;Object(o.a)(this,t);for(var c=arguments.length,l=new Array(c),s=0;s<c;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).colors={0:"#00A91D",1:"#3E009E",2:"#FF0000",white:"#fff"},a.getFill=function(e,t){return"1"===t?"url(#card-".concat(e,"-").concat(t,")"):"2"===t?a.colors[e]:a.colors.white},a.drawShape=function(){var e=a.props.desc.split(""),t=Object(v.a)(e,4),c=t[1],l=t[2],o=t[3];return r.a.createElement(n.Fragment,null,r.a.createElement("g",null,r.a.createElement("title",null,"background"),r.a.createElement("rect",{fill:a.colors.white,id:"canvas_background",y:"-1",x:"-1"}),r.a.createElement("g",{display:"none",overflow:"visible",y:"0",x:"0",height:"100%",width:"100%",id:"canvasGrid"},r.a.createElement("rect",{strokeWidth:"0",y:"0",x:"0",height:"100%",width:"100%"}))),r.a.createElement(R,{shape:l,fill:a.getFill(c,o),color:a.colors[c]}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.desc.split(""),a=Object(v.a)(t,4),n=a[0],c=a[1],l=a[3];return r.a.createElement("div",{className:"game-card"},r.a.createElement("svg",{width:"0",height:"0"},r.a.createElement("pattern",{id:"card-".concat(c,"-").concat(l),width:10,height:"10",patternTransform:"rotate(45 0 0)",patternUnits:"userSpaceOnUse"},r.a.createElement("line",{x1:"0",y1:"0",x2:"0",y2:"10",style:{stroke:this.colors[c],strokeWidth:"5"}}))),g(Number(n)+1).map((function(t){return r.a.createElement("svg",{key:t,className:"shape",viewBox:"0 0 ".concat(D," ").concat(T),xmlns:"http://www.w3.org/2000/svg"},e.drawShape())})))}}]),t}(n.Component),x=a(32),A=a.n(x),G=a(33),U=a.n(G),M=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).finalSound=function(){var e=a.props,t=e.gameOver===e.myName?U.a:A.a;return r.a.createElement("audio",{src:t,autoPlay:!0})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.gameOver;e.myName;return r.a.createElement("div",{className:"deep-purple lighten-2w",style:{height:"100vh"}},this.finalSound(),r.a.createElement("div",{className:"row center-align"},r.a.createElement("div",{className:"card col s8 offset-s2 m6 offset-m3",style:{marginTop:.2*window.innerHeight}},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"},"GAME OVER!"),r.a.createElement("p",null,"Winner: ",t," ")),r.a.createElement("div",{className:"card-action"},r.a.createElement(d.b,{to:"/",style:{marginRight:0}},"Main Menu")))),this.props.solo&&r.a.createElement("div",{className:"row"},r.a.createElement("button",{className:"btn",onClick:this.props.resetGame},"Play Again")))}}]),t}(n.Component),W=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).resize=Object(h.debounce)((function(){a.forceUpdate()}),150),a.state={sets:O(e.board,!0)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"componentDidUpdate",value:function(e,t){JSON.stringify(e.board)!==JSON.stringify(this.props.board)&&this.setState({sets:O(this.props.board,!0)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.board,c=t.selected,l=t.deck,o=t.declarer,s=t.players,i=t.gameOver,u=t.myName,m=t.setFound;if(Object(h.isEmpty)(s)||!Object.keys(s).includes(u))return null;var d=o?s[o].color:s[u].color,p=this.state.sets;return i?r.a.createElement(M,{gameOver:i,myName:u}):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"navbar-fixed"},r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper"},o?r.a.createElement("a",{href:"#!",className:"brand-logo"},"SET! ",o):r.a.createElement("a",{href:"#!",className:"brand-logo"},"Sets: ",p),r.a.createElement("ul",{className:"right hide-on-med-and-down"},r.a.createElement("li",null,r.a.createElement("a",{href:"badges.html"},"Cards Left: ",l.length)))))),r.a.createElement("div",{className:"container",style:{maxWidth:.95*window.innerHeight}},r.a.createElement("div",{className:"row"},a.map((function(t){return r.a.createElement("div",{key:t,className:"col s4"+(c.includes(t)?d:""),onClick:function(){e.props.handleCardClick(t)}},r.a.createElement("div",{className:"card ".concat(m&&3===c.length&&!c.includes(t)?"blurry":"")},r.a.createElement(I,{desc:t})))}))),r.a.createElement("div",{className:"row"},Object(h.map)(s,(function(e,t){return r.a.createElement("div",{key:t,className:"col s4 m3"},r.a.createElement("span",{className:"player-name"+e.color},t,": ",e.score))}))),r.a.createElement("div",{className:"row"},this.props.handleRedeal&&r.a.createElement("button",{onClick:this.props.handleRedeal,className:"btn"},"Shuffle"))))}}]),t}(n.Component),V=a(20),z=a.n(V),H=a(15),L=a.n(H);a(23);L.a.initializeApp({apiKey:"AIzaSyAvSp91vcvkgt9RYafRIgY8noH4NSX0P0g",authDomain:"isthisprime.firebaseapp.com",databaseURL:"https://isthisprime.firebaseio.com",projectId:"isthisprime",storageBucket:"isthisprime.appspot.com",messagingSenderId:"522572340456"});var B=L.a.firestore(),J=[" light-blue lighten-3"," pink lighten-3"," amber accent-2"," purple darken-1"," light-green lighten-1"," orange accent-2"];function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $={turnTime:5e3,colors:J,playingTo:6},q=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleHostName=function(e){e.preventDefault();var t=a.state.inputName;a.setState({myName:t,players:Object(f.a)({},t,{score:0,color:$.colors[0]})})},a.handleCreateGame=function(e){e.preventDefault();var t=a.state,n=t.myName,r=t.board,c=t.deck,l=t.selected,o=a.state.gameTitle;""===o&&(o="".concat(n,"'s game")),a.gameRef=B.collection("games").doc(o),a.gameRef.set({board:r,deck:c,selected:l,lastUpdate:L.a.firestore.FieldValue.serverTimestamp()}),a.activeGameUpdater=window.setInterval((function(){a.gameRef.update({lastUpdate:L.a.firestore.FieldValue.serverTimestamp()})}),3e4),a.actionsRef=a.gameRef.collection("actions"),a.actionsRef.get().then((function(e){e.forEach((function(e){console.log(e.id,"=>",e.data())}))})),a.actionsRef.onSnapshot((function(e){e.docChanges().forEach((function(e){if("added"===e.type){var t=e.doc.data();window.created=t.created,console.log(t),a.processAction(t),a.actionsRef.doc(e.doc.id).delete()}"removed"===e.type&&console.log("Removed action: ",e.doc.data())}))})),a.setState({created:!0})},a.markPointForDeclarer=function(e){if(!e)return{};var t=a.state.players,n=t[e].score+1,r=z()(t,Object(f.a)({},e,{$merge:{score:n}})),c=n>=$.playingTo&&e;return c&&window.setTimeout((function(){a.gameRef.delete(),clearInterval(a.activeGameUpdater)}),3e3),{players:r,gameOver:c}},a.processAction=function(e){var t=e.type,n=e.payload,r=a.state,c=r.players,l=r.declarer;switch(t){case"join":if(Object.keys(c).includes(n.name))return;var o=Y({},c,Object(f.a)({},n.name,{score:0,color:$.colors[Object.keys(c).length]}));a.setAndSendState({players:o});break;case"found":l||a.updateSelected(n.selected,n.name);break;default:return}},a.setAndSendState=function(e){a.setState(e),a.gameRef.update(Y({},e))},a.triggerFoundSequence=function(e,t){},a.updateSelected=function(e,t){var n={setFound:j(e),selected:e,declarer:t};n.setFound&&setTimeout((function(){a.removeSet()}),4e3),a.setAndSendState(n)},a.handleCardClick=function(e){var t=a.state.myName;if(!a.state.declarer){var n=w(e,a.state.selected);j(n)&&a.updateSelected(n,t),a.setState({selected:n})}},a.handleRedeal=function(){var e=N(a.state);a.setAndSendState(e)},a.removeSet=function(){var e=a.state,t=e.declarer,n=e.selected;if(j(n)){var r=Y({setFound:!1,declarer:null,timeDeclared:null},a.markPointForDeclarer(t),{},k(a.state));a.setAndSendState(r)}};var r=E(),c=Y({},N({deck:r.slice(12),board:r.slice(0,12)}),{selected:[]});return a.nameInputRef=n.createRef(),a.state=Y({players:{},gameTitle:"",created:!1,myName:"",inputName:"",setFound:!1,autoplay:!1,declarer:null,gameOver:!1},c),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.board,r=t.deck,c=t.selected,l=t.declarer,o=t.players,s=t.gameTitle,i=t.created,u=t.myName,m=t.inputName;return""===u?n.createElement("div",{className:"container"},n.createElement("h4",null,"Enter your name:"),n.createElement("form",{onSubmit:this.handleHostName},n.createElement("input",{ref:this.nameInputRef,autoFocus:!0,placeholder:"hostname",value:m,onChange:function(t){e.setState({inputName:t.target.value})}}),n.createElement("button",{type:"submit",className:"btn"},"Send"))):i?n.createElement(W,{board:a,deck:r,selected:c,declarer:l,handleCardClick:this.handleCardClick,handleRedeal:this.handleRedeal,players:o,setFound:this.state.setFound,gameOver:this.state.gameOver,myName:this.state.myName}):n.createElement("div",{className:"container"},n.createElement("h4",null,"Name your game:"),n.createElement("form",{onSubmit:this.handleCreateGame},n.createElement("input",{placeholder:"".concat(u,"'s game"),onChange:function(t){e.setState({gameTitle:t.target.value})},value:s}),n.createElement("button",{type:"submit",className:"btn"},"Create")))}}]),t}(n.Component),K=function(e){var t=e.children,a=e.visible;return r.a.createElement("div",{className:"modal popup-message",style:{display:a?"block":"none"}},r.a.createElement("div",{className:"modal-content"},t))};function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Z=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentWillUnmount=function(){a.gameRef&&a.gameRef()},a.processUpdate=function(e){var t=Q({},e.data());Object(h.isEmpty)(t)||(console.log("Updating",t),a.setState(Q({},t,{popupVisible:!1})))},a.animate=function(){var e=Object(b.a)(a.state.animatedSet),t=[].concat(Object(b.a)(a.state.selected),[e.shift()]),n={selected:t,animatedSet:e};3===t.length&&(clearInterval(a.animationId),Object.assign(n,{displayAnimation:!1})),a.setState(n)},a.handleNickname=function(e){e.preventDefault();var t=a.state.nameInput,n=Object(h.isEmpty)(t)?"guest":t;localStorage.setItem("nickname",n),a.setState({name:n}),a.sendAction({type:"join",payload:{name:n}})},a.handleCardClick=function(e){var t=a.state,n=t.name;if(!t.declarer){var r=w(e,a.state.selected),c={};if(3===r.length)if(j(r)){var l={type:"found",payload:{selected:r,name:n}};a.sendAction(l),c.popupVisible=!0}else console.log("Bad set selected!"),window.setTimeout(a.resetLocalSelected,1e3);a.setState(Q({},c,{selected:r}))}},a.sendAction=function(e){a.actionsRef.add(Q({},e,{created:L.a.firestore.FieldValue.serverTimestamp()}))},a.togglePopup=function(){a.setState((function(e){return{popupVisible:!e.popupVisible}}))},a.resetLocalSelected=function(){var e=a.state,t=e.declarer,n=e.selected;j(n)||3!==n.length||t||a.setState({selected:[]})};return a.state=Q({popupVisible:!1,name:"",nameInput:"",setFound:!1,displayAnimation:!1,animatedSet:[],declarer:""},{deck:[],board:[],selected:[]}),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){!t.declarer&&this.state.declarer&&this.setState({popupVisible:!1})}},{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("nickname"),a=this.props.match.params.gameName;t&&this.setState({nameInput:t}),this.gameRef=B.collection("games").doc(a),this.gameRef.onSnapshot((function(t){e.state.displayAnimation?setTimeout((function(){e.processUpdate(t)}),1800):e.processUpdate(t)})),this.actionsRef=this.gameRef.collection("actions")}},{key:"render",value:function(){var e=this,t=this.state,a=t.board,r=t.deck,c=t.selected,l=t.name,o=t.declarer,s=t.players,i=t.popupVisible;return l?n.createElement(n.Fragment,null,n.createElement(K,{visible:i},n.createElement("p",{className:"flow-text center-align"},"SET!"),n.createElement("div",{className:"progress"},n.createElement("div",{className:"indeterminate",style:{width:"30%"}}))),n.createElement(W,{board:a,deck:r,selected:c,declarer:o,handleCardClick:this.handleCardClick,players:s,setFound:this.state.setFound,gameOver:this.state.gameOver,myName:this.state.name})):n.createElement("div",{className:"container"},n.createElement("h4",null,"Choose nickname"),n.createElement("form",{onSubmit:this.handleNickname},n.createElement("input",{type:"text",placeholder:"your name",value:this.state.nameInput,onChange:function(t){return e.setState({nameInput:t.target.value})}}),n.createElement("input",{className:"btn",type:"submit"})))}}]),t}(n.Component);function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var te=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).componentWillUnmount=function(){a.unsubscribe()},a.addGame=function(e){e.preventDefault();var t=a.state.newGame;a.gamesRef.doc(t).set({host:"bill"})};return a.state={name:"",newGame:"baz",init:!1,games:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.gamesRef=B.collection("games"),this.unsubscribe=this.gamesRef.onSnapshot((function(t){var a=[];t.forEach((function(e){a.push(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({name:e.id},e.data()))})),e.setState({init:!0,games:a})}))}},{key:"render",value:function(){var e=this.state,t=e.games;if(!e.init)return null;var a=t.filter((function(e){var t=e.lastUpdate;if(!t)return!1;var a=t.toMillis(),n=(new Date).getTime();return Math.round((n-a)/1e3)<40}));return r.a.createElement("div",{className:"container",style:{height:"100vh"}},0===a.length?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s8 offset-s2 m6 offset-m3"},r.a.createElement("div",{className:"card-panel teal",style:{marginTop:.2*window.innerHeight}},r.a.createElement("span",{className:"white-text"},"There are currently no active games.")),r.a.createElement(d.b,{to:"/"},"Back")))):r.a.createElement(n.Fragment,null,r.a.createElement("h4",{className:"center-align"},"Available games"),r.a.createElement("div",{className:"row center-align"},a.map((function(e,t){return r.a.createElement("div",{className:"col s6 m4",key:e.name},r.a.createElement(d.b,{to:"/guest/".concat(e.name)},r.a.createElement("div",{className:"card-panel"},e.name)))})))))}}]),t}(n.Component),ae=a(36),ne=a.n(ae);function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var le=!1,oe={turnTime:4e3,colors:J,playingTo:6,cpuDelay:1200},se=function(e){return 12e3/(2.5*Number(e))},ie=function(){var e=E();return ce({},N({deck:e.slice(12),board:e.slice(0,12)}),{selected:[]})},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new Date,a=t.getTime()%Math.pow(10,6)/1e3;console.log(e,a.toFixed(1))},me={players:{you:{score:0,color:oe.colors[0]},cpu:{score:0,color:oe.colors[1]}},gameStarted:!1,name:"you",setFound:!1,declarer:null,timeDeclared:null,gameOver:!1,difficulty:2,cpuTurnInterval:1e3,cpuFound:[]},de=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleStartGame=function(e){e.preventDefault(),a.setState({gameStarted:!0}),console.log("Turns every ".concat(a.state.cpuTurnInterval," ms")),setTimeout((function(){a.cpuTimer=setInterval(a.cpuTurn,a.state.cpuTurnInterval)}),oe.cpuDelay)},a.componentDidMount=function(){var e=a.state.difficulty,t=se(e);a.setState({cpuTurnInterval:t})},a.componentWillUnmount=function(){clearInterval(a.cpuTimer)},a.cpuTurn=function(){var e=a.state,t=e.board,n=e.declarer,r=e.gameOver;if(!n&&!r){le&&ue("Guess");var c=Object(h.shuffle)(t).slice(0,2),l=Object(v.a)(c,2),o=l[0],s=l[1],i=S(o,s);t.includes(i)&&(a.setState({declarer:"cpu",selected:[o],cpuFound:[s,i],setFound:!0}),clearInterval(a.cpuTimer),a.cpuAnimation=setInterval(a.animateCpuChoice,1e3))}},a.animateCpuChoice=function(){var e=a.state,t=e.selected,n=e.cpuFound,r=Object(b.a)(n),c=[].concat(Object(b.a)(t),[r.pop()]);a.setState({cpuFound:r,selected:c}),3===c.length&&(clearInterval(a.cpuAnimation),a.updateSelected(c,"cpu"))},a.updatePlayerScore=function(e,t){var n=a.state.players,r=n[e].score+t;return[z()(n,Object(f.a)({},e,{$merge:{score:r}})),r]},a.expireDeclare=function(){var e=a.state,t=e.declarer,n=e.selected;if(!j(n)){var r=a.updatePlayerScore(t,-1),c=Object(v.a)(r,1)[0];a.setState({players:c,declarer:null,timeDeclared:null,selected:[]})}},a.markPointForDeclarer=function(e){var t=a.updatePlayerScore(e,1),n=Object(v.a)(t,2),r={players:n[0],gameOver:n[1]>=oe.playingTo&&e};a.setState(r)},a.performDeclare=function(e){if(!a.state.declarer){var t={declarer:e,timeDeclared:(new Date).getTime()};a.setState(t),a.undeclareID=setTimeout((function(){a.expireDeclare()}),oe.turnTime)}},a.updateSelected=function(e,t){var n={setFound:j(e),selected:e,declarer:t};n.setFound&&(clearTimeout(a.undeclareID),setTimeout((function(){a.removeSet()}),2e3)),a.setState(n)},a.handleCardClick=function(e){var t=a.state,n=t.setFound,r=t.declarer,c=t.name;if(!n&&"cpu"!==r){var l=w(e,a.state.selected);r||a.performDeclare(c),a.setState({selected:l}),j(l)&&a.updateSelected(l,"you")}},a.handleRedeal=function(){var e=N(a.state);a.setState(e)},a.removeSet=function(){var e=a.state,t=e.declarer,n=e.selected;if(j(n)){console.log("Set found, removing");var r=ce({},a.markPointForDeclarer(t),{setFound:!1,declarer:null,timeDeclared:null},k(a.state));a.setState(r)}clearInterval(a.cpuTimer),setTimeout((function(){a.cpuTimer=setInterval(a.cpuTurn,a.state.cpuTurnInterval)}),oe.cpuDelay)},a.resetGame=function(){clearInterval(a.cpuTimer),a.setState(ce({},Object(h.cloneDeep)(me),{},ie()))},a.state=ce({},Object(h.cloneDeep)(me),{},ie()),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.board,n=t.deck,c=t.selected,l=t.declarer,o=t.players,s=t.gameStarted;t.setFound;return s?r.a.createElement(r.a.Fragment,null,r.a.createElement(W,{board:a,deck:n,selected:c,declarer:l,handleCardClick:this.handleCardClick,handleDeclare:this.handleDeclare,handleRedeal:this.handleRedeal,players:o,setFound:this.state.setFound,gameOver:this.state.gameOver,myName:this.state.name,resetGame:this.resetGame,solo:!0})):r.a.createElement("div",{className:"container"},r.a.createElement("h4",null,"Choose difficulty"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s8 m4"},r.a.createElement("form",{onSubmit:this.handleStartGame},r.a.createElement(ne.a,{ref:function(t){e.difficultyInput=t},min:1,max:5,orientation:"horizontal",tooltip:!0,value:this.state.difficulty,onChange:function(t){var a=se(t);e.setState({cpuTurnInterval:a,difficulty:t})}}),r.a.createElement("input",{type:"submit",value:"Start",className:"btn"})))))}}]),t}(n.Component),pe=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("h2",{className:"center-align"},"Main Menu")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s8 offset-s2 m3 offset-m1"},r.a.createElement(d.b,{to:"/solo"},r.a.createElement("div",{className:"card"},r.a.createElement(I,{desc:"0012"}))),r.a.createElement("p",{className:"center-align"},"Play Solo")),r.a.createElement("div",{className:"col s8 offset-s2 m3"},r.a.createElement(d.b,{to:"/lobby"},r.a.createElement("div",{className:"card"},r.a.createElement(I,{desc:"1121"}))),r.a.createElement("p",{className:"center-align"},"Join Game")),r.a.createElement("div",{className:"col s8 offset-s2 m3"},r.a.createElement(d.b,{to:"/host"},r.a.createElement("div",{className:"card"},r.a.createElement(I,{desc:"2200"}))),r.a.createElement("p",{className:"center-align"},"Host Game"))))}}]),t}(n.Component),fe=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(d.a,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:pe}),r.a.createElement(p.a,{path:"/host",component:q}),r.a.createElement(p.a,{path:"/lobby",component:te}),r.a.createElement(p.a,{path:"/guest/:gameName",component:Z}),r.a.createElement(p.a,{path:"/solo",component:de}))))}}]),t}(n.Component);l.a.render(r.a.createElement(fe,null),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.746a3fa8.chunk.js.map