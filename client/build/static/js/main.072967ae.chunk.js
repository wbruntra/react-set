(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{33:function(e,t,a){e.exports=a.p+"static/media/sad_trombone.baad2ca9.mp3"},34:function(e,t,a){e.exports=a.p+"static/media/applause.c2030d5b.mp3"},37:function(e,t,a){e.exports=a(56)},42:function(e,t,a){},44:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(32),l=a.n(c),s=(a(42),a(1)),o=a(2),i=a(4),m=a(3),u=a(5),d=a(9),p=a(16),f=a(8),h=a(7),v=a(12),E=a(10),b=function(e){return Object(E.a)(Array(e).keys())},y=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;t=4===a?b(3).map((function(t){return b(4).map((function(a){return e.includes(4*t+a)?"x":"o"})).join("")})):b(4).map((function(t){return b(3).map((function(a){return e.includes(3*t+a)?"x":"o"})).join("")})),console.log(t.join("\n"))},g=function(e,t,a){for(var n=0,r=[],c=0;c<e.length-2;c++)for(var l=c+1;l<e.length-1;l++)for(var s=l+1;s<e.length;s++)if(r=[e[c],e[l],e[s]],N(r)&&(t&&y([c,l,s]),n++,a))return n;return n},O=function(){var e=[];return b(3).forEach((function(t){b(3).forEach((function(a){b(3).forEach((function(n){b(3).forEach((function(r){var c=""+t+n+a+r;e.push(c)}))}))}))})),e},N=function(e){if(3!==e.length)return!1;for(var t=Object(v.a)(e,3),a=t[0],n=t[1],r=t[2],c=0;c<4;c++){if((Number(a[c])+Number(n[c])+Number(r[c]))%3!==0)return!1}return!0},j=function(e,t){for(var a="",n=0;n<4;n++)e[n]===t[n]?a+=e[n]:a+=(3-(Number(e[n])+Number(t[n]))).toString();return a.trim()},w=function(e,t){return t.includes(e)?t.filter((function(t){return t!==e})):[].concat(Object(E.a)(t),[e])},S=function(e){for(var t=e.board,a=e.deck,n=Object(h.shuffle)([].concat(Object(E.a)(t),Object(E.a)(a)));0===g(n.slice(0,12),!1,!0)&&g(n,!1,!0)>0;)n=Object(h.shuffle)(n);return{deck:n.slice(12),board:n.slice(0,12)}},k=function(e){var t=e.board,a=e.deck,n=e.selected,r=a.slice(0,3),c=Object(E.a)(t),l=a.slice(3);for(n.forEach((function(e,t){var a=c.indexOf(e);c[a]=r[t]}));0===g(c);){var s=S({board:c,deck:l});l=s.deck,c=s.board}return{deck:l,board:c,selected:[]}},D=(a(44),120),F=200,T=4,P=25,C=function(e){var t=e.fill,a=e.color,n=T;return r.a.createElement("svg",{width:"120",height:"200",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",null,r.a.createElement("rect",{fill:"#fff",id:"canvas_background",height:"202",width:"122",y:"-1",x:"-1"}),r.a.createElement("g",{display:"none",overflow:"visible",y:"0",x:"0",height:"100%",width:"100%",id:"canvasGrid"},r.a.createElement("rect",{fill:"#fff",strokeWidth:"0",y:"0",x:"0",height:"100%",width:"100%"}))),r.a.createElement("g",null,r.a.createElement("path",{stroke:a,transform:" rotate(270,58.8,98) scale(0.8 1) translate(10 0) ",id:"svg_5",d:" m-17.49,66 c50.83,-35.45 101.7,35.45 152.5,0 c30,-10 30,43.8 0,63.8 c-50.8,35.45 -101.6,-35.45 -152.5,0 c-30,15 -30,-45 0,-63.59 z ",fillOpacity:"null",strokeOpacity:"null",strokeWidth:n,fill:t})))},I=function(e){var t=e.shape,a=e.fill,n=e.color,c=P,l=F,s=D;return"0"===t?(c+=1,r.a.createElement(C,{fill:a,color:n})):"1"===t?r.a.createElement("g",null,r.a.createElement("ellipse",{stroke:n,ry:(l-2*c)/2,rx:(s-2*c)/2,cy:l/2,cx:s/2,fillOpacity:"null",strokeOpacity:"null",strokeWidth:T,fill:a})):"2"===t?r.a.createElement("g",null,r.a.createElement("polygon",{points:"".concat(c,",").concat(l/2,"\n          ").concat(s/2,",").concat(c,"\n          ").concat(s-c,",").concat(l/2,"\n          ").concat(s/2,",").concat(l-c),style:{fill:a,stroke:n,strokeWidth:T}})):void 0},R=function(e){function t(){var e,a;Object(s.a)(this,t);for(var c=arguments.length,l=new Array(c),o=0;o<c;o++)l[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).colors={0:"#00A91D",1:"#3E009E",2:"#FF0000",white:"#fff"},a.getFill=function(e,t){return"1"===t?"url(#card-".concat(e,"-").concat(t,")"):"2"===t?a.colors[e]:a.colors.white},a.drawShape=function(){var e=a.props.desc.split(""),t=Object(v.a)(e,4),c=t[1],l=t[2],s=t[3];return r.a.createElement(n.Fragment,null,r.a.createElement("g",null,r.a.createElement("title",null,"background"),r.a.createElement("rect",{fill:a.colors.white,id:"canvas_background",y:"-1",x:"-1"}),r.a.createElement("g",{display:"none",overflow:"visible",y:"0",x:"0",height:"100%",width:"100%",id:"canvasGrid"},r.a.createElement("rect",{strokeWidth:"0",y:"0",x:"0",height:"100%",width:"100%"}))),r.a.createElement(I,{shape:l,fill:a.getFill(c,s),color:a.colors[c]}))},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.desc.split(""),a=Object(v.a)(t,4),n=a[0],c=a[1],l=a[3];return r.a.createElement("div",{className:"game-card"},r.a.createElement("svg",{width:"0",height:"0"},r.a.createElement("pattern",{id:"card-".concat(c,"-").concat(l),width:10,height:"10",patternTransform:"rotate(45 0 0)",patternUnits:"userSpaceOnUse"},r.a.createElement("line",{x1:"0",y1:"0",x2:"0",y2:"10",style:{stroke:this.colors[c],strokeWidth:"5"}}))),b(Number(n)+1).map((function(t){return r.a.createElement("svg",{key:t,className:"shape",viewBox:"0 0 ".concat(D," ").concat(F),xmlns:"http://www.w3.org/2000/svg"},e.drawShape())})))}}]),t}(n.Component),x=a(33),A=a.n(x),G=a(34),M=a.n(G),U=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).finalSound=function(){var e=a.props,t=e.gameOver===e.myName?M.a:A.a;return r.a.createElement("audio",{src:t,autoPlay:!0})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.gameOver;e.myName;return r.a.createElement("div",{className:"deep-purple lighten-2w",style:{height:"100vh"}},this.finalSound(),r.a.createElement("div",{className:"row center-align"},r.a.createElement("div",{className:"card col s8 offset-s2 m6 offset-m3",style:{marginTop:.2*window.innerHeight}},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"},"GAME OVER!"),r.a.createElement("p",null,"Winner: ",t," ")),r.a.createElement("div",{className:"card-action"},r.a.createElement(d.b,{to:"/",style:{marginRight:0}},"Main Menu")))),this.props.solo&&r.a.createElement("div",{className:"row"},r.a.createElement("button",{className:"btn",onClick:this.props.resetGame},"Play Again")))}}]),t}(n.Component);function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var H=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).resize=Object(h.debounce)((function(){a.forceUpdate()}),150),a.state={sets:g(e.board,!0)},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"componentDidUpdate",value:function(e,t){JSON.stringify(e.board)!==JSON.stringify(this.props.board)&&this.setState({sets:g(this.props.board,!0)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.board,c=t.selected,l=t.deck,s=t.declarer,o=t.players,i=t.gameOver,m=t.myName,u=t.setFound,d=t.sharedDevice;if(Object(h.isEmpty)(o)||!Object.keys(o).includes(m))return null;var p=s?o[s].color:o[m].color,v=this.state.sets;if(i)return r.a.createElement(U,{gameOver:i,myName:m});var E=Object(h.map)(o,(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({name:t},e)})),b=Math.ceil(E.length/2),y=E.slice(0,b),g=E.slice(b);return r.a.createElement(n.Fragment,null,d?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"player-buttons-container"},y.map((function(t){return r.a.createElement("div",{className:"shared-player player-name ".concat(t.color," ").concat(t.name==s?"active-player":""),onClick:function(){e.props.handlePlayerClick(t.name)},key:t.name},r.a.createElement("p",{className:"center-align"},t.name==s?"SET!":t.score))})),r.a.createElement("div",{className:"player-buttons-container bottom"},g.map((function(t){return r.a.createElement("div",{className:"shared-player player-name ".concat(t.color," ").concat(t.name==s?"active-player":""),onClick:function(){e.props.handlePlayerClick(t.name)},key:t.name},r.a.createElement("p",{className:"center-align"},t.name==s?"SET!":t.score))}))))):r.a.createElement("div",{className:"navbar-fixed"},r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper"},s?r.a.createElement(r.a.Fragment,null,"SET! ",s):r.a.createElement(r.a.Fragment,null,"Sets: ",v),r.a.createElement("ul",{className:"right hide-on-med-and-down"},r.a.createElement("li",null,"Cards Left: ",l.length))))),r.a.createElement("div",{className:"container",style:{maxWidth:.95*window.innerHeight}},r.a.createElement("div",{className:"row"},a.map((function(t){return r.a.createElement("div",{key:t,className:"col s4 ".concat(c.includes(t)?p:""),onClick:function(){e.props.handleCardClick(t)}},r.a.createElement("div",{className:"card ".concat(u&&3===c.length&&!c.includes(t)?"blurry":"")},r.a.createElement(R,{desc:t})))}))),r.a.createElement("div",{className:"row"},Object(h.map)(o,(function(e,t){if(!d)return r.a.createElement("div",{key:t,className:"col s4 m3"},r.a.createElement("span",{className:"player-name ".concat(e.color)},t,": ",e.score))}))),r.a.createElement("div",{className:"row"},this.props.handleRedeal&&r.a.createElement("button",{onClick:this.props.handleRedeal,className:"btn"},"Shuffle"))))}}]),t}(n.Component),z=a(19),V=a.n(z),L=a(15),B=a.n(L),_=(a(23),{apiKey:"AIzaSyCLA_RFXrPvBdN_vrApCUlj28a82ownuzg",authDomain:"fire-set.firebaseapp.com",databaseURL:"https://fire-set.firebaseio.com",projectId:"fire-set",storageBucket:"fire-set.appspot.com",messagingSenderId:"958559518798",appId:"1:958559518798:web:ec451bbfb4ac03f30ec31f",measurementId:"G-FCHHM3FEZE"});B.a.initializeApp(_);var J=B.a.firestore(),$=["light-blue lighten-3","pink lighten-3","amber accent-2","purple darken-1","light-green lighten-1","orange accent-2"];function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var X={turnTime:5e3,colors:$,playingTo:6},Y=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleHostName=function(e){e.preventDefault();var t=a.state.inputName;a.setState({myName:t,players:Object(f.a)({},t,{score:0,color:X.colors[0]})})},a.handleCreateGame=function(e){e.preventDefault();var t=a.state,n=t.myName,r=t.board,c=t.deck,l=t.selected,s=a.state.gameTitle;""===s&&(s="".concat(n,"'s game")),a.gameRef=J.collection("games").doc(s),a.gameRef.set({board:r,deck:c,selected:l,lastUpdate:B.a.firestore.FieldValue.serverTimestamp()}),a.activeGameUpdater=window.setInterval((function(){a.gameRef.update({lastUpdate:B.a.firestore.FieldValue.serverTimestamp()})}),3e4),a.actionsRef=a.gameRef.collection("actions"),a.actionsRef.get().then((function(e){e.forEach((function(e){console.log(e.id,"=>",e.data())}))})),a.actionsRef.onSnapshot((function(e){e.docChanges().forEach((function(e){if("added"===e.type){var t=e.doc.data();window.created=t.created,console.log(t),a.processAction(t),a.actionsRef.doc(e.doc.id).delete()}"removed"===e.type&&console.log("Removed action: ",e.doc.data())}))})),a.setState({created:!0})},a.markPointForDeclarer=function(e){if(!e)return{};var t=a.state.players,n=t[e].score+1,r=V()(t,Object(f.a)({},e,{$merge:{score:n}})),c=n>=X.playingTo&&e;return c&&window.setTimeout((function(){a.gameRef.delete(),clearInterval(a.activeGameUpdater)}),3e3),{players:r,gameOver:c}},a.processAction=function(e){var t=e.type,n=e.payload,r=a.state,c=r.players,l=r.declarer;switch(t){case"join":if(Object.keys(c).includes(n.name))return;var s=K({},c,Object(f.a)({},n.name,{score:0,color:X.colors[Object.keys(c).length]}));a.setAndSendState({players:s});break;case"found":l||a.updateSelected(n.selected,n.name);break;default:return}},a.setAndSendState=function(e){a.setState(e),a.gameRef.update(K({},e))},a.triggerFoundSequence=function(e,t){},a.updateSelected=function(e,t){var n={setFound:N(e),selected:e,declarer:t};n.setFound&&setTimeout((function(){a.removeSet()}),4e3),a.setAndSendState(n)},a.handleCardClick=function(e){var t=a.state.myName;if(!a.state.declarer){var n=w(e,a.state.selected);N(n)&&a.updateSelected(n,t),a.setState({selected:n})}},a.handleRedeal=function(){var e=S(a.state);a.setAndSendState(e)},a.removeSet=function(){var e=a.state,t=e.declarer,n=e.selected;if(N(n)){var r=K({setFound:!1,declarer:null,timeDeclared:null},a.markPointForDeclarer(t),{},k(a.state));a.setAndSendState(r)}};var r=O(),c=K({},S({deck:r.slice(12),board:r.slice(0,12)}),{selected:[]});return a.nameInputRef=n.createRef(),a.state=K({players:{},gameTitle:"",created:!1,myName:"",inputName:"",setFound:!1,autoplay:!1,declarer:null,gameOver:!1},c),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.board,r=t.deck,c=t.selected,l=t.declarer,s=t.players,o=t.gameTitle,i=t.created,m=t.myName,u=t.inputName;return""===m?n.createElement("div",{className:"container"},n.createElement("h4",null,"Enter your name:"),n.createElement("form",{onSubmit:this.handleHostName},n.createElement("input",{ref:this.nameInputRef,autoFocus:!0,placeholder:"hostname",value:u,onChange:function(t){e.setState({inputName:t.target.value})}}),n.createElement("button",{type:"submit",className:"btn"},"Send"))):i?n.createElement(H,{board:a,deck:r,selected:c,declarer:l,handleCardClick:this.handleCardClick,handleRedeal:this.handleRedeal,players:s,setFound:this.state.setFound,gameOver:this.state.gameOver,myName:this.state.myName}):n.createElement("div",{className:"container"},n.createElement("h4",null,"Name your game:"),n.createElement("form",{onSubmit:this.handleCreateGame},n.createElement("input",{placeholder:"".concat(m,"'s game"),onChange:function(t){e.setState({gameTitle:t.target.value})},value:o}),n.createElement("button",{type:"submit",className:"btn"},"Create")))}}]),t}(n.Component),Z=function(e){var t=e.children,a=e.visible;return r.a.createElement("div",{className:"modal popup-message",style:{display:a?"block":"none"}},r.a.createElement("div",{className:"modal-content"},t))};function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var te=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).componentWillUnmount=function(){a.gameRef&&a.gameRef()},a.processUpdate=function(e){var t=ee({},e.data());Object(h.isEmpty)(t)||(console.log("Updating",t),a.setState(ee({},t,{popupVisible:!1})))},a.animate=function(){var e=Object(E.a)(a.state.animatedSet),t=[].concat(Object(E.a)(a.state.selected),[e.shift()]),n={selected:t,animatedSet:e};3===t.length&&(clearInterval(a.animationId),Object.assign(n,{displayAnimation:!1})),a.setState(n)},a.handleNickname=function(e){e.preventDefault();var t=a.state.nameInput,n=Object(h.isEmpty)(t)?"guest":t;localStorage.setItem("nickname",n),a.setState({name:n}),a.sendAction({type:"join",payload:{name:n}})},a.handleCardClick=function(e){var t=a.state,n=t.name;if(!t.declarer){var r=w(e,a.state.selected),c={};if(3===r.length)if(N(r)){var l={type:"found",payload:{selected:r,name:n}};a.sendAction(l),c.popupVisible=!0}else console.log("Bad set selected!"),window.setTimeout(a.resetLocalSelected,1e3);a.setState(ee({},c,{selected:r}))}},a.sendAction=function(e){a.actionsRef.add(ee({},e,{created:B.a.firestore.FieldValue.serverTimestamp()}))},a.togglePopup=function(){a.setState((function(e){return{popupVisible:!e.popupVisible}}))},a.resetLocalSelected=function(){var e=a.state,t=e.declarer,n=e.selected;N(n)||3!==n.length||t||a.setState({selected:[]})};return a.state=ee({popupVisible:!1,name:"",nameInput:"",setFound:!1,displayAnimation:!1,animatedSet:[],declarer:""},{deck:[],board:[],selected:[]}),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e,t){!t.declarer&&this.state.declarer&&this.setState({popupVisible:!1})}},{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("nickname"),a=this.props.match.params.gameName;t&&this.setState({nameInput:t}),this.gameRef=J.collection("games").doc(a),this.gameRef.onSnapshot((function(t){e.processUpdate(t)})),this.actionsRef=this.gameRef.collection("actions")}},{key:"render",value:function(){var e=this,t=this.state,a=t.board,r=t.deck,c=t.selected,l=t.name,s=t.declarer,o=t.players,i=t.popupVisible;return l?n.createElement(n.Fragment,null,n.createElement(Z,{visible:i},n.createElement("p",{className:"flow-text center-align"},"SET!"),n.createElement("div",{className:"progress"},n.createElement("div",{className:"indeterminate",style:{width:"30%"}}))),n.createElement(H,{board:a,deck:r,selected:c,declarer:s,handleCardClick:this.handleCardClick,players:o,setFound:this.state.setFound,gameOver:this.state.gameOver,myName:this.state.name})):n.createElement("div",{className:"container"},n.createElement("h4",null,"Choose nickname"),n.createElement("form",{onSubmit:this.handleNickname},n.createElement("input",{type:"text",placeholder:"your name",value:this.state.nameInput,onChange:function(t){return e.setState({nameInput:t.target.value})}}),n.createElement("input",{className:"btn",type:"submit"})))}}]),t}(n.Component);function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ne=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).componentWillUnmount=function(){a.unsubscribe()},a.addGame=function(e){e.preventDefault();var t=a.state.newGame;a.gamesRef.doc(t).set({host:"bill"})};return a.state={name:"",newGame:"baz",init:!1,games:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.gamesRef=J.collection("games"),this.unsubscribe=this.gamesRef.onSnapshot((function(t){var a=[];t.forEach((function(e){a.push(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({name:e.id},e.data()))})),e.setState({init:!0,games:a})}))}},{key:"render",value:function(){var e=this.state,t=e.games;if(!e.init)return null;var a=t.filter((function(e){var t=e.lastUpdate;if(!t)return!1;var a=t.toMillis(),n=(new Date).getTime();return Math.round((n-a)/1e3)<40}));return r.a.createElement("div",{className:"container",style:{height:"100vh"}},0===a.length?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s8 offset-s2 m6 offset-m3"},r.a.createElement("div",{className:"card-panel teal",style:{marginTop:.2*window.innerHeight}},r.a.createElement("span",{className:"white-text"},"There are currently no active games.")),r.a.createElement(d.b,{to:"/"},"Back")))):r.a.createElement(n.Fragment,null,r.a.createElement("h4",{className:"center-align"},"Available games"),r.a.createElement("div",{className:"row center-align"},a.map((function(e,t){return r.a.createElement("div",{className:"col s6 m4",key:e.name},r.a.createElement(d.b,{to:"/guest/".concat(e.name)},r.a.createElement("div",{className:"card-panel"},e.name)))})))))}}]),t}(n.Component),re=a(24),ce=a.n(re);function le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?le(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):le(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var oe=!1,ie={turnTime:4e3,colors:$,playingTo:6,cpuDelay:1200},me=function(e){return 12e3/(2.5*Number(e))},ue=function(){var e=O();return se({},S({deck:e.slice(12),board:e.slice(0,12)}),{selected:[]})},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new Date,a=t.getTime()%Math.pow(10,6)/1e3;console.log(e,a.toFixed(1))},pe={players:{you:{score:0,color:ie.colors[0]},cpu:{score:0,color:ie.colors[1]}},gameStarted:!1,name:"you",setFound:!1,declarer:null,timeDeclared:null,gameOver:!1,difficulty:2,cpuTurnInterval:1e3,cpuFound:[]},fe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleStartGame=function(e){e.preventDefault(),a.setState({gameStarted:!0}),console.log("Turns every ".concat(a.state.cpuTurnInterval," ms")),setTimeout((function(){a.cpuTimer=setInterval(a.cpuTurn,a.state.cpuTurnInterval)}),ie.cpuDelay)},a.componentDidMount=function(){var e=a.state.difficulty,t=me(e);a.setState({cpuTurnInterval:t})},a.componentWillUnmount=function(){clearInterval(a.cpuTimer)},a.cpuTurn=function(){var e=a.state,t=e.board,n=e.declarer,r=e.gameOver;if(!n&&!r){oe&&de("Guess");var c=Object(h.shuffle)(t).slice(0,2),l=Object(v.a)(c,2),s=l[0],o=l[1],i=j(s,o);t.includes(i)&&(a.setState({declarer:"cpu",selected:[s],cpuFound:[o,i],setFound:!0}),clearInterval(a.cpuTimer),a.cpuAnimation=setInterval(a.animateCpuChoice,1e3))}},a.animateCpuChoice=function(){var e=a.state,t=e.selected,n=e.cpuFound,r=Object(E.a)(n),c=[].concat(Object(E.a)(t),[r.pop()]);a.setState({cpuFound:r,selected:c}),3===c.length&&(clearInterval(a.cpuAnimation),a.updateSelected(c,"cpu"))},a.updatePlayerScore=function(e,t){var n=a.state.players,r=n[e].score+t;return[V()(n,Object(f.a)({},e,{$merge:{score:r}})),r]},a.expireDeclare=function(){var e=a.state,t=e.declarer,n=e.selected;if(!N(n)){var r=a.updatePlayerScore(t,-1),c=Object(v.a)(r,1)[0];a.setState({players:c,declarer:null,timeDeclared:null,selected:[]})}},a.markPointForDeclarer=function(e){var t=a.updatePlayerScore(e,1),n=Object(v.a)(t,2),r={players:n[0],gameOver:n[1]>=ie.playingTo&&e};a.setState(r)},a.performDeclare=function(e){if(!a.state.declarer){var t={declarer:e,timeDeclared:(new Date).getTime()};a.setState(t),a.undeclareID=setTimeout((function(){a.expireDeclare()}),ie.turnTime)}},a.updateSelected=function(e,t){var n={setFound:N(e),selected:e,declarer:t};n.setFound&&(clearTimeout(a.undeclareID),setTimeout((function(){a.removeSet()}),2e3)),a.setState(n)},a.handleCardClick=function(e){var t=a.state,n=t.setFound,r=t.declarer,c=t.name;if(!n&&"cpu"!==r){var l=w(e,a.state.selected);r||a.performDeclare(c),a.setState({selected:l}),N(l)&&a.updateSelected(l,"you")}},a.handleRedeal=function(){var e=S(a.state);a.setState(e)},a.removeSet=function(){var e=a.state,t=e.declarer,n=e.selected;if(N(n)){console.log("Set found, removing");var r=se({},a.markPointForDeclarer(t),{setFound:!1,declarer:null,timeDeclared:null},k(a.state));a.setState(r)}clearInterval(a.cpuTimer),setTimeout((function(){a.cpuTimer=setInterval(a.cpuTurn,a.state.cpuTurnInterval)}),ie.cpuDelay)},a.resetGame=function(){clearInterval(a.cpuTimer),a.setState(se({},Object(h.cloneDeep)(pe),{},ue()))},a.state=se({},Object(h.cloneDeep)(pe),{},ue()),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.board,n=t.deck,c=t.selected,l=t.declarer,s=t.players,o=t.gameStarted;t.setFound;return o?r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{board:a,deck:n,selected:c,declarer:l,handleCardClick:this.handleCardClick,handleDeclare:this.handleDeclare,handleRedeal:this.handleRedeal,players:s,setFound:this.state.setFound,gameOver:this.state.gameOver,myName:this.state.name,resetGame:this.resetGame,solo:!0})):r.a.createElement("div",{className:"container"},r.a.createElement("h4",null,"Choose difficulty"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s8 m4"},r.a.createElement("form",{onSubmit:this.handleStartGame},r.a.createElement(ce.a,{ref:function(t){e.difficultyInput=t},min:1,max:5,orientation:"horizontal",tooltip:!0,value:this.state.difficulty,onChange:function(t){var a=me(t);e.setState({cpuTurnInterval:a,difficulty:t})}}),r.a.createElement("input",{type:"submit",value:"Start",className:"btn"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{style:{marginTop:"48px"},className:"col s12"},r.a.createElement("p",null,r.a.createElement(d.b,{to:"/local"},"Play Multiplayer")),r.a.createElement("p",null,r.a.createElement(d.b,{to:"/"},"Back to Main Menu"))))))}}]),t}(n.Component),he=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("h2",{className:"center-align"},"Main Menu")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s8 offset-s2 m3 offset-m1"},r.a.createElement(d.b,{to:"/solo"},r.a.createElement("div",{className:"card"},r.a.createElement(R,{desc:"0012"}))),r.a.createElement("p",{className:"center-align"},"Solo/Local")),r.a.createElement("div",{className:"col s8 offset-s2 m3"},r.a.createElement(d.b,{to:"/lobby"},r.a.createElement("div",{className:"card"},r.a.createElement(R,{desc:"1121"}))),r.a.createElement("p",{className:"center-align"},"Join Game")),r.a.createElement("div",{className:"col s8 offset-s2 m3"},r.a.createElement(d.b,{to:"/host"},r.a.createElement("div",{className:"card"},r.a.createElement(R,{desc:"2200"}))),r.a.createElement("p",{className:"center-align"},"Host Game"))))}}]),t}(n.Component);var ve=function(){return r.a.createElement("div",{className:"rules container"},r.a.createElement("h2",null,"Rules of the Game"),r.a.createElement("p",null,"The object of the same is to find a sets of three cards that are either the same or different along each of four dimensions."),r.a.createElement("p",null,"If that makes perfect sense to you, then go ahead and start playing. Otherwise, I will explain a bit more."),r.a.createElement("p",null,"The game starts by laying out a board with twelve cards. Here are some example cards: "),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s4"},r.a.createElement("div",{className:"card"},r.a.createElement(R,{desc:"0000"}))),r.a.createElement("div",{className:"col s4"},r.a.createElement("div",{className:"card"},r.a.createElement(R,{desc:"1210"}))),r.a.createElement("div",{className:"col s4"},r.a.createElement("div",{className:"card"},r.a.createElement(R,{desc:"0022"}))),r.a.createElement("div",{className:"col s4"},r.a.createElement("div",{className:"card"},r.a.createElement(R,{desc:"2101"}))),r.a.createElement("div",{className:"col s4"},r.a.createElement("div",{className:"card"},r.a.createElement(R,{desc:"0120"}))),r.a.createElement("div",{className:"col s4"},r.a.createElement("div",{className:"card"},r.a.createElement(R,{desc:"2011"})))),r.a.createElement("p",null,"You'll notice that every card has four different characteristics:",r.a.createElement("ul",{className:"browser-default"},r.a.createElement("li",null,"color"),r.a.createElement("li",null,"number"),r.a.createElement("li",null,"shape"),r.a.createElement("li",null,"fill")),"and each of those characteristics has three different possibilities."),r.a.createElement("p",null,"Three cards form a set if, for each of those four characteristics, the three cards are either ",r.a.createElement("em",null,"all the same")," or ",r.a.createElement("em",null,"all different.")),r.a.createElement("p",null,"It is easier to understand with examples, so here is an example set:"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s4"},r.a.createElement("div",{className:"card"},r.a.createElement(R,{desc:"0112"})))," ",r.a.createElement("div",{className:"col s4"},r.a.createElement("div",{className:"card"},r.a.createElement(R,{desc:"1111"}))),r.a.createElement("div",{className:"col s4"},r.a.createElement("div",{className:"card"},r.a.createElement(R,{desc:"2110"})))),r.a.createElement("p",null,"Which you can describe as follows:",r.a.createElement("ul",{className:"browser-default"},r.a.createElement("li",null,"color - SAME"),r.a.createElement("li",null,"shape - SAME"),r.a.createElement("li",null,"number - DIFFERENT"),r.a.createElement("li",null,"fill - DIFFERENT")),"Therefore, the three cards form a set."),r.a.createElement("p",null,"Here is another set:"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s4"},r.a.createElement("div",{className:"card"},r.a.createElement(R,{desc:"2022"}))),r.a.createElement("div",{className:"col s4"},r.a.createElement("div",{className:"card"},r.a.createElement(R,{desc:"1112"}))),r.a.createElement("div",{className:"col s4"},r.a.createElement("div",{className:"card"},r.a.createElement(R,{desc:"0202"})))),r.a.createElement("p",null,r.a.createElement("ul",{className:"browser-default"},r.a.createElement("li",null,"color - DIFFERENT"),r.a.createElement("li",null,"shape - DIFFERENT"),r.a.createElement("li",null,"number - DIFFERENT"),r.a.createElement("li",null,"fill - SAME"))),r.a.createElement("p",null,"This is not a set:"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s4"},r.a.createElement("div",{className:"card"},r.a.createElement(R,{desc:"1220"}))),r.a.createElement("div",{className:"col s4"},r.a.createElement("div",{className:"card"},r.a.createElement(R,{desc:"1110"}))),r.a.createElement("div",{className:"col s4"},r.a.createElement("div",{className:"card"},r.a.createElement(R,{desc:"2000"})))),r.a.createElement("p",null,r.a.createElement("ul",{className:"browser-default"},r.a.createElement("li",null,"fill - SAME"),r.a.createElement("li",null,"color - DIFFERENT"),r.a.createElement("li",null,"shape - DIFFERENT"),r.a.createElement("li",null,"number - NOT THE SAME OR DIFFERENT!")),"Even though the cards have the same fill, different colors, and different shapes, the numbers are neither ",r.a.createElement("em",null,"all the same")," nor ",r.a.createElement("em",null,"all different"),", so it's not a set."),r.a.createElement("p",null,"It doesn't matter how many of the characteristics are the same, and how many are different, as long as for ",r.a.createElement("em",null,"each")," characteristic, the cards are all the same or all different. Here's one last example:"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s4"},r.a.createElement("div",{className:"card"},r.a.createElement(R,{desc:"1122"}))),r.a.createElement("div",{className:"col s4"},r.a.createElement("div",{className:"card"},r.a.createElement(R,{desc:"0201"}))),r.a.createElement("div",{className:"col s4"},r.a.createElement("div",{className:"card"},r.a.createElement(R,{desc:"2010"})))),r.a.createElement("p",null,r.a.createElement("ul",{className:"browser-default"},r.a.createElement("li",null,"color - DIFFERENT"),r.a.createElement("li",null,"shape - DIFFERENT"),r.a.createElement("li",null,"number - DIFFERENT"),r.a.createElement("li",null,"fill - DIFFERENT")),"Each characteristic is different for all three cards, so this is a set."))};function Ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function be(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ee(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ee(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ye={declareTime:5e3,colors:$,playingTo:6,cpuDelay:1200},ge=function(){var e=O();return be({},S({deck:e.slice(12),board:e.slice(0,12)}),{selected:[]})},Oe=function(e){for(var t={},a=0;a<e;a++)t[a]={score:0,color:ye.colors[a]};return t},Ne={numPlayers:null,players:Oe(2),gameStarted:!1,name:"1",setFound:!1,declarer:null,timeDeclared:null,gameOver:!1,difficulty:2,cpuTurnInterval:1e3,cpuFound:[]},je=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleStartGame=function(e){a.setState({numPlayers:e,players:Oe(e)}),a.setState({gameStarted:!0})},a.updatePlayerScore=function(e,t){var n=a.state.players,r=n[e].score+t;return[V()(n,Object(f.a)({},e,{$merge:{score:r}})),r]},a.expireDeclare=function(){var e=a.state,t=e.declarer,n=e.selected;if(!N(n)){var r=a.updatePlayerScore(t,-1),c=Object(v.a)(r,1)[0];a.setState({players:c,declarer:null,timeDeclared:null,selected:[]})}},a.markPointForDeclarer=function(e){var t=a.updatePlayerScore(e,1),n=Object(v.a)(t,2),r={players:n[0],gameOver:n[1]>=ye.playingTo&&e};a.setState(r)},a.performDeclare=function(e){if(!a.state.declarer){var t={declarer:e,timeDeclared:(new Date).getTime()};a.setState(t),a.undeclareID=setTimeout((function(){a.expireDeclare()}),ye.declareTime)}},a.updateSelected=function(e,t){var n={setFound:N(e),selected:e,declarer:t};n.setFound&&(clearTimeout(a.undeclareID),setTimeout((function(){a.removeSet()}),2e3)),a.setState(n)},a.handleCardClick=function(e){var t=a.state,n=t.setFound,r=t.declarer;if(!n&&null!==r){var c=w(e,a.state.selected);a.setState({selected:c}),N(c)&&a.updateSelected(c,r)}},a.handlePlayerClick=function(e){null===a.state.declarer&&a.performDeclare(e)},a.handleRedeal=function(){var e=S(a.state);a.setState(e)},a.removeSet=function(){var e=a.state,t=e.declarer,n=e.selected;if(N(n)){console.log("Set found, removing");var r=be({},a.markPointForDeclarer(t),{setFound:!1,declarer:null,timeDeclared:null},k(a.state));a.setState(r)}clearInterval(a.cpuTimer),setTimeout((function(){a.cpuTimer=setInterval(a.cpuTurn,a.state.cpuTurnInterval)}),ye.cpuDelay)},a.resetGame=function(){clearInterval(a.cpuTimer),a.setState(be({},Object(h.cloneDeep)(Ne),{},ge()))},a.state=be({},Object(h.cloneDeep)(Ne),{},ge()),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.board,n=t.deck,c=t.selected,l=t.declarer,s=t.players,o=t.numPlayers;t.setFound;return o?r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{board:a,deck:n,selected:c,declarer:l,handleCardClick:this.handleCardClick,handlePlayerClick:this.handlePlayerClick,handleDeclare:this.handleDeclare,players:s,setFound:this.state.setFound,gameOver:this.state.gameOver,myName:this.state.name,resetGame:this.resetGame,solo:!0,sharedDevice:!0})):r.a.createElement("div",{className:"container"},r.a.createElement("h4",null,"Choose Number of Players"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},Object(E.a)(Array(6).keys()).map((function(t){return r.a.createElement("div",{key:"players-".concat(t),className:"col s4 player-number"},r.a.createElement("div",{onClick:function(){e.handleStartGame(t+1)},className:"btn-large"},t+1))})))))}}]),t}(n.Component),we=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(d.a,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:he}),r.a.createElement(p.a,{path:"/host",component:Y}),r.a.createElement(p.a,{path:"/lobby",component:ne}),r.a.createElement(p.a,{path:"/guest/:gameName",component:te}),r.a.createElement(p.a,{path:"/solo",component:fe}),r.a.createElement(p.a,{path:"/local",component:je}),r.a.createElement(p.a,{path:"/rules",component:ve}))))}}]),t}(n.Component);l.a.render(r.a.createElement(we,null),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.072967ae.chunk.js.map